<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.6"/>
<title>COPASI API: CSBMLExporter Class Reference</title>
<link href="../../tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../jquery.js"></script>
<script type="text/javascript" src="../../dynsections.js"></script>
<link href="../../doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">COPASI API
   &#160;<span id="projectnumber">4.16.103</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.6 -->
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="../../index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="../../namespaces.html"><span>Namespaces</span></a></li>
      <li class="current"><a href="../../annotated.html"><span>Classes</span></a></li>
      <li><a href="../../files.html"><span>Files</span></a></li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="../../annotated.html"><span>Class&#160;List</span></a></li>
      <li><a href="../../classes.html"><span>Class&#160;Index</span></a></li>
      <li><a href="../../inherits.html"><span>Class&#160;Hierarchy</span></a></li>
      <li><a href="../../functions.html"><span>Class&#160;Members</span></a></li>
    </ul>
  </div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pub-static-methods">Static Public Member Functions</a> &#124;
<a href="#pro-methods">Protected Member Functions</a> &#124;
<a href="#pro-static-methods">Static Protected Member Functions</a> &#124;
<a href="#pro-attribs">Protected Attributes</a> &#124;
<a href="../../db/d15/classCSBMLExporter-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">CSBMLExporter Class Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p><code>#include &lt;<a class="el" href="../../da/d7f/CSBMLExporter_8h_source.html">CSBMLExporter.h</a>&gt;</code></p>
<div class="dynheader">
Collaboration diagram for CSBMLExporter:</div>
<div class="dyncontent">
<div class="center"><img src="../../d5/d41/classCSBMLExporter__coll__graph.png" border="0" usemap="#CSBMLExporter_coll__map" alt="Collaboration graph"/></div>
<map name="CSBMLExporter_coll__map" id="CSBMLExporter_coll__map">
<area shape="rect" id="node2" href="../../d7/dec/classCModelValue.html" title="CModelValue" alt="" coords="2145,1055,2244,1081"/><area shape="rect" id="node3" href="../../d0/da0/classCModelEntity.html" title="CModelEntity" alt="" coords="1741,1104,1840,1131"/><area shape="rect" id="node27" href="../../d4/d04/classCModel.html" title="CModel" alt="" coords="2161,1324,2228,1351"/><area shape="rect" id="node4" href="../../d9/dfd/classCCopasiContainer.html" title="CCopasiContainer" alt="" coords="471,1520,596,1547"/><area shape="rect" id="node5" href="../../d4/da8/classCCopasiObject.html" title="CCopasiObject" alt="" coords="869,1723,977,1749"/><area shape="rect" id="node24" href="../../d1/d50/classCEvaluationTree.html" title="CEvaluationTree" alt="" coords="865,469,981,496"/><area shape="rect" id="node29" href="../../d6/de0/classCModelParameterSet.html" title="CModelParameterSet" alt="" coords="2483,1369,2629,1396"/><area shape="rect" id="node34" href="../../d2/dad/classCArrayAnnotation.html" title="CArrayAnnotation" alt="" coords="861,1397,984,1424"/><area shape="rect" id="node48" href="../../d0/d1f/classCFunctionParameters.html" title="CFunctionParameters" alt="" coords="1057,851,1204,877"/><area shape="rect" id="node12" href="../../dc/d69/classCCopasiStaticString.html" title="CCopasiStaticString" alt="" coords="1277,1801,1416,1828"/><area shape="rect" id="node35" href="../../d7/d18/classCCopasiObjectReference.html" title="CCopasiObjectReference\l\&lt; C_FLOAT64 \&gt;" alt="" coords="1263,1611,1430,1653"/><area shape="rect" id="node6" href="../../df/dfa/classCObjectInterface.html" title="CObjectInterface" alt="" coords="473,1900,593,1927"/><area shape="rect" id="node8" title="STL class. " alt="" coords="876,228,969,255"/><area shape="rect" id="node22" title="STL class. " alt="" coords="475,417,591,444"/><area shape="rect" id="node10" href="../../d8/dc4/classCRenameHandler.html" title="CRenameHandler" alt="" coords="472,1951,595,1977"/><area shape="rect" id="node11" href="../../d4/dad/classUpdateMethod.html" title="UpdateMethod" alt="" coords="480,1849,587,1876"/><area shape="rect" id="node13" title="STL class. " alt="" coords="495,1032,571,1059"/><area shape="rect" id="node20" href="../../d8/dfc/classCAnnotation.html" title="CAnnotation" alt="" coords="1300,1011,1393,1037"/><area shape="rect" id="node23" href="../../dc/dbd/classCExpression.html" title="CExpression" alt="" coords="1301,1104,1393,1131"/><area shape="rect" id="node37" href="../../d7/de3/classSBMLIncompatibility.html" title="SBMLIncompatibility" alt="" coords="852,419,993,445"/><area shape="rect" id="node47" href="../../d9/d86/classCFunction.html" title="The class for handling a chemical kinetic function. " alt="" coords="1750,557,1831,584"/><area shape="rect" id="node14" title="STL class. " alt="" coords="150,1025,271,1066"/><area shape="rect" id="node15" href="../../d0/d44/classRefresh.html" title="Refresh" alt="" coords="500,1764,567,1791"/><area shape="rect" id="node18" title="STL class. " alt="" coords="155,700,266,727"/><area shape="rect" id="node25" href="../../d8/d9f/classCEvaluationNode.html" title="CEvaluationNode" alt="" coords="151,244,271,271"/><area shape="rect" id="node28" href="../../d7/dd7/classCMatrix.html" title="CMatrix\&lt; C_FLOAT64 \&gt;" alt="" coords="1711,1223,1871,1249"/><area shape="rect" id="node30" href="../../d7/d08/classCCopasiVectorN.html" title="CCopasiVectorN\&lt; CModelValue \&gt;" alt="" coords="1683,1324,1898,1351"/><area shape="rect" id="node31" href="../../d9/db9/classCCopasiVectorNS.html" title="CCopasiVectorNS\&lt; CReaction \&gt;" alt="" coords="1687,1375,1894,1401"/><area shape="rect" id="node32" href="../../d4/df2/classCLinkMatrixView.html" title="CLinkMatrixView" alt="" coords="1732,1156,1849,1183"/><area shape="rect" id="node49" href="../../dd/df3/classCCallParameters.html" title="CCallParameters\&lt; C\l_FLOAT64 \&gt;" alt="" coords="1277,493,1416,534"/></map>
<center><span class="legend">[<a href="../../graph_legend.html">legend</a>]</span></center></div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a5308953a73b703fcff0d35393659d8a7"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../df/d80/classCSBMLExporter.html#a5308953a73b703fcff0d35393659d8a7">CSBMLExporter</a> ()</td></tr>
<tr class="separator:a5308953a73b703fcff0d35393659d8a7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aac5a5936e071d3b5ec81e39afa3a4f72"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d3/d05/CChemEqParser__yacc_8cpp.html#aa76fec002b4ba91adc88f68d56ba730c">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../df/d80/classCSBMLExporter.html#aac5a5936e071d3b5ec81e39afa3a4f72">disownSBMLDocument</a> ()</td></tr>
<tr class="separator:aac5a5936e071d3b5ec81e39afa3a4f72"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8fe08bf1668db945b57b11d65f15713d"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../df/d80/classCSBMLExporter.html#a8fe08bf1668db945b57b11d65f15713d">exportModel</a> (<a class="el" href="../../d4/d18/classCCopasiDataModel.html">CCopasiDataModel</a> &amp;dataModel, const std::string &amp;filename, unsigned int sbmlLevel=2, unsigned int sbmlVersion=1, bool overwrite=false)</td></tr>
<tr class="separator:a8fe08bf1668db945b57b11d65f15713d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac99801bba6bcd2a66fa83d83b6ba7f85"><td class="memItemLeft" align="right" valign="top">const std::string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../df/d80/classCSBMLExporter.html#ac99801bba6bcd2a66fa83d83b6ba7f85">exportModelToString</a> (<a class="el" href="../../d4/d18/classCCopasiDataModel.html">CCopasiDataModel</a> &amp;dataModel, unsigned int sbmlLevel, unsigned int sbmlVersion)</td></tr>
<tr class="separator:ac99801bba6bcd2a66fa83d83b6ba7f85"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a15ae839c1ac305bfa1e4186a1a9e7901"><td class="memItemLeft" align="right" valign="top">const std::map&lt; const <br class="typebreak"/>
<a class="el" href="../../d4/da8/classCCopasiObject.html">CCopasiObject</a> *, SBase * &gt; &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../df/d80/classCSBMLExporter.html#a15ae839c1ac305bfa1e4186a1a9e7901">getCOPASI2SBMLMap</a> () const </td></tr>
<tr class="separator:a15ae839c1ac305bfa1e4186a1a9e7901"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5d6b9908874764616e0e7c036f7a128a"><td class="memItemLeft" align="right" valign="top">SBMLDocument *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../df/d80/classCSBMLExporter.html#a5d6b9908874764616e0e7c036f7a128a">getSBMLDocument</a> ()</td></tr>
<tr class="separator:a5d6b9908874764616e0e7c036f7a128a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2390380da40af62204a45a4307cb7517"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../df/d80/classCSBMLExporter.html#a2390380da40af62204a45a4307cb7517">isSetExportCOPASIMIRIAM</a> () const </td></tr>
<tr class="separator:a2390380da40af62204a45a4307cb7517"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a97fe5557d44e34a7194c0ec63dc582b1"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d3/d05/CChemEqParser__yacc_8cpp.html#aa76fec002b4ba91adc88f68d56ba730c">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../df/d80/classCSBMLExporter.html#a97fe5557d44e34a7194c0ec63dc582b1">setExportCOPASIMIRIAM</a> (bool exportMIRIAM)</td></tr>
<tr class="separator:a97fe5557d44e34a7194c0ec63dc582b1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa26a13b4cadb1b199f509b8f34f2d72b"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../df/d80/classCSBMLExporter.html#aa26a13b4cadb1b199f509b8f34f2d72b">~CSBMLExporter</a> ()</td></tr>
<tr class="separator:aa26a13b4cadb1b199f509b8f34f2d72b"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-static-methods"></a>
Static Public Member Functions</h2></td></tr>
<tr class="memitem:ab4d7f9c3d22b8225d1a4d9e3a98b855e"><td class="memItemLeft" align="right" valign="top">static const std::string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../df/d80/classCSBMLExporter.html#ab4d7f9c3d22b8225d1a4d9e3a98b855e">createUniqueId</a> (const std::map&lt; std::string, const SBase * &gt; &amp;idMap, const std::string &amp;prefix, bool addIndexForFirst, const std::string &amp;separator=&quot;_&quot;)</td></tr>
<tr class="separator:ab4d7f9c3d22b8225d1a4d9e3a98b855e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a740195f63c146c4b09170e29cb8977f6"><td class="memItemLeft" align="right" valign="top">static const std::vector<br class="typebreak"/>
&lt; <a class="el" href="../../d7/de3/classSBMLIncompatibility.html">SBMLIncompatibility</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../df/d80/classCSBMLExporter.html#a740195f63c146c4b09170e29cb8977f6">isModelSBMLCompatible</a> (const <a class="el" href="../../d4/d18/classCCopasiDataModel.html">CCopasiDataModel</a> &amp;pDataModel, int sbmlLevel, int sbmlVersion)</td></tr>
<tr class="separator:a740195f63c146c4b09170e29cb8977f6"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pro-methods"></a>
Protected Member Functions</h2></td></tr>
<tr class="memitem:af845ecb1f47ed78265a8ae303743b82b"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d3/d05/CChemEqParser__yacc_8cpp.html#aa76fec002b4ba91adc88f68d56ba730c">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../df/d80/classCSBMLExporter.html#af845ecb1f47ed78265a8ae303743b82b">assignSBMLIdsToReactions</a> (<a class="el" href="../../d4/d04/classCModel.html">CModel</a> *pModel)</td></tr>
<tr class="separator:af845ecb1f47ed78265a8ae303743b82b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a28e0706f0f87d1483643b251104ff00b"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d3/d05/CChemEqParser__yacc_8cpp.html#aa76fec002b4ba91adc88f68d56ba730c">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../df/d80/classCSBMLExporter.html#a28e0706f0f87d1483643b251104ff00b">checkForUnsupportedFunctionCalls</a> (const <a class="el" href="../../d4/d18/classCCopasiDataModel.html">CCopasiDataModel</a> &amp;dataModel, unsigned int sbmlLEvel, unsigned int sbmlVersion, std::vector&lt; <a class="el" href="../../d7/de3/classSBMLIncompatibility.html">SBMLIncompatibility</a> &gt; &amp;result)</td></tr>
<tr class="separator:a28e0706f0f87d1483643b251104ff00b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6d7dd5df891e397605186a3c02862c9f"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d3/d05/CChemEqParser__yacc_8cpp.html#aa76fec002b4ba91adc88f68d56ba730c">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../df/d80/classCSBMLExporter.html#a6d7dd5df891e397605186a3c02862c9f">checkForUnsupportedObjectReferences</a> (const <a class="el" href="../../d4/d18/classCCopasiDataModel.html">CCopasiDataModel</a> &amp;dataModel, unsigned int sbmlLevel, unsigned int sbmlVersion, std::vector&lt; <a class="el" href="../../d7/de3/classSBMLIncompatibility.html">SBMLIncompatibility</a> &gt; &amp;result)</td></tr>
<tr class="separator:a6d7dd5df891e397605186a3c02862c9f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a465e0e27fef68f20231be2de837b71b2"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d3/d05/CChemEqParser__yacc_8cpp.html#aa76fec002b4ba91adc88f68d56ba730c">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../df/d80/classCSBMLExporter.html#a465e0e27fef68f20231be2de837b71b2">collectIds</a> (const <a class="el" href="../../d4/d18/classCCopasiDataModel.html">CCopasiDataModel</a> &amp;dataModel, std::map&lt; std::string, const SBase * &gt; &amp;idMap)</td></tr>
<tr class="separator:a465e0e27fef68f20231be2de837b71b2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac61681ecd68ba2288e21ff1584ad20af"><td class="memItemLeft" align="right" valign="top">ASTNode *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../df/d80/classCSBMLExporter.html#ac61681ecd68ba2288e21ff1584ad20af">convertToASTNode</a> (const <a class="el" href="../../d8/d9f/classCEvaluationNode.html">CEvaluationNode</a> *pOrig, <a class="el" href="../../d4/d18/classCCopasiDataModel.html">CCopasiDataModel</a> &amp;dataModel)</td></tr>
<tr class="separator:ac61681ecd68ba2288e21ff1584ad20af"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2039c651840bace8d1f24f4b632eee1d"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d3/d05/CChemEqParser__yacc_8cpp.html#aa76fec002b4ba91adc88f68d56ba730c">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../df/d80/classCSBMLExporter.html#a2039c651840bace8d1f24f4b632eee1d">convertToLevel1</a> ()</td></tr>
<tr class="separator:a2039c651840bace8d1f24f4b632eee1d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8d4300787dbaf8277365e8df178f70bd"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d3/d05/CChemEqParser__yacc_8cpp.html#aa76fec002b4ba91adc88f68d56ba730c">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../df/d80/classCSBMLExporter.html#a8d4300787dbaf8277365e8df178f70bd">createAreaUnit</a> (const <a class="el" href="../../d4/d18/classCCopasiDataModel.html">CCopasiDataModel</a> &amp;dataModel)</td></tr>
<tr class="separator:a8d4300787dbaf8277365e8df178f70bd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8a3a98da416d76519f5ef7a9617d5b7e"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d3/d05/CChemEqParser__yacc_8cpp.html#aa76fec002b4ba91adc88f68d56ba730c">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../df/d80/classCSBMLExporter.html#a8a3a98da416d76519f5ef7a9617d5b7e">createCompartment</a> (<a class="el" href="../../d4/dd4/classCCompartment.html">CCompartment</a> &amp;compartment)</td></tr>
<tr class="separator:a8a3a98da416d76519f5ef7a9617d5b7e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9d63824ae3cd33d9733f7147f8985bf7"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d3/d05/CChemEqParser__yacc_8cpp.html#aa76fec002b4ba91adc88f68d56ba730c">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../df/d80/classCSBMLExporter.html#a9d63824ae3cd33d9733f7147f8985bf7">createCompartments</a> (<a class="el" href="../../d4/d18/classCCopasiDataModel.html">CCopasiDataModel</a> &amp;dataModel)</td></tr>
<tr class="separator:a9d63824ae3cd33d9733f7147f8985bf7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a79ba15ac876b6354e2aaff763b8a7c86"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d3/d05/CChemEqParser__yacc_8cpp.html#aa76fec002b4ba91adc88f68d56ba730c">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../df/d80/classCSBMLExporter.html#a79ba15ac876b6354e2aaff763b8a7c86">createEvent</a> (<a class="el" href="../../da/d3f/classCEvent.html">CEvent</a> &amp;event, Event *pSBMLEvent, <a class="el" href="../../d4/d18/classCCopasiDataModel.html">CCopasiDataModel</a> &amp;dataModel)</td></tr>
<tr class="separator:a79ba15ac876b6354e2aaff763b8a7c86"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5b27af3781d1e84d2235d0cb135a6963"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d3/d05/CChemEqParser__yacc_8cpp.html#aa76fec002b4ba91adc88f68d56ba730c">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../df/d80/classCSBMLExporter.html#a5b27af3781d1e84d2235d0cb135a6963">createEvents</a> (<a class="el" href="../../d4/d18/classCCopasiDataModel.html">CCopasiDataModel</a> &amp;dataModel)</td></tr>
<tr class="separator:a5b27af3781d1e84d2235d0cb135a6963"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abc1d139f7b654051b43958675056e34c"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d3/d05/CChemEqParser__yacc_8cpp.html#aa76fec002b4ba91adc88f68d56ba730c">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../df/d80/classCSBMLExporter.html#abc1d139f7b654051b43958675056e34c">createFunctionDefinition</a> (<a class="el" href="../../d9/d86/classCFunction.html">CFunction</a> &amp;function, <a class="el" href="../../d4/d18/classCCopasiDataModel.html">CCopasiDataModel</a> &amp;dataModel)</td></tr>
<tr class="separator:abc1d139f7b654051b43958675056e34c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5349f8758c324eef2da6a4ecfe0df888"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d3/d05/CChemEqParser__yacc_8cpp.html#aa76fec002b4ba91adc88f68d56ba730c">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../df/d80/classCSBMLExporter.html#a5349f8758c324eef2da6a4ecfe0df888">createFunctionDefinitions</a> (<a class="el" href="../../d4/d18/classCCopasiDataModel.html">CCopasiDataModel</a> &amp;dataModel)</td></tr>
<tr class="separator:a5349f8758c324eef2da6a4ecfe0df888"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8eae5817343af6b386faedbc04342ec5"><td class="memItemLeft" align="right" valign="top">const std::map&lt; std::string, <br class="typebreak"/>
const SBase * &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../df/d80/classCSBMLExporter.html#a8eae5817343af6b386faedbc04342ec5">createIdMap</a> (const Model &amp;sbmlModel)</td></tr>
<tr class="separator:a8eae5817343af6b386faedbc04342ec5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2f052fa99d8b6695c0b7cf12d21f7833"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d3/d05/CChemEqParser__yacc_8cpp.html#aa76fec002b4ba91adc88f68d56ba730c">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../df/d80/classCSBMLExporter.html#a2f052fa99d8b6695c0b7cf12d21f7833">createInitialAssignment</a> (const <a class="el" href="../../d0/da0/classCModelEntity.html">CModelEntity</a> &amp;modelEntity, <a class="el" href="../../d4/d18/classCCopasiDataModel.html">CCopasiDataModel</a> &amp;dataModel)</td></tr>
<tr class="separator:a2f052fa99d8b6695c0b7cf12d21f7833"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a165664a6805421e7bf448ccd3604b7ed"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d3/d05/CChemEqParser__yacc_8cpp.html#aa76fec002b4ba91adc88f68d56ba730c">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../df/d80/classCSBMLExporter.html#a165664a6805421e7bf448ccd3604b7ed">createInitialAssignments</a> (<a class="el" href="../../d4/d18/classCCopasiDataModel.html">CCopasiDataModel</a> &amp;dataModel)</td></tr>
<tr class="separator:a165664a6805421e7bf448ccd3604b7ed"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6f2f5bc62cdf7e13aa17508771260ac3"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d8/d9f/classCEvaluationNode.html">CEvaluationNode</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../df/d80/classCSBMLExporter.html#a6f2f5bc62cdf7e13aa17508771260ac3">createKineticExpression</a> (<a class="el" href="../../d9/d86/classCFunction.html">CFunction</a> *pFun, const std::vector&lt; std::vector&lt; std::string &gt; &gt; &amp;arguments)</td></tr>
<tr class="separator:a6f2f5bc62cdf7e13aa17508771260ac3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1ac2102cd8012a24253ac6edd0379198"><td class="memItemLeft" align="right" valign="top">KineticLaw *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../df/d80/classCSBMLExporter.html#a1ac2102cd8012a24253ac6edd0379198">createKineticLaw</a> (<a class="el" href="../../d4/dcf/classCReaction.html">CReaction</a> &amp;reaction, <a class="el" href="../../d4/d18/classCCopasiDataModel.html">CCopasiDataModel</a> &amp;dataModel, unsigned int level, unsigned int version)</td></tr>
<tr class="separator:a1ac2102cd8012a24253ac6edd0379198"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5503f23206b28472e35929c4904c79f9"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d3/d05/CChemEqParser__yacc_8cpp.html#aa76fec002b4ba91adc88f68d56ba730c">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../df/d80/classCSBMLExporter.html#a5503f23206b28472e35929c4904c79f9">createLengthUnit</a> (const <a class="el" href="../../d4/d18/classCCopasiDataModel.html">CCopasiDataModel</a> &amp;dataModel)</td></tr>
<tr class="separator:a5503f23206b28472e35929c4904c79f9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a79fe24bce02d84048709c9e851d4ce1b"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d3/d05/CChemEqParser__yacc_8cpp.html#aa76fec002b4ba91adc88f68d56ba730c">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../df/d80/classCSBMLExporter.html#a79fe24bce02d84048709c9e851d4ce1b">createMetabolite</a> (<a class="el" href="../../dc/d44/classCMetab.html">CMetab</a> &amp;metab)</td></tr>
<tr class="separator:a79fe24bce02d84048709c9e851d4ce1b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ace48aaa532a60b2651d42618b5484b36"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d3/d05/CChemEqParser__yacc_8cpp.html#aa76fec002b4ba91adc88f68d56ba730c">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../df/d80/classCSBMLExporter.html#ace48aaa532a60b2651d42618b5484b36">createMetabolites</a> (<a class="el" href="../../d4/d18/classCCopasiDataModel.html">CCopasiDataModel</a> &amp;dataModel)</td></tr>
<tr class="separator:ace48aaa532a60b2651d42618b5484b36"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6ecc3a13cadbc61518786aad102ccf5c"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d3/d05/CChemEqParser__yacc_8cpp.html#aa76fec002b4ba91adc88f68d56ba730c">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../df/d80/classCSBMLExporter.html#a6ecc3a13cadbc61518786aad102ccf5c">createParameter</a> (<a class="el" href="../../d7/dec/classCModelValue.html">CModelValue</a> &amp;parameter)</td></tr>
<tr class="separator:a6ecc3a13cadbc61518786aad102ccf5c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a11ac856283e54271fe2d9c9b849d2c30"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d3/d05/CChemEqParser__yacc_8cpp.html#aa76fec002b4ba91adc88f68d56ba730c">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../df/d80/classCSBMLExporter.html#a11ac856283e54271fe2d9c9b849d2c30">createParameters</a> (<a class="el" href="../../d4/d18/classCCopasiDataModel.html">CCopasiDataModel</a> &amp;dataModel)</td></tr>
<tr class="separator:a11ac856283e54271fe2d9c9b849d2c30"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9a2740279f7cccf5ae7b404b995ec9fa"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d3/d05/CChemEqParser__yacc_8cpp.html#aa76fec002b4ba91adc88f68d56ba730c">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../df/d80/classCSBMLExporter.html#a9a2740279f7cccf5ae7b404b995ec9fa">createReaction</a> (<a class="el" href="../../d4/dcf/classCReaction.html">CReaction</a> &amp;reaction, <a class="el" href="../../d4/d18/classCCopasiDataModel.html">CCopasiDataModel</a> &amp;dataModel)</td></tr>
<tr class="separator:a9a2740279f7cccf5ae7b404b995ec9fa"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab4b8c42274fd0afd191d498efe36146a"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d3/d05/CChemEqParser__yacc_8cpp.html#aa76fec002b4ba91adc88f68d56ba730c">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../df/d80/classCSBMLExporter.html#ab4b8c42274fd0afd191d498efe36146a">createReactions</a> (<a class="el" href="../../d4/d18/classCCopasiDataModel.html">CCopasiDataModel</a> &amp;dataModel)</td></tr>
<tr class="separator:ab4b8c42274fd0afd191d498efe36146a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4e1fa35c0f3497f349b03147eb7326f0"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d3/d05/CChemEqParser__yacc_8cpp.html#aa76fec002b4ba91adc88f68d56ba730c">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../df/d80/classCSBMLExporter.html#a4e1fa35c0f3497f349b03147eb7326f0">createRule</a> (const <a class="el" href="../../d0/da0/classCModelEntity.html">CModelEntity</a> &amp;modelEntity, <a class="el" href="../../d4/d18/classCCopasiDataModel.html">CCopasiDataModel</a> &amp;dataModel, Rule *pOldRule)</td></tr>
<tr class="separator:a4e1fa35c0f3497f349b03147eb7326f0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9c713fa0fc07f12f35ee1c59ba65db01"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d3/d05/CChemEqParser__yacc_8cpp.html#aa76fec002b4ba91adc88f68d56ba730c">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../df/d80/classCSBMLExporter.html#a9c713fa0fc07f12f35ee1c59ba65db01">createRules</a> (<a class="el" href="../../d4/d18/classCCopasiDataModel.html">CCopasiDataModel</a> &amp;dataModel)</td></tr>
<tr class="separator:a9c713fa0fc07f12f35ee1c59ba65db01"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2b680d670c11c7c70a45bc12e236b2e8"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d3/d05/CChemEqParser__yacc_8cpp.html#aa76fec002b4ba91adc88f68d56ba730c">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../df/d80/classCSBMLExporter.html#a2b680d670c11c7c70a45bc12e236b2e8">createSBMLDocument</a> (<a class="el" href="../../d4/d18/classCCopasiDataModel.html">CCopasiDataModel</a> &amp;dataModel)</td></tr>
<tr class="separator:a2b680d670c11c7c70a45bc12e236b2e8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aae5e8e9d9571bfb092a940cfea479f2e"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d3/d05/CChemEqParser__yacc_8cpp.html#aa76fec002b4ba91adc88f68d56ba730c">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../df/d80/classCSBMLExporter.html#aae5e8e9d9571bfb092a940cfea479f2e">createSubstanceUnit</a> (const <a class="el" href="../../d4/d18/classCCopasiDataModel.html">CCopasiDataModel</a> &amp;dataModel)</td></tr>
<tr class="separator:aae5e8e9d9571bfb092a940cfea479f2e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aae5677a0b747ea278f61312ad80c85d4"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d3/d05/CChemEqParser__yacc_8cpp.html#aa76fec002b4ba91adc88f68d56ba730c">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../df/d80/classCSBMLExporter.html#aae5677a0b747ea278f61312ad80c85d4">createTimeUnit</a> (const <a class="el" href="../../d4/d18/classCCopasiDataModel.html">CCopasiDataModel</a> &amp;dataModel)</td></tr>
<tr class="separator:aae5677a0b747ea278f61312ad80c85d4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa26105735e02cd59de9932914b4c2505"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d3/d05/CChemEqParser__yacc_8cpp.html#aa76fec002b4ba91adc88f68d56ba730c">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../df/d80/classCSBMLExporter.html#aa26105735e02cd59de9932914b4c2505">createUnits</a> (const <a class="el" href="../../d4/d18/classCCopasiDataModel.html">CCopasiDataModel</a> &amp;dataModel)</td></tr>
<tr class="separator:aa26105735e02cd59de9932914b4c2505"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa192f412afb21f304c41a394afa45661"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d3/d05/CChemEqParser__yacc_8cpp.html#aa76fec002b4ba91adc88f68d56ba730c">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../df/d80/classCSBMLExporter.html#aa192f412afb21f304c41a394afa45661">createVolumeUnit</a> (const <a class="el" href="../../d4/d18/classCCopasiDataModel.html">CCopasiDataModel</a> &amp;dataModel)</td></tr>
<tr class="separator:aa192f412afb21f304c41a394afa45661"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aefbd6278e618486186192aff4bdff76e"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d3/d05/CChemEqParser__yacc_8cpp.html#aa76fec002b4ba91adc88f68d56ba730c">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../df/d80/classCSBMLExporter.html#aefbd6278e618486186192aff4bdff76e">exportEventAssignments</a> (const <a class="el" href="../../da/d3f/classCEvent.html">CEvent</a> &amp;event, Event *pSBMLEvent, <a class="el" href="../../d4/d18/classCCopasiDataModel.html">CCopasiDataModel</a> &amp;dataModel)</td></tr>
<tr class="separator:aefbd6278e618486186192aff4bdff76e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aaa3a1af5de4a31e157bd7515cf5ed671"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d3/d05/CChemEqParser__yacc_8cpp.html#aa76fec002b4ba91adc88f68d56ba730c">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../df/d80/classCSBMLExporter.html#aaa3a1af5de4a31e157bd7515cf5ed671">findAvogadro</a> (const <a class="el" href="../../d4/d18/classCCopasiDataModel.html">CCopasiDataModel</a> &amp;dataModel)</td></tr>
<tr class="separator:aaa3a1af5de4a31e157bd7515cf5ed671"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adfb1a82cc1a827d3ef1f353937cfad49"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../df/d80/classCSBMLExporter.html#adfb1a82cc1a827d3ef1f353937cfad49">hasVolumeAssignment</a> (const <a class="el" href="../../d4/d18/classCCopasiDataModel.html">CCopasiDataModel</a> &amp;dataModel)</td></tr>
<tr class="separator:adfb1a82cc1a827d3ef1f353937cfad49"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa851bea69ed748cfc304fb516470159c"><td class="memItemLeft" align="right" valign="top">std::vector&lt; <a class="el" href="../../d0/da0/classCModelEntity.html">CModelEntity</a> * &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../df/d80/classCSBMLExporter.html#aa851bea69ed748cfc304fb516470159c">orderRules</a> (const <a class="el" href="../../d4/d18/classCCopasiDataModel.html">CCopasiDataModel</a> &amp;dataModel)</td></tr>
<tr class="separator:aa851bea69ed748cfc304fb516470159c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9cab2f1418b5678f726caac488f07858"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d3/d05/CChemEqParser__yacc_8cpp.html#aa76fec002b4ba91adc88f68d56ba730c">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../df/d80/classCSBMLExporter.html#a9cab2f1418b5678f726caac488f07858">outputIncompatibilities</a> () const </td></tr>
<tr class="separator:a9cab2f1418b5678f726caac488f07858"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9e7e580cffcbce270b84905e94bbb854"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d3/d05/CChemEqParser__yacc_8cpp.html#aa76fec002b4ba91adc88f68d56ba730c">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../df/d80/classCSBMLExporter.html#a9e7e580cffcbce270b84905e94bbb854">removeInitialAssignment</a> (const std::string &amp;sbmlId)</td></tr>
<tr class="separator:a9e7e580cffcbce270b84905e94bbb854"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a836063c67a8c63decd58706b6036efd0"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d3/d05/CChemEqParser__yacc_8cpp.html#aa76fec002b4ba91adc88f68d56ba730c">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../df/d80/classCSBMLExporter.html#a836063c67a8c63decd58706b6036efd0">removeRule</a> (const std::string &amp;sbmlId)</td></tr>
<tr class="separator:a836063c67a8c63decd58706b6036efd0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae377faa40e73c92770cb688b83db5508"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d3/d05/CChemEqParser__yacc_8cpp.html#aa76fec002b4ba91adc88f68d56ba730c">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../df/d80/classCSBMLExporter.html#ae377faa40e73c92770cb688b83db5508">removeUnusedObjects</a> ()</td></tr>
<tr class="separator:ae377faa40e73c92770cb688b83db5508"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8f73c8e9c1a56403427b179b2074f198"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d3/d05/CChemEqParser__yacc_8cpp.html#aa76fec002b4ba91adc88f68d56ba730c">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../df/d80/classCSBMLExporter.html#a8f73c8e9c1a56403427b179b2074f198">replace_local_parameters</a> (ASTNode *pOrigNode, const <a class="el" href="../../d4/d18/classCCopasiDataModel.html">CCopasiDataModel</a> &amp;dataModel)</td></tr>
<tr class="separator:a8f73c8e9c1a56403427b179b2074f198"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afd52e9391235518719dd447da28be625"><td class="memItemLeft" align="right" valign="top">XMLNode *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../df/d80/classCSBMLExporter.html#afd52e9391235518719dd447da28be625">replaceChild</a> (const XMLNode *pParent, const XMLNode *pNewChild, unsigned int index)</td></tr>
<tr class="separator:afd52e9391235518719dd447da28be625"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a030225cc274a7c545f010ba2ba7f13c3"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d8/d9f/classCEvaluationNode.html">CEvaluationNode</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../df/d80/classCSBMLExporter.html#a030225cc274a7c545f010ba2ba7f13c3">replaceSpeciesReferences</a> (const <a class="el" href="../../d8/d9f/classCEvaluationNode.html">CEvaluationNode</a> *pOrigNode, const <a class="el" href="../../d4/d18/classCCopasiDataModel.html">CCopasiDataModel</a> &amp;dataModel)</td></tr>
<tr class="separator:a030225cc274a7c545f010ba2ba7f13c3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aeb99c1d4aabfd00e1d65eac1992e4b97"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d3/d05/CChemEqParser__yacc_8cpp.html#aa76fec002b4ba91adc88f68d56ba730c">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../df/d80/classCSBMLExporter.html#aeb99c1d4aabfd00e1d65eac1992e4b97">restore_local_parameters</a> (ASTNode *pOrigNode, const <a class="el" href="../../d4/d18/classCCopasiDataModel.html">CCopasiDataModel</a> &amp;dataModel)</td></tr>
<tr class="separator:aeb99c1d4aabfd00e1d65eac1992e4b97"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a36e8f281bf2ae61c6f6de64a3d34da79"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d3/d05/CChemEqParser__yacc_8cpp.html#aa76fec002b4ba91adc88f68d56ba730c">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../df/d80/classCSBMLExporter.html#a36e8f281bf2ae61c6f6de64a3d34da79">setFunctionSBMLIds</a> (const <a class="el" href="../../d8/d9f/classCEvaluationNode.html">CEvaluationNode</a> *pNode, <a class="el" href="../../d4/d18/classCCopasiDataModel.html">CCopasiDataModel</a> &amp;dataModel)</td></tr>
<tr class="separator:a36e8f281bf2ae61c6f6de64a3d34da79"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aad340b885e5354efcf9b63b6475c59af"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d3/d05/CChemEqParser__yacc_8cpp.html#aa76fec002b4ba91adc88f68d56ba730c">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../df/d80/classCSBMLExporter.html#aad340b885e5354efcf9b63b6475c59af">updateCOPASI2SBMLMap</a> (const <a class="el" href="../../d4/d18/classCCopasiDataModel.html">CCopasiDataModel</a> &amp;dataModel)</td></tr>
<tr class="separator:aad340b885e5354efcf9b63b6475c59af"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aba8216eaf4931e0adf484832882fbe67"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../df/d80/classCSBMLExporter.html#aba8216eaf4931e0adf484832882fbe67">updateMIRIAMAnnotation</a> (const <a class="el" href="../../d4/da8/classCCopasiObject.html">CCopasiObject</a> *pCOPASIObject, SBase *pSBMLObject, std::map&lt; std::string, const SBase * &gt; &amp;metaIds)</td></tr>
<tr class="separator:aba8216eaf4931e0adf484832882fbe67"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pro-static-methods"></a>
Static Protected Member Functions</h2></td></tr>
<tr class="memitem:a434c0e84d0593abf69165c1a73760b9e"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="../../d3/d05/CChemEqParser__yacc_8cpp.html#aa76fec002b4ba91adc88f68d56ba730c">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../df/d80/classCSBMLExporter.html#a434c0e84d0593abf69165c1a73760b9e">check_for_spatial_size_units</a> (const <a class="el" href="../../d4/d18/classCCopasiDataModel.html">CCopasiDataModel</a> &amp;dataModel, std::vector&lt; <a class="el" href="../../d7/de3/classSBMLIncompatibility.html">SBMLIncompatibility</a> &gt; &amp;result)</td></tr>
<tr class="separator:a434c0e84d0593abf69165c1a73760b9e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2ff9071e1a2ac3039de6b4311c40e336"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="../../d3/d05/CChemEqParser__yacc_8cpp.html#aa76fec002b4ba91adc88f68d56ba730c">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../df/d80/classCSBMLExporter.html#a2ff9071e1a2ac3039de6b4311c40e336">checkForEvents</a> (const <a class="el" href="../../d4/d18/classCCopasiDataModel.html">CCopasiDataModel</a> &amp;dataModel, std::vector&lt; <a class="el" href="../../d7/de3/classSBMLIncompatibility.html">SBMLIncompatibility</a> &gt; &amp;result)</td></tr>
<tr class="separator:a2ff9071e1a2ac3039de6b4311c40e336"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a773138e50be3ecf6cd3e42d002d553e4"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="../../d3/d05/CChemEqParser__yacc_8cpp.html#aa76fec002b4ba91adc88f68d56ba730c">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../df/d80/classCSBMLExporter.html#a773138e50be3ecf6cd3e42d002d553e4">checkForInitialAssignments</a> (const <a class="el" href="../../d4/d18/classCCopasiDataModel.html">CCopasiDataModel</a> &amp;dataModel, std::vector&lt; <a class="el" href="../../d7/de3/classSBMLIncompatibility.html">SBMLIncompatibility</a> &gt; &amp;result)</td></tr>
<tr class="separator:a773138e50be3ecf6cd3e42d002d553e4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a67c34d6bd969cc569131d34677fc8247"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="../../d3/d05/CChemEqParser__yacc_8cpp.html#aa76fec002b4ba91adc88f68d56ba730c">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../df/d80/classCSBMLExporter.html#a67c34d6bd969cc569131d34677fc8247">checkForODESpeciesInNonfixedCompartment</a> (const <a class="el" href="../../d4/d18/classCCopasiDataModel.html">CCopasiDataModel</a> &amp;dataModel, std::vector&lt; <a class="el" href="../../d7/de3/classSBMLIncompatibility.html">SBMLIncompatibility</a> &gt; result)</td></tr>
<tr class="separator:a67c34d6bd969cc569131d34677fc8247"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aeeac4e8650cfa507c42df9f0eae46474"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="../../d3/d05/CChemEqParser__yacc_8cpp.html#aa76fec002b4ba91adc88f68d56ba730c">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../df/d80/classCSBMLExporter.html#aeeac4e8650cfa507c42df9f0eae46474">checkForPiecewiseFunctions</a> (const <a class="el" href="../../d4/d18/classCCopasiDataModel.html">CCopasiDataModel</a> &amp;dataModel, std::vector&lt; <a class="el" href="../../d7/de3/classSBMLIncompatibility.html">SBMLIncompatibility</a> &gt; &amp;result)</td></tr>
<tr class="separator:aeeac4e8650cfa507c42df9f0eae46474"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adf29df487b81891bccdd0260b29dc0af"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="../../d3/d05/CChemEqParser__yacc_8cpp.html#aa76fec002b4ba91adc88f68d56ba730c">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../df/d80/classCSBMLExporter.html#adf29df487b81891bccdd0260b29dc0af">checkForPiecewiseFunctions</a> (const <a class="el" href="../../d8/d9f/classCEvaluationNode.html">CEvaluationNode</a> &amp;node, std::vector&lt; <a class="el" href="../../d7/de3/classSBMLIncompatibility.html">SBMLIncompatibility</a> &gt; &amp;result, const std::string &amp;objectName, const std::string &amp;<a class="el" href="../../d4/d12/ObjectBrowserItem_8h.html#a2a3cae49e6781726af07e98e7d9f2e30">objectType</a>)</td></tr>
<tr class="separator:adf29df487b81891bccdd0260b29dc0af"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4851923c98bf7fb89fb99972560c83ee"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="../../d3/d05/CChemEqParser__yacc_8cpp.html#aa76fec002b4ba91adc88f68d56ba730c">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../df/d80/classCSBMLExporter.html#a4851923c98bf7fb89fb99972560c83ee">checkForUnsupportedFunctionCalls</a> (const <a class="el" href="../../d8/d9f/classCEvaluationNode.html">CEvaluationNode</a> &amp;node, const std::set&lt; <a class="el" href="../../d8/dcb/classCEvaluationNodeFunction.html#a7d9eee722d7e2b7c7888b23838d7d604">CEvaluationNodeFunction::SubType</a> &gt; &amp;unsupportedFunctions, std::vector&lt; <a class="el" href="../../d7/de3/classSBMLIncompatibility.html">SBMLIncompatibility</a> &gt; &amp;result, const std::string &amp;objectDescription)</td></tr>
<tr class="separator:a4851923c98bf7fb89fb99972560c83ee"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aeba682d6dea1cc65f61f60d758e3b46a"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="../../d3/d05/CChemEqParser__yacc_8cpp.html#aa76fec002b4ba91adc88f68d56ba730c">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../df/d80/classCSBMLExporter.html#aeba682d6dea1cc65f61f60d758e3b46a">checkForUnsupportedObjectReferences</a> (const <a class="el" href="../../d1/d50/classCEvaluationTree.html">CEvaluationTree</a> &amp;expression, const <a class="el" href="../../d4/d18/classCCopasiDataModel.html">CCopasiDataModel</a> &amp;dataModel, unsigned int sbmlLevel, unsigned int sbmlVersion, std::vector&lt; <a class="el" href="../../d7/de3/classSBMLIncompatibility.html">SBMLIncompatibility</a> &gt; &amp;result, bool initialExpression=false, std::map&lt; const std::string, Parameter * &gt; *initialMap=NULL)</td></tr>
<tr class="separator:aeba682d6dea1cc65f61f60d758e3b46a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1fbce90193396d8ae0407ae7d3c0e689"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="../../d3/d05/CChemEqParser__yacc_8cpp.html#aa76fec002b4ba91adc88f68d56ba730c">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../df/d80/classCSBMLExporter.html#a1fbce90193396d8ae0407ae7d3c0e689">convert_to_l1v1</a> (std::string &amp;l1v2_string)</td></tr>
<tr class="separator:a1fbce90193396d8ae0407ae7d3c0e689"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5be33991e995d356110b5dc9420258cc"><td class="memItemLeft" align="right" valign="top">static ASTNode *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../df/d80/classCSBMLExporter.html#a5be33991e995d356110b5dc9420258cc">convertASTTreeToLevel1</a> (const ASTNode *pNode, const ListOfFunctionDefinitions &amp;functions, std::string &amp;message)</td></tr>
<tr class="separator:a5be33991e995d356110b5dc9420258cc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6dcd463b48c53c136e6c1af5b22251f2"><td class="memItemLeft" align="right" valign="top">static const std::set<br class="typebreak"/>
&lt; <a class="el" href="../../d9/d86/classCFunction.html">CFunction</a> * &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../df/d80/classCSBMLExporter.html#a6dcd463b48c53c136e6c1af5b22251f2">createFunctionSetFromFunctionNames</a> (const std::set&lt; std::string &gt; &amp;names, <a class="el" href="../../db/d9a/classCFunctionDB.html">CFunctionDB</a> *pFunDB)</td></tr>
<tr class="separator:a6dcd463b48c53c136e6c1af5b22251f2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6aad2107b13073b09b9ca92aa465e094"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="../../d8/d9f/classCEvaluationNode.html">CEvaluationNode</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../df/d80/classCSBMLExporter.html#a6aad2107b13073b09b9ca92aa465e094">createMassActionExpression</a> (const std::vector&lt; std::vector&lt; std::string &gt; &gt; &amp;arguments, bool isReversible)</td></tr>
<tr class="separator:a6aad2107b13073b09b9ca92aa465e094"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a40cdd317c9caf3ca4b4c4b788078130b"><td class="memItemLeft" align="right" valign="top">static ASTNode *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../df/d80/classCSBMLExporter.html#a40cdd317c9caf3ca4b4c4b788078130b">createTimesTree</a> (const <a class="el" href="../../d8/d2c/classCCopasiVector.html">CCopasiVector</a>&lt; <a class="el" href="../../d6/d8d/classCChemEqElement.html">CChemEqElement</a> &gt; &amp;vect, unsigned int pos=0)</td></tr>
<tr class="separator:a40cdd317c9caf3ca4b4c4b788078130b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acf189051ffef9fb8b55543a9d59d8817"><td class="memItemLeft" align="right" valign="top">static const std::set<br class="typebreak"/>
&lt; <a class="el" href="../../d8/dcb/classCEvaluationNodeFunction.html#a7d9eee722d7e2b7c7888b23838d7d604">CEvaluationNodeFunction::SubType</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../df/d80/classCSBMLExporter.html#acf189051ffef9fb8b55543a9d59d8817">createUnsupportedFunctionTypeSet</a> (unsigned int sbmlLevel)</td></tr>
<tr class="separator:acf189051ffef9fb8b55543a9d59d8817"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa843eb9b5d1ae41d5dd2be78a864f2d5"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="../../d3/d05/CChemEqParser__yacc_8cpp.html#aa76fec002b4ba91adc88f68d56ba730c">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../df/d80/classCSBMLExporter.html#aa843eb9b5d1ae41d5dd2be78a864f2d5">findDirectlyUsedFunctions</a> (const <a class="el" href="../../d8/d9f/classCEvaluationNode.html">CEvaluationNode</a> *pRootNode, std::set&lt; std::string &gt; &amp;result)</td></tr>
<tr class="separator:aa843eb9b5d1ae41d5dd2be78a864f2d5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad4eba95146d9ea8565434e804b0cec04"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="../../d3/d05/CChemEqParser__yacc_8cpp.html#aa76fec002b4ba91adc88f68d56ba730c">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../df/d80/classCSBMLExporter.html#ad4eba95146d9ea8565434e804b0cec04">findModelEntityDependencies</a> (const <a class="el" href="../../d8/d9f/classCEvaluationNode.html">CEvaluationNode</a> *pNode, const <a class="el" href="../../d4/d18/classCCopasiDataModel.html">CCopasiDataModel</a> &amp;dataModel, std::set&lt; const <a class="el" href="../../d0/da0/classCModelEntity.html">CModelEntity</a> * &gt; &amp;dependencies)</td></tr>
<tr class="separator:ad4eba95146d9ea8565434e804b0cec04"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6553f17e9fedbf662bb4512f15cf6216"><td class="memItemLeft" align="right" valign="top">static const std::vector<br class="typebreak"/>
&lt; <a class="el" href="../../d9/d86/classCFunction.html">CFunction</a> * &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../df/d80/classCSBMLExporter.html#a6553f17e9fedbf662bb4512f15cf6216">findUsedFunctions</a> (std::set&lt; <a class="el" href="../../d9/d86/classCFunction.html">CFunction</a> * &gt; &amp;functions, <a class="el" href="../../db/d9a/classCFunctionDB.html">CFunctionDB</a> *pFunctionDB)</td></tr>
<tr class="separator:a6553f17e9fedbf662bb4512f15cf6216"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2ed7dc522ad9ad1a743a7c02d976f519"><td class="memItemLeft" align="right" valign="top">static ASTNode *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../df/d80/classCSBMLExporter.html#a2ed7dc522ad9ad1a743a7c02d976f519">isDividedByVolume</a> (const ASTNode *pRootNode, const std::string &amp;compartmentId)</td></tr>
<tr class="separator:a2ed7dc522ad9ad1a743a7c02d976f519"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1168b4ab9a504c5a00b8914f99f49958"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="../../d3/d05/CChemEqParser__yacc_8cpp.html#aa76fec002b4ba91adc88f68d56ba730c">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../df/d80/classCSBMLExporter.html#a1168b4ab9a504c5a00b8914f99f49958">isEventAssignmentSBMLCompatible</a> (std::string &amp;key, const <a class="el" href="../../dc/dbd/classCExpression.html">CExpression</a> *pExpression, const <a class="el" href="../../d4/d18/classCCopasiDataModel.html">CCopasiDataModel</a> &amp;dataModel, unsigned int sbmlLevel, unsigned int sbmlVersion, const std::string &amp;eventName, std::vector&lt; <a class="el" href="../../d7/de3/classSBMLIncompatibility.html">SBMLIncompatibility</a> &gt; &amp;result)</td></tr>
<tr class="separator:a1168b4ab9a504c5a00b8914f99f49958"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7eae0b3b6b933c2807878441b456acf3"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="../../d3/d05/CChemEqParser__yacc_8cpp.html#aa76fec002b4ba91adc88f68d56ba730c">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../df/d80/classCSBMLExporter.html#a7eae0b3b6b933c2807878441b456acf3">isEventSBMLCompatible</a> (const <a class="el" href="../../da/d3f/classCEvent.html">CEvent</a> *pEvent, const <a class="el" href="../../d4/d18/classCCopasiDataModel.html">CCopasiDataModel</a> &amp;dataModel, unsigned int sbmlLevel, unsigned int sbmlVersion, std::vector&lt; <a class="el" href="../../d7/de3/classSBMLIncompatibility.html">SBMLIncompatibility</a> &gt; &amp;result)</td></tr>
<tr class="separator:a7eae0b3b6b933c2807878441b456acf3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aefa0189aa8976611a461b6de4142fdc7"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="../../d3/d05/CChemEqParser__yacc_8cpp.html#aa76fec002b4ba91adc88f68d56ba730c">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../df/d80/classCSBMLExporter.html#aefa0189aa8976611a461b6de4142fdc7">isExpressionSBMLCompatible</a> (const <a class="el" href="../../d1/d50/classCEvaluationTree.html">CEvaluationTree</a> &amp;expr, const <a class="el" href="../../d4/d18/classCCopasiDataModel.html">CCopasiDataModel</a> &amp;dataModel, int sbmlLevel, int sbmlVersion, std::vector&lt; <a class="el" href="../../d7/de3/classSBMLIncompatibility.html">SBMLIncompatibility</a> &gt; &amp;result, const std::string &amp;objectDescription, bool initialExression=false, std::map&lt; const std::string, Parameter * &gt; *initialMap=NULL)</td></tr>
<tr class="separator:aefa0189aa8976611a461b6de4142fdc7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad438218ce66108e4d0a3783dc80053e9"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="../../d3/d05/CChemEqParser__yacc_8cpp.html#aa76fec002b4ba91adc88f68d56ba730c">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../df/d80/classCSBMLExporter.html#ad438218ce66108e4d0a3783dc80053e9">isExpressionSBMLL1Compatible</a> (const <a class="el" href="../../d1/d50/classCEvaluationTree.html">CEvaluationTree</a> &amp;expr, const <a class="el" href="../../d4/d18/classCCopasiDataModel.html">CCopasiDataModel</a> &amp;dataModel, std::vector&lt; <a class="el" href="../../d7/de3/classSBMLIncompatibility.html">SBMLIncompatibility</a> &gt; &amp;result)</td></tr>
<tr class="separator:ad438218ce66108e4d0a3783dc80053e9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8f455f8929db3380aab081f62e8dc8a4"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="../../d3/d05/CChemEqParser__yacc_8cpp.html#aa76fec002b4ba91adc88f68d56ba730c">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../df/d80/classCSBMLExporter.html#a8f455f8929db3380aab081f62e8dc8a4">isExpressionSBMLL2V1Compatible</a> (const <a class="el" href="../../d1/d50/classCEvaluationTree.html">CEvaluationTree</a> &amp;expr, const <a class="el" href="../../d4/d18/classCCopasiDataModel.html">CCopasiDataModel</a> &amp;dataModel, std::vector&lt; <a class="el" href="../../d7/de3/classSBMLIncompatibility.html">SBMLIncompatibility</a> &gt; &amp;result)</td></tr>
<tr class="separator:a8f455f8929db3380aab081f62e8dc8a4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acbc3493ff7780234012c9842d8a47a64"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="../../d3/d05/CChemEqParser__yacc_8cpp.html#aa76fec002b4ba91adc88f68d56ba730c">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../df/d80/classCSBMLExporter.html#acbc3493ff7780234012c9842d8a47a64">isExpressionSBMLL2V3Compatible</a> (const <a class="el" href="../../d1/d50/classCEvaluationTree.html">CEvaluationTree</a> &amp;expression, const <a class="el" href="../../d4/d18/classCCopasiDataModel.html">CCopasiDataModel</a> &amp;pDataModel, std::vector&lt; <a class="el" href="../../d7/de3/classSBMLIncompatibility.html">SBMLIncompatibility</a> &gt; &amp;result)</td></tr>
<tr class="separator:acbc3493ff7780234012c9842d8a47a64"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a72f143a792d030152e5721903727c06c"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="../../d3/d05/CChemEqParser__yacc_8cpp.html#aa76fec002b4ba91adc88f68d56ba730c">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../df/d80/classCSBMLExporter.html#a72f143a792d030152e5721903727c06c">isModelSBMLL1Compatible</a> (const <a class="el" href="../../d4/d18/classCCopasiDataModel.html">CCopasiDataModel</a> &amp;dataModel, std::vector&lt; <a class="el" href="../../d7/de3/classSBMLIncompatibility.html">SBMLIncompatibility</a> &gt; &amp;result)</td></tr>
<tr class="separator:a72f143a792d030152e5721903727c06c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aab8893bb42f3c23886a7a76282ae4c70"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="../../d3/d05/CChemEqParser__yacc_8cpp.html#aa76fec002b4ba91adc88f68d56ba730c">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../df/d80/classCSBMLExporter.html#aab8893bb42f3c23886a7a76282ae4c70">isModelSBMLL2V1Compatible</a> (const <a class="el" href="../../d4/d18/classCCopasiDataModel.html">CCopasiDataModel</a> &amp;dataModel, std::vector&lt; <a class="el" href="../../d7/de3/classSBMLIncompatibility.html">SBMLIncompatibility</a> &gt; &amp;result)</td></tr>
<tr class="separator:aab8893bb42f3c23886a7a76282ae4c70"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a980c8aa07cb93bff4e387188ec371131"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="../../d3/d05/CChemEqParser__yacc_8cpp.html#aa76fec002b4ba91adc88f68d56ba730c">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../df/d80/classCSBMLExporter.html#a980c8aa07cb93bff4e387188ec371131">isModelSBMLL2V3Compatible</a> (const <a class="el" href="../../d4/d18/classCCopasiDataModel.html">CCopasiDataModel</a> &amp;dataModel, std::vector&lt; <a class="el" href="../../d7/de3/classSBMLIncompatibility.html">SBMLIncompatibility</a> &gt; &amp;result)</td></tr>
<tr class="separator:a980c8aa07cb93bff4e387188ec371131"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a885487cfd1570979b180bee89571c271"><td class="memItemLeft" align="right" valign="top">static bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../df/d80/classCSBMLExporter.html#a885487cfd1570979b180bee89571c271">isValidSId</a> (const std::string &amp;id)</td></tr>
<tr class="separator:a885487cfd1570979b180bee89571c271"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa8f731ee31dccd8e0b8d81ed695d9b0b"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="../../d8/d9f/classCEvaluationNode.html">CEvaluationNode</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../df/d80/classCSBMLExporter.html#aa8f731ee31dccd8e0b8d81ed695d9b0b">multiplyByObject</a> (const <a class="el" href="../../d8/d9f/classCEvaluationNode.html">CEvaluationNode</a> *pOrigNode, const <a class="el" href="../../d4/da8/classCCopasiObject.html">CCopasiObject</a> *pObject)</td></tr>
<tr class="separator:aa8f731ee31dccd8e0b8d81ed695d9b0b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a950f920695e4b39cbd7bef8b75e844af"><td class="memItemLeft" align="right" valign="top">static ASTNode *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../df/d80/classCSBMLExporter.html#a950f920695e4b39cbd7bef8b75e844af">replaceL1IncompatibleNodes</a> (const ASTNode *pNode)</td></tr>
<tr class="separator:a950f920695e4b39cbd7bef8b75e844af"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a166bed353f341e4e617bff6f40ff12c4"><td class="memItemLeft" align="right" valign="top">static bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../df/d80/classCSBMLExporter.html#a166bed353f341e4e617bff6f40ff12c4">setSBMLNotes</a> (SBase *pSBase, const <a class="el" href="../../d8/dfc/classCAnnotation.html">CAnnotation</a> *pAnno)</td></tr>
<tr class="separator:a166bed353f341e4e617bff6f40ff12c4"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pro-attribs"></a>
Protected Attributes</h2></td></tr>
<tr class="memitem:ae2467a5206a20eae7445885970958380"><td class="memItemLeft" align="right" valign="top">std::vector&lt; <a class="el" href="../../d0/da0/classCModelEntity.html">CModelEntity</a> * &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../df/d80/classCSBMLExporter.html#ae2467a5206a20eae7445885970958380">mAssignmentVector</a></td></tr>
<tr class="separator:ae2467a5206a20eae7445885970958380"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a57b7199230b68903fd1af9531ec6fbb7"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../df/d80/classCSBMLExporter.html#a57b7199230b68903fd1af9531ec6fbb7">mAvogadroCreated</a></td></tr>
<tr class="separator:a57b7199230b68903fd1af9531ec6fbb7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aeb19f9866a1735848770125dad2aebad"><td class="memItemLeft" align="right" valign="top">std::map&lt; const <a class="el" href="../../d4/da8/classCCopasiObject.html">CCopasiObject</a> <br class="typebreak"/>
*, SBase * &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../df/d80/classCSBMLExporter.html#aeb19f9866a1735848770125dad2aebad">mCOPASI2SBMLMap</a></td></tr>
<tr class="separator:aeb19f9866a1735848770125dad2aebad"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae954f269c9e427f047f5d461591d1130"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../df/d80/classCSBMLExporter.html#ae954f269c9e427f047f5d461591d1130">mDocumentDisowned</a></td></tr>
<tr class="separator:ae954f269c9e427f047f5d461591d1130"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a64aed2b18e03f12e362aaa0cabdbb471"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../df/d80/classCSBMLExporter.html#a64aed2b18e03f12e362aaa0cabdbb471">mExportCOPASIMIRIAM</a></td></tr>
<tr class="separator:a64aed2b18e03f12e362aaa0cabdbb471"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a18a364ee64c8bd23b9c6fa3442d4e6b1"><td class="memItemLeft" align="right" valign="top">ListOfFunctionDefinitions&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../df/d80/classCSBMLExporter.html#a18a364ee64c8bd23b9c6fa3442d4e6b1">mExportedFunctions</a></td></tr>
<tr class="separator:a18a364ee64c8bd23b9c6fa3442d4e6b1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab76fac48902b0d7ac43f7454ddf0f6d6"><td class="memItemLeft" align="right" valign="top">std::map&lt; std::string, const <br class="typebreak"/>
<a class="el" href="../../d1/d50/classCEvaluationTree.html">CEvaluationTree</a> * &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../df/d80/classCSBMLExporter.html#ab76fac48902b0d7ac43f7454ddf0f6d6">mFunctionIdMap</a></td></tr>
<tr class="separator:ab76fac48902b0d7ac43f7454ddf0f6d6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa5207c45ebd8ce9bff303c680d2e535a"><td class="memItemLeft" align="right" valign="top">std::map&lt; const <br class="typebreak"/>
FunctionDefinition *, const <br class="typebreak"/>
<a class="el" href="../../d4/da8/classCCopasiObject.html">CCopasiObject</a> * &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../df/d80/classCSBMLExporter.html#aa5207c45ebd8ce9bff303c680d2e535a">mFunctionMap</a></td></tr>
<tr class="separator:aa5207c45ebd8ce9bff303c680d2e535a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae5ae5ec70c912323abe9c31b58de2652"><td class="memItemLeft" align="right" valign="top">std::set&lt; SBase * &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../df/d80/classCSBMLExporter.html#ae5ae5ec70c912323abe9c31b58de2652">mHandledSBMLObjects</a></td></tr>
<tr class="separator:ae5ae5ec70c912323abe9c31b58de2652"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adc3202b6aab716f83247c9d1a4cb60e1"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../df/d80/classCSBMLExporter.html#adc3202b6aab716f83247c9d1a4cb60e1">mHaveModelHistoryAuthorWarning</a></td></tr>
<tr class="separator:adc3202b6aab716f83247c9d1a4cb60e1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad2b0ac2df8fb9a5c28e522f1cea19709"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../df/d80/classCSBMLExporter.html#ad2b0ac2df8fb9a5c28e522f1cea19709">mHaveModelHistoryCreationDateWarning</a></td></tr>
<tr class="separator:ad2b0ac2df8fb9a5c28e522f1cea19709"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9b7f3e8acfbeadd9660cde953d4563cd"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../df/d80/classCSBMLExporter.html#a9b7f3e8acfbeadd9660cde953d4563cd">mHaveModelHistoryModificationDateWarning</a></td></tr>
<tr class="separator:a9b7f3e8acfbeadd9660cde953d4563cd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a60ab409a11b90a1ca965d7702828af74"><td class="memItemLeft" align="right" valign="top">std::map&lt; std::string, const <br class="typebreak"/>
SBase * &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../df/d80/classCSBMLExporter.html#a60ab409a11b90a1ca965d7702828af74">mIdMap</a></td></tr>
<tr class="separator:a60ab409a11b90a1ca965d7702828af74"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5bd855fe9020f8c400a6cab63fb87711"><td class="memItemLeft" align="right" valign="top">std::vector&lt; <a class="el" href="../../d7/de3/classSBMLIncompatibility.html">SBMLIncompatibility</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../df/d80/classCSBMLExporter.html#a5bd855fe9020f8c400a6cab63fb87711">mIncompatibilities</a></td></tr>
<tr class="separator:a5bd855fe9020f8c400a6cab63fb87711"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac743dca5c88be1b916af33f454d1a64a"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../df/d80/classCSBMLExporter.html#ac743dca5c88be1b916af33f454d1a64a">mIncompleteExport</a></td></tr>
<tr class="separator:ac743dca5c88be1b916af33f454d1a64a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1b30687327c5f035db028165254de116"><td class="memItemLeft" align="right" valign="top">std::vector&lt; <a class="el" href="../../d0/da0/classCModelEntity.html">CModelEntity</a> * &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../df/d80/classCSBMLExporter.html#a1b30687327c5f035db028165254de116">mInitialAssignmentVector</a></td></tr>
<tr class="separator:a1b30687327c5f035db028165254de116"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab85366b96bfd18cd3f7cf5ecc9b9d76b"><td class="memItemLeft" align="right" valign="top">std::map&lt; const std::string, <br class="typebreak"/>
Parameter * &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../df/d80/classCSBMLExporter.html#ab85366b96bfd18cd3f7cf5ecc9b9d76b">mInitialValueMap</a></td></tr>
<tr class="separator:ab85366b96bfd18cd3f7cf5ecc9b9d76b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa2e61de10e2d26eee4c7310beb099b13"><td class="memItemLeft" align="right" valign="top">std::map&lt; std::string, const <br class="typebreak"/>
SBase * &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../df/d80/classCSBMLExporter.html#aa2e61de10e2d26eee4c7310beb099b13">mMetaIdMap</a></td></tr>
<tr class="separator:aa2e61de10e2d26eee4c7310beb099b13"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4bbf4600db1ff16987d080ad30a8f9f4"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../df/d80/classCSBMLExporter.html#a4bbf4600db1ff16987d080ad30a8f9f4">mMIRIAMWarning</a></td></tr>
<tr class="separator:a4bbf4600db1ff16987d080ad30a8f9f4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0e510c0403f40240d781206e3b224b69"><td class="memItemLeft" align="right" valign="top">std::vector&lt; <a class="el" href="../../d0/da0/classCModelEntity.html">CModelEntity</a> * &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../df/d80/classCSBMLExporter.html#a0e510c0403f40240d781206e3b224b69">mODEVector</a></td></tr>
<tr class="separator:a0e510c0403f40240d781206e3b224b69"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2dbac4a8c7a2aa7a6a462b184c5430bf"><td class="memItemLeft" align="right" valign="top">std::map&lt; std::string, <br class="typebreak"/>
Parameter * &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../df/d80/classCSBMLExporter.html#a2dbac4a8c7a2aa7a6a462b184c5430bf">mParameterReplacementMap</a></td></tr>
<tr class="separator:a2dbac4a8c7a2aa7a6a462b184c5430bf"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acf59a37a6e25ed5735988fd792fb1109"><td class="memItemLeft" align="right" valign="top">const <a class="el" href="../../d7/dec/classCModelValue.html">CModelValue</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../df/d80/classCSBMLExporter.html#acf59a37a6e25ed5735988fd792fb1109">mpAvogadro</a></td></tr>
<tr class="separator:acf59a37a6e25ed5735988fd792fb1109"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1541a69b36b8e864883e49f0de244f81"><td class="memItemLeft" align="right" valign="top">SBMLDocument *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../df/d80/classCSBMLExporter.html#a1541a69b36b8e864883e49f0de244f81">mpSBMLDocument</a></td></tr>
<tr class="separator:a1541a69b36b8e864883e49f0de244f81"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aba959efc152f63f1709d5de60e97a651"><td class="memItemLeft" align="right" valign="top">unsigned int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../df/d80/classCSBMLExporter.html#aba959efc152f63f1709d5de60e97a651">mSBMLLevel</a></td></tr>
<tr class="separator:aba959efc152f63f1709d5de60e97a651"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af1bc50a307a46adcce8aa8abde6dab96"><td class="memItemLeft" align="right" valign="top">unsigned int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../df/d80/classCSBMLExporter.html#af1bc50a307a46adcce8aa8abde6dab96">mSBMLVersion</a></td></tr>
<tr class="separator:af1bc50a307a46adcce8aa8abde6dab96"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:add70567bab44bdd83557d9cc1ca89b74"><td class="memItemLeft" align="right" valign="top">std::set&lt; std::string &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../df/d80/classCSBMLExporter.html#add70567bab44bdd83557d9cc1ca89b74">mSpatialSizeUnitsSpecies</a></td></tr>
<tr class="separator:add70567bab44bdd83557d9cc1ca89b74"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4d5bc6e05778ebe1653f70b2c968564e"><td class="memItemLeft" align="right" valign="top">std::set&lt; <a class="el" href="../../d9/d86/classCFunction.html">CFunction</a> * &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../df/d80/classCSBMLExporter.html#a4d5bc6e05778ebe1653f70b2c968564e">mUsedFunctions</a></td></tr>
<tr class="separator:a4d5bc6e05778ebe1653f70b2c968564e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a64ec2c4a41a2fa37f21875281f5948d5"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../df/d80/classCSBMLExporter.html#a64ec2c4a41a2fa37f21875281f5948d5">mVariableVolumes</a></td></tr>
<tr class="separator:a64ec2c4a41a2fa37f21875281f5948d5"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock">
<p>Definition at line <a class="el" href="../../da/d7f/CSBMLExporter_8h_source.html#l00052">52</a> of file <a class="el" href="../../da/d7f/CSBMLExporter_8h_source.html">CSBMLExporter.h</a>.</p>
</div><h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a class="anchor" id="a5308953a73b703fcff0d35393659d8a7"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">CSBMLExporter::CSBMLExporter </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Default Konstruktor </p>

<p>Definition at line <a class="el" href="../../d5/d2f/CSBMLExporter_8cpp_source.html#l00328">328</a> of file <a class="el" href="../../d5/d2f/CSBMLExporter_8cpp_source.html">CSBMLExporter.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00328"></a><span class="lineno">  328</span>&#160;                            : <a class="code" href="../../df/d80/classCSBMLExporter.html#a1541a69b36b8e864883e49f0de244f81">mpSBMLDocument</a>(NULL), <a class="code" href="../../df/d80/classCSBMLExporter.html#aba959efc152f63f1709d5de60e97a651">mSBMLLevel</a>(2), <a class="code" href="../../df/d80/classCSBMLExporter.html#af1bc50a307a46adcce8aa8abde6dab96">mSBMLVersion</a>(1), <a class="code" href="../../df/d80/classCSBMLExporter.html#ac743dca5c88be1b916af33f454d1a64a">mIncompleteExport</a>(<span class="keyword">false</span>), <a class="code" href="../../df/d80/classCSBMLExporter.html#a64ec2c4a41a2fa37f21875281f5948d5">mVariableVolumes</a>(<span class="keyword">false</span>), <a class="code" href="../../df/d80/classCSBMLExporter.html#acf59a37a6e25ed5735988fd792fb1109">mpAvogadro</a>(NULL), <a class="code" href="../../df/d80/classCSBMLExporter.html#a57b7199230b68903fd1af9531ec6fbb7">mAvogadroCreated</a>(<span class="keyword">false</span>), <a class="code" href="../../df/d80/classCSBMLExporter.html#a4bbf4600db1ff16987d080ad30a8f9f4">mMIRIAMWarning</a>(<span class="keyword">false</span>), <a class="code" href="../../df/d80/classCSBMLExporter.html#ae954f269c9e427f047f5d461591d1130">mDocumentDisowned</a>(<span class="keyword">false</span>), <a class="code" href="../../df/d80/classCSBMLExporter.html#a64aed2b18e03f12e362aaa0cabdbb471">mExportCOPASIMIRIAM</a>(<span class="keyword">false</span>), <a class="code" href="../../df/d80/classCSBMLExporter.html#a18a364ee64c8bd23b9c6fa3442d4e6b1">mExportedFunctions</a>(2, 1)</div>
<div class="line"><a name="l00329"></a><span class="lineno">  329</span>&#160;{}</div>
<div class="ttc" id="classCSBMLExporter_html_a64aed2b18e03f12e362aaa0cabdbb471"><div class="ttname"><a href="../../df/d80/classCSBMLExporter.html#a64aed2b18e03f12e362aaa0cabdbb471">CSBMLExporter::mExportCOPASIMIRIAM</a></div><div class="ttdeci">bool mExportCOPASIMIRIAM</div><div class="ttdef"><b>Definition:</b> <a href="../../da/d7f/CSBMLExporter_8h_source.html#l00074">CSBMLExporter.h:74</a></div></div>
<div class="ttc" id="classCSBMLExporter_html_aba959efc152f63f1709d5de60e97a651"><div class="ttname"><a href="../../df/d80/classCSBMLExporter.html#aba959efc152f63f1709d5de60e97a651">CSBMLExporter::mSBMLLevel</a></div><div class="ttdeci">unsigned int mSBMLLevel</div><div class="ttdef"><b>Definition:</b> <a href="../../da/d7f/CSBMLExporter_8h_source.html#l00056">CSBMLExporter.h:56</a></div></div>
<div class="ttc" id="classCSBMLExporter_html_a1541a69b36b8e864883e49f0de244f81"><div class="ttname"><a href="../../df/d80/classCSBMLExporter.html#a1541a69b36b8e864883e49f0de244f81">CSBMLExporter::mpSBMLDocument</a></div><div class="ttdeci">SBMLDocument * mpSBMLDocument</div><div class="ttdef"><b>Definition:</b> <a href="../../da/d7f/CSBMLExporter_8h_source.html#l00055">CSBMLExporter.h:55</a></div></div>
<div class="ttc" id="classCSBMLExporter_html_a18a364ee64c8bd23b9c6fa3442d4e6b1"><div class="ttname"><a href="../../df/d80/classCSBMLExporter.html#a18a364ee64c8bd23b9c6fa3442d4e6b1">CSBMLExporter::mExportedFunctions</a></div><div class="ttdeci">ListOfFunctionDefinitions mExportedFunctions</div><div class="ttdef"><b>Definition:</b> <a href="../../da/d7f/CSBMLExporter_8h_source.html#l00077">CSBMLExporter.h:77</a></div></div>
<div class="ttc" id="classCSBMLExporter_html_a4bbf4600db1ff16987d080ad30a8f9f4"><div class="ttname"><a href="../../df/d80/classCSBMLExporter.html#a4bbf4600db1ff16987d080ad30a8f9f4">CSBMLExporter::mMIRIAMWarning</a></div><div class="ttdeci">bool mMIRIAMWarning</div><div class="ttdef"><b>Definition:</b> <a href="../../da/d7f/CSBMLExporter_8h_source.html#l00071">CSBMLExporter.h:71</a></div></div>
<div class="ttc" id="classCSBMLExporter_html_ae954f269c9e427f047f5d461591d1130"><div class="ttname"><a href="../../df/d80/classCSBMLExporter.html#ae954f269c9e427f047f5d461591d1130">CSBMLExporter::mDocumentDisowned</a></div><div class="ttdeci">bool mDocumentDisowned</div><div class="ttdef"><b>Definition:</b> <a href="../../da/d7f/CSBMLExporter_8h_source.html#l00073">CSBMLExporter.h:73</a></div></div>
<div class="ttc" id="classCSBMLExporter_html_ac743dca5c88be1b916af33f454d1a64a"><div class="ttname"><a href="../../df/d80/classCSBMLExporter.html#ac743dca5c88be1b916af33f454d1a64a">CSBMLExporter::mIncompleteExport</a></div><div class="ttdeci">bool mIncompleteExport</div><div class="ttdef"><b>Definition:</b> <a href="../../da/d7f/CSBMLExporter_8h_source.html#l00066">CSBMLExporter.h:66</a></div></div>
<div class="ttc" id="classCSBMLExporter_html_a57b7199230b68903fd1af9531ec6fbb7"><div class="ttname"><a href="../../df/d80/classCSBMLExporter.html#a57b7199230b68903fd1af9531ec6fbb7">CSBMLExporter::mAvogadroCreated</a></div><div class="ttdeci">bool mAvogadroCreated</div><div class="ttdef"><b>Definition:</b> <a href="../../da/d7f/CSBMLExporter_8h_source.html#l00069">CSBMLExporter.h:69</a></div></div>
<div class="ttc" id="classCSBMLExporter_html_af1bc50a307a46adcce8aa8abde6dab96"><div class="ttname"><a href="../../df/d80/classCSBMLExporter.html#af1bc50a307a46adcce8aa8abde6dab96">CSBMLExporter::mSBMLVersion</a></div><div class="ttdeci">unsigned int mSBMLVersion</div><div class="ttdef"><b>Definition:</b> <a href="../../da/d7f/CSBMLExporter_8h_source.html#l00057">CSBMLExporter.h:57</a></div></div>
<div class="ttc" id="classCSBMLExporter_html_acf59a37a6e25ed5735988fd792fb1109"><div class="ttname"><a href="../../df/d80/classCSBMLExporter.html#acf59a37a6e25ed5735988fd792fb1109">CSBMLExporter::mpAvogadro</a></div><div class="ttdeci">const CModelValue * mpAvogadro</div><div class="ttdef"><b>Definition:</b> <a href="../../da/d7f/CSBMLExporter_8h_source.html#l00068">CSBMLExporter.h:68</a></div></div>
<div class="ttc" id="classCSBMLExporter_html_a64ec2c4a41a2fa37f21875281f5948d5"><div class="ttname"><a href="../../df/d80/classCSBMLExporter.html#a64ec2c4a41a2fa37f21875281f5948d5">CSBMLExporter::mVariableVolumes</a></div><div class="ttdeci">bool mVariableVolumes</div><div class="ttdef"><b>Definition:</b> <a href="../../da/d7f/CSBMLExporter_8h_source.html#l00067">CSBMLExporter.h:67</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="aa26a13b4cadb1b199f509b8f34f2d72b"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">CSBMLExporter::~CSBMLExporter </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Destruktor </p>

<p>Definition at line <a class="el" href="../../d5/d2f/CSBMLExporter_8cpp_source.html#l00331">331</a> of file <a class="el" href="../../d5/d2f/CSBMLExporter_8cpp_source.html">CSBMLExporter.cpp</a>.</p>

<p>References <a class="el" href="../../df/d80/classCSBMLExporter.html#ae954f269c9e427f047f5d461591d1130">mDocumentDisowned</a>, <a class="el" href="../../df/d80/classCSBMLExporter.html#a1541a69b36b8e864883e49f0de244f81">mpSBMLDocument</a>, and <a class="el" href="../../dc/df8/copasi_8h.html#ac9efe23516fb43b7adc59fbad1c221b8">pdelete</a>.</p>
<div class="fragment"><div class="line"><a name="l00332"></a><span class="lineno">  332</span>&#160;{</div>
<div class="line"><a name="l00333"></a><span class="lineno">  333</span>&#160;  <span class="keywordflow">if</span> (this-&gt;<a class="code" href="../../df/d80/classCSBMLExporter.html#ae954f269c9e427f047f5d461591d1130">mDocumentDisowned</a> == <span class="keyword">false</span>)</div>
<div class="line"><a name="l00334"></a><span class="lineno">  334</span>&#160;    {</div>
<div class="line"><a name="l00335"></a><span class="lineno">  335</span>&#160;      <a class="code" href="../../dc/df8/copasi_8h.html#ac9efe23516fb43b7adc59fbad1c221b8">pdelete</a>(<a class="code" href="../../df/d80/classCSBMLExporter.html#a1541a69b36b8e864883e49f0de244f81">mpSBMLDocument</a>);</div>
<div class="line"><a name="l00336"></a><span class="lineno">  336</span>&#160;    }</div>
<div class="line"><a name="l00337"></a><span class="lineno">  337</span>&#160;};</div>
<div class="ttc" id="copasi_8h_html_ac9efe23516fb43b7adc59fbad1c221b8"><div class="ttname"><a href="../../dc/df8/copasi_8h.html#ac9efe23516fb43b7adc59fbad1c221b8">pdelete</a></div><div class="ttdeci">#define pdelete(p)</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/df8/copasi_8h_source.html#l00215">copasi.h:215</a></div></div>
<div class="ttc" id="classCSBMLExporter_html_a1541a69b36b8e864883e49f0de244f81"><div class="ttname"><a href="../../df/d80/classCSBMLExporter.html#a1541a69b36b8e864883e49f0de244f81">CSBMLExporter::mpSBMLDocument</a></div><div class="ttdeci">SBMLDocument * mpSBMLDocument</div><div class="ttdef"><b>Definition:</b> <a href="../../da/d7f/CSBMLExporter_8h_source.html#l00055">CSBMLExporter.h:55</a></div></div>
<div class="ttc" id="classCSBMLExporter_html_ae954f269c9e427f047f5d461591d1130"><div class="ttname"><a href="../../df/d80/classCSBMLExporter.html#ae954f269c9e427f047f5d461591d1130">CSBMLExporter::mDocumentDisowned</a></div><div class="ttdeci">bool mDocumentDisowned</div><div class="ttdef"><b>Definition:</b> <a href="../../da/d7f/CSBMLExporter_8h_source.html#l00073">CSBMLExporter.h:73</a></div></div>
</div><!-- fragment -->
</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a class="anchor" id="af845ecb1f47ed78265a8ae303743b82b"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d3/d05/CChemEqParser__yacc_8cpp.html#aa76fec002b4ba91adc88f68d56ba730c">void</a> CSBMLExporter::assignSBMLIdsToReactions </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d4/d04/classCModel.html">CModel</a> *&#160;</td>
          <td class="paramname"><em>pModel</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Since we want to replace local reaction parameters by global parameters if they are used in an assignment, we have to create the reactions after creating the rules and events. On the other hand, a reaction flux might also be referenced in an assignment or an event and the creation of this rule or event only works if the reactions already have SBML ids. To solve this problem, the reactions have to be assigned SBML ids prior to creating rules and events. This is what this method does. </p>

<p>Definition at line <a class="el" href="../../d5/d2f/CSBMLExporter_8cpp_source.html#l07556">7556</a> of file <a class="el" href="../../d5/d2f/CSBMLExporter_8cpp_source.html">CSBMLExporter.cpp</a>.</p>

<p>References <a class="el" href="../../d8/d2c/classCCopasiVector.html#acb26711fe72be0d2cb3a37c2fbcc031f">CCopasiVector&lt; T &gt;::begin()</a>, <a class="el" href="../../df/d80/classCSBMLExporter.html#ab4d7f9c3d22b8225d1a4d9e3a98b855e">createUniqueId()</a>, <a class="el" href="../../d8/d2c/classCCopasiVector.html#a44c97a5f614c885495c437f2a8d20954">CCopasiVector&lt; T &gt;::end()</a>, <a class="el" href="../../d4/d04/classCModel.html#ad9a3dc1905f1f38f689f728b829f285d">CModel::getReactions()</a>, and <a class="el" href="../../df/d80/classCSBMLExporter.html#a60ab409a11b90a1ca965d7702828af74">mIdMap</a>.</p>

<p>Referenced by <a class="el" href="../../df/d80/classCSBMLExporter.html#a2b680d670c11c7c70a45bc12e236b2e8">createSBMLDocument()</a>.</p>
<div class="fragment"><div class="line"><a name="l07557"></a><span class="lineno"> 7557</span>&#160;{</div>
<div class="line"><a name="l07558"></a><span class="lineno"> 7558</span>&#160;  std::string sbmlId;</div>
<div class="line"><a name="l07559"></a><span class="lineno"> 7559</span>&#160;  <a class="code" href="../../d9/db9/classCCopasiVectorNS.html">CCopasiVectorNS&lt;CReaction&gt;::const_iterator</a> it = pModel-&gt;<a class="code" href="../../d4/d04/classCModel.html#ad9a3dc1905f1f38f689f728b829f285d">getReactions</a>().<a class="code" href="../../d8/d2c/classCCopasiVector.html#acb26711fe72be0d2cb3a37c2fbcc031f">begin</a>(), endit = pModel-&gt;<a class="code" href="../../d4/d04/classCModel.html#ad9a3dc1905f1f38f689f728b829f285d">getReactions</a>().<a class="code" href="../../d8/d2c/classCCopasiVector.html#a44c97a5f614c885495c437f2a8d20954">end</a>();</div>
<div class="line"><a name="l07560"></a><span class="lineno"> 7560</span>&#160;</div>
<div class="line"><a name="l07561"></a><span class="lineno"> 7561</span>&#160;  <span class="keywordflow">while</span> (it != endit)</div>
<div class="line"><a name="l07562"></a><span class="lineno"> 7562</span>&#160;    {</div>
<div class="line"><a name="l07563"></a><span class="lineno"> 7563</span>&#160;      <span class="keywordflow">if</span> ((*it)-&gt;getSBMLId().empty())</div>
<div class="line"><a name="l07564"></a><span class="lineno"> 7564</span>&#160;        {</div>
<div class="line"><a name="l07565"></a><span class="lineno"> 7565</span>&#160;          sbmlId = <a class="code" href="../../df/d80/classCSBMLExporter.html#ab4d7f9c3d22b8225d1a4d9e3a98b855e">CSBMLExporter::createUniqueId</a>(this-&gt;<a class="code" href="../../df/d80/classCSBMLExporter.html#a60ab409a11b90a1ca965d7702828af74">mIdMap</a>, (*it)-&gt;getObjectName(), <span class="keyword">false</span>);</div>
<div class="line"><a name="l07566"></a><span class="lineno"> 7566</span>&#160;          (*it)-&gt;setSBMLId(sbmlId);</div>
<div class="line"><a name="l07567"></a><span class="lineno"> 7567</span>&#160;          this-&gt;<a class="code" href="../../df/d80/classCSBMLExporter.html#a60ab409a11b90a1ca965d7702828af74">mIdMap</a>.insert(std::pair&lt;const std::string, const SBase*&gt;(sbmlId, (<span class="keyword">const</span> SBase*)NULL));</div>
<div class="line"><a name="l07568"></a><span class="lineno"> 7568</span>&#160;        }</div>
<div class="line"><a name="l07569"></a><span class="lineno"> 7569</span>&#160;</div>
<div class="line"><a name="l07570"></a><span class="lineno"> 7570</span>&#160;      ++it;</div>
<div class="line"><a name="l07571"></a><span class="lineno"> 7571</span>&#160;    }</div>
<div class="line"><a name="l07572"></a><span class="lineno"> 7572</span>&#160;}</div>
<div class="ttc" id="classCCopasiVector_html_acb26711fe72be0d2cb3a37c2fbcc031f"><div class="ttname"><a href="../../d8/d2c/classCCopasiVector.html#acb26711fe72be0d2cb3a37c2fbcc031f">CCopasiVector::begin</a></div><div class="ttdeci">iterator begin()</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d51/CCopasiVector_8h_source.html#l00185">CCopasiVector.h:185</a></div></div>
<div class="ttc" id="classCSBMLExporter_html_a60ab409a11b90a1ca965d7702828af74"><div class="ttname"><a href="../../df/d80/classCSBMLExporter.html#a60ab409a11b90a1ca965d7702828af74">CSBMLExporter::mIdMap</a></div><div class="ttdeci">std::map&lt; std::string, const SBase * &gt; mIdMap</div><div class="ttdef"><b>Definition:</b> <a href="../../da/d7f/CSBMLExporter_8h_source.html#l00064">CSBMLExporter.h:64</a></div></div>
<div class="ttc" id="classCSBMLExporter_html_ab4d7f9c3d22b8225d1a4d9e3a98b855e"><div class="ttname"><a href="../../df/d80/classCSBMLExporter.html#ab4d7f9c3d22b8225d1a4d9e3a98b855e">CSBMLExporter::createUniqueId</a></div><div class="ttdeci">static const std::string createUniqueId(const std::map&lt; std::string, const SBase * &gt; &amp;idMap, const std::string &amp;prefix, bool addIndexForFirst, const std::string &amp;separator=&quot;_&quot;)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d2f/CSBMLExporter_8cpp_source.html#l02252">CSBMLExporter.cpp:2252</a></div></div>
<div class="ttc" id="classCCopasiVectorNS_html"><div class="ttname"><a href="../../d9/db9/classCCopasiVectorNS.html">CCopasiVectorNS</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d51/CCopasiVector_8h_source.html#l00800">CCopasiVector.h:800</a></div></div>
<div class="ttc" id="classCCopasiVector_html_a44c97a5f614c885495c437f2a8d20954"><div class="ttname"><a href="../../d8/d2c/classCCopasiVector.html#a44c97a5f614c885495c437f2a8d20954">CCopasiVector::end</a></div><div class="ttdeci">iterator end()</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d51/CCopasiVector_8h_source.html#l00191">CCopasiVector.h:191</a></div></div>
<div class="ttc" id="classCModel_html_ad9a3dc1905f1f38f689f728b829f285d"><div class="ttname"><a href="../../d4/d04/classCModel.html#ad9a3dc1905f1f38f689f728b829f285d">CModel::getReactions</a></div><div class="ttdeci">CCopasiVectorNS&lt; CReaction &gt; &amp; getReactions()</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d08/CModel_8cpp_source.html#l01039">CModel.cpp:1039</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a434c0e84d0593abf69165c1a73760b9e"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d3/d05/CChemEqParser__yacc_8cpp.html#aa76fec002b4ba91adc88f68d56ba730c">void</a> CSBMLExporter::check_for_spatial_size_units </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="../../d4/d18/classCCopasiDataModel.html">CCopasiDataModel</a> &amp;&#160;</td>
          <td class="paramname"><em>dataModel</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::vector&lt; <a class="el" href="../../d7/de3/classSBMLIncompatibility.html">SBMLIncompatibility</a> &gt; &amp;&#160;</td>
          <td class="paramname"><em>result</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Go through all species in the model and check if the corresponding species in the SBML model has the spatialSizeUnits attribute set. This attribute is not supported in SBML L2V3 and above, so we have to get rid of this attribute when we export to a level equal to or higher than L2V3. If the attribute has the same value as the compartments units, we can just delete it without changing the model, otherwise we have to give a corresponding warning. </p>

<p>Definition at line <a class="el" href="../../d5/d2f/CSBMLExporter_8cpp_source.html#l02597">2597</a> of file <a class="el" href="../../d5/d2f/CSBMLExporter_8cpp_source.html">CSBMLExporter.cpp</a>.</p>

<p>References <a class="el" href="../../d7/d6d/classSBMLImporter.html#a61d10c15681b398f297bee71eaa75dbe">SBMLImporter::areSBMLUnitDefinitionsIdentical()</a>, <a class="el" href="../../d8/d2c/classCCopasiVector.html#acb26711fe72be0d2cb3a37c2fbcc031f">CCopasiVector&lt; T &gt;::begin()</a>, <a class="el" href="../../d8/d2c/classCCopasiVector.html#a44c97a5f614c885495c437f2a8d20954">CCopasiVector&lt; T &gt;::end()</a>, <a class="el" href="../../d2/df0/classCCopasiMessage.html#a2ea1ed32494ff5c8d84353efcec7a5e4a568f885d73f0ea36bedfe92f6e533071">CCopasiMessage::EXCEPTION</a>, <a class="el" href="../../d4/d04/classCModel.html#a73a8a52c2190b1aae2f1427e4e9eb0e1">CModel::getMetabolites()</a>, <a class="el" href="../../d4/d18/classCCopasiDataModel.html#a2e65952e0caf0b2709d381cf949fec69">CCopasiDataModel::getModel()</a>, <a class="el" href="../../d7/d6d/classSBMLImporter.html#a2511a51a2a17ac94c63dcf719f18f779">SBMLImporter::getSBMLUnitDefinitionForId()</a>, and <a class="el" href="../../d9/d2d/CCopasiMessage_8h.html#a7f5ce9c8d3812b45cb6f33595fba5789">MCSBML</a>.</p>

<p>Referenced by <a class="el" href="../../df/d80/classCSBMLExporter.html#ace48aaa532a60b2651d42618b5484b36">createMetabolites()</a>, and <a class="el" href="../../df/d80/classCSBMLExporter.html#a980c8aa07cb93bff4e387188ec371131">isModelSBMLL2V3Compatible()</a>.</p>
<div class="fragment"><div class="line"><a name="l02598"></a><span class="lineno"> 2598</span>&#160;{</div>
<div class="line"><a name="l02599"></a><span class="lineno"> 2599</span>&#160;  <span class="keyword">const</span> SBMLDocument* pSBMLDocument = <span class="keyword">const_cast&lt;</span><span class="keyword">const </span>SBMLDocument*<span class="keyword">&gt;</span>(<span class="keyword">const_cast&lt;</span><a class="code" href="../../d4/d18/classCCopasiDataModel.html">CCopasiDataModel</a>&amp;<span class="keyword">&gt;</span>(dataModel).getCurrentSBMLDocument());</div>
<div class="line"><a name="l02600"></a><span class="lineno"> 2600</span>&#160;</div>
<div class="line"><a name="l02601"></a><span class="lineno"> 2601</span>&#160;  <span class="keywordflow">if</span> (pSBMLDocument != NULL)</div>
<div class="line"><a name="l02602"></a><span class="lineno"> 2602</span>&#160;    {</div>
<div class="line"><a name="l02603"></a><span class="lineno"> 2603</span>&#160;      <span class="comment">// check all species in the model if they have a spatial size attribute set</span></div>
<div class="line"><a name="l02604"></a><span class="lineno"> 2604</span>&#160;      <span class="comment">// and if it is identical to the unit of the compartment the species is in</span></div>
<div class="line"><a name="l02605"></a><span class="lineno"> 2605</span>&#160;      <span class="keyword">const</span> <a class="code" href="../../d4/d04/classCModel.html">CModel</a>* pModel = dataModel.<a class="code" href="../../d4/d18/classCCopasiDataModel.html#a2e65952e0caf0b2709d381cf949fec69">getModel</a>();</div>
<div class="line"><a name="l02606"></a><span class="lineno"> 2606</span>&#160;</div>
<div class="line"><a name="l02607"></a><span class="lineno"> 2607</span>&#160;      <span class="keywordflow">if</span> (pModel != NULL)</div>
<div class="line"><a name="l02608"></a><span class="lineno"> 2608</span>&#160;        {</div>
<div class="line"><a name="l02609"></a><span class="lineno"> 2609</span>&#160;          <a class="code" href="../../d8/d2c/classCCopasiVector.html">CCopasiVector&lt;CMetab&gt;::const_iterator</a> it = pModel-&gt;<a class="code" href="../../d4/d04/classCModel.html#a73a8a52c2190b1aae2f1427e4e9eb0e1">getMetabolites</a>().<a class="code" href="../../d8/d2c/classCCopasiVector.html#acb26711fe72be0d2cb3a37c2fbcc031f">begin</a>(), endit = pModel-&gt;<a class="code" href="../../d4/d04/classCModel.html#a73a8a52c2190b1aae2f1427e4e9eb0e1">getMetabolites</a>().<a class="code" href="../../d8/d2c/classCCopasiVector.html#a44c97a5f614c885495c437f2a8d20954">end</a>();</div>
<div class="line"><a name="l02610"></a><span class="lineno"> 2610</span>&#160;          std::set&lt;std::string&gt; badSpecies;</div>
<div class="line"><a name="l02611"></a><span class="lineno"> 2611</span>&#160;          <span class="keyword">const</span> std::map&lt;CCopasiObject*, SBase*&gt;&amp; copasi2sbmlmap = <span class="keyword">const_cast&lt;</span><a class="code" href="../../d4/d18/classCCopasiDataModel.html">CCopasiDataModel</a>&amp;<span class="keyword">&gt;</span>(dataModel).getCopasi2SBMLMap();</div>
<div class="line"><a name="l02612"></a><span class="lineno"> 2612</span>&#160;          std::map&lt;CCopasiObject*, SBase*&gt;::const_iterator pos;</div>
<div class="line"><a name="l02613"></a><span class="lineno"> 2613</span>&#160;          <span class="keyword">const</span> Species* pSBMLSpecies = NULL;</div>
<div class="line"><a name="l02614"></a><span class="lineno"> 2614</span>&#160;          std::string spatialSizeUnits;</div>
<div class="line"><a name="l02615"></a><span class="lineno"> 2615</span>&#160;</div>
<div class="line"><a name="l02616"></a><span class="lineno"> 2616</span>&#160;          <span class="keywordflow">while</span> (it != endit)</div>
<div class="line"><a name="l02617"></a><span class="lineno"> 2617</span>&#160;            {</div>
<div class="line"><a name="l02618"></a><span class="lineno"> 2618</span>&#160;              pos = copasi2sbmlmap.find(*it);</div>
<div class="line"><a name="l02619"></a><span class="lineno"> 2619</span>&#160;</div>
<div class="line"><a name="l02620"></a><span class="lineno"> 2620</span>&#160;              <span class="keywordflow">if</span> (pos != copasi2sbmlmap.end())</div>
<div class="line"><a name="l02621"></a><span class="lineno"> 2621</span>&#160;                {</div>
<div class="line"><a name="l02622"></a><span class="lineno"> 2622</span>&#160;                  <span class="comment">// check for the spatial size units attribute</span></div>
<div class="line"><a name="l02623"></a><span class="lineno"> 2623</span>&#160;                  pSBMLSpecies = <span class="keyword">dynamic_cast&lt;</span><span class="keyword">const </span>Species*<span class="keyword">&gt;</span>(pos-&gt;second);</div>
<div class="line"><a name="l02624"></a><span class="lineno"> 2624</span>&#160;                  assert(pSBMLSpecies != NULL);</div>
<div class="line"><a name="l02625"></a><span class="lineno"> 2625</span>&#160;</div>
<div class="line"><a name="l02626"></a><span class="lineno"> 2626</span>&#160;                  <span class="keywordflow">if</span> (pSBMLSpecies == NULL) <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l02627"></a><span class="lineno"> 2627</span>&#160;</div>
<div class="line"><a name="l02628"></a><span class="lineno"> 2628</span>&#160;                  <span class="keywordflow">if</span> (pSBMLSpecies-&gt;isSetSpatialSizeUnits())</div>
<div class="line"><a name="l02629"></a><span class="lineno"> 2629</span>&#160;                    {</div>
<div class="line"><a name="l02630"></a><span class="lineno"> 2630</span>&#160;                      spatialSizeUnits = pSBMLSpecies-&gt;getSpatialSizeUnits();</div>
<div class="line"><a name="l02631"></a><span class="lineno"> 2631</span>&#160;                      <span class="comment">// check if the units are the same as the one on the species</span></div>
<div class="line"><a name="l02632"></a><span class="lineno"> 2632</span>&#160;                      <span class="comment">// compartment</span></div>
<div class="line"><a name="l02633"></a><span class="lineno"> 2633</span>&#160;                      assert(pSBMLDocument-&gt;getModel() != NULL);</div>
<div class="line"><a name="l02634"></a><span class="lineno"> 2634</span>&#160;                      <span class="keyword">const</span> Compartment* pCompartment = pSBMLDocument-&gt;getModel()-&gt;getCompartment(pSBMLSpecies-&gt;getCompartment());</div>
<div class="line"><a name="l02635"></a><span class="lineno"> 2635</span>&#160;                      assert(pCompartment != NULL);</div>
<div class="line"><a name="l02636"></a><span class="lineno"> 2636</span>&#160;</div>
<div class="line"><a name="l02637"></a><span class="lineno"> 2637</span>&#160;                      <span class="keywordflow">if</span> (pCompartment != NULL)</div>
<div class="line"><a name="l02638"></a><span class="lineno"> 2638</span>&#160;                        {</div>
<div class="line"><a name="l02639"></a><span class="lineno"> 2639</span>&#160;                          UnitDefinition* pUDef1 = NULL;</div>
<div class="line"><a name="l02640"></a><span class="lineno"> 2640</span>&#160;                          UnitDefinition* pUDef2 = NULL;</div>
<div class="line"><a name="l02641"></a><span class="lineno"> 2641</span>&#160;</div>
<div class="line"><a name="l02642"></a><span class="lineno"> 2642</span>&#160;                          <span class="keywordflow">if</span> (pCompartment-&gt;isSetUnits())</div>
<div class="line"><a name="l02643"></a><span class="lineno"> 2643</span>&#160;                            {</div>
<div class="line"><a name="l02644"></a><span class="lineno"> 2644</span>&#160;                              assert(pSBMLDocument-&gt;getModel() != NULL);</div>
<div class="line"><a name="l02645"></a><span class="lineno"> 2645</span>&#160;</div>
<div class="line"><a name="l02646"></a><span class="lineno"> 2646</span>&#160;                              <span class="keywordflow">if</span> (pSBMLDocument-&gt;getModel() != NULL)</div>
<div class="line"><a name="l02647"></a><span class="lineno"> 2647</span>&#160;                                {</div>
<div class="line"><a name="l02648"></a><span class="lineno"> 2648</span>&#160;                                  pUDef1 = <a class="code" href="../../d7/d6d/classSBMLImporter.html#a2511a51a2a17ac94c63dcf719f18f779">SBMLImporter::getSBMLUnitDefinitionForId</a>(pCompartment-&gt;getUnits(), pSBMLDocument-&gt;getModel());</div>
<div class="line"><a name="l02649"></a><span class="lineno"> 2649</span>&#160;                                }</div>
<div class="line"><a name="l02650"></a><span class="lineno"> 2650</span>&#160;                            }</div>
<div class="line"><a name="l02651"></a><span class="lineno"> 2651</span>&#160;                          <span class="keywordflow">else</span></div>
<div class="line"><a name="l02652"></a><span class="lineno"> 2652</span>&#160;                            {</div>
<div class="line"><a name="l02653"></a><span class="lineno"> 2653</span>&#160;                              <span class="comment">// the compartment has the default units associated with the</span></div>
<div class="line"><a name="l02654"></a><span class="lineno"> 2654</span>&#160;                              <span class="comment">// symbol length , area or volume depending on the spatial size</span></div>
<div class="line"><a name="l02655"></a><span class="lineno"> 2655</span>&#160;                              <span class="comment">// of the compartment</span></div>
<div class="line"><a name="l02656"></a><span class="lineno"> 2656</span>&#160;                              assert(pSBMLDocument-&gt;getModel() != NULL);</div>
<div class="line"><a name="l02657"></a><span class="lineno"> 2657</span>&#160;</div>
<div class="line"><a name="l02658"></a><span class="lineno"> 2658</span>&#160;                              <span class="keywordflow">if</span> (pSBMLDocument-&gt;getModel() != NULL)</div>
<div class="line"><a name="l02659"></a><span class="lineno"> 2659</span>&#160;                                {</div>
<div class="line"><a name="l02660"></a><span class="lineno"> 2660</span>&#160;                                  <span class="keywordflow">switch</span> (pCompartment-&gt;getSpatialDimensions())</div>
<div class="line"><a name="l02661"></a><span class="lineno"> 2661</span>&#160;                                    {</div>
<div class="line"><a name="l02662"></a><span class="lineno"> 2662</span>&#160;                                      <span class="keywordflow">case</span> 0:</div>
<div class="line"><a name="l02663"></a><span class="lineno"> 2663</span>&#160;                                        <span class="comment">// the species is not allowed to have a</span></div>
<div class="line"><a name="l02664"></a><span class="lineno"> 2664</span>&#160;                                        <span class="comment">// spatialDimensionsUnit attribute</span></div>
<div class="line"><a name="l02665"></a><span class="lineno"> 2665</span>&#160;                                        <a class="code" href="../../d2/df0/classCCopasiMessage.html">CCopasiMessage</a>(<a class="code" href="../../d2/df0/classCCopasiMessage.html#a2ea1ed32494ff5c8d84353efcec7a5e4a568f885d73f0ea36bedfe92f6e533071">CCopasiMessage::EXCEPTION</a>, <a class="code" href="../../d9/d2d/CCopasiMessage_8h.html#a7f5ce9c8d3812b45cb6f33595fba5789">MCSBML</a> + 83 , pSBMLSpecies-&gt;getId().c_str());</div>
<div class="line"><a name="l02666"></a><span class="lineno"> 2666</span>&#160;                                        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l02667"></a><span class="lineno"> 2667</span>&#160;</div>
<div class="line"><a name="l02668"></a><span class="lineno"> 2668</span>&#160;                                      <span class="keywordflow">case</span> 1:</div>
<div class="line"><a name="l02669"></a><span class="lineno"> 2669</span>&#160;                                        pUDef1 = <a class="code" href="../../d7/d6d/classSBMLImporter.html#a2511a51a2a17ac94c63dcf719f18f779">SBMLImporter::getSBMLUnitDefinitionForId</a>(<span class="stringliteral">&quot;length&quot;</span>, pSBMLDocument-&gt;getModel());</div>
<div class="line"><a name="l02670"></a><span class="lineno"> 2670</span>&#160;                                        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l02671"></a><span class="lineno"> 2671</span>&#160;</div>
<div class="line"><a name="l02672"></a><span class="lineno"> 2672</span>&#160;                                      <span class="keywordflow">case</span> 2:</div>
<div class="line"><a name="l02673"></a><span class="lineno"> 2673</span>&#160;                                        pUDef1 = <a class="code" href="../../d7/d6d/classSBMLImporter.html#a2511a51a2a17ac94c63dcf719f18f779">SBMLImporter::getSBMLUnitDefinitionForId</a>(<span class="stringliteral">&quot;area&quot;</span>, pSBMLDocument-&gt;getModel());</div>
<div class="line"><a name="l02674"></a><span class="lineno"> 2674</span>&#160;                                        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l02675"></a><span class="lineno"> 2675</span>&#160;</div>
<div class="line"><a name="l02676"></a><span class="lineno"> 2676</span>&#160;                                      <span class="keywordflow">case</span> 3:</div>
<div class="line"><a name="l02677"></a><span class="lineno"> 2677</span>&#160;                                        pUDef1 = <a class="code" href="../../d7/d6d/classSBMLImporter.html#a2511a51a2a17ac94c63dcf719f18f779">SBMLImporter::getSBMLUnitDefinitionForId</a>(<span class="stringliteral">&quot;volume&quot;</span>, pSBMLDocument-&gt;getModel());</div>
<div class="line"><a name="l02678"></a><span class="lineno"> 2678</span>&#160;                                        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l02679"></a><span class="lineno"> 2679</span>&#160;</div>
<div class="line"><a name="l02680"></a><span class="lineno"> 2680</span>&#160;                                      <span class="keywordflow">default</span>:</div>
<div class="line"><a name="l02681"></a><span class="lineno"> 2681</span>&#160;                                        <a class="code" href="../../d2/df0/classCCopasiMessage.html">CCopasiMessage</a>(<a class="code" href="../../d2/df0/classCCopasiMessage.html#a2ea1ed32494ff5c8d84353efcec7a5e4a568f885d73f0ea36bedfe92f6e533071">CCopasiMessage::EXCEPTION</a>, <a class="code" href="../../d9/d2d/CCopasiMessage_8h.html#a7f5ce9c8d3812b45cb6f33595fba5789">MCSBML</a> + 82 , pCompartment-&gt;getId().c_str());</div>
<div class="line"><a name="l02682"></a><span class="lineno"> 2682</span>&#160;                                        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l02683"></a><span class="lineno"> 2683</span>&#160;                                    }</div>
<div class="line"><a name="l02684"></a><span class="lineno"> 2684</span>&#160;                                }</div>
<div class="line"><a name="l02685"></a><span class="lineno"> 2685</span>&#160;                            }</div>
<div class="line"><a name="l02686"></a><span class="lineno"> 2686</span>&#160;</div>
<div class="line"><a name="l02687"></a><span class="lineno"> 2687</span>&#160;                          <span class="keywordflow">if</span> (pUDef1 != NULL &amp;&amp; pUDef2 != NULL)</div>
<div class="line"><a name="l02688"></a><span class="lineno"> 2688</span>&#160;                            {</div>
<div class="line"><a name="l02689"></a><span class="lineno"> 2689</span>&#160;                              <span class="comment">// compare the two unit definitions</span></div>
<div class="line"><a name="l02690"></a><span class="lineno"> 2690</span>&#160;                              <span class="keywordflow">if</span> (!<a class="code" href="../../d7/d6d/classSBMLImporter.html#a61d10c15681b398f297bee71eaa75dbe">SBMLImporter::areSBMLUnitDefinitionsIdentical</a>(pUDef1, pUDef2))</div>
<div class="line"><a name="l02691"></a><span class="lineno"> 2691</span>&#160;                                {</div>
<div class="line"><a name="l02692"></a><span class="lineno"> 2692</span>&#160;                                  <span class="comment">// add the species to bad species</span></div>
<div class="line"><a name="l02693"></a><span class="lineno"> 2693</span>&#160;                                  badSpecies.insert(pSBMLSpecies-&gt;getId());</div>
<div class="line"><a name="l02694"></a><span class="lineno"> 2694</span>&#160;                                }</div>
<div class="line"><a name="l02695"></a><span class="lineno"> 2695</span>&#160;                            }</div>
<div class="line"><a name="l02696"></a><span class="lineno"> 2696</span>&#160;</div>
<div class="line"><a name="l02697"></a><span class="lineno"> 2697</span>&#160;                          <span class="comment">// delete the unit definitions</span></div>
<div class="line"><a name="l02698"></a><span class="lineno"> 2698</span>&#160;                          <span class="keywordflow">if</span> (pUDef1 != NULL)</div>
<div class="line"><a name="l02699"></a><span class="lineno"> 2699</span>&#160;                            {</div>
<div class="line"><a name="l02700"></a><span class="lineno"> 2700</span>&#160;                              <span class="keyword">delete</span> pUDef1;</div>
<div class="line"><a name="l02701"></a><span class="lineno"> 2701</span>&#160;                            }</div>
<div class="line"><a name="l02702"></a><span class="lineno"> 2702</span>&#160;</div>
<div class="line"><a name="l02703"></a><span class="lineno"> 2703</span>&#160;                          <span class="keywordflow">if</span> (pUDef2 != NULL)</div>
<div class="line"><a name="l02704"></a><span class="lineno"> 2704</span>&#160;                            {</div>
<div class="line"><a name="l02705"></a><span class="lineno"> 2705</span>&#160;                              <span class="keyword">delete</span> pUDef2;</div>
<div class="line"><a name="l02706"></a><span class="lineno"> 2706</span>&#160;                            }</div>
<div class="line"><a name="l02707"></a><span class="lineno"> 2707</span>&#160;                        }</div>
<div class="line"><a name="l02708"></a><span class="lineno"> 2708</span>&#160;                    }</div>
<div class="line"><a name="l02709"></a><span class="lineno"> 2709</span>&#160;                }</div>
<div class="line"><a name="l02710"></a><span class="lineno"> 2710</span>&#160;</div>
<div class="line"><a name="l02711"></a><span class="lineno"> 2711</span>&#160;              ++it;</div>
<div class="line"><a name="l02712"></a><span class="lineno"> 2712</span>&#160;            }</div>
<div class="line"><a name="l02713"></a><span class="lineno"> 2713</span>&#160;</div>
<div class="line"><a name="l02714"></a><span class="lineno"> 2714</span>&#160;          <span class="keywordflow">if</span> (!badSpecies.empty())</div>
<div class="line"><a name="l02715"></a><span class="lineno"> 2715</span>&#160;            {</div>
<div class="line"><a name="l02716"></a><span class="lineno"> 2716</span>&#160;              <span class="comment">// create the incompatibility message</span></div>
<div class="line"><a name="l02717"></a><span class="lineno"> 2717</span>&#160;              std::ostringstream os;</div>
<div class="line"><a name="l02718"></a><span class="lineno"> 2718</span>&#160;              std::set&lt;std::string&gt;::const_iterator sit = badSpecies.begin(), sendit = badSpecies.end();</div>
<div class="line"><a name="l02719"></a><span class="lineno"> 2719</span>&#160;</div>
<div class="line"><a name="l02720"></a><span class="lineno"> 2720</span>&#160;              <span class="keywordflow">while</span> (sit != sendit)</div>
<div class="line"><a name="l02721"></a><span class="lineno"> 2721</span>&#160;                {</div>
<div class="line"><a name="l02722"></a><span class="lineno"> 2722</span>&#160;                  os &lt;&lt; *sit &lt;&lt; <span class="stringliteral">&quot;, &quot;</span>;</div>
<div class="line"><a name="l02723"></a><span class="lineno"> 2723</span>&#160;                  ++sit;</div>
<div class="line"><a name="l02724"></a><span class="lineno"> 2724</span>&#160;                }</div>
<div class="line"><a name="l02725"></a><span class="lineno"> 2725</span>&#160;</div>
<div class="line"><a name="l02726"></a><span class="lineno"> 2726</span>&#160;              result.push_back(<a class="code" href="../../d7/de3/classSBMLIncompatibility.html">SBMLIncompatibility</a>(2, os.str().substr(0, os.str().size() - 2).c_str()));</div>
<div class="line"><a name="l02727"></a><span class="lineno"> 2727</span>&#160;            }</div>
<div class="line"><a name="l02728"></a><span class="lineno"> 2728</span>&#160;        }</div>
<div class="line"><a name="l02729"></a><span class="lineno"> 2729</span>&#160;    }</div>
<div class="line"><a name="l02730"></a><span class="lineno"> 2730</span>&#160;}</div>
<div class="ttc" id="classCCopasiDataModel_html_a2e65952e0caf0b2709d381cf949fec69"><div class="ttname"><a href="../../d4/d18/classCCopasiDataModel.html#a2e65952e0caf0b2709d381cf949fec69">CCopasiDataModel::getModel</a></div><div class="ttdeci">CModel * getModel()</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d38/CCopasiDataModel_8cpp_source.html#l01407">CCopasiDataModel.cpp:1407</a></div></div>
<div class="ttc" id="classCModel_html_a73a8a52c2190b1aae2f1427e4e9eb0e1"><div class="ttname"><a href="../../d4/d04/classCModel.html#a73a8a52c2190b1aae2f1427e4e9eb0e1">CModel::getMetabolites</a></div><div class="ttdeci">const CCopasiVector&lt; CMetab &gt; &amp; getMetabolites() const </div><div class="ttdef"><b>Definition:</b> <a href="../../df/d08/CModel_8cpp_source.html#l01051">CModel.cpp:1051</a></div></div>
<div class="ttc" id="classCCopasiVector_html_acb26711fe72be0d2cb3a37c2fbcc031f"><div class="ttname"><a href="../../d8/d2c/classCCopasiVector.html#acb26711fe72be0d2cb3a37c2fbcc031f">CCopasiVector::begin</a></div><div class="ttdeci">iterator begin()</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d51/CCopasiVector_8h_source.html#l00185">CCopasiVector.h:185</a></div></div>
<div class="ttc" id="classSBMLIncompatibility_html"><div class="ttname"><a href="../../d7/de3/classSBMLIncompatibility.html">SBMLIncompatibility</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d95/SBMLIncompatibility_8h_source.html#l00024">SBMLIncompatibility.h:24</a></div></div>
<div class="ttc" id="classCCopasiMessage_html_a2ea1ed32494ff5c8d84353efcec7a5e4a568f885d73f0ea36bedfe92f6e533071"><div class="ttname"><a href="../../d2/df0/classCCopasiMessage.html#a2ea1ed32494ff5c8d84353efcec7a5e4a568f885d73f0ea36bedfe92f6e533071">CCopasiMessage::EXCEPTION</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d2d/CCopasiMessage_8h_source.html#l00093">CCopasiMessage.h:93</a></div></div>
<div class="ttc" id="CCopasiMessage_8h_html_a7f5ce9c8d3812b45cb6f33595fba5789"><div class="ttname"><a href="../../d9/d2d/CCopasiMessage_8h.html#a7f5ce9c8d3812b45cb6f33595fba5789">MCSBML</a></div><div class="ttdeci">#define MCSBML</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d2d/CCopasiMessage_8h_source.html#l00046">CCopasiMessage.h:46</a></div></div>
<div class="ttc" id="classCCopasiVector_html_a44c97a5f614c885495c437f2a8d20954"><div class="ttname"><a href="../../d8/d2c/classCCopasiVector.html#a44c97a5f614c885495c437f2a8d20954">CCopasiVector::end</a></div><div class="ttdeci">iterator end()</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d51/CCopasiVector_8h_source.html#l00191">CCopasiVector.h:191</a></div></div>
<div class="ttc" id="classSBMLImporter_html_a2511a51a2a17ac94c63dcf719f18f779"><div class="ttname"><a href="../../d7/d6d/classSBMLImporter.html#a2511a51a2a17ac94c63dcf719f18f779">SBMLImporter::getSBMLUnitDefinitionForId</a></div><div class="ttdeci">static UnitDefinition * getSBMLUnitDefinitionForId(const std::string &amp;unitId, const Model *pSBMLModel)</div><div class="ttdef"><b>Definition:</b> <a href="../../df/dfd/SBMLImporter_8cpp_source.html#l08400">SBMLImporter.cpp:8400</a></div></div>
<div class="ttc" id="classCCopasiMessage_html"><div class="ttname"><a href="../../d2/df0/classCCopasiMessage.html">CCopasiMessage</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d2d/CCopasiMessage_8h_source.html#l00078">CCopasiMessage.h:78</a></div></div>
<div class="ttc" id="classCCopasiDataModel_html"><div class="ttname"><a href="../../d4/d18/classCCopasiDataModel.html">CCopasiDataModel</a></div><div class="ttdef"><b>Definition:</b> <a href="../../dd/df7/CCopasiDataModel_8h_source.html#l00078">CCopasiDataModel.h:78</a></div></div>
<div class="ttc" id="classCModel_html"><div class="ttname"><a href="../../d4/d04/classCModel.html">CModel</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d90/CModel_8h_source.html#l00050">CModel.h:50</a></div></div>
<div class="ttc" id="classSBMLImporter_html_a61d10c15681b398f297bee71eaa75dbe"><div class="ttname"><a href="../../d7/d6d/classSBMLImporter.html#a61d10c15681b398f297bee71eaa75dbe">SBMLImporter::areSBMLUnitDefinitionsIdentical</a></div><div class="ttdeci">static bool areSBMLUnitDefinitionsIdentical(const UnitDefinition *pUdef1, const UnitDefinition *pUdef2)</div><div class="ttdef"><b>Definition:</b> <a href="../../df/dfd/SBMLImporter_8cpp_source.html#l08297">SBMLImporter.cpp:8297</a></div></div>
<div class="ttc" id="classCCopasiVector_html"><div class="ttname"><a href="../../d8/d2c/classCCopasiVector.html">CCopasiVector</a></div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d60/compare__utilities_8h_source.html#l00034">compare_utilities.h:34</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a2ff9071e1a2ac3039de6b4311c40e336"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d3/d05/CChemEqParser__yacc_8cpp.html#aa76fec002b4ba91adc88f68d56ba730c">void</a> CSBMLExporter::checkForEvents </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="../../d4/d18/classCCopasiDataModel.html">CCopasiDataModel</a> &amp;&#160;</td>
          <td class="paramname"><em>dataModel</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::vector&lt; <a class="el" href="../../d7/de3/classSBMLIncompatibility.html">SBMLIncompatibility</a> &gt; &amp;&#160;</td>
          <td class="paramname"><em>result</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Checks if the given datamodel contains events. This is called if SBML Level 1 is to be exported. </p>

<p>Definition at line <a class="el" href="../../d5/d2f/CSBMLExporter_8cpp_source.html#l04552">4552</a> of file <a class="el" href="../../d5/d2f/CSBMLExporter_8cpp_source.html">CSBMLExporter.cpp</a>.</p>

<p>References <a class="el" href="../../d4/d04/classCModel.html#ad55cc48064428d703cee3e69b71e4703">CModel::getEvents()</a>, <a class="el" href="../../d4/d18/classCCopasiDataModel.html#a2e65952e0caf0b2709d381cf949fec69">CCopasiDataModel::getModel()</a>, and <a class="el" href="../../d8/d2c/classCCopasiVector.html#ab7e0e37022783eddfe85abf9339b05c0">CCopasiVector&lt; T &gt;::size()</a>.</p>

<p>Referenced by <a class="el" href="../../df/d80/classCSBMLExporter.html#a5b27af3781d1e84d2235d0cb135a6963">createEvents()</a>, and <a class="el" href="../../df/d80/classCSBMLExporter.html#a72f143a792d030152e5721903727c06c">isModelSBMLL1Compatible()</a>.</p>
<div class="fragment"><div class="line"><a name="l04553"></a><span class="lineno"> 4553</span>&#160;{</div>
<div class="line"><a name="l04554"></a><span class="lineno"> 4554</span>&#160;  <span class="keywordflow">if</span> (dataModel.<a class="code" href="../../d4/d18/classCCopasiDataModel.html#a2e65952e0caf0b2709d381cf949fec69">getModel</a>() != NULL &amp;&amp; dataModel.<a class="code" href="../../d4/d18/classCCopasiDataModel.html#a2e65952e0caf0b2709d381cf949fec69">getModel</a>()-&gt;<a class="code" href="../../d4/d04/classCModel.html#ad55cc48064428d703cee3e69b71e4703">getEvents</a>().<a class="code" href="../../d8/d2c/classCCopasiVector.html#ab7e0e37022783eddfe85abf9339b05c0">size</a>() &gt; 0)</div>
<div class="line"><a name="l04555"></a><span class="lineno"> 4555</span>&#160;    {</div>
<div class="line"><a name="l04556"></a><span class="lineno"> 4556</span>&#160;      result.push_back(<a class="code" href="../../d7/de3/classSBMLIncompatibility.html">SBMLIncompatibility</a>(7));</div>
<div class="line"><a name="l04557"></a><span class="lineno"> 4557</span>&#160;    }</div>
<div class="line"><a name="l04558"></a><span class="lineno"> 4558</span>&#160;}</div>
<div class="ttc" id="classCModel_html_ad55cc48064428d703cee3e69b71e4703"><div class="ttname"><a href="../../d4/d04/classCModel.html#ad55cc48064428d703cee3e69b71e4703">CModel::getEvents</a></div><div class="ttdeci">CCopasiVectorN&lt; CEvent &gt; &amp; getEvents()</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d08/CModel_8cpp_source.html#l01110">CModel.cpp:1110</a></div></div>
<div class="ttc" id="classCCopasiDataModel_html_a2e65952e0caf0b2709d381cf949fec69"><div class="ttname"><a href="../../d4/d18/classCCopasiDataModel.html#a2e65952e0caf0b2709d381cf949fec69">CCopasiDataModel::getModel</a></div><div class="ttdeci">CModel * getModel()</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d38/CCopasiDataModel_8cpp_source.html#l01407">CCopasiDataModel.cpp:1407</a></div></div>
<div class="ttc" id="classCCopasiVector_html_ab7e0e37022783eddfe85abf9339b05c0"><div class="ttname"><a href="../../d8/d2c/classCCopasiVector.html#ab7e0e37022783eddfe85abf9339b05c0">CCopasiVector::size</a></div><div class="ttdeci">virtual size_t size() const </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d51/CCopasiVector_8h_source.html#l00386">CCopasiVector.h:386</a></div></div>
<div class="ttc" id="classSBMLIncompatibility_html"><div class="ttname"><a href="../../d7/de3/classSBMLIncompatibility.html">SBMLIncompatibility</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d95/SBMLIncompatibility_8h_source.html#l00024">SBMLIncompatibility.h:24</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a773138e50be3ecf6cd3e42d002d553e4"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d3/d05/CChemEqParser__yacc_8cpp.html#aa76fec002b4ba91adc88f68d56ba730c">void</a> CSBMLExporter::checkForInitialAssignments </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="../../d4/d18/classCCopasiDataModel.html">CCopasiDataModel</a> &amp;&#160;</td>
          <td class="paramname"><em>dataModel</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::vector&lt; <a class="el" href="../../d7/de3/classSBMLIncompatibility.html">SBMLIncompatibility</a> &gt; &amp;&#160;</td>
          <td class="paramname"><em>result</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>This method checks wether the given model contains any initial assignments.</p>
<p>This method checks whether the given model contains any initial assignments. </p>

<p>Definition at line <a class="el" href="../../d5/d2f/CSBMLExporter_8cpp_source.html#l02887">2887</a> of file <a class="el" href="../../d5/d2f/CSBMLExporter_8cpp_source.html">CSBMLExporter.cpp</a>.</p>

<p>References <a class="el" href="../../d8/d2c/classCCopasiVector.html#acb26711fe72be0d2cb3a37c2fbcc031f">CCopasiVector&lt; T &gt;::begin()</a>, <a class="el" href="../../d8/d2c/classCCopasiVector.html#a44c97a5f614c885495c437f2a8d20954">CCopasiVector&lt; T &gt;::end()</a>, <a class="el" href="../../d4/d04/classCModel.html#a7d405db8dc8120b942aa0ec1e80db399">CModel::getCompartments()</a>, <a class="el" href="../../d4/d04/classCModel.html#a73a8a52c2190b1aae2f1427e4e9eb0e1">CModel::getMetabolites()</a>, <a class="el" href="../../d4/d18/classCCopasiDataModel.html#a2e65952e0caf0b2709d381cf949fec69">CCopasiDataModel::getModel()</a>, and <a class="el" href="../../d4/d04/classCModel.html#ab3481ad574a3e1935a7617339970eab2">CModel::getModelValues()</a>.</p>

<p>Referenced by <a class="el" href="../../df/d80/classCSBMLExporter.html#a2b680d670c11c7c70a45bc12e236b2e8">createSBMLDocument()</a>, <a class="el" href="../../df/d80/classCSBMLExporter.html#a72f143a792d030152e5721903727c06c">isModelSBMLL1Compatible()</a>, and <a class="el" href="../../df/d80/classCSBMLExporter.html#aab8893bb42f3c23886a7a76282ae4c70">isModelSBMLL2V1Compatible()</a>.</p>
<div class="fragment"><div class="line"><a name="l02888"></a><span class="lineno"> 2888</span>&#160;{</div>
<div class="line"><a name="l02889"></a><span class="lineno"> 2889</span>&#160;  <span class="keyword">const</span> <a class="code" href="../../d4/d04/classCModel.html">CModel</a>* pModel = dataModel.<a class="code" href="../../d4/d18/classCCopasiDataModel.html#a2e65952e0caf0b2709d381cf949fec69">getModel</a>();</div>
<div class="line"><a name="l02890"></a><span class="lineno"> 2890</span>&#160;</div>
<div class="line"><a name="l02891"></a><span class="lineno"> 2891</span>&#160;  <span class="keywordflow">if</span> (pModel != NULL)</div>
<div class="line"><a name="l02892"></a><span class="lineno"> 2892</span>&#160;    {</div>
<div class="line"><a name="l02893"></a><span class="lineno"> 2893</span>&#160;      <span class="comment">// check for rules</span></div>
<div class="line"><a name="l02894"></a><span class="lineno"> 2894</span>&#160;      <span class="keyword">const</span> <a class="code" href="../../d9/db9/classCCopasiVectorNS.html">CCopasiVectorNS&lt;CCompartment&gt;</a>&amp; compartments = pModel-&gt;<a class="code" href="../../d4/d04/classCModel.html#a7d405db8dc8120b942aa0ec1e80db399">getCompartments</a>();</div>
<div class="line"><a name="l02895"></a><span class="lineno"> 2895</span>&#160;      <a class="code" href="../../d9/db9/classCCopasiVectorNS.html">CCopasiVectorNS&lt;CCompartment&gt;::const_iterator</a> compIt = compartments.<a class="code" href="../../d8/d2c/classCCopasiVector.html#acb26711fe72be0d2cb3a37c2fbcc031f">begin</a>(), compEndit = compartments.<a class="code" href="../../d8/d2c/classCCopasiVector.html#a44c97a5f614c885495c437f2a8d20954">end</a>();</div>
<div class="line"><a name="l02896"></a><span class="lineno"> 2896</span>&#160;</div>
<div class="line"><a name="l02897"></a><span class="lineno"> 2897</span>&#160;      <span class="keywordflow">while</span> (compIt != compEndit)</div>
<div class="line"><a name="l02898"></a><span class="lineno"> 2898</span>&#160;        {</div>
<div class="line"><a name="l02899"></a><span class="lineno"> 2899</span>&#160;          <span class="keywordflow">if</span> ((*compIt)-&gt;getInitialExpression() != <span class="stringliteral">&quot;&quot;</span>)</div>
<div class="line"><a name="l02900"></a><span class="lineno"> 2900</span>&#160;            {</div>
<div class="line"><a name="l02901"></a><span class="lineno"> 2901</span>&#160;              result.push_back(<a class="code" href="../../d7/de3/classSBMLIncompatibility.html">SBMLIncompatibility</a>(5, <span class="stringliteral">&quot;Compartment&quot;</span>, (*compIt)-&gt;getObjectName().c_str()));</div>
<div class="line"><a name="l02902"></a><span class="lineno"> 2902</span>&#160;            }</div>
<div class="line"><a name="l02903"></a><span class="lineno"> 2903</span>&#160;</div>
<div class="line"><a name="l02904"></a><span class="lineno"> 2904</span>&#160;          ++compIt;</div>
<div class="line"><a name="l02905"></a><span class="lineno"> 2905</span>&#160;        }</div>
<div class="line"><a name="l02906"></a><span class="lineno"> 2906</span>&#160;</div>
<div class="line"><a name="l02907"></a><span class="lineno"> 2907</span>&#160;      <span class="keyword">const</span> <a class="code" href="../../d8/d2c/classCCopasiVector.html">CCopasiVector&lt;CMetab&gt;</a>&amp; metabs = pModel-&gt;<a class="code" href="../../d4/d04/classCModel.html#a73a8a52c2190b1aae2f1427e4e9eb0e1">getMetabolites</a>();</div>
<div class="line"><a name="l02908"></a><span class="lineno"> 2908</span>&#160;</div>
<div class="line"><a name="l02909"></a><span class="lineno"> 2909</span>&#160;      <a class="code" href="../../d8/d2c/classCCopasiVector.html">CCopasiVector&lt;CMetab&gt;::const_iterator</a> metabIt = metabs.<a class="code" href="../../d8/d2c/classCCopasiVector.html#acb26711fe72be0d2cb3a37c2fbcc031f">begin</a>(), metabEndit = metabs.<a class="code" href="../../d8/d2c/classCCopasiVector.html#a44c97a5f614c885495c437f2a8d20954">end</a>();</div>
<div class="line"><a name="l02910"></a><span class="lineno"> 2910</span>&#160;</div>
<div class="line"><a name="l02911"></a><span class="lineno"> 2911</span>&#160;      <span class="keywordflow">while</span> (metabIt != metabEndit)</div>
<div class="line"><a name="l02912"></a><span class="lineno"> 2912</span>&#160;        {</div>
<div class="line"><a name="l02913"></a><span class="lineno"> 2913</span>&#160;          <span class="keywordflow">if</span> ((*metabIt)-&gt;getInitialExpression() != <span class="stringliteral">&quot;&quot;</span>)</div>
<div class="line"><a name="l02914"></a><span class="lineno"> 2914</span>&#160;            {</div>
<div class="line"><a name="l02915"></a><span class="lineno"> 2915</span>&#160;              result.push_back(<a class="code" href="../../d7/de3/classSBMLIncompatibility.html">SBMLIncompatibility</a>(5, <span class="stringliteral">&quot;Metabolite&quot;</span>, (*metabIt)-&gt;getObjectName().c_str()));</div>
<div class="line"><a name="l02916"></a><span class="lineno"> 2916</span>&#160;            }</div>
<div class="line"><a name="l02917"></a><span class="lineno"> 2917</span>&#160;</div>
<div class="line"><a name="l02918"></a><span class="lineno"> 2918</span>&#160;          ++metabIt;</div>
<div class="line"><a name="l02919"></a><span class="lineno"> 2919</span>&#160;        }</div>
<div class="line"><a name="l02920"></a><span class="lineno"> 2920</span>&#160;</div>
<div class="line"><a name="l02921"></a><span class="lineno"> 2921</span>&#160;      <span class="keyword">const</span> <a class="code" href="../../d7/d08/classCCopasiVectorN.html">CCopasiVectorN&lt;CModelValue&gt;</a>&amp; parameters = pModel-&gt;<a class="code" href="../../d4/d04/classCModel.html#ab3481ad574a3e1935a7617339970eab2">getModelValues</a>();</div>
<div class="line"><a name="l02922"></a><span class="lineno"> 2922</span>&#160;</div>
<div class="line"><a name="l02923"></a><span class="lineno"> 2923</span>&#160;      <a class="code" href="../../d7/d08/classCCopasiVectorN.html">CCopasiVectorN&lt;CModelValue&gt;::const_iterator</a> mvIt = parameters.<a class="code" href="../../d8/d2c/classCCopasiVector.html#acb26711fe72be0d2cb3a37c2fbcc031f">begin</a>(), mvEndit = parameters.<a class="code" href="../../d8/d2c/classCCopasiVector.html#a44c97a5f614c885495c437f2a8d20954">end</a>();</div>
<div class="line"><a name="l02924"></a><span class="lineno"> 2924</span>&#160;</div>
<div class="line"><a name="l02925"></a><span class="lineno"> 2925</span>&#160;      <span class="keywordflow">while</span> (mvIt != mvEndit)</div>
<div class="line"><a name="l02926"></a><span class="lineno"> 2926</span>&#160;        {</div>
<div class="line"><a name="l02927"></a><span class="lineno"> 2927</span>&#160;          <span class="keywordflow">if</span> ((*mvIt)-&gt;getInitialExpression() != <span class="stringliteral">&quot;&quot;</span>)</div>
<div class="line"><a name="l02928"></a><span class="lineno"> 2928</span>&#160;            {</div>
<div class="line"><a name="l02929"></a><span class="lineno"> 2929</span>&#160;              result.push_back(<a class="code" href="../../d7/de3/classSBMLIncompatibility.html">SBMLIncompatibility</a>(5, <span class="stringliteral">&quot;Parameter&quot;</span>, (*mvIt)-&gt;getObjectName().c_str()));</div>
<div class="line"><a name="l02930"></a><span class="lineno"> 2930</span>&#160;            }</div>
<div class="line"><a name="l02931"></a><span class="lineno"> 2931</span>&#160;</div>
<div class="line"><a name="l02932"></a><span class="lineno"> 2932</span>&#160;          ++mvIt;</div>
<div class="line"><a name="l02933"></a><span class="lineno"> 2933</span>&#160;        }</div>
<div class="line"><a name="l02934"></a><span class="lineno"> 2934</span>&#160;    }</div>
<div class="line"><a name="l02935"></a><span class="lineno"> 2935</span>&#160;}</div>
<div class="ttc" id="classCCopasiVectorN_html"><div class="ttname"><a href="../../d7/d08/classCCopasiVectorN.html">CCopasiVectorN&lt; CModelValue &gt;</a></div></div>
<div class="ttc" id="classCCopasiDataModel_html_a2e65952e0caf0b2709d381cf949fec69"><div class="ttname"><a href="../../d4/d18/classCCopasiDataModel.html#a2e65952e0caf0b2709d381cf949fec69">CCopasiDataModel::getModel</a></div><div class="ttdeci">CModel * getModel()</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d38/CCopasiDataModel_8cpp_source.html#l01407">CCopasiDataModel.cpp:1407</a></div></div>
<div class="ttc" id="classCModel_html_a73a8a52c2190b1aae2f1427e4e9eb0e1"><div class="ttname"><a href="../../d4/d04/classCModel.html#a73a8a52c2190b1aae2f1427e4e9eb0e1">CModel::getMetabolites</a></div><div class="ttdeci">const CCopasiVector&lt; CMetab &gt; &amp; getMetabolites() const </div><div class="ttdef"><b>Definition:</b> <a href="../../df/d08/CModel_8cpp_source.html#l01051">CModel.cpp:1051</a></div></div>
<div class="ttc" id="classCModel_html_ab3481ad574a3e1935a7617339970eab2"><div class="ttname"><a href="../../d4/d04/classCModel.html#ab3481ad574a3e1935a7617339970eab2">CModel::getModelValues</a></div><div class="ttdeci">const CCopasiVectorN&lt; CModelValue &gt; &amp; getModelValues() const </div><div class="ttdef"><b>Definition:</b> <a href="../../df/d08/CModel_8cpp_source.html#l01060">CModel.cpp:1060</a></div></div>
<div class="ttc" id="classCCopasiVector_html_acb26711fe72be0d2cb3a37c2fbcc031f"><div class="ttname"><a href="../../d8/d2c/classCCopasiVector.html#acb26711fe72be0d2cb3a37c2fbcc031f">CCopasiVector::begin</a></div><div class="ttdeci">iterator begin()</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d51/CCopasiVector_8h_source.html#l00185">CCopasiVector.h:185</a></div></div>
<div class="ttc" id="classSBMLIncompatibility_html"><div class="ttname"><a href="../../d7/de3/classSBMLIncompatibility.html">SBMLIncompatibility</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d95/SBMLIncompatibility_8h_source.html#l00024">SBMLIncompatibility.h:24</a></div></div>
<div class="ttc" id="classCCopasiVectorNS_html"><div class="ttname"><a href="../../d9/db9/classCCopasiVectorNS.html">CCopasiVectorNS&lt; CCompartment &gt;</a></div></div>
<div class="ttc" id="classCCopasiVector_html_a44c97a5f614c885495c437f2a8d20954"><div class="ttname"><a href="../../d8/d2c/classCCopasiVector.html#a44c97a5f614c885495c437f2a8d20954">CCopasiVector::end</a></div><div class="ttdeci">iterator end()</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d51/CCopasiVector_8h_source.html#l00191">CCopasiVector.h:191</a></div></div>
<div class="ttc" id="classCModel_html_a7d405db8dc8120b942aa0ec1e80db399"><div class="ttname"><a href="../../d4/d04/classCModel.html#a7d405db8dc8120b942aa0ec1e80db399">CModel::getCompartments</a></div><div class="ttdeci">CCopasiVectorNS&lt; CCompartment &gt; &amp; getCompartments()</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d08/CModel_8cpp_source.html#l01145">CModel.cpp:1145</a></div></div>
<div class="ttc" id="classCModel_html"><div class="ttname"><a href="../../d4/d04/classCModel.html">CModel</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d90/CModel_8h_source.html#l00050">CModel.h:50</a></div></div>
<div class="ttc" id="classCCopasiVector_html"><div class="ttname"><a href="../../d8/d2c/classCCopasiVector.html">CCopasiVector&lt; CMetab &gt;</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a67c34d6bd969cc569131d34677fc8247"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d3/d05/CChemEqParser__yacc_8cpp.html#aa76fec002b4ba91adc88f68d56ba730c">void</a> CSBMLExporter::checkForODESpeciesInNonfixedCompartment </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="../../d4/d18/classCCopasiDataModel.html">CCopasiDataModel</a> &amp;&#160;</td>
          <td class="paramname"><em>dataModel</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::vector&lt; <a class="el" href="../../d7/de3/classSBMLIncompatibility.html">SBMLIncompatibility</a> &gt;&#160;</td>
          <td class="paramname"><em>result</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Checks wether the model contains a metabolite that is defined by an ODE expression and that is located in a variable volume. Since COPASI interprets the expression differntly from SBML, we can not correctly export this yet. See Bug 903.</p>
<p>Checks whether the model contains a metabolite that is defined by an ODE expression and that is located in a variable volume. Since COPASI interprets the expression differently from SBML, we can not correctly export this yet. See Bug 903. </p>

<p>Definition at line <a class="el" href="../../d5/d2f/CSBMLExporter_8cpp_source.html#l02738">2738</a> of file <a class="el" href="../../d5/d2f/CSBMLExporter_8cpp_source.html">CSBMLExporter.cpp</a>.</p>

<p>References <a class="el" href="../../d8/d2c/classCCopasiVector.html#acb26711fe72be0d2cb3a37c2fbcc031f">CCopasiVector&lt; T &gt;::begin()</a>, <a class="el" href="../../d8/d2c/classCCopasiVector.html#a44c97a5f614c885495c437f2a8d20954">CCopasiVector&lt; T &gt;::end()</a>, <a class="el" href="../../d0/da0/classCModelEntity.html#a86cb8e66e255d66db258324064efc78aa8751c35af95ea9346908d9835a1b0570">CModelEntity::FIXED</a>, <a class="el" href="../../d4/d04/classCModel.html#a73a8a52c2190b1aae2f1427e4e9eb0e1">CModel::getMetabolites()</a>, <a class="el" href="../../d4/d18/classCCopasiDataModel.html#a2e65952e0caf0b2709d381cf949fec69">CCopasiDataModel::getModel()</a>, <a class="el" href="../../d4/da8/classCCopasiObject.html#a879d6756b51f6b58d307940e1343bd10">CCopasiObject::getObjectName()</a>, <a class="el" href="../../d0/da0/classCModelEntity.html#ad6bdcaa2e8887271f61fc363262cc9ed">CModelEntity::getStatus()</a>, and <a class="el" href="../../d0/da0/classCModelEntity.html#a86cb8e66e255d66db258324064efc78aa3c62c1c3a449e106a5f1eb2f4ff01ec3">CModelEntity::ODE</a>.</p>

<p>Referenced by <a class="el" href="../../df/d80/classCSBMLExporter.html#a740195f63c146c4b09170e29cb8977f6">isModelSBMLCompatible()</a>.</p>
<div class="fragment"><div class="line"><a name="l02739"></a><span class="lineno"> 2739</span>&#160;{</div>
<div class="line"><a name="l02740"></a><span class="lineno"> 2740</span>&#160;  <span class="keyword">const</span> <a class="code" href="../../d4/d04/classCModel.html">CModel</a>* pModel = dataModel.<a class="code" href="../../d4/d18/classCCopasiDataModel.html#a2e65952e0caf0b2709d381cf949fec69">getModel</a>();</div>
<div class="line"><a name="l02741"></a><span class="lineno"> 2741</span>&#160;  <span class="keyword">const</span> <a class="code" href="../../d8/d2c/classCCopasiVector.html">CCopasiVector&lt;CMetab&gt;</a>&amp; metabolites = pModel-&gt;<a class="code" href="../../d4/d04/classCModel.html#a73a8a52c2190b1aae2f1427e4e9eb0e1">getMetabolites</a>();</div>
<div class="line"><a name="l02742"></a><span class="lineno"> 2742</span>&#160;  <a class="code" href="../../d8/d2c/classCCopasiVector.html">CCopasiVector&lt;CMetab&gt;::const_iterator</a> it = metabolites.<a class="code" href="../../d8/d2c/classCCopasiVector.html#acb26711fe72be0d2cb3a37c2fbcc031f">begin</a>(), endit = metabolites.<a class="code" href="../../d8/d2c/classCCopasiVector.html#a44c97a5f614c885495c437f2a8d20954">end</a>();</div>
<div class="line"><a name="l02743"></a><span class="lineno"> 2743</span>&#160;</div>
<div class="line"><a name="l02744"></a><span class="lineno"> 2744</span>&#160;  <span class="keywordflow">while</span> (it != endit)</div>
<div class="line"><a name="l02745"></a><span class="lineno"> 2745</span>&#160;    {</div>
<div class="line"><a name="l02746"></a><span class="lineno"> 2746</span>&#160;      <span class="keywordflow">if</span> ((*it)-&gt;getStatus() == <a class="code" href="../../d0/da0/classCModelEntity.html#a86cb8e66e255d66db258324064efc78aa3c62c1c3a449e106a5f1eb2f4ff01ec3">CModelValue::ODE</a>)</div>
<div class="line"><a name="l02747"></a><span class="lineno"> 2747</span>&#160;        {</div>
<div class="line"><a name="l02748"></a><span class="lineno"> 2748</span>&#160;          <span class="keyword">const</span> <a class="code" href="../../d4/dd4/classCCompartment.html">CCompartment</a>* pCompartment = (*it)-&gt;getCompartment();</div>
<div class="line"><a name="l02749"></a><span class="lineno"> 2749</span>&#160;          assert(pCompartment != NULL);</div>
<div class="line"><a name="l02750"></a><span class="lineno"> 2750</span>&#160;</div>
<div class="line"><a name="l02751"></a><span class="lineno"> 2751</span>&#160;          <span class="keywordflow">if</span> (pCompartment-&gt;<a class="code" href="../../d0/da0/classCModelEntity.html#ad6bdcaa2e8887271f61fc363262cc9ed">getStatus</a>() != <a class="code" href="../../d0/da0/classCModelEntity.html#a86cb8e66e255d66db258324064efc78aa8751c35af95ea9346908d9835a1b0570">CModelValue::FIXED</a>)</div>
<div class="line"><a name="l02752"></a><span class="lineno"> 2752</span>&#160;            {</div>
<div class="line"><a name="l02753"></a><span class="lineno"> 2753</span>&#160;              result.push_back(<a class="code" href="../../d7/de3/classSBMLIncompatibility.html">SBMLIncompatibility</a>(3, (*it)-&gt;getObjectName().c_str(), pCompartment-&gt;<a class="code" href="../../d4/da8/classCCopasiObject.html#a879d6756b51f6b58d307940e1343bd10">getObjectName</a>().c_str()));</div>
<div class="line"><a name="l02754"></a><span class="lineno"> 2754</span>&#160;            }</div>
<div class="line"><a name="l02755"></a><span class="lineno"> 2755</span>&#160;        }</div>
<div class="line"><a name="l02756"></a><span class="lineno"> 2756</span>&#160;</div>
<div class="line"><a name="l02757"></a><span class="lineno"> 2757</span>&#160;      ++it;</div>
<div class="line"><a name="l02758"></a><span class="lineno"> 2758</span>&#160;    }</div>
<div class="line"><a name="l02759"></a><span class="lineno"> 2759</span>&#160;}</div>
<div class="ttc" id="classCCopasiDataModel_html_a2e65952e0caf0b2709d381cf949fec69"><div class="ttname"><a href="../../d4/d18/classCCopasiDataModel.html#a2e65952e0caf0b2709d381cf949fec69">CCopasiDataModel::getModel</a></div><div class="ttdeci">CModel * getModel()</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d38/CCopasiDataModel_8cpp_source.html#l01407">CCopasiDataModel.cpp:1407</a></div></div>
<div class="ttc" id="classCModel_html_a73a8a52c2190b1aae2f1427e4e9eb0e1"><div class="ttname"><a href="../../d4/d04/classCModel.html#a73a8a52c2190b1aae2f1427e4e9eb0e1">CModel::getMetabolites</a></div><div class="ttdeci">const CCopasiVector&lt; CMetab &gt; &amp; getMetabolites() const </div><div class="ttdef"><b>Definition:</b> <a href="../../df/d08/CModel_8cpp_source.html#l01051">CModel.cpp:1051</a></div></div>
<div class="ttc" id="classCCopasiObject_html_a879d6756b51f6b58d307940e1343bd10"><div class="ttname"><a href="../../d4/da8/classCCopasiObject.html#a879d6756b51f6b58d307940e1343bd10">CCopasiObject::getObjectName</a></div><div class="ttdeci">const std::string &amp; getObjectName() const </div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d22/CCopasiObject_8cpp_source.html#l00258">CCopasiObject.cpp:258</a></div></div>
<div class="ttc" id="classCCopasiVector_html_acb26711fe72be0d2cb3a37c2fbcc031f"><div class="ttname"><a href="../../d8/d2c/classCCopasiVector.html#acb26711fe72be0d2cb3a37c2fbcc031f">CCopasiVector::begin</a></div><div class="ttdeci">iterator begin()</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d51/CCopasiVector_8h_source.html#l00185">CCopasiVector.h:185</a></div></div>
<div class="ttc" id="classSBMLIncompatibility_html"><div class="ttname"><a href="../../d7/de3/classSBMLIncompatibility.html">SBMLIncompatibility</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d95/SBMLIncompatibility_8h_source.html#l00024">SBMLIncompatibility.h:24</a></div></div>
<div class="ttc" id="classCCopasiVector_html_a44c97a5f614c885495c437f2a8d20954"><div class="ttname"><a href="../../d8/d2c/classCCopasiVector.html#a44c97a5f614c885495c437f2a8d20954">CCopasiVector::end</a></div><div class="ttdeci">iterator end()</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d51/CCopasiVector_8h_source.html#l00191">CCopasiVector.h:191</a></div></div>
<div class="ttc" id="classCModelEntity_html_a86cb8e66e255d66db258324064efc78aa8751c35af95ea9346908d9835a1b0570"><div class="ttname"><a href="../../d0/da0/classCModelEntity.html#a86cb8e66e255d66db258324064efc78aa8751c35af95ea9346908d9835a1b0570">CModelEntity::FIXED</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d1/da3/CModelValue_8h_source.html#l00055">CModelValue.h:55</a></div></div>
<div class="ttc" id="classCCompartment_html"><div class="ttname"><a href="../../d4/dd4/classCCompartment.html">CCompartment</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d59/CCompartment_8h_source.html#l00037">CCompartment.h:37</a></div></div>
<div class="ttc" id="classCModelEntity_html_a86cb8e66e255d66db258324064efc78aa3c62c1c3a449e106a5f1eb2f4ff01ec3"><div class="ttname"><a href="../../d0/da0/classCModelEntity.html#a86cb8e66e255d66db258324064efc78aa3c62c1c3a449e106a5f1eb2f4ff01ec3">CModelEntity::ODE</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d1/da3/CModelValue_8h_source.html#l00060">CModelValue.h:60</a></div></div>
<div class="ttc" id="classCModel_html"><div class="ttname"><a href="../../d4/d04/classCModel.html">CModel</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d90/CModel_8h_source.html#l00050">CModel.h:50</a></div></div>
<div class="ttc" id="classCModelEntity_html_ad6bdcaa2e8887271f61fc363262cc9ed"><div class="ttname"><a href="../../d0/da0/classCModelEntity.html#ad6bdcaa2e8887271f61fc363262cc9ed">CModelEntity::getStatus</a></div><div class="ttdeci">const CModelEntity::Status &amp; getStatus() const </div><div class="ttdef"><b>Definition:</b> <a href="../../d8/da3/CModelValue_8cpp_source.html#l00141">CModelValue.cpp:141</a></div></div>
<div class="ttc" id="classCCopasiVector_html"><div class="ttname"><a href="../../d8/d2c/classCCopasiVector.html">CCopasiVector&lt; CMetab &gt;</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="aeeac4e8650cfa507c42df9f0eae46474"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d3/d05/CChemEqParser__yacc_8cpp.html#aa76fec002b4ba91adc88f68d56ba730c">void</a> CSBMLExporter::checkForPiecewiseFunctions </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="../../d4/d18/classCCopasiDataModel.html">CCopasiDataModel</a> &amp;&#160;</td>
          <td class="paramname"><em>dataModel</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::vector&lt; <a class="el" href="../../d7/de3/classSBMLIncompatibility.html">SBMLIncompatibility</a> &gt; &amp;&#160;</td>
          <td class="paramname"><em>result</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Checks all expressions in the given datamodel for piecewise defined functions. </p>

<p>Definition at line <a class="el" href="../../d5/d2f/CSBMLExporter_8cpp_source.html#l05531">5531</a> of file <a class="el" href="../../d5/d2f/CSBMLExporter_8cpp_source.html">CSBMLExporter.cpp</a>.</p>

<p>References <a class="el" href="../../d0/da0/classCModelEntity.html#a86cb8e66e255d66db258324064efc78aa3bfd50e7d8e4dd09716a51e0ca62dedb">CModelEntity::ASSIGNMENT</a>, <a class="el" href="../../df/d80/classCSBMLExporter.html#a6dcd463b48c53c136e6c1af5b22251f2">createFunctionSetFromFunctionNames()</a>, <a class="el" href="../../df/d80/classCSBMLExporter.html#aa843eb9b5d1ae41d5dd2be78a864f2d5">findDirectlyUsedFunctions()</a>, <a class="el" href="../../df/d80/classCSBMLExporter.html#a6553f17e9fedbf662bb4512f15cf6216">findUsedFunctions()</a>, <a class="el" href="../../d4/d04/classCModel.html#a7d405db8dc8120b942aa0ec1e80db399">CModel::getCompartments()</a>, <a class="el" href="../../d0/da0/classCModelEntity.html#a766cc9fa2fed8206e22e022932a60eee">CModelEntity::getExpressionPtr()</a>, <a class="el" href="../../d4/dcf/classCReaction.html#a5028bbc1b79e8a72071c7222cfeef9a2">CReaction::getFunction()</a>, <a class="el" href="../../d3/db1/classCCopasiRootContainer.html#afd5e8541f181260daf7515b28f0612c3">CCopasiRootContainer::getFunctionList()</a>, <a class="el" href="../../d4/d04/classCModel.html#a73a8a52c2190b1aae2f1427e4e9eb0e1">CModel::getMetabolites()</a>, <a class="el" href="../../d4/d18/classCCopasiDataModel.html#a2e65952e0caf0b2709d381cf949fec69">CCopasiDataModel::getModel()</a>, <a class="el" href="../../d4/d04/classCModel.html#ab3481ad574a3e1935a7617339970eab2">CModel::getModelValues()</a>, <a class="el" href="../../d4/da8/classCCopasiObject.html#a879d6756b51f6b58d307940e1343bd10">CCopasiObject::getObjectName()</a>, <a class="el" href="../../d4/d04/classCModel.html#ad9a3dc1905f1f38f689f728b829f285d">CModel::getReactions()</a>, <a class="el" href="../../d1/d50/classCEvaluationTree.html#a542e592cb978819d30a6da627411ba91">CEvaluationTree::getRoot()</a>, <a class="el" href="../../d0/da0/classCModelEntity.html#ad6bdcaa2e8887271f61fc363262cc9ed">CModelEntity::getStatus()</a>, <a class="el" href="../../d0/da0/classCModelEntity.html#a86cb8e66e255d66db258324064efc78aa3c62c1c3a449e106a5f1eb2f4ff01ec3">CModelEntity::ODE</a>, and <a class="el" href="../../d8/d2c/classCCopasiVector.html#ab7e0e37022783eddfe85abf9339b05c0">CCopasiVector&lt; T &gt;::size()</a>.</p>

<p>Referenced by <a class="el" href="../../df/d80/classCSBMLExporter.html#adf29df487b81891bccdd0260b29dc0af">checkForPiecewiseFunctions()</a>, and <a class="el" href="../../df/d80/classCSBMLExporter.html#a72f143a792d030152e5721903727c06c">isModelSBMLL1Compatible()</a>.</p>
<div class="fragment"><div class="line"><a name="l05532"></a><span class="lineno"> 5532</span>&#160;{</div>
<div class="line"><a name="l05533"></a><span class="lineno"> 5533</span>&#160;  std::set&lt;std::string&gt; usedFunctionNames;</div>
<div class="line"><a name="l05534"></a><span class="lineno"> 5534</span>&#160;  <span class="keyword">const</span> <a class="code" href="../../d4/d04/classCModel.html">CModel</a>* pModel = dataModel.<a class="code" href="../../d4/d18/classCCopasiDataModel.html#a2e65952e0caf0b2709d381cf949fec69">getModel</a>();</div>
<div class="line"><a name="l05535"></a><span class="lineno"> 5535</span>&#160;</div>
<div class="line"><a name="l05536"></a><span class="lineno"> 5536</span>&#160;  <span class="keywordflow">if</span> (pModel == NULL) <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l05537"></a><span class="lineno"> 5537</span>&#160;</div>
<div class="line"><a name="l05538"></a><span class="lineno"> 5538</span>&#160;  <span class="comment">// go through all model entities and check assignments</span></div>
<div class="line"><a name="l05539"></a><span class="lineno"> 5539</span>&#160;  <span class="comment">// we don&#39;t have to check initial assignment since those can not be exported</span></div>
<div class="line"><a name="l05540"></a><span class="lineno"> 5540</span>&#160;  <span class="comment">// anyway</span></div>
<div class="line"><a name="l05541"></a><span class="lineno"> 5541</span>&#160;  <span class="keyword">const</span> <a class="code" href="../../d0/da0/classCModelEntity.html">CModelEntity</a>* pME = NULL;</div>
<div class="line"><a name="l05542"></a><span class="lineno"> 5542</span>&#160;  <span class="keyword">const</span> <a class="code" href="../../d9/db9/classCCopasiVectorNS.html">CCopasiVectorNS&lt;CCompartment&gt;</a>&amp; compartments = pModel-&gt;<a class="code" href="../../d4/d04/classCModel.html#a7d405db8dc8120b942aa0ec1e80db399">getCompartments</a>();</div>
<div class="line"><a name="l05543"></a><span class="lineno"> 5543</span>&#160;  <span class="keywordtype">size_t</span> i, iMax = compartments.<a class="code" href="../../d8/d2c/classCCopasiVector.html#ab7e0e37022783eddfe85abf9339b05c0">size</a>();</div>
<div class="line"><a name="l05544"></a><span class="lineno"> 5544</span>&#160;</div>
<div class="line"><a name="l05545"></a><span class="lineno"> 5545</span>&#160;  <span class="keywordflow">for</span> (i = 0; i &lt; iMax; ++i)</div>
<div class="line"><a name="l05546"></a><span class="lineno"> 5546</span>&#160;    {</div>
<div class="line"><a name="l05547"></a><span class="lineno"> 5547</span>&#160;      pME = compartments[i];</div>
<div class="line"><a name="l05548"></a><span class="lineno"> 5548</span>&#160;</div>
<div class="line"><a name="l05549"></a><span class="lineno"> 5549</span>&#160;      <span class="keywordflow">if</span> (pME-&gt;<a class="code" href="../../d0/da0/classCModelEntity.html#ad6bdcaa2e8887271f61fc363262cc9ed">getStatus</a>() == <a class="code" href="../../d0/da0/classCModelEntity.html#a86cb8e66e255d66db258324064efc78aa3c62c1c3a449e106a5f1eb2f4ff01ec3">CModelEntity::ODE</a> || pME-&gt;<a class="code" href="../../d0/da0/classCModelEntity.html#ad6bdcaa2e8887271f61fc363262cc9ed">getStatus</a>() == <a class="code" href="../../d0/da0/classCModelEntity.html#a86cb8e66e255d66db258324064efc78aa3bfd50e7d8e4dd09716a51e0ca62dedb">CModelEntity::ASSIGNMENT</a>)</div>
<div class="line"><a name="l05550"></a><span class="lineno"> 5550</span>&#160;        {</div>
<div class="line"><a name="l05551"></a><span class="lineno"> 5551</span>&#160;          <span class="keyword">const</span> <a class="code" href="../../d1/d50/classCEvaluationTree.html">CEvaluationTree</a>* pTree = pME-&gt;<a class="code" href="../../d0/da0/classCModelEntity.html#a766cc9fa2fed8206e22e022932a60eee">getExpressionPtr</a>();</div>
<div class="line"><a name="l05552"></a><span class="lineno"> 5552</span>&#160;          <a class="code" href="../../df/d80/classCSBMLExporter.html#aa843eb9b5d1ae41d5dd2be78a864f2d5">CSBMLExporter::findDirectlyUsedFunctions</a>(pTree-&gt;<a class="code" href="../../d1/d50/classCEvaluationTree.html#a542e592cb978819d30a6da627411ba91">getRoot</a>(), usedFunctionNames);</div>
<div class="line"><a name="l05553"></a><span class="lineno"> 5553</span>&#160;          <a class="code" href="../../df/d80/classCSBMLExporter.html#aeeac4e8650cfa507c42df9f0eae46474">CSBMLExporter::checkForPiecewiseFunctions</a>(*pTree-&gt;<a class="code" href="../../d1/d50/classCEvaluationTree.html#a542e592cb978819d30a6da627411ba91">getRoot</a>(), result, pME-&gt;<a class="code" href="../../d4/da8/classCCopasiObject.html#a879d6756b51f6b58d307940e1343bd10">getObjectName</a>(), <span class="stringliteral">&quot;rule for compartment&quot;</span>);</div>
<div class="line"><a name="l05554"></a><span class="lineno"> 5554</span>&#160;        }</div>
<div class="line"><a name="l05555"></a><span class="lineno"> 5555</span>&#160;    }</div>
<div class="line"><a name="l05556"></a><span class="lineno"> 5556</span>&#160;</div>
<div class="line"><a name="l05557"></a><span class="lineno"> 5557</span>&#160;  <span class="keyword">const</span> <a class="code" href="../../d8/d2c/classCCopasiVector.html">CCopasiVector&lt;CMetab&gt;</a>&amp; metabolites = pModel-&gt;<a class="code" href="../../d4/d04/classCModel.html#a73a8a52c2190b1aae2f1427e4e9eb0e1">getMetabolites</a>();</div>
<div class="line"><a name="l05558"></a><span class="lineno"> 5558</span>&#160;</div>
<div class="line"><a name="l05559"></a><span class="lineno"> 5559</span>&#160;  iMax = metabolites.<a class="code" href="../../d8/d2c/classCCopasiVector.html#ab7e0e37022783eddfe85abf9339b05c0">size</a>();</div>
<div class="line"><a name="l05560"></a><span class="lineno"> 5560</span>&#160;</div>
<div class="line"><a name="l05561"></a><span class="lineno"> 5561</span>&#160;  <span class="keywordflow">for</span> (i = 0; i &lt; iMax; ++i)</div>
<div class="line"><a name="l05562"></a><span class="lineno"> 5562</span>&#160;    {</div>
<div class="line"><a name="l05563"></a><span class="lineno"> 5563</span>&#160;      pME = metabolites[i];</div>
<div class="line"><a name="l05564"></a><span class="lineno"> 5564</span>&#160;</div>
<div class="line"><a name="l05565"></a><span class="lineno"> 5565</span>&#160;      <span class="keywordflow">if</span> (pME-&gt;<a class="code" href="../../d0/da0/classCModelEntity.html#ad6bdcaa2e8887271f61fc363262cc9ed">getStatus</a>() == <a class="code" href="../../d0/da0/classCModelEntity.html#a86cb8e66e255d66db258324064efc78aa3c62c1c3a449e106a5f1eb2f4ff01ec3">CModelEntity::ODE</a> || pME-&gt;<a class="code" href="../../d0/da0/classCModelEntity.html#ad6bdcaa2e8887271f61fc363262cc9ed">getStatus</a>() == <a class="code" href="../../d0/da0/classCModelEntity.html#a86cb8e66e255d66db258324064efc78aa3bfd50e7d8e4dd09716a51e0ca62dedb">CModelEntity::ASSIGNMENT</a>)</div>
<div class="line"><a name="l05566"></a><span class="lineno"> 5566</span>&#160;        {</div>
<div class="line"><a name="l05567"></a><span class="lineno"> 5567</span>&#160;          <span class="keyword">const</span> <a class="code" href="../../d1/d50/classCEvaluationTree.html">CEvaluationTree</a>* pTree = pME-&gt;<a class="code" href="../../d0/da0/classCModelEntity.html#a766cc9fa2fed8206e22e022932a60eee">getExpressionPtr</a>();</div>
<div class="line"><a name="l05568"></a><span class="lineno"> 5568</span>&#160;          <a class="code" href="../../df/d80/classCSBMLExporter.html#aa843eb9b5d1ae41d5dd2be78a864f2d5">CSBMLExporter::findDirectlyUsedFunctions</a>(pTree-&gt;<a class="code" href="../../d1/d50/classCEvaluationTree.html#a542e592cb978819d30a6da627411ba91">getRoot</a>(), usedFunctionNames);</div>
<div class="line"><a name="l05569"></a><span class="lineno"> 5569</span>&#160;          <a class="code" href="../../df/d80/classCSBMLExporter.html#aeeac4e8650cfa507c42df9f0eae46474">CSBMLExporter::checkForPiecewiseFunctions</a>(*pTree-&gt;<a class="code" href="../../d1/d50/classCEvaluationTree.html#a542e592cb978819d30a6da627411ba91">getRoot</a>(), result, pME-&gt;<a class="code" href="../../d4/da8/classCCopasiObject.html#a879d6756b51f6b58d307940e1343bd10">getObjectName</a>(), <span class="stringliteral">&quot;rule for metabolite&quot;</span>);</div>
<div class="line"><a name="l05570"></a><span class="lineno"> 5570</span>&#160;        }</div>
<div class="line"><a name="l05571"></a><span class="lineno"> 5571</span>&#160;    }</div>
<div class="line"><a name="l05572"></a><span class="lineno"> 5572</span>&#160;</div>
<div class="line"><a name="l05573"></a><span class="lineno"> 5573</span>&#160;  <span class="keyword">const</span> <a class="code" href="../../d7/d08/classCCopasiVectorN.html">CCopasiVectorN&lt;CModelValue&gt;</a>&amp; modelvalues = pModel-&gt;<a class="code" href="../../d4/d04/classCModel.html#ab3481ad574a3e1935a7617339970eab2">getModelValues</a>();</div>
<div class="line"><a name="l05574"></a><span class="lineno"> 5574</span>&#160;</div>
<div class="line"><a name="l05575"></a><span class="lineno"> 5575</span>&#160;  iMax = modelvalues.<a class="code" href="../../d8/d2c/classCCopasiVector.html#ab7e0e37022783eddfe85abf9339b05c0">size</a>();</div>
<div class="line"><a name="l05576"></a><span class="lineno"> 5576</span>&#160;</div>
<div class="line"><a name="l05577"></a><span class="lineno"> 5577</span>&#160;  <span class="keywordflow">for</span> (i = 0; i &lt; iMax; ++i)</div>
<div class="line"><a name="l05578"></a><span class="lineno"> 5578</span>&#160;    {</div>
<div class="line"><a name="l05579"></a><span class="lineno"> 5579</span>&#160;      pME = modelvalues[i];</div>
<div class="line"><a name="l05580"></a><span class="lineno"> 5580</span>&#160;</div>
<div class="line"><a name="l05581"></a><span class="lineno"> 5581</span>&#160;      <span class="keywordflow">if</span> (pME-&gt;<a class="code" href="../../d0/da0/classCModelEntity.html#ad6bdcaa2e8887271f61fc363262cc9ed">getStatus</a>() == <a class="code" href="../../d0/da0/classCModelEntity.html#a86cb8e66e255d66db258324064efc78aa3c62c1c3a449e106a5f1eb2f4ff01ec3">CModelEntity::ODE</a> || pME-&gt;<a class="code" href="../../d0/da0/classCModelEntity.html#ad6bdcaa2e8887271f61fc363262cc9ed">getStatus</a>() == <a class="code" href="../../d0/da0/classCModelEntity.html#a86cb8e66e255d66db258324064efc78aa3bfd50e7d8e4dd09716a51e0ca62dedb">CModelEntity::ASSIGNMENT</a>)</div>
<div class="line"><a name="l05582"></a><span class="lineno"> 5582</span>&#160;        {</div>
<div class="line"><a name="l05583"></a><span class="lineno"> 5583</span>&#160;          <span class="keyword">const</span> <a class="code" href="../../d1/d50/classCEvaluationTree.html">CEvaluationTree</a>* pTree = pME-&gt;<a class="code" href="../../d0/da0/classCModelEntity.html#a766cc9fa2fed8206e22e022932a60eee">getExpressionPtr</a>();</div>
<div class="line"><a name="l05584"></a><span class="lineno"> 5584</span>&#160;          <a class="code" href="../../df/d80/classCSBMLExporter.html#aa843eb9b5d1ae41d5dd2be78a864f2d5">CSBMLExporter::findDirectlyUsedFunctions</a>(pTree-&gt;<a class="code" href="../../d1/d50/classCEvaluationTree.html#a542e592cb978819d30a6da627411ba91">getRoot</a>(), usedFunctionNames);</div>
<div class="line"><a name="l05585"></a><span class="lineno"> 5585</span>&#160;          <a class="code" href="../../df/d80/classCSBMLExporter.html#aeeac4e8650cfa507c42df9f0eae46474">CSBMLExporter::checkForPiecewiseFunctions</a>(*pTree-&gt;<a class="code" href="../../d1/d50/classCEvaluationTree.html#a542e592cb978819d30a6da627411ba91">getRoot</a>(), result, pME-&gt;<a class="code" href="../../d4/da8/classCCopasiObject.html#a879d6756b51f6b58d307940e1343bd10">getObjectName</a>(), <span class="stringliteral">&quot;rule for global parameter&quot;</span>);</div>
<div class="line"><a name="l05586"></a><span class="lineno"> 5586</span>&#160;        }</div>
<div class="line"><a name="l05587"></a><span class="lineno"> 5587</span>&#160;    }</div>
<div class="line"><a name="l05588"></a><span class="lineno"> 5588</span>&#160;</div>
<div class="line"><a name="l05589"></a><span class="lineno"> 5589</span>&#160;  <span class="comment">// go through all reactions and check the function called in the kinetic</span></div>
<div class="line"><a name="l05590"></a><span class="lineno"> 5590</span>&#160;  <span class="comment">// laws.</span></div>
<div class="line"><a name="l05591"></a><span class="lineno"> 5591</span>&#160;  <a class="code" href="../../d4/dcf/classCReaction.html">CReaction</a>* pReaction = NULL;</div>
<div class="line"><a name="l05592"></a><span class="lineno"> 5592</span>&#160;  <span class="keyword">const</span> <a class="code" href="../../d9/db9/classCCopasiVectorNS.html">CCopasiVectorNS&lt;CReaction&gt;</a>&amp; reactions = pModel-&gt;<a class="code" href="../../d4/d04/classCModel.html#ad9a3dc1905f1f38f689f728b829f285d">getReactions</a>();</div>
<div class="line"><a name="l05593"></a><span class="lineno"> 5593</span>&#160;  iMax = reactions.<a class="code" href="../../d8/d2c/classCCopasiVector.html#ab7e0e37022783eddfe85abf9339b05c0">size</a>();</div>
<div class="line"><a name="l05594"></a><span class="lineno"> 5594</span>&#160;</div>
<div class="line"><a name="l05595"></a><span class="lineno"> 5595</span>&#160;  <span class="keywordflow">for</span> (i = 0; i &lt; iMax; ++i)</div>
<div class="line"><a name="l05596"></a><span class="lineno"> 5596</span>&#160;    {</div>
<div class="line"><a name="l05597"></a><span class="lineno"> 5597</span>&#160;      pReaction = reactions[i];</div>
<div class="line"><a name="l05598"></a><span class="lineno"> 5598</span>&#160;</div>
<div class="line"><a name="l05599"></a><span class="lineno"> 5599</span>&#160;      <span class="keywordflow">if</span> (pReaction-&gt;<a class="code" href="../../d4/dcf/classCReaction.html#a5028bbc1b79e8a72071c7222cfeef9a2">getFunction</a>() != NULL)</div>
<div class="line"><a name="l05600"></a><span class="lineno"> 5600</span>&#160;        {</div>
<div class="line"><a name="l05601"></a><span class="lineno"> 5601</span>&#160;          <a class="code" href="../../df/d80/classCSBMLExporter.html#aa843eb9b5d1ae41d5dd2be78a864f2d5">CSBMLExporter::findDirectlyUsedFunctions</a>(pReaction-&gt;<a class="code" href="../../d4/dcf/classCReaction.html#a5028bbc1b79e8a72071c7222cfeef9a2">getFunction</a>()-&gt;<a class="code" href="../../d1/d50/classCEvaluationTree.html#a542e592cb978819d30a6da627411ba91">getRoot</a>(), usedFunctionNames);</div>
<div class="line"><a name="l05602"></a><span class="lineno"> 5602</span>&#160;        }</div>
<div class="line"><a name="l05603"></a><span class="lineno"> 5603</span>&#160;    }</div>
<div class="line"><a name="l05604"></a><span class="lineno"> 5604</span>&#160;</div>
<div class="line"><a name="l05605"></a><span class="lineno"> 5605</span>&#160;  <span class="comment">// check indirectly called functions</span></div>
<div class="line"><a name="l05606"></a><span class="lineno"> 5606</span>&#160;  std::set&lt;CFunction*&gt; directlyUsedFunctions = <a class="code" href="../../df/d80/classCSBMLExporter.html#a6dcd463b48c53c136e6c1af5b22251f2">CSBMLExporter::createFunctionSetFromFunctionNames</a>(usedFunctionNames, <a class="code" href="../../d3/db1/classCCopasiRootContainer.html#afd5e8541f181260daf7515b28f0612c3">CCopasiRootContainer::getFunctionList</a>());</div>
<div class="line"><a name="l05607"></a><span class="lineno"> 5607</span>&#160;  std::vector&lt;CFunction*&gt; functions = <a class="code" href="../../df/d80/classCSBMLExporter.html#a6553f17e9fedbf662bb4512f15cf6216">CSBMLExporter::findUsedFunctions</a>(directlyUsedFunctions, <a class="code" href="../../d3/db1/classCCopasiRootContainer.html#afd5e8541f181260daf7515b28f0612c3">CCopasiRootContainer::getFunctionList</a>());</div>
<div class="line"><a name="l05608"></a><span class="lineno"> 5608</span>&#160;  std::vector&lt;CFunction*&gt;::const_iterator it = functions.begin(), endit = functions.end();</div>
<div class="line"><a name="l05609"></a><span class="lineno"> 5609</span>&#160;</div>
<div class="line"><a name="l05610"></a><span class="lineno"> 5610</span>&#160;  <span class="keywordflow">while</span> (it != endit)</div>
<div class="line"><a name="l05611"></a><span class="lineno"> 5611</span>&#160;    {</div>
<div class="line"><a name="l05612"></a><span class="lineno"> 5612</span>&#160;      <a class="code" href="../../df/d80/classCSBMLExporter.html#aeeac4e8650cfa507c42df9f0eae46474">CSBMLExporter::checkForPiecewiseFunctions</a>(*(*it)-&gt;getRoot(), result, (*it)-&gt;getObjectName(), <span class="stringliteral">&quot;function&quot;</span>);</div>
<div class="line"><a name="l05613"></a><span class="lineno"> 5613</span>&#160;      ++it;</div>
<div class="line"><a name="l05614"></a><span class="lineno"> 5614</span>&#160;    }</div>
<div class="line"><a name="l05615"></a><span class="lineno"> 5615</span>&#160;}</div>
<div class="ttc" id="classCModelEntity_html_a766cc9fa2fed8206e22e022932a60eee"><div class="ttname"><a href="../../d0/da0/classCModelEntity.html#a766cc9fa2fed8206e22e022932a60eee">CModelEntity::getExpressionPtr</a></div><div class="ttdeci">const CExpression * getExpressionPtr() const </div><div class="ttdef"><b>Definition:</b> <a href="../../d8/da3/CModelValue_8cpp_source.html#l00250">CModelValue.cpp:250</a></div></div>
<div class="ttc" id="classCCopasiVectorN_html"><div class="ttname"><a href="../../d7/d08/classCCopasiVectorN.html">CCopasiVectorN&lt; CModelValue &gt;</a></div></div>
<div class="ttc" id="classCSBMLExporter_html_a6553f17e9fedbf662bb4512f15cf6216"><div class="ttname"><a href="../../df/d80/classCSBMLExporter.html#a6553f17e9fedbf662bb4512f15cf6216">CSBMLExporter::findUsedFunctions</a></div><div class="ttdeci">static const std::vector&lt; CFunction * &gt; findUsedFunctions(std::set&lt; CFunction * &gt; &amp;functions, CFunctionDB *pFunctionDB)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d2f/CSBMLExporter_8cpp_source.html#l04945">CSBMLExporter.cpp:4945</a></div></div>
<div class="ttc" id="classCSBMLExporter_html_aa843eb9b5d1ae41d5dd2be78a864f2d5"><div class="ttname"><a href="../../df/d80/classCSBMLExporter.html#aa843eb9b5d1ae41d5dd2be78a864f2d5">CSBMLExporter::findDirectlyUsedFunctions</a></div><div class="ttdeci">static void findDirectlyUsedFunctions(const CEvaluationNode *pRootNode, std::set&lt; std::string &gt; &amp;result)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d2f/CSBMLExporter_8cpp_source.html#l04927">CSBMLExporter.cpp:4927</a></div></div>
<div class="ttc" id="classCCopasiDataModel_html_a2e65952e0caf0b2709d381cf949fec69"><div class="ttname"><a href="../../d4/d18/classCCopasiDataModel.html#a2e65952e0caf0b2709d381cf949fec69">CCopasiDataModel::getModel</a></div><div class="ttdeci">CModel * getModel()</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d38/CCopasiDataModel_8cpp_source.html#l01407">CCopasiDataModel.cpp:1407</a></div></div>
<div class="ttc" id="classCModel_html_a73a8a52c2190b1aae2f1427e4e9eb0e1"><div class="ttname"><a href="../../d4/d04/classCModel.html#a73a8a52c2190b1aae2f1427e4e9eb0e1">CModel::getMetabolites</a></div><div class="ttdeci">const CCopasiVector&lt; CMetab &gt; &amp; getMetabolites() const </div><div class="ttdef"><b>Definition:</b> <a href="../../df/d08/CModel_8cpp_source.html#l01051">CModel.cpp:1051</a></div></div>
<div class="ttc" id="classCCopasiObject_html_a879d6756b51f6b58d307940e1343bd10"><div class="ttname"><a href="../../d4/da8/classCCopasiObject.html#a879d6756b51f6b58d307940e1343bd10">CCopasiObject::getObjectName</a></div><div class="ttdeci">const std::string &amp; getObjectName() const </div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d22/CCopasiObject_8cpp_source.html#l00258">CCopasiObject.cpp:258</a></div></div>
<div class="ttc" id="classCModelEntity_html"><div class="ttname"><a href="../../d0/da0/classCModelEntity.html">CModelEntity</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d1/da3/CModelValue_8h_source.html#l00039">CModelValue.h:39</a></div></div>
<div class="ttc" id="classCModel_html_ab3481ad574a3e1935a7617339970eab2"><div class="ttname"><a href="../../d4/d04/classCModel.html#ab3481ad574a3e1935a7617339970eab2">CModel::getModelValues</a></div><div class="ttdeci">const CCopasiVectorN&lt; CModelValue &gt; &amp; getModelValues() const </div><div class="ttdef"><b>Definition:</b> <a href="../../df/d08/CModel_8cpp_source.html#l01060">CModel.cpp:1060</a></div></div>
<div class="ttc" id="classCCopasiVector_html_ab7e0e37022783eddfe85abf9339b05c0"><div class="ttname"><a href="../../d8/d2c/classCCopasiVector.html#ab7e0e37022783eddfe85abf9339b05c0">CCopasiVector::size</a></div><div class="ttdeci">virtual size_t size() const </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d51/CCopasiVector_8h_source.html#l00386">CCopasiVector.h:386</a></div></div>
<div class="ttc" id="classCEvaluationTree_html"><div class="ttname"><a href="../../d1/d50/classCEvaluationTree.html">CEvaluationTree</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d46/CEvaluationTree_8h_source.html#l00028">CEvaluationTree.h:28</a></div></div>
<div class="ttc" id="classCModelEntity_html_a86cb8e66e255d66db258324064efc78aa3bfd50e7d8e4dd09716a51e0ca62dedb"><div class="ttname"><a href="../../d0/da0/classCModelEntity.html#a86cb8e66e255d66db258324064efc78aa3bfd50e7d8e4dd09716a51e0ca62dedb">CModelEntity::ASSIGNMENT</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d1/da3/CModelValue_8h_source.html#l00056">CModelValue.h:56</a></div></div>
<div class="ttc" id="classCCopasiVectorNS_html"><div class="ttname"><a href="../../d9/db9/classCCopasiVectorNS.html">CCopasiVectorNS&lt; CCompartment &gt;</a></div></div>
<div class="ttc" id="classCReaction_html_a5028bbc1b79e8a72071c7222cfeef9a2"><div class="ttname"><a href="../../d4/dcf/classCReaction.html#a5028bbc1b79e8a72071c7222cfeef9a2">CReaction::getFunction</a></div><div class="ttdeci">const CFunction * getFunction() const </div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d77/CReaction_8cpp_source.html#l00252">CReaction.cpp:252</a></div></div>
<div class="ttc" id="classCSBMLExporter_html_aeeac4e8650cfa507c42df9f0eae46474"><div class="ttname"><a href="../../df/d80/classCSBMLExporter.html#aeeac4e8650cfa507c42df9f0eae46474">CSBMLExporter::checkForPiecewiseFunctions</a></div><div class="ttdeci">static void checkForPiecewiseFunctions(const CCopasiDataModel &amp;dataModel, std::vector&lt; SBMLIncompatibility &gt; &amp;result)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d2f/CSBMLExporter_8cpp_source.html#l05531">CSBMLExporter.cpp:5531</a></div></div>
<div class="ttc" id="classCCopasiRootContainer_html_afd5e8541f181260daf7515b28f0612c3"><div class="ttname"><a href="../../d3/db1/classCCopasiRootContainer.html#afd5e8541f181260daf7515b28f0612c3">CCopasiRootContainer::getFunctionList</a></div><div class="ttdeci">static CFunctionDB * getFunctionList()</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/d4b/CCopasiRootContainer_8cpp_source.html#l00137">CCopasiRootContainer.cpp:137</a></div></div>
<div class="ttc" id="classCModel_html_a7d405db8dc8120b942aa0ec1e80db399"><div class="ttname"><a href="../../d4/d04/classCModel.html#a7d405db8dc8120b942aa0ec1e80db399">CModel::getCompartments</a></div><div class="ttdeci">CCopasiVectorNS&lt; CCompartment &gt; &amp; getCompartments()</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d08/CModel_8cpp_source.html#l01145">CModel.cpp:1145</a></div></div>
<div class="ttc" id="classCModel_html_ad9a3dc1905f1f38f689f728b829f285d"><div class="ttname"><a href="../../d4/d04/classCModel.html#ad9a3dc1905f1f38f689f728b829f285d">CModel::getReactions</a></div><div class="ttdeci">CCopasiVectorNS&lt; CReaction &gt; &amp; getReactions()</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d08/CModel_8cpp_source.html#l01039">CModel.cpp:1039</a></div></div>
<div class="ttc" id="classCModelEntity_html_a86cb8e66e255d66db258324064efc78aa3c62c1c3a449e106a5f1eb2f4ff01ec3"><div class="ttname"><a href="../../d0/da0/classCModelEntity.html#a86cb8e66e255d66db258324064efc78aa3c62c1c3a449e106a5f1eb2f4ff01ec3">CModelEntity::ODE</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d1/da3/CModelValue_8h_source.html#l00060">CModelValue.h:60</a></div></div>
<div class="ttc" id="classCSBMLExporter_html_a6dcd463b48c53c136e6c1af5b22251f2"><div class="ttname"><a href="../../df/d80/classCSBMLExporter.html#a6dcd463b48c53c136e6c1af5b22251f2">CSBMLExporter::createFunctionSetFromFunctionNames</a></div><div class="ttdeci">static const std::set&lt; CFunction * &gt; createFunctionSetFromFunctionNames(const std::set&lt; std::string &gt; &amp;names, CFunctionDB *pFunDB)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d2f/CSBMLExporter_8cpp_source.html#l05054">CSBMLExporter.cpp:5054</a></div></div>
<div class="ttc" id="classCModel_html"><div class="ttname"><a href="../../d4/d04/classCModel.html">CModel</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d90/CModel_8h_source.html#l00050">CModel.h:50</a></div></div>
<div class="ttc" id="classCReaction_html"><div class="ttname"><a href="../../d4/dcf/classCReaction.html">CReaction</a></div><div class="ttdef"><b>Definition:</b> <a href="../../db/dc3/CReaction_8h_source.html#l00044">CReaction.h:44</a></div></div>
<div class="ttc" id="classCModelEntity_html_ad6bdcaa2e8887271f61fc363262cc9ed"><div class="ttname"><a href="../../d0/da0/classCModelEntity.html#ad6bdcaa2e8887271f61fc363262cc9ed">CModelEntity::getStatus</a></div><div class="ttdeci">const CModelEntity::Status &amp; getStatus() const </div><div class="ttdef"><b>Definition:</b> <a href="../../d8/da3/CModelValue_8cpp_source.html#l00141">CModelValue.cpp:141</a></div></div>
<div class="ttc" id="classCEvaluationTree_html_a542e592cb978819d30a6da627411ba91"><div class="ttname"><a href="../../d1/d50/classCEvaluationTree.html#a542e592cb978819d30a6da627411ba91">CEvaluationTree::getRoot</a></div><div class="ttdeci">CEvaluationNode * getRoot()</div><div class="ttdef"><b>Definition:</b> <a href="../../da/d55/CEvaluationTree_8cpp_source.html#l00610">CEvaluationTree.cpp:610</a></div></div>
<div class="ttc" id="classCCopasiVector_html"><div class="ttname"><a href="../../d8/d2c/classCCopasiVector.html">CCopasiVector&lt; CMetab &gt;</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="adf29df487b81891bccdd0260b29dc0af"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d3/d05/CChemEqParser__yacc_8cpp.html#aa76fec002b4ba91adc88f68d56ba730c">void</a> CSBMLExporter::checkForPiecewiseFunctions </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="../../d8/d9f/classCEvaluationNode.html">CEvaluationNode</a> &amp;&#160;</td>
          <td class="paramname"><em>node</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::vector&lt; <a class="el" href="../../d7/de3/classSBMLIncompatibility.html">SBMLIncompatibility</a> &gt; &amp;&#160;</td>
          <td class="paramname"><em>result</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::string &amp;&#160;</td>
          <td class="paramname"><em>objectName</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::string &amp;&#160;</td>
          <td class="paramname"><em>objectType</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Checks the given node and all it's children for the occurence of piecewise functions. </p>

<p>Definition at line <a class="el" href="../../d5/d2f/CSBMLExporter_8cpp_source.html#l05617">5617</a> of file <a class="el" href="../../d5/d2f/CSBMLExporter_8cpp_source.html">CSBMLExporter.cpp</a>.</p>

<p>References <a class="el" href="../../df/d80/classCSBMLExporter.html#aeeac4e8650cfa507c42df9f0eae46474">checkForPiecewiseFunctions()</a>, <a class="el" href="../../d8/d9f/classCEvaluationNode.html#aeef59b7ae37d1323a4900e5d19140491aa91f19eba7ba2a2f40ac0ec18347926f">CEvaluationNode::CHOICE</a>, <a class="el" href="../../d9/d9d/classCCopasiNode.html#acad859fb98cfa7f9d328a1cf1ee57023">CCopasiNode&lt; _Data &gt;::getChild()</a>, <a class="el" href="../../d9/d9d/classCCopasiNode.html#a0730aecebb9ca0f8401b7d0223e266e8">CCopasiNode&lt; _Data &gt;::getSibling()</a>, <a class="el" href="../../d8/d9f/classCEvaluationNode.html#ae24b55d848d78cec0a359fd199c76562">CEvaluationNode::getType()</a>, and <a class="el" href="../../d8/d9f/classCEvaluationNode.html#a9e5fcf60f22d2701417f90756847d37b">CEvaluationNode::type()</a>.</p>
<div class="fragment"><div class="line"><a name="l05618"></a><span class="lineno"> 5618</span>&#160;{</div>
<div class="line"><a name="l05619"></a><span class="lineno"> 5619</span>&#160;</div>
<div class="line"><a name="l05620"></a><span class="lineno"> 5620</span>&#160;  <span class="comment">// no need to go through the children.</span></div>
<div class="line"><a name="l05621"></a><span class="lineno"> 5621</span>&#160;  <span class="comment">// one incompatibility warning is enough</span></div>
<div class="line"><a name="l05622"></a><span class="lineno"> 5622</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="../../d8/d9f/classCEvaluationNode.html#a9e5fcf60f22d2701417f90756847d37b">CEvaluationNode::type</a>(node.<a class="code" href="../../d8/d9f/classCEvaluationNode.html#ae24b55d848d78cec0a359fd199c76562">getType</a>()) == <a class="code" href="../../d8/d9f/classCEvaluationNode.html#aeef59b7ae37d1323a4900e5d19140491aa91f19eba7ba2a2f40ac0ec18347926f">CEvaluationNode::CHOICE</a>)</div>
<div class="line"><a name="l05623"></a><span class="lineno"> 5623</span>&#160;    {</div>
<div class="line"><a name="l05624"></a><span class="lineno"> 5624</span>&#160;      result.push_back(<a class="code" href="../../d7/de3/classSBMLIncompatibility.html">SBMLIncompatibility</a>(8, <a class="code" href="../../d4/d12/ObjectBrowserItem_8h.html#a2a3cae49e6781726af07e98e7d9f2e30">objectType</a>.c_str(), objectName.c_str()));</div>
<div class="line"><a name="l05625"></a><span class="lineno"> 5625</span>&#160;    }</div>
<div class="line"><a name="l05626"></a><span class="lineno"> 5626</span>&#160;  <span class="keywordflow">else</span></div>
<div class="line"><a name="l05627"></a><span class="lineno"> 5627</span>&#160;    {</div>
<div class="line"><a name="l05628"></a><span class="lineno"> 5628</span>&#160;      <span class="comment">// store the old size</span></div>
<div class="line"><a name="l05629"></a><span class="lineno"> 5629</span>&#160;      <span class="comment">// if one error has been found, we can stop looking at the other</span></div>
<div class="line"><a name="l05630"></a><span class="lineno"> 5630</span>&#160;      <span class="comment">// children</span></div>
<div class="line"><a name="l05631"></a><span class="lineno"> 5631</span>&#160;      <span class="keywordtype">size_t</span> size = result.size();</div>
<div class="line"><a name="l05632"></a><span class="lineno"> 5632</span>&#160;      <span class="keyword">const</span> <a class="code" href="../../d8/d9f/classCEvaluationNode.html">CEvaluationNode</a>* pChild = <span class="keyword">dynamic_cast&lt;</span><span class="keyword">const </span><a class="code" href="../../d8/d9f/classCEvaluationNode.html">CEvaluationNode</a>*<span class="keyword">&gt;</span>(node.<a class="code" href="../../d9/d9d/classCCopasiNode.html#acad859fb98cfa7f9d328a1cf1ee57023">getChild</a>());</div>
<div class="line"><a name="l05633"></a><span class="lineno"> 5633</span>&#160;</div>
<div class="line"><a name="l05634"></a><span class="lineno"> 5634</span>&#160;      <span class="keywordflow">while</span> (pChild != NULL &amp;&amp; result.size() == size)</div>
<div class="line"><a name="l05635"></a><span class="lineno"> 5635</span>&#160;        {</div>
<div class="line"><a name="l05636"></a><span class="lineno"> 5636</span>&#160;          <a class="code" href="../../df/d80/classCSBMLExporter.html#aeeac4e8650cfa507c42df9f0eae46474">CSBMLExporter::checkForPiecewiseFunctions</a>(*pChild, result, objectName, <a class="code" href="../../d4/d12/ObjectBrowserItem_8h.html#a2a3cae49e6781726af07e98e7d9f2e30">objectType</a>);</div>
<div class="line"><a name="l05637"></a><span class="lineno"> 5637</span>&#160;          pChild = <span class="keyword">dynamic_cast&lt;</span><span class="keyword">const </span><a class="code" href="../../d8/d9f/classCEvaluationNode.html">CEvaluationNode</a>*<span class="keyword">&gt;</span>(pChild-&gt;<a class="code" href="../../d9/d9d/classCCopasiNode.html#a0730aecebb9ca0f8401b7d0223e266e8">getSibling</a>());</div>
<div class="line"><a name="l05638"></a><span class="lineno"> 5638</span>&#160;        }</div>
<div class="line"><a name="l05639"></a><span class="lineno"> 5639</span>&#160;    }</div>
<div class="line"><a name="l05640"></a><span class="lineno"> 5640</span>&#160;}</div>
<div class="ttc" id="ObjectBrowserItem_8h_html_a2a3cae49e6781726af07e98e7d9f2e30"><div class="ttname"><a href="../../d4/d12/ObjectBrowserItem_8h.html#a2a3cae49e6781726af07e98e7d9f2e30">objectType</a></div><div class="ttdeci">objectType</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d12/ObjectBrowserItem_8h_source.html#l00056">ObjectBrowserItem.h:56</a></div></div>
<div class="ttc" id="classCCopasiNode_html_a0730aecebb9ca0f8401b7d0223e266e8"><div class="ttname"><a href="../../d9/d9d/classCCopasiNode.html#a0730aecebb9ca0f8401b7d0223e266e8">CCopasiNode::getSibling</a></div><div class="ttdeci">CCopasiNode&lt; Data &gt; * getSibling()</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d24/CCopasiNode_8h_source.html#l00353">CCopasiNode.h:353</a></div></div>
<div class="ttc" id="classCEvaluationNode_html_aeef59b7ae37d1323a4900e5d19140491aa91f19eba7ba2a2f40ac0ec18347926f"><div class="ttname"><a href="../../d8/d9f/classCEvaluationNode.html#aeef59b7ae37d1323a4900e5d19140491aa91f19eba7ba2a2f40ac0ec18347926f">CEvaluationNode::CHOICE</a></div><div class="ttdef"><b>Definition:</b> <a href="../../de/dfa/CEvaluationNode_8h_source.html#l00049">CEvaluationNode.h:49</a></div></div>
<div class="ttc" id="classCEvaluationNode_html_ae24b55d848d78cec0a359fd199c76562"><div class="ttname"><a href="../../d8/d9f/classCEvaluationNode.html#ae24b55d848d78cec0a359fd199c76562">CEvaluationNode::getType</a></div><div class="ttdeci">const Type &amp; getType() const </div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d3d/CEvaluationNode_8cpp_source.html#l00357">CEvaluationNode.cpp:357</a></div></div>
<div class="ttc" id="classSBMLIncompatibility_html"><div class="ttname"><a href="../../d7/de3/classSBMLIncompatibility.html">SBMLIncompatibility</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d95/SBMLIncompatibility_8h_source.html#l00024">SBMLIncompatibility.h:24</a></div></div>
<div class="ttc" id="classCEvaluationNode_html_a9e5fcf60f22d2701417f90756847d37b"><div class="ttname"><a href="../../d8/d9f/classCEvaluationNode.html#a9e5fcf60f22d2701417f90756847d37b">CEvaluationNode::type</a></div><div class="ttdeci">static Type type(const Type &amp;type)</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d3d/CEvaluationNode_8cpp_source.html#l00123">CEvaluationNode.cpp:123</a></div></div>
<div class="ttc" id="classCSBMLExporter_html_aeeac4e8650cfa507c42df9f0eae46474"><div class="ttname"><a href="../../df/d80/classCSBMLExporter.html#aeeac4e8650cfa507c42df9f0eae46474">CSBMLExporter::checkForPiecewiseFunctions</a></div><div class="ttdeci">static void checkForPiecewiseFunctions(const CCopasiDataModel &amp;dataModel, std::vector&lt; SBMLIncompatibility &gt; &amp;result)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d2f/CSBMLExporter_8cpp_source.html#l05531">CSBMLExporter.cpp:5531</a></div></div>
<div class="ttc" id="classCEvaluationNode_html"><div class="ttname"><a href="../../d8/d9f/classCEvaluationNode.html">CEvaluationNode</a></div><div class="ttdef"><b>Definition:</b> <a href="../../de/dfa/CEvaluationNode_8h_source.html#l00033">CEvaluationNode.h:33</a></div></div>
<div class="ttc" id="classCCopasiNode_html_acad859fb98cfa7f9d328a1cf1ee57023"><div class="ttname"><a href="../../d9/d9d/classCCopasiNode.html#acad859fb98cfa7f9d328a1cf1ee57023">CCopasiNode::getChild</a></div><div class="ttdeci">CCopasiNode&lt; Data &gt; * getChild()</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d24/CCopasiNode_8h_source.html#l00210">CCopasiNode.h:210</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a28e0706f0f87d1483643b251104ff00b"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d3/d05/CChemEqParser__yacc_8cpp.html#aa76fec002b4ba91adc88f68d56ba730c">void</a> CSBMLExporter::checkForUnsupportedFunctionCalls </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="../../d4/d18/classCCopasiDataModel.html">CCopasiDataModel</a> &amp;&#160;</td>
          <td class="paramname"><em>dataModel</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned int&#160;</td>
          <td class="paramname"><em>sbmlLevel</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned int&#160;</td>
          <td class="paramname"><em>sbmlVersion</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::vector&lt; <a class="el" href="../../d7/de3/classSBMLIncompatibility.html">SBMLIncompatibility</a> &gt; &amp;&#160;</td>
          <td class="paramname"><em>result</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>This static methods checks, wether the model uses any function calls that can not be expressed in SBML like the random distribution functions.</p>
<p>This static methods checks, whether the model uses any function calls that can not be expressed in SBML like the random distribution functions. </p>

<p>Definition at line <a class="el" href="../../d5/d2f/CSBMLExporter_8cpp_source.html#l02786">2786</a> of file <a class="el" href="../../d5/d2f/CSBMLExporter_8cpp_source.html">CSBMLExporter.cpp</a>.</p>

<p>References <a class="el" href="../../df/d80/classCSBMLExporter.html#acf189051ffef9fb8b55543a9d59d8817">createUnsupportedFunctionTypeSet()</a>, <a class="el" href="../../d0/da0/classCModelEntity.html#a766cc9fa2fed8206e22e022932a60eee">CModelEntity::getExpressionPtr()</a>, <a class="el" href="../../d0/da0/classCModelEntity.html#a81973823a591e58112161570d7abac10">CModelEntity::getInitialExpressionPtr()</a>, <a class="el" href="../../d4/da8/classCCopasiObject.html#a879d6756b51f6b58d307940e1343bd10">CCopasiObject::getObjectName()</a>, <a class="el" href="../../d4/da8/classCCopasiObject.html#a56790cb06e1980712599250f3e695c6a">CCopasiObject::getObjectType()</a>, <a class="el" href="../../d1/d50/classCEvaluationTree.html#a542e592cb978819d30a6da627411ba91">CEvaluationTree::getRoot()</a>, <a class="el" href="../../df/d80/classCSBMLExporter.html#ae2467a5206a20eae7445885970958380">mAssignmentVector</a>, <a class="el" href="../../df/d80/classCSBMLExporter.html#a1b30687327c5f035db028165254de116">mInitialAssignmentVector</a>, <a class="el" href="../../df/d80/classCSBMLExporter.html#a0e510c0403f40240d781206e3b224b69">mODEVector</a>, and <a class="el" href="../../df/d80/classCSBMLExporter.html#a4d5bc6e05778ebe1653f70b2c968564e">mUsedFunctions</a>.</p>

<p>Referenced by <a class="el" href="../../df/d80/classCSBMLExporter.html#a4851923c98bf7fb89fb99972560c83ee">checkForUnsupportedFunctionCalls()</a>, and <a class="el" href="../../df/d80/classCSBMLExporter.html#aefa0189aa8976611a461b6de4142fdc7">isExpressionSBMLCompatible()</a>.</p>
<div class="fragment"><div class="line"><a name="l02788"></a><span class="lineno"> 2788</span>&#160;{</div>
<div class="line"><a name="l02789"></a><span class="lineno"> 2789</span>&#160;  <span class="comment">// Fill the set of unsupported functions depending on the level and</span></div>
<div class="line"><a name="l02790"></a><span class="lineno"> 2790</span>&#160;  <span class="comment">// version</span></div>
<div class="line"><a name="l02791"></a><span class="lineno"> 2791</span>&#160;  std::set&lt;CEvaluationNodeFunction::SubType&gt; unsupportedFunctionTypes = <a class="code" href="../../df/d80/classCSBMLExporter.html#acf189051ffef9fb8b55543a9d59d8817">CSBMLExporter::createUnsupportedFunctionTypeSet</a>(sbmlLevel);</div>
<div class="line"><a name="l02792"></a><span class="lineno"> 2792</span>&#160;  <span class="comment">// check all metabolites,parameters and compartments</span></div>
<div class="line"><a name="l02793"></a><span class="lineno"> 2793</span>&#160;  <span class="comment">// make sure the list of assignments and initial assignments is filled</span></div>
<div class="line"><a name="l02794"></a><span class="lineno"> 2794</span>&#160;  <span class="comment">// before this function is called</span></div>
<div class="line"><a name="l02795"></a><span class="lineno"> 2795</span>&#160;  <span class="keywordtype">size_t</span> i, iMax = <a class="code" href="../../df/d80/classCSBMLExporter.html#ae2467a5206a20eae7445885970958380">mAssignmentVector</a>.size();</div>
<div class="line"><a name="l02796"></a><span class="lineno"> 2796</span>&#160;  <span class="keyword">const</span> <a class="code" href="../../d0/da0/classCModelEntity.html">CModelEntity</a>* pME = NULL;</div>
<div class="line"><a name="l02797"></a><span class="lineno"> 2797</span>&#160;</div>
<div class="line"><a name="l02798"></a><span class="lineno"> 2798</span>&#160;  <span class="keywordflow">for</span> (i = 0; i &lt; iMax; ++i)</div>
<div class="line"><a name="l02799"></a><span class="lineno"> 2799</span>&#160;    {</div>
<div class="line"><a name="l02800"></a><span class="lineno"> 2800</span>&#160;      pME = <a class="code" href="../../df/d80/classCSBMLExporter.html#ae2467a5206a20eae7445885970958380">mAssignmentVector</a>[i];</div>
<div class="line"><a name="l02801"></a><span class="lineno"> 2801</span>&#160;      assert(pME != NULL);</div>
<div class="line"><a name="l02802"></a><span class="lineno"> 2802</span>&#160;</div>
<div class="line"><a name="l02803"></a><span class="lineno"> 2803</span>&#160;      <span class="keywordflow">if</span> (pME != NULL)</div>
<div class="line"><a name="l02804"></a><span class="lineno"> 2804</span>&#160;        {</div>
<div class="line"><a name="l02805"></a><span class="lineno"> 2805</span>&#160;          <a class="code" href="../../df/d80/classCSBMLExporter.html#a28e0706f0f87d1483643b251104ff00b">checkForUnsupportedFunctionCalls</a>(*pME-&gt;<a class="code" href="../../d0/da0/classCModelEntity.html#a766cc9fa2fed8206e22e022932a60eee">getExpressionPtr</a>()-&gt;<a class="code" href="../../d1/d50/classCEvaluationTree.html#a542e592cb978819d30a6da627411ba91">getRoot</a>(), unsupportedFunctionTypes, result, std::string(pME-&gt;<a class="code" href="../../d4/da8/classCCopasiObject.html#a56790cb06e1980712599250f3e695c6a">getObjectType</a>() + <span class="stringliteral">&quot; called \&quot;&quot;</span> + pME-&gt;<a class="code" href="../../d4/da8/classCCopasiObject.html#a879d6756b51f6b58d307940e1343bd10">getObjectName</a>() + <span class="stringliteral">&quot;\&quot;&quot;</span>));</div>
<div class="line"><a name="l02806"></a><span class="lineno"> 2806</span>&#160;        }</div>
<div class="line"><a name="l02807"></a><span class="lineno"> 2807</span>&#160;    }</div>
<div class="line"><a name="l02808"></a><span class="lineno"> 2808</span>&#160;</div>
<div class="line"><a name="l02809"></a><span class="lineno"> 2809</span>&#160;  <span class="comment">// check ode rules</span></div>
<div class="line"><a name="l02810"></a><span class="lineno"> 2810</span>&#160;  iMax = <a class="code" href="../../df/d80/classCSBMLExporter.html#a0e510c0403f40240d781206e3b224b69">mODEVector</a>.size();</div>
<div class="line"><a name="l02811"></a><span class="lineno"> 2811</span>&#160;</div>
<div class="line"><a name="l02812"></a><span class="lineno"> 2812</span>&#160;  <span class="keywordflow">for</span> (i = 0; i &lt; iMax; ++i)</div>
<div class="line"><a name="l02813"></a><span class="lineno"> 2813</span>&#160;    {</div>
<div class="line"><a name="l02814"></a><span class="lineno"> 2814</span>&#160;      pME = <a class="code" href="../../df/d80/classCSBMLExporter.html#a0e510c0403f40240d781206e3b224b69">mODEVector</a>[i];</div>
<div class="line"><a name="l02815"></a><span class="lineno"> 2815</span>&#160;      assert(pME != NULL);</div>
<div class="line"><a name="l02816"></a><span class="lineno"> 2816</span>&#160;</div>
<div class="line"><a name="l02817"></a><span class="lineno"> 2817</span>&#160;      <span class="keywordflow">if</span> (pME != NULL)</div>
<div class="line"><a name="l02818"></a><span class="lineno"> 2818</span>&#160;        {</div>
<div class="line"><a name="l02819"></a><span class="lineno"> 2819</span>&#160;          <a class="code" href="../../df/d80/classCSBMLExporter.html#a28e0706f0f87d1483643b251104ff00b">checkForUnsupportedFunctionCalls</a>(*pME-&gt;<a class="code" href="../../d0/da0/classCModelEntity.html#a766cc9fa2fed8206e22e022932a60eee">getExpressionPtr</a>()-&gt;<a class="code" href="../../d1/d50/classCEvaluationTree.html#a542e592cb978819d30a6da627411ba91">getRoot</a>(), unsupportedFunctionTypes, result, std::string(pME-&gt;<a class="code" href="../../d4/da8/classCCopasiObject.html#a56790cb06e1980712599250f3e695c6a">getObjectType</a>() + <span class="stringliteral">&quot; called \&quot;&quot;</span> + pME-&gt;<a class="code" href="../../d4/da8/classCCopasiObject.html#a879d6756b51f6b58d307940e1343bd10">getObjectName</a>() + <span class="stringliteral">&quot;\&quot;&quot;</span>));</div>
<div class="line"><a name="l02820"></a><span class="lineno"> 2820</span>&#160;        }</div>
<div class="line"><a name="l02821"></a><span class="lineno"> 2821</span>&#160;    }</div>
<div class="line"><a name="l02822"></a><span class="lineno"> 2822</span>&#160;</div>
<div class="line"><a name="l02823"></a><span class="lineno"> 2823</span>&#160;  <span class="comment">// check initial assignments</span></div>
<div class="line"><a name="l02824"></a><span class="lineno"> 2824</span>&#160;  iMax = <a class="code" href="../../df/d80/classCSBMLExporter.html#a1b30687327c5f035db028165254de116">mInitialAssignmentVector</a>.size();</div>
<div class="line"><a name="l02825"></a><span class="lineno"> 2825</span>&#160;</div>
<div class="line"><a name="l02826"></a><span class="lineno"> 2826</span>&#160;  <span class="keywordflow">for</span> (i = 0; i &lt; iMax; ++i)</div>
<div class="line"><a name="l02827"></a><span class="lineno"> 2827</span>&#160;    {</div>
<div class="line"><a name="l02828"></a><span class="lineno"> 2828</span>&#160;      pME = <a class="code" href="../../df/d80/classCSBMLExporter.html#a1b30687327c5f035db028165254de116">mInitialAssignmentVector</a>[i];</div>
<div class="line"><a name="l02829"></a><span class="lineno"> 2829</span>&#160;      assert(pME != NULL);</div>
<div class="line"><a name="l02830"></a><span class="lineno"> 2830</span>&#160;</div>
<div class="line"><a name="l02831"></a><span class="lineno"> 2831</span>&#160;      <span class="keywordflow">if</span> (pME != NULL)</div>
<div class="line"><a name="l02832"></a><span class="lineno"> 2832</span>&#160;        {</div>
<div class="line"><a name="l02833"></a><span class="lineno"> 2833</span>&#160;          <a class="code" href="../../df/d80/classCSBMLExporter.html#a28e0706f0f87d1483643b251104ff00b">checkForUnsupportedFunctionCalls</a>(*pME-&gt;<a class="code" href="../../d0/da0/classCModelEntity.html#a81973823a591e58112161570d7abac10">getInitialExpressionPtr</a>()-&gt;<a class="code" href="../../d1/d50/classCEvaluationTree.html#a542e592cb978819d30a6da627411ba91">getRoot</a>(), unsupportedFunctionTypes, result, std::string(pME-&gt;<a class="code" href="../../d4/da8/classCCopasiObject.html#a56790cb06e1980712599250f3e695c6a">getObjectType</a>() + <span class="stringliteral">&quot; called \&quot;&quot;</span> + pME-&gt;<a class="code" href="../../d4/da8/classCCopasiObject.html#a879d6756b51f6b58d307940e1343bd10">getObjectName</a>() + <span class="stringliteral">&quot;\&quot;&quot;</span>));</div>
<div class="line"><a name="l02834"></a><span class="lineno"> 2834</span>&#160;        }</div>
<div class="line"><a name="l02835"></a><span class="lineno"> 2835</span>&#160;    }</div>
<div class="line"><a name="l02836"></a><span class="lineno"> 2836</span>&#160;</div>
<div class="line"><a name="l02837"></a><span class="lineno"> 2837</span>&#160;  <span class="comment">// if we already have a list of used functions, we can go through this here</span></div>
<div class="line"><a name="l02838"></a><span class="lineno"> 2838</span>&#160;  <span class="comment">// make sure the list of used function has been filled before this is</span></div>
<div class="line"><a name="l02839"></a><span class="lineno"> 2839</span>&#160;  <span class="comment">// called</span></div>
<div class="line"><a name="l02840"></a><span class="lineno"> 2840</span>&#160;  iMax = <a class="code" href="../../df/d80/classCSBMLExporter.html#a4d5bc6e05778ebe1653f70b2c968564e">mUsedFunctions</a>.size();</div>
<div class="line"><a name="l02841"></a><span class="lineno"> 2841</span>&#160;  std::set&lt;CFunction*&gt;::iterator it = this-&gt;<a class="code" href="../../df/d80/classCSBMLExporter.html#a4d5bc6e05778ebe1653f70b2c968564e">mUsedFunctions</a>.begin(), endit = this-&gt;<a class="code" href="../../df/d80/classCSBMLExporter.html#a4d5bc6e05778ebe1653f70b2c968564e">mUsedFunctions</a>.end();</div>
<div class="line"><a name="l02842"></a><span class="lineno"> 2842</span>&#160;</div>
<div class="line"><a name="l02843"></a><span class="lineno"> 2843</span>&#160;  <span class="keywordflow">while</span> (it != endit)</div>
<div class="line"><a name="l02844"></a><span class="lineno"> 2844</span>&#160;    {</div>
<div class="line"><a name="l02845"></a><span class="lineno"> 2845</span>&#160;      assert(*it != NULL);</div>
<div class="line"><a name="l02846"></a><span class="lineno"> 2846</span>&#160;</div>
<div class="line"><a name="l02847"></a><span class="lineno"> 2847</span>&#160;      <span class="keywordflow">if</span> (*it != NULL)</div>
<div class="line"><a name="l02848"></a><span class="lineno"> 2848</span>&#160;        {</div>
<div class="line"><a name="l02849"></a><span class="lineno"> 2849</span>&#160;          <a class="code" href="../../df/d80/classCSBMLExporter.html#a28e0706f0f87d1483643b251104ff00b">checkForUnsupportedFunctionCalls</a>(*(*it)-&gt;getRoot(), unsupportedFunctionTypes, result, std::string(<span class="stringliteral">&quot;function called \&quot;&quot;</span> + (*it)-&gt;getObjectName() + <span class="stringliteral">&quot;\&quot;&quot;</span>));</div>
<div class="line"><a name="l02850"></a><span class="lineno"> 2850</span>&#160;        }</div>
<div class="line"><a name="l02851"></a><span class="lineno"> 2851</span>&#160;</div>
<div class="line"><a name="l02852"></a><span class="lineno"> 2852</span>&#160;      ++it;</div>
<div class="line"><a name="l02853"></a><span class="lineno"> 2853</span>&#160;    }</div>
<div class="line"><a name="l02854"></a><span class="lineno"> 2854</span>&#160;}</div>
<div class="ttc" id="classCModelEntity_html_a766cc9fa2fed8206e22e022932a60eee"><div class="ttname"><a href="../../d0/da0/classCModelEntity.html#a766cc9fa2fed8206e22e022932a60eee">CModelEntity::getExpressionPtr</a></div><div class="ttdeci">const CExpression * getExpressionPtr() const </div><div class="ttdef"><b>Definition:</b> <a href="../../d8/da3/CModelValue_8cpp_source.html#l00250">CModelValue.cpp:250</a></div></div>
<div class="ttc" id="classCCopasiObject_html_a879d6756b51f6b58d307940e1343bd10"><div class="ttname"><a href="../../d4/da8/classCCopasiObject.html#a879d6756b51f6b58d307940e1343bd10">CCopasiObject::getObjectName</a></div><div class="ttdeci">const std::string &amp; getObjectName() const </div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d22/CCopasiObject_8cpp_source.html#l00258">CCopasiObject.cpp:258</a></div></div>
<div class="ttc" id="classCModelEntity_html"><div class="ttname"><a href="../../d0/da0/classCModelEntity.html">CModelEntity</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d1/da3/CModelValue_8h_source.html#l00039">CModelValue.h:39</a></div></div>
<div class="ttc" id="classCCopasiObject_html_a56790cb06e1980712599250f3e695c6a"><div class="ttname"><a href="../../d4/da8/classCCopasiObject.html#a56790cb06e1980712599250f3e695c6a">CCopasiObject::getObjectType</a></div><div class="ttdeci">const std::string &amp; getObjectType() const </div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d22/CCopasiObject_8cpp_source.html#l00260">CCopasiObject.cpp:260</a></div></div>
<div class="ttc" id="classCSBMLExporter_html_ae2467a5206a20eae7445885970958380"><div class="ttname"><a href="../../df/d80/classCSBMLExporter.html#ae2467a5206a20eae7445885970958380">CSBMLExporter::mAssignmentVector</a></div><div class="ttdeci">std::vector&lt; CModelEntity * &gt; mAssignmentVector</div><div class="ttdef"><b>Definition:</b> <a href="../../da/d7f/CSBMLExporter_8h_source.html#l00058">CSBMLExporter.h:58</a></div></div>
<div class="ttc" id="classCSBMLExporter_html_a28e0706f0f87d1483643b251104ff00b"><div class="ttname"><a href="../../df/d80/classCSBMLExporter.html#a28e0706f0f87d1483643b251104ff00b">CSBMLExporter::checkForUnsupportedFunctionCalls</a></div><div class="ttdeci">void checkForUnsupportedFunctionCalls(const CCopasiDataModel &amp;dataModel, unsigned int sbmlLEvel, unsigned int sbmlVersion, std::vector&lt; SBMLIncompatibility &gt; &amp;result)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d2f/CSBMLExporter_8cpp_source.html#l02786">CSBMLExporter.cpp:2786</a></div></div>
<div class="ttc" id="classCSBMLExporter_html_a0e510c0403f40240d781206e3b224b69"><div class="ttname"><a href="../../df/d80/classCSBMLExporter.html#a0e510c0403f40240d781206e3b224b69">CSBMLExporter::mODEVector</a></div><div class="ttdeci">std::vector&lt; CModelEntity * &gt; mODEVector</div><div class="ttdef"><b>Definition:</b> <a href="../../da/d7f/CSBMLExporter_8h_source.html#l00059">CSBMLExporter.h:59</a></div></div>
<div class="ttc" id="classCSBMLExporter_html_acf189051ffef9fb8b55543a9d59d8817"><div class="ttname"><a href="../../df/d80/classCSBMLExporter.html#acf189051ffef9fb8b55543a9d59d8817">CSBMLExporter::createUnsupportedFunctionTypeSet</a></div><div class="ttdeci">static const std::set&lt; CEvaluationNodeFunction::SubType &gt; createUnsupportedFunctionTypeSet(unsigned int sbmlLevel)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d2f/CSBMLExporter_8cpp_source.html#l03680">CSBMLExporter.cpp:3680</a></div></div>
<div class="ttc" id="classCSBMLExporter_html_a4d5bc6e05778ebe1653f70b2c968564e"><div class="ttname"><a href="../../df/d80/classCSBMLExporter.html#a4d5bc6e05778ebe1653f70b2c968564e">CSBMLExporter::mUsedFunctions</a></div><div class="ttdeci">std::set&lt; CFunction * &gt; mUsedFunctions</div><div class="ttdef"><b>Definition:</b> <a href="../../da/d7f/CSBMLExporter_8h_source.html#l00063">CSBMLExporter.h:63</a></div></div>
<div class="ttc" id="classCEvaluationTree_html_a542e592cb978819d30a6da627411ba91"><div class="ttname"><a href="../../d1/d50/classCEvaluationTree.html#a542e592cb978819d30a6da627411ba91">CEvaluationTree::getRoot</a></div><div class="ttdeci">CEvaluationNode * getRoot()</div><div class="ttdef"><b>Definition:</b> <a href="../../da/d55/CEvaluationTree_8cpp_source.html#l00610">CEvaluationTree.cpp:610</a></div></div>
<div class="ttc" id="classCModelEntity_html_a81973823a591e58112161570d7abac10"><div class="ttname"><a href="../../d0/da0/classCModelEntity.html#a81973823a591e58112161570d7abac10">CModelEntity::getInitialExpressionPtr</a></div><div class="ttdeci">const CExpression * getInitialExpressionPtr() const </div><div class="ttdef"><b>Definition:</b> <a href="../../d8/da3/CModelValue_8cpp_source.html#l00294">CModelValue.cpp:294</a></div></div>
<div class="ttc" id="classCSBMLExporter_html_a1b30687327c5f035db028165254de116"><div class="ttname"><a href="../../df/d80/classCSBMLExporter.html#a1b30687327c5f035db028165254de116">CSBMLExporter::mInitialAssignmentVector</a></div><div class="ttdeci">std::vector&lt; CModelEntity * &gt; mInitialAssignmentVector</div><div class="ttdef"><b>Definition:</b> <a href="../../da/d7f/CSBMLExporter_8h_source.html#l00060">CSBMLExporter.h:60</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a4851923c98bf7fb89fb99972560c83ee"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d3/d05/CChemEqParser__yacc_8cpp.html#aa76fec002b4ba91adc88f68d56ba730c">void</a> CSBMLExporter::checkForUnsupportedFunctionCalls </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="../../d8/d9f/classCEvaluationNode.html">CEvaluationNode</a> &amp;&#160;</td>
          <td class="paramname"><em>node</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::set&lt; <a class="el" href="../../d8/dcb/classCEvaluationNodeFunction.html#a7d9eee722d7e2b7c7888b23838d7d604">CEvaluationNodeFunction::SubType</a> &gt; &amp;&#160;</td>
          <td class="paramname"><em>unsupportedFunctions</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::vector&lt; <a class="el" href="../../d7/de3/classSBMLIncompatibility.html">SBMLIncompatibility</a> &gt; &amp;&#160;</td>
          <td class="paramname"><em>result</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::string &amp;&#160;</td>
          <td class="paramname"><em>objectDescription</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>This static methods checks recursively, whether the given <a class="el" href="../../d8/d9f/classCEvaluationNode.html">CEvaluationNode</a> constains any function calls that can not be expressed in SBML like the random distribution functions. </p>

<p>Definition at line <a class="el" href="../../d5/d2f/CSBMLExporter_8cpp_source.html#l02861">2861</a> of file <a class="el" href="../../d5/d2f/CSBMLExporter_8cpp_source.html">CSBMLExporter.cpp</a>.</p>

<p>References <a class="el" href="../../df/d80/classCSBMLExporter.html#a28e0706f0f87d1483643b251104ff00b">checkForUnsupportedFunctionCalls()</a>, <a class="el" href="../../d8/d9f/classCEvaluationNode.html#aeef59b7ae37d1323a4900e5d19140491a9ae5f278d92322b21c5b101cd901d6fb">CEvaluationNode::FUNCTION</a>, <a class="el" href="../../d9/d9d/classCCopasiNode.html#acad859fb98cfa7f9d328a1cf1ee57023">CCopasiNode&lt; _Data &gt;::getChild()</a>, <a class="el" href="../../d9/d9d/classCCopasiNode.html#a761f04c57a75e99a63ee0700c76fdafe">CCopasiNode&lt; _Data &gt;::getData()</a>, <a class="el" href="../../d9/d9d/classCCopasiNode.html#a0730aecebb9ca0f8401b7d0223e266e8">CCopasiNode&lt; _Data &gt;::getSibling()</a>, <a class="el" href="../../d8/d9f/classCEvaluationNode.html#ae24b55d848d78cec0a359fd199c76562">CEvaluationNode::getType()</a>, <a class="el" href="../../d8/d9f/classCEvaluationNode.html#a2cb02df3d57dad7ad1f9654941135c31">CEvaluationNode::subType()</a>, and <a class="el" href="../../d8/d9f/classCEvaluationNode.html#a9e5fcf60f22d2701417f90756847d37b">CEvaluationNode::type()</a>.</p>
<div class="fragment"><div class="line"><a name="l02864"></a><span class="lineno"> 2864</span>&#160;{</div>
<div class="line"><a name="l02865"></a><span class="lineno"> 2865</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="../../d8/d9f/classCEvaluationNode.html#a9e5fcf60f22d2701417f90756847d37b">CEvaluationNode::type</a>(node.<a class="code" href="../../d8/d9f/classCEvaluationNode.html#ae24b55d848d78cec0a359fd199c76562">getType</a>()) == <a class="code" href="../../d8/d9f/classCEvaluationNode.html#aeef59b7ae37d1323a4900e5d19140491a9ae5f278d92322b21c5b101cd901d6fb">CEvaluationNode::FUNCTION</a>)</div>
<div class="line"><a name="l02866"></a><span class="lineno"> 2866</span>&#160;    {</div>
<div class="line"><a name="l02867"></a><span class="lineno"> 2867</span>&#160;      <a class="code" href="../../d8/dcb/classCEvaluationNodeFunction.html#a7d9eee722d7e2b7c7888b23838d7d604">CEvaluationNodeFunction::SubType</a> subtype = (<a class="code" href="../../d8/dcb/classCEvaluationNodeFunction.html#a7d9eee722d7e2b7c7888b23838d7d604">CEvaluationNodeFunction::SubType</a>)<a class="code" href="../../d8/d9f/classCEvaluationNode.html#a2cb02df3d57dad7ad1f9654941135c31">CEvaluationNode::subType</a>(node.<a class="code" href="../../d8/d9f/classCEvaluationNode.html#ae24b55d848d78cec0a359fd199c76562">getType</a>());</div>
<div class="line"><a name="l02868"></a><span class="lineno"> 2868</span>&#160;</div>
<div class="line"><a name="l02869"></a><span class="lineno"> 2869</span>&#160;      <span class="keywordflow">if</span> (unsupportedFunctions.find(subtype) != unsupportedFunctions.end())</div>
<div class="line"><a name="l02870"></a><span class="lineno"> 2870</span>&#160;        {</div>
<div class="line"><a name="l02871"></a><span class="lineno"> 2871</span>&#160;          result.push_back(<a class="code" href="../../d7/de3/classSBMLIncompatibility.html">SBMLIncompatibility</a>(2, node.<a class="code" href="../../d9/d9d/classCCopasiNode.html#a761f04c57a75e99a63ee0700c76fdafe">getData</a>().c_str(), objectDescription.c_str()));</div>
<div class="line"><a name="l02872"></a><span class="lineno"> 2872</span>&#160;        }</div>
<div class="line"><a name="l02873"></a><span class="lineno"> 2873</span>&#160;    }</div>
<div class="line"><a name="l02874"></a><span class="lineno"> 2874</span>&#160;</div>
<div class="line"><a name="l02875"></a><span class="lineno"> 2875</span>&#160;  <span class="keyword">const</span> <a class="code" href="../../d8/d9f/classCEvaluationNode.html">CEvaluationNode</a>* pChild = <span class="keyword">dynamic_cast&lt;</span><span class="keyword">const </span><a class="code" href="../../d8/d9f/classCEvaluationNode.html">CEvaluationNode</a>*<span class="keyword">&gt;</span>(node.<a class="code" href="../../d9/d9d/classCCopasiNode.html#acad859fb98cfa7f9d328a1cf1ee57023">getChild</a>());</div>
<div class="line"><a name="l02876"></a><span class="lineno"> 2876</span>&#160;</div>
<div class="line"><a name="l02877"></a><span class="lineno"> 2877</span>&#160;  <span class="keywordflow">while</span> (pChild != NULL)</div>
<div class="line"><a name="l02878"></a><span class="lineno"> 2878</span>&#160;    {</div>
<div class="line"><a name="l02879"></a><span class="lineno"> 2879</span>&#160;      <a class="code" href="../../df/d80/classCSBMLExporter.html#a28e0706f0f87d1483643b251104ff00b">checkForUnsupportedFunctionCalls</a>(*pChild, unsupportedFunctions, result, objectDescription);</div>
<div class="line"><a name="l02880"></a><span class="lineno"> 2880</span>&#160;      pChild = <span class="keyword">dynamic_cast&lt;</span><span class="keyword">const </span><a class="code" href="../../d8/d9f/classCEvaluationNode.html">CEvaluationNode</a>*<span class="keyword">&gt;</span>(pChild-&gt;<a class="code" href="../../d9/d9d/classCCopasiNode.html#a0730aecebb9ca0f8401b7d0223e266e8">getSibling</a>());</div>
<div class="line"><a name="l02881"></a><span class="lineno"> 2881</span>&#160;    }</div>
<div class="line"><a name="l02882"></a><span class="lineno"> 2882</span>&#160;}</div>
<div class="ttc" id="classCEvaluationNodeFunction_html_a7d9eee722d7e2b7c7888b23838d7d604"><div class="ttname"><a href="../../d8/dcb/classCEvaluationNodeFunction.html#a7d9eee722d7e2b7c7888b23838d7d604">CEvaluationNodeFunction::SubType</a></div><div class="ttdeci">SubType</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d4d/CEvaluationNodeFunction_8h_source.html#l00049">CEvaluationNodeFunction.h:49</a></div></div>
<div class="ttc" id="classCCopasiNode_html_a0730aecebb9ca0f8401b7d0223e266e8"><div class="ttname"><a href="../../d9/d9d/classCCopasiNode.html#a0730aecebb9ca0f8401b7d0223e266e8">CCopasiNode::getSibling</a></div><div class="ttdeci">CCopasiNode&lt; Data &gt; * getSibling()</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d24/CCopasiNode_8h_source.html#l00353">CCopasiNode.h:353</a></div></div>
<div class="ttc" id="classCEvaluationNode_html_ae24b55d848d78cec0a359fd199c76562"><div class="ttname"><a href="../../d8/d9f/classCEvaluationNode.html#ae24b55d848d78cec0a359fd199c76562">CEvaluationNode::getType</a></div><div class="ttdeci">const Type &amp; getType() const </div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d3d/CEvaluationNode_8cpp_source.html#l00357">CEvaluationNode.cpp:357</a></div></div>
<div class="ttc" id="classCEvaluationNode_html_aeef59b7ae37d1323a4900e5d19140491a9ae5f278d92322b21c5b101cd901d6fb"><div class="ttname"><a href="../../d8/d9f/classCEvaluationNode.html#aeef59b7ae37d1323a4900e5d19140491a9ae5f278d92322b21c5b101cd901d6fb">CEvaluationNode::FUNCTION</a></div><div class="ttdef"><b>Definition:</b> <a href="../../de/dfa/CEvaluationNode_8h_source.html#l00046">CEvaluationNode.h:46</a></div></div>
<div class="ttc" id="classSBMLIncompatibility_html"><div class="ttname"><a href="../../d7/de3/classSBMLIncompatibility.html">SBMLIncompatibility</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d95/SBMLIncompatibility_8h_source.html#l00024">SBMLIncompatibility.h:24</a></div></div>
<div class="ttc" id="classCSBMLExporter_html_a28e0706f0f87d1483643b251104ff00b"><div class="ttname"><a href="../../df/d80/classCSBMLExporter.html#a28e0706f0f87d1483643b251104ff00b">CSBMLExporter::checkForUnsupportedFunctionCalls</a></div><div class="ttdeci">void checkForUnsupportedFunctionCalls(const CCopasiDataModel &amp;dataModel, unsigned int sbmlLEvel, unsigned int sbmlVersion, std::vector&lt; SBMLIncompatibility &gt; &amp;result)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d2f/CSBMLExporter_8cpp_source.html#l02786">CSBMLExporter.cpp:2786</a></div></div>
<div class="ttc" id="classCEvaluationNode_html_a9e5fcf60f22d2701417f90756847d37b"><div class="ttname"><a href="../../d8/d9f/classCEvaluationNode.html#a9e5fcf60f22d2701417f90756847d37b">CEvaluationNode::type</a></div><div class="ttdeci">static Type type(const Type &amp;type)</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d3d/CEvaluationNode_8cpp_source.html#l00123">CEvaluationNode.cpp:123</a></div></div>
<div class="ttc" id="classCEvaluationNode_html_a2cb02df3d57dad7ad1f9654941135c31"><div class="ttname"><a href="../../d8/d9f/classCEvaluationNode.html#a2cb02df3d57dad7ad1f9654941135c31">CEvaluationNode::subType</a></div><div class="ttdeci">static Type subType(const Type &amp;type)</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d3d/CEvaluationNode_8cpp_source.html#l00120">CEvaluationNode.cpp:120</a></div></div>
<div class="ttc" id="classCEvaluationNode_html"><div class="ttname"><a href="../../d8/d9f/classCEvaluationNode.html">CEvaluationNode</a></div><div class="ttdef"><b>Definition:</b> <a href="../../de/dfa/CEvaluationNode_8h_source.html#l00033">CEvaluationNode.h:33</a></div></div>
<div class="ttc" id="classCCopasiNode_html_a761f04c57a75e99a63ee0700c76fdafe"><div class="ttname"><a href="../../d9/d9d/classCCopasiNode.html#a761f04c57a75e99a63ee0700c76fdafe">CCopasiNode::getData</a></div><div class="ttdeci">virtual const Data &amp; getData() const </div><div class="ttdef"><b>Definition:</b> <a href="../../de/d24/CCopasiNode_8h_source.html#l00118">CCopasiNode.h:118</a></div></div>
<div class="ttc" id="classCCopasiNode_html_acad859fb98cfa7f9d328a1cf1ee57023"><div class="ttname"><a href="../../d9/d9d/classCCopasiNode.html#acad859fb98cfa7f9d328a1cf1ee57023">CCopasiNode::getChild</a></div><div class="ttdeci">CCopasiNode&lt; Data &gt; * getChild()</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d24/CCopasiNode_8h_source.html#l00210">CCopasiNode.h:210</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a6d7dd5df891e397605186a3c02862c9f"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d3/d05/CChemEqParser__yacc_8cpp.html#aa76fec002b4ba91adc88f68d56ba730c">void</a> CSBMLExporter::checkForUnsupportedObjectReferences </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="../../d4/d18/classCCopasiDataModel.html">CCopasiDataModel</a> &amp;&#160;</td>
          <td class="paramname"><em>dataModel</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned int&#160;</td>
          <td class="paramname"><em>sbmlLevel</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned int&#160;</td>
          <td class="paramname"><em>sbmlVersion</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::vector&lt; <a class="el" href="../../d7/de3/classSBMLIncompatibility.html">SBMLIncompatibility</a> &gt; &amp;&#160;</td>
          <td class="paramname"><em>result</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Checks all assignments (initial and transient) for references to objects that can not be exported to SBML. </p>

<p>Definition at line <a class="el" href="../../d5/d2f/CSBMLExporter_8cpp_source.html#l02284">2284</a> of file <a class="el" href="../../d5/d2f/CSBMLExporter_8cpp_source.html">CSBMLExporter.cpp</a>.</p>

<p>References <a class="el" href="../../d0/da0/classCModelEntity.html#a766cc9fa2fed8206e22e022932a60eee">CModelEntity::getExpressionPtr()</a>, <a class="el" href="../../d0/da0/classCModelEntity.html#a81973823a591e58112161570d7abac10">CModelEntity::getInitialExpressionPtr()</a>, <a class="el" href="../../d4/d18/classCCopasiDataModel.html#a2e65952e0caf0b2709d381cf949fec69">CCopasiDataModel::getModel()</a>, <a class="el" href="../../df/d80/classCSBMLExporter.html#ae2467a5206a20eae7445885970958380">mAssignmentVector</a>, <a class="el" href="../../df/d80/classCSBMLExporter.html#a1b30687327c5f035db028165254de116">mInitialAssignmentVector</a>, <a class="el" href="../../df/d80/classCSBMLExporter.html#ab85366b96bfd18cd3f7cf5ecc9b9d76b">mInitialValueMap</a>, and <a class="el" href="../../df/d80/classCSBMLExporter.html#a0e510c0403f40240d781206e3b224b69">mODEVector</a>.</p>

<p>Referenced by <a class="el" href="../../df/d80/classCSBMLExporter.html#aefa0189aa8976611a461b6de4142fdc7">isExpressionSBMLCompatible()</a>.</p>
<div class="fragment"><div class="line"><a name="l02285"></a><span class="lineno"> 2285</span>&#160;{</div>
<div class="line"><a name="l02286"></a><span class="lineno"> 2286</span>&#160;  <span class="comment">// check all metabolites,parameters and compartments</span></div>
<div class="line"><a name="l02287"></a><span class="lineno"> 2287</span>&#160;  <span class="keyword">const</span> <a class="code" href="../../d4/d04/classCModel.html">CModel</a>* pModel = dataModel.<a class="code" href="../../d4/d18/classCCopasiDataModel.html#a2e65952e0caf0b2709d381cf949fec69">getModel</a>();</div>
<div class="line"><a name="l02288"></a><span class="lineno"> 2288</span>&#160;  assert(pModel);</div>
<div class="line"><a name="l02289"></a><span class="lineno"> 2289</span>&#160;</div>
<div class="line"><a name="l02290"></a><span class="lineno"> 2290</span>&#160;  <span class="keywordflow">if</span> (pModel == NULL) <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l02291"></a><span class="lineno"> 2291</span>&#160;</div>
<div class="line"><a name="l02292"></a><span class="lineno"> 2292</span>&#160;  <span class="keywordtype">size_t</span> i, iMax = this-&gt;<a class="code" href="../../df/d80/classCSBMLExporter.html#ae2467a5206a20eae7445885970958380">mAssignmentVector</a>.size();</div>
<div class="line"><a name="l02293"></a><span class="lineno"> 2293</span>&#160;  <span class="keyword">const</span> <a class="code" href="../../d0/da0/classCModelEntity.html">CModelEntity</a>* pME;</div>
<div class="line"><a name="l02294"></a><span class="lineno"> 2294</span>&#160;</div>
<div class="line"><a name="l02295"></a><span class="lineno"> 2295</span>&#160;  <span class="keywordflow">for</span> (i = 0; i &lt; iMax; ++i)</div>
<div class="line"><a name="l02296"></a><span class="lineno"> 2296</span>&#160;    {</div>
<div class="line"><a name="l02297"></a><span class="lineno"> 2297</span>&#160;      pME = this-&gt;<a class="code" href="../../df/d80/classCSBMLExporter.html#ae2467a5206a20eae7445885970958380">mAssignmentVector</a>[i];</div>
<div class="line"><a name="l02298"></a><span class="lineno"> 2298</span>&#160;      assert(pME != NULL);</div>
<div class="line"><a name="l02299"></a><span class="lineno"> 2299</span>&#160;</div>
<div class="line"><a name="l02300"></a><span class="lineno"> 2300</span>&#160;      <span class="keywordflow">if</span> (pME != NULL)</div>
<div class="line"><a name="l02301"></a><span class="lineno"> 2301</span>&#160;        {</div>
<div class="line"><a name="l02302"></a><span class="lineno"> 2302</span>&#160;          <a class="code" href="../../df/d80/classCSBMLExporter.html#a6d7dd5df891e397605186a3c02862c9f">checkForUnsupportedObjectReferences</a>(*pME-&gt;<a class="code" href="../../d0/da0/classCModelEntity.html#a766cc9fa2fed8206e22e022932a60eee">getExpressionPtr</a>(), dataModel, sbmlLevel, sbmlVersion, result, <span class="keyword">false</span>, &amp;<a class="code" href="../../df/d80/classCSBMLExporter.html#ab85366b96bfd18cd3f7cf5ecc9b9d76b">mInitialValueMap</a>);</div>
<div class="line"><a name="l02303"></a><span class="lineno"> 2303</span>&#160;        }</div>
<div class="line"><a name="l02304"></a><span class="lineno"> 2304</span>&#160;    }</div>
<div class="line"><a name="l02305"></a><span class="lineno"> 2305</span>&#160;</div>
<div class="line"><a name="l02306"></a><span class="lineno"> 2306</span>&#160;  <span class="comment">// check ode rules</span></div>
<div class="line"><a name="l02307"></a><span class="lineno"> 2307</span>&#160;  iMax = this-&gt;<a class="code" href="../../df/d80/classCSBMLExporter.html#a0e510c0403f40240d781206e3b224b69">mODEVector</a>.size();</div>
<div class="line"><a name="l02308"></a><span class="lineno"> 2308</span>&#160;</div>
<div class="line"><a name="l02309"></a><span class="lineno"> 2309</span>&#160;  <span class="keywordflow">for</span> (i = 0; i &lt; iMax; ++i)</div>
<div class="line"><a name="l02310"></a><span class="lineno"> 2310</span>&#160;    {</div>
<div class="line"><a name="l02311"></a><span class="lineno"> 2311</span>&#160;      pME = this-&gt;<a class="code" href="../../df/d80/classCSBMLExporter.html#a0e510c0403f40240d781206e3b224b69">mODEVector</a>[i];</div>
<div class="line"><a name="l02312"></a><span class="lineno"> 2312</span>&#160;      assert(pME != NULL);</div>
<div class="line"><a name="l02313"></a><span class="lineno"> 2313</span>&#160;</div>
<div class="line"><a name="l02314"></a><span class="lineno"> 2314</span>&#160;      <span class="keywordflow">if</span> (pME != NULL)</div>
<div class="line"><a name="l02315"></a><span class="lineno"> 2315</span>&#160;        {</div>
<div class="line"><a name="l02316"></a><span class="lineno"> 2316</span>&#160;          <a class="code" href="../../df/d80/classCSBMLExporter.html#a6d7dd5df891e397605186a3c02862c9f">checkForUnsupportedObjectReferences</a>(*pME-&gt;<a class="code" href="../../d0/da0/classCModelEntity.html#a766cc9fa2fed8206e22e022932a60eee">getExpressionPtr</a>(), dataModel, sbmlLevel, sbmlVersion, result, <span class="keyword">false</span>, &amp;<a class="code" href="../../df/d80/classCSBMLExporter.html#ab85366b96bfd18cd3f7cf5ecc9b9d76b">mInitialValueMap</a>);</div>
<div class="line"><a name="l02317"></a><span class="lineno"> 2317</span>&#160;        }</div>
<div class="line"><a name="l02318"></a><span class="lineno"> 2318</span>&#160;    }</div>
<div class="line"><a name="l02319"></a><span class="lineno"> 2319</span>&#160;</div>
<div class="line"><a name="l02320"></a><span class="lineno"> 2320</span>&#160;  <span class="comment">// check initial assignments</span></div>
<div class="line"><a name="l02321"></a><span class="lineno"> 2321</span>&#160;  iMax = this-&gt;<a class="code" href="../../df/d80/classCSBMLExporter.html#a1b30687327c5f035db028165254de116">mInitialAssignmentVector</a>.size();</div>
<div class="line"><a name="l02322"></a><span class="lineno"> 2322</span>&#160;</div>
<div class="line"><a name="l02323"></a><span class="lineno"> 2323</span>&#160;  <span class="keywordflow">for</span> (i = 0; i &lt; iMax; ++i)</div>
<div class="line"><a name="l02324"></a><span class="lineno"> 2324</span>&#160;    {</div>
<div class="line"><a name="l02325"></a><span class="lineno"> 2325</span>&#160;      pME = this-&gt;<a class="code" href="../../df/d80/classCSBMLExporter.html#a1b30687327c5f035db028165254de116">mInitialAssignmentVector</a>[i];</div>
<div class="line"><a name="l02326"></a><span class="lineno"> 2326</span>&#160;      assert(pME != NULL);</div>
<div class="line"><a name="l02327"></a><span class="lineno"> 2327</span>&#160;</div>
<div class="line"><a name="l02328"></a><span class="lineno"> 2328</span>&#160;      <span class="keywordflow">if</span> (pME != NULL)</div>
<div class="line"><a name="l02329"></a><span class="lineno"> 2329</span>&#160;        {</div>
<div class="line"><a name="l02330"></a><span class="lineno"> 2330</span>&#160;          <a class="code" href="../../df/d80/classCSBMLExporter.html#a6d7dd5df891e397605186a3c02862c9f">checkForUnsupportedObjectReferences</a>(*pME-&gt;<a class="code" href="../../d0/da0/classCModelEntity.html#a81973823a591e58112161570d7abac10">getInitialExpressionPtr</a>(), dataModel, sbmlLevel, sbmlVersion, result, <span class="keyword">false</span>, &amp;<a class="code" href="../../df/d80/classCSBMLExporter.html#ab85366b96bfd18cd3f7cf5ecc9b9d76b">mInitialValueMap</a>);</div>
<div class="line"><a name="l02331"></a><span class="lineno"> 2331</span>&#160;        }</div>
<div class="line"><a name="l02332"></a><span class="lineno"> 2332</span>&#160;    }</div>
<div class="line"><a name="l02333"></a><span class="lineno"> 2333</span>&#160;}</div>
<div class="ttc" id="classCModelEntity_html_a766cc9fa2fed8206e22e022932a60eee"><div class="ttname"><a href="../../d0/da0/classCModelEntity.html#a766cc9fa2fed8206e22e022932a60eee">CModelEntity::getExpressionPtr</a></div><div class="ttdeci">const CExpression * getExpressionPtr() const </div><div class="ttdef"><b>Definition:</b> <a href="../../d8/da3/CModelValue_8cpp_source.html#l00250">CModelValue.cpp:250</a></div></div>
<div class="ttc" id="classCCopasiDataModel_html_a2e65952e0caf0b2709d381cf949fec69"><div class="ttname"><a href="../../d4/d18/classCCopasiDataModel.html#a2e65952e0caf0b2709d381cf949fec69">CCopasiDataModel::getModel</a></div><div class="ttdeci">CModel * getModel()</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d38/CCopasiDataModel_8cpp_source.html#l01407">CCopasiDataModel.cpp:1407</a></div></div>
<div class="ttc" id="classCModelEntity_html"><div class="ttname"><a href="../../d0/da0/classCModelEntity.html">CModelEntity</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d1/da3/CModelValue_8h_source.html#l00039">CModelValue.h:39</a></div></div>
<div class="ttc" id="classCSBMLExporter_html_ae2467a5206a20eae7445885970958380"><div class="ttname"><a href="../../df/d80/classCSBMLExporter.html#ae2467a5206a20eae7445885970958380">CSBMLExporter::mAssignmentVector</a></div><div class="ttdeci">std::vector&lt; CModelEntity * &gt; mAssignmentVector</div><div class="ttdef"><b>Definition:</b> <a href="../../da/d7f/CSBMLExporter_8h_source.html#l00058">CSBMLExporter.h:58</a></div></div>
<div class="ttc" id="classCSBMLExporter_html_ab85366b96bfd18cd3f7cf5ecc9b9d76b"><div class="ttname"><a href="../../df/d80/classCSBMLExporter.html#ab85366b96bfd18cd3f7cf5ecc9b9d76b">CSBMLExporter::mInitialValueMap</a></div><div class="ttdeci">std::map&lt; const std::string, Parameter * &gt; mInitialValueMap</div><div class="ttdef"><b>Definition:</b> <a href="../../da/d7f/CSBMLExporter_8h_source.html#l00079">CSBMLExporter.h:79</a></div></div>
<div class="ttc" id="classCSBMLExporter_html_a0e510c0403f40240d781206e3b224b69"><div class="ttname"><a href="../../df/d80/classCSBMLExporter.html#a0e510c0403f40240d781206e3b224b69">CSBMLExporter::mODEVector</a></div><div class="ttdeci">std::vector&lt; CModelEntity * &gt; mODEVector</div><div class="ttdef"><b>Definition:</b> <a href="../../da/d7f/CSBMLExporter_8h_source.html#l00059">CSBMLExporter.h:59</a></div></div>
<div class="ttc" id="classCModel_html"><div class="ttname"><a href="../../d4/d04/classCModel.html">CModel</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d90/CModel_8h_source.html#l00050">CModel.h:50</a></div></div>
<div class="ttc" id="classCSBMLExporter_html_a6d7dd5df891e397605186a3c02862c9f"><div class="ttname"><a href="../../df/d80/classCSBMLExporter.html#a6d7dd5df891e397605186a3c02862c9f">CSBMLExporter::checkForUnsupportedObjectReferences</a></div><div class="ttdeci">void checkForUnsupportedObjectReferences(const CCopasiDataModel &amp;dataModel, unsigned int sbmlLevel, unsigned int sbmlVersion, std::vector&lt; SBMLIncompatibility &gt; &amp;result)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d2f/CSBMLExporter_8cpp_source.html#l02284">CSBMLExporter.cpp:2284</a></div></div>
<div class="ttc" id="classCModelEntity_html_a81973823a591e58112161570d7abac10"><div class="ttname"><a href="../../d0/da0/classCModelEntity.html#a81973823a591e58112161570d7abac10">CModelEntity::getInitialExpressionPtr</a></div><div class="ttdeci">const CExpression * getInitialExpressionPtr() const </div><div class="ttdef"><b>Definition:</b> <a href="../../d8/da3/CModelValue_8cpp_source.html#l00294">CModelValue.cpp:294</a></div></div>
<div class="ttc" id="classCSBMLExporter_html_a1b30687327c5f035db028165254de116"><div class="ttname"><a href="../../df/d80/classCSBMLExporter.html#a1b30687327c5f035db028165254de116">CSBMLExporter::mInitialAssignmentVector</a></div><div class="ttdeci">std::vector&lt; CModelEntity * &gt; mInitialAssignmentVector</div><div class="ttdef"><b>Definition:</b> <a href="../../da/d7f/CSBMLExporter_8h_source.html#l00060">CSBMLExporter.h:60</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="aeba682d6dea1cc65f61f60d758e3b46a"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d3/d05/CChemEqParser__yacc_8cpp.html#aa76fec002b4ba91adc88f68d56ba730c">void</a> CSBMLExporter::checkForUnsupportedObjectReferences </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="../../d1/d50/classCEvaluationTree.html">CEvaluationTree</a> &amp;&#160;</td>
          <td class="paramname"><em>expression</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="../../d4/d18/classCCopasiDataModel.html">CCopasiDataModel</a> &amp;&#160;</td>
          <td class="paramname"><em>dataModel</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned int&#160;</td>
          <td class="paramname"><em>sbmlLevel</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned int&#160;</td>
          <td class="paramname"><em>sbmlVersion</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::vector&lt; <a class="el" href="../../d7/de3/classSBMLIncompatibility.html">SBMLIncompatibility</a> &gt; &amp;&#160;</td>
          <td class="paramname"><em>result</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>initialExpression</em> = <code>false</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::map&lt; const std::string, Parameter * &gt; *&#160;</td>
          <td class="paramname"><em>initialMap</em> = <code>NULL</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Checks the given expression for references to objects that can not be exported to SBML. </p>

<p>Definition at line <a class="el" href="../../d5/d2f/CSBMLExporter_8cpp_source.html#l02376">2376</a> of file <a class="el" href="../../d5/d2f/CSBMLExporter_8cpp_source.html">CSBMLExporter.cpp</a>.</p>

<p>References <a class="el" href="../../d5/d2f/CSBMLExporter_8cpp.html#a5871c2d2714854222dd5cba3e51c037c">addToInitialValueMap()</a>, <a class="el" href="../../d4/d18/classCCopasiDataModel.html#a2e65952e0caf0b2709d381cf949fec69">CCopasiDataModel::getModel()</a>, <a class="el" href="../../d1/d50/classCEvaluationTree.html#ad88d6a2c9d27418bd43609bbf97b3a94">CEvaluationTree::getNodeList()</a>, <a class="el" href="../../d8/d28/classCEvaluationNodeObject.html#a2920cda3967b2538926f94175ce10db8">CEvaluationNodeObject::getObjectCN()</a>, <a class="el" href="../../d4/da8/classCCopasiObject.html#a879d6756b51f6b58d307940e1343bd10">CCopasiObject::getObjectName()</a>, <a class="el" href="../../d4/da8/classCCopasiObject.html#a33bb5035eec7ebc5e3ecac4771316405">CCopasiObject::getObjectParent()</a>, <a class="el" href="../../d4/da8/classCCopasiObject.html#a56790cb06e1980712599250f3e695c6a">CCopasiObject::getObjectType()</a>, <a class="el" href="../../d4/da8/classCCopasiObject.html#aab9462de68df423ab9eaebaafabcf783">CCopasiObject::isReference()</a>, <a class="el" href="../../d8/d9f/classCEvaluationNode.html#aeef59b7ae37d1323a4900e5d19140491a373ef5eff2832cc83a380a1a6d5f17e7">CEvaluationNode::OBJECT</a>, <a class="el" href="../../d4/d18/classCCopasiDataModel.html#a9d54888c14c755abec4c757289ee26f7">CCopasiDataModel::ObjectFromName()</a>, and <a class="el" href="../../d8/d9f/classCEvaluationNode.html#a9e5fcf60f22d2701417f90756847d37b">CEvaluationNode::type()</a>.</p>
<div class="fragment"><div class="line"><a name="l02384"></a><span class="lineno"> 2384</span>&#160;{</div>
<div class="line"><a name="l02385"></a><span class="lineno"> 2385</span>&#160;  <span class="comment">// SBML Level 1 and Level 2 Version 1 can have references to transient values of</span></div>
<div class="line"><a name="l02386"></a><span class="lineno"> 2386</span>&#160;  <span class="comment">// compartments, metabolites and global parameters as well as time (model)</span></div>
<div class="line"><a name="l02387"></a><span class="lineno"> 2387</span>&#160;</div>
<div class="line"><a name="l02388"></a><span class="lineno"> 2388</span>&#160;  <span class="comment">// SBML Level 2 Version 2 and above can have the same references as level 1 plus references to</span></div>
<div class="line"><a name="l02389"></a><span class="lineno"> 2389</span>&#160;  <span class="comment">// reaction fluxes.</span></div>
<div class="line"><a name="l02390"></a><span class="lineno"> 2390</span>&#160;</div>
<div class="line"><a name="l02391"></a><span class="lineno"> 2391</span>&#160;  <span class="comment">// Starting with COPASI Build 30 references to local parameters are allowed</span></div>
<div class="line"><a name="l02392"></a><span class="lineno"> 2392</span>&#160;  <span class="comment">// as well because they are converted to global parameters</span></div>
<div class="line"><a name="l02393"></a><span class="lineno"> 2393</span>&#160;  <span class="keyword">const</span> std::vector&lt;CEvaluationNode*&gt;&amp; objectNodes = expr.getNodeList();</div>
<div class="line"><a name="l02394"></a><span class="lineno"> 2394</span>&#160;  <span class="keywordtype">size_t</span> j, jMax = objectNodes.size();</div>
<div class="line"><a name="l02395"></a><span class="lineno"> 2395</span>&#160;</div>
<div class="line"><a name="l02396"></a><span class="lineno"> 2396</span>&#160;  <span class="keywordflow">for</span> (j = 0; j &lt; jMax; ++j)</div>
<div class="line"><a name="l02397"></a><span class="lineno"> 2397</span>&#160;    {</div>
<div class="line"><a name="l02398"></a><span class="lineno"> 2398</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="../../d8/d9f/classCEvaluationNode.html#a9e5fcf60f22d2701417f90756847d37b">CEvaluationNode::type</a>(objectNodes[j]-&gt;getType()) == <a class="code" href="../../d8/d9f/classCEvaluationNode.html#aeef59b7ae37d1323a4900e5d19140491a373ef5eff2832cc83a380a1a6d5f17e7">CEvaluationNode::OBJECT</a>)</div>
<div class="line"><a name="l02399"></a><span class="lineno"> 2399</span>&#160;        {</div>
<div class="line"><a name="l02400"></a><span class="lineno"> 2400</span>&#160;          <span class="keyword">const</span> <a class="code" href="../../d8/d28/classCEvaluationNodeObject.html">CEvaluationNodeObject</a>* pObjectNode = <span class="keyword">dynamic_cast&lt;</span><span class="keyword">const </span><a class="code" href="../../d8/d28/classCEvaluationNodeObject.html">CEvaluationNodeObject</a>*<span class="keyword">&gt;</span>(objectNodes[j]);</div>
<div class="line"><a name="l02401"></a><span class="lineno"> 2401</span>&#160;          assert(pObjectNode);</div>
<div class="line"><a name="l02402"></a><span class="lineno"> 2402</span>&#160;</div>
<div class="line"><a name="l02403"></a><span class="lineno"> 2403</span>&#160;          <span class="keywordflow">if</span> (pObjectNode == NULL) <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l02404"></a><span class="lineno"> 2404</span>&#160;</div>
<div class="line"><a name="l02405"></a><span class="lineno"> 2405</span>&#160;          std::vector&lt;CCopasiContainer*&gt; containers;</div>
<div class="line"><a name="l02406"></a><span class="lineno"> 2406</span>&#160;          containers.push_back(const_cast&lt;CModel*&gt;(dataModel.<a class="code" href="../../d4/d18/classCCopasiDataModel.html#a2e65952e0caf0b2709d381cf949fec69">getModel</a>()));</div>
<div class="line"><a name="l02407"></a><span class="lineno"> 2407</span>&#160;          <span class="keyword">const</span> <a class="code" href="../../d4/da8/classCCopasiObject.html">CCopasiObject</a>* pObject =</div>
<div class="line"><a name="l02408"></a><span class="lineno"> 2408</span>&#160;            dataModel.<a class="code" href="../../d4/d18/classCCopasiDataModel.html#a9d54888c14c755abec4c757289ee26f7">ObjectFromName</a>(containers, pObjectNode-&gt;<a class="code" href="../../d8/d28/classCEvaluationNodeObject.html#a2920cda3967b2538926f94175ce10db8">getObjectCN</a>());</div>
<div class="line"><a name="l02409"></a><span class="lineno"> 2409</span>&#160;          assert(pObject);</div>
<div class="line"><a name="l02410"></a><span class="lineno"> 2410</span>&#160;</div>
<div class="line"><a name="l02411"></a><span class="lineno"> 2411</span>&#160;          <span class="keywordflow">if</span> (pObject-&gt;<a class="code" href="../../d4/da8/classCCopasiObject.html#aab9462de68df423ab9eaebaafabcf783">isReference</a>())</div>
<div class="line"><a name="l02412"></a><span class="lineno"> 2412</span>&#160;            {</div>
<div class="line"><a name="l02413"></a><span class="lineno"> 2413</span>&#160;              <span class="keyword">const</span> <a class="code" href="../../d4/da8/classCCopasiObject.html">CCopasiObject</a>* pObjectParent = pObject-&gt;<a class="code" href="../../d4/da8/classCCopasiObject.html#a33bb5035eec7ebc5e3ecac4771316405">getObjectParent</a>();</div>
<div class="line"><a name="l02414"></a><span class="lineno"> 2414</span>&#160;              assert(pObjectParent);</div>
<div class="line"><a name="l02415"></a><span class="lineno"> 2415</span>&#160;              std::string typeString = pObjectParent-&gt;<a class="code" href="../../d4/da8/classCCopasiObject.html#a56790cb06e1980712599250f3e695c6a">getObjectType</a>();</div>
<div class="line"><a name="l02416"></a><span class="lineno"> 2416</span>&#160;</div>
<div class="line"><a name="l02417"></a><span class="lineno"> 2417</span>&#160;              <span class="keywordflow">if</span> (typeString == <span class="stringliteral">&quot;Compartment&quot;</span>)</div>
<div class="line"><a name="l02418"></a><span class="lineno"> 2418</span>&#160;                {</div>
<div class="line"><a name="l02419"></a><span class="lineno"> 2419</span>&#160;                  <span class="comment">// must be a reference to the (transient) or initial volume</span></div>
<div class="line"><a name="l02420"></a><span class="lineno"> 2420</span>&#160;                  <span class="keywordflow">if</span> (initialExpression == <span class="keyword">true</span>)</div>
<div class="line"><a name="l02421"></a><span class="lineno"> 2421</span>&#160;                    {</div>
<div class="line"><a name="l02422"></a><span class="lineno"> 2422</span>&#160;                      <span class="keywordflow">if</span> (pObject-&gt;<a class="code" href="../../d4/da8/classCCopasiObject.html#a879d6756b51f6b58d307940e1343bd10">getObjectName</a>() != <span class="stringliteral">&quot;InitialVolume&quot;</span>)</div>
<div class="line"><a name="l02423"></a><span class="lineno"> 2423</span>&#160;                        {</div>
<div class="line"><a name="l02424"></a><span class="lineno"> 2424</span>&#160;                          result.push_back(<a class="code" href="../../d7/de3/classSBMLIncompatibility.html">SBMLIncompatibility</a>(1, pObject-&gt;<a class="code" href="../../d4/da8/classCCopasiObject.html#a879d6756b51f6b58d307940e1343bd10">getObjectName</a>().c_str(), <span class="stringliteral">&quot;compartment&quot;</span>, pObjectParent-&gt;<a class="code" href="../../d4/da8/classCCopasiObject.html#a879d6756b51f6b58d307940e1343bd10">getObjectName</a>().c_str()));</div>
<div class="line"><a name="l02425"></a><span class="lineno"> 2425</span>&#160;                        }</div>
<div class="line"><a name="l02426"></a><span class="lineno"> 2426</span>&#160;                    }</div>
<div class="line"><a name="l02427"></a><span class="lineno"> 2427</span>&#160;                  <span class="keywordflow">else</span></div>
<div class="line"><a name="l02428"></a><span class="lineno"> 2428</span>&#160;                    {</div>
<div class="line"><a name="l02429"></a><span class="lineno"> 2429</span>&#160;                      <span class="keywordflow">if</span> (pObject-&gt;<a class="code" href="../../d4/da8/classCCopasiObject.html#a879d6756b51f6b58d307940e1343bd10">getObjectName</a>() == <span class="stringliteral">&quot;InitialVolume&quot;</span></div>
<div class="line"><a name="l02430"></a><span class="lineno"> 2430</span>&#160;                          &amp;&amp; initialMap != NULL</div>
<div class="line"><a name="l02431"></a><span class="lineno"> 2431</span>&#160;                          &amp;&amp; (sbmlLevel &gt; 2 || (sbmlLevel == 2 &amp;&amp; sbmlVersion &gt; 1)))</div>
<div class="line"><a name="l02432"></a><span class="lineno"> 2432</span>&#160;                        {</div>
<div class="line"><a name="l02433"></a><span class="lineno"> 2433</span>&#160;                          <span class="comment">// add new parameter for the initial value</span></div>
<div class="line"><a name="l02434"></a><span class="lineno"> 2434</span>&#160;                          <a class="code" href="../../d5/d2f/CSBMLExporter_8cpp.html#a5871c2d2714854222dd5cba3e51c037c">addToInitialValueMap</a>(initialMap, pObject, pObjectParent, sbmlLevel, sbmlVersion);</div>
<div class="line"><a name="l02435"></a><span class="lineno"> 2435</span>&#160;                        }</div>
<div class="line"><a name="l02436"></a><span class="lineno"> 2436</span>&#160;                      <span class="keywordflow">else</span> <span class="keywordflow">if</span> (pObject-&gt;<a class="code" href="../../d4/da8/classCCopasiObject.html#a879d6756b51f6b58d307940e1343bd10">getObjectName</a>() != <span class="stringliteral">&quot;Volume&quot;</span></div>
<div class="line"><a name="l02437"></a><span class="lineno"> 2437</span>&#160;                               &amp;&amp; pObject-&gt;<a class="code" href="../../d4/da8/classCCopasiObject.html#a879d6756b51f6b58d307940e1343bd10">getObjectName</a>() != <span class="stringliteral">&quot;Rate&quot;</span>)</div>
<div class="line"><a name="l02438"></a><span class="lineno"> 2438</span>&#160;                        {</div>
<div class="line"><a name="l02439"></a><span class="lineno"> 2439</span>&#160;                          result.push_back(<a class="code" href="../../d7/de3/classSBMLIncompatibility.html">SBMLIncompatibility</a>(1, pObject-&gt;<a class="code" href="../../d4/da8/classCCopasiObject.html#a879d6756b51f6b58d307940e1343bd10">getObjectName</a>().c_str(), <span class="stringliteral">&quot;compartment&quot;</span>, pObjectParent-&gt;<a class="code" href="../../d4/da8/classCCopasiObject.html#a879d6756b51f6b58d307940e1343bd10">getObjectName</a>().c_str()));</div>
<div class="line"><a name="l02440"></a><span class="lineno"> 2440</span>&#160;                        }</div>
<div class="line"><a name="l02441"></a><span class="lineno"> 2441</span>&#160;                    }</div>
<div class="line"><a name="l02442"></a><span class="lineno"> 2442</span>&#160;                }</div>
<div class="line"><a name="l02443"></a><span class="lineno"> 2443</span>&#160;              <span class="keywordflow">else</span> <span class="keywordflow">if</span> (typeString == <span class="stringliteral">&quot;Metabolite&quot;</span>)</div>
<div class="line"><a name="l02444"></a><span class="lineno"> 2444</span>&#160;                {</div>
<div class="line"><a name="l02445"></a><span class="lineno"> 2445</span>&#160;                  <span class="comment">// must be a reference to the transient or initial concentration</span></div>
<div class="line"><a name="l02446"></a><span class="lineno"> 2446</span>&#160;                  <span class="keywordflow">if</span> (initialExpression == <span class="keyword">true</span>)</div>
<div class="line"><a name="l02447"></a><span class="lineno"> 2447</span>&#160;                    {</div>
<div class="line"><a name="l02448"></a><span class="lineno"> 2448</span>&#160;                      <span class="keywordflow">if</span> (pObject-&gt;<a class="code" href="../../d4/da8/classCCopasiObject.html#a879d6756b51f6b58d307940e1343bd10">getObjectName</a>() != <span class="stringliteral">&quot;InitialConcentration&quot;</span> &amp;&amp; pObject-&gt;<a class="code" href="../../d4/da8/classCCopasiObject.html#a879d6756b51f6b58d307940e1343bd10">getObjectName</a>() != <span class="stringliteral">&quot;InitialParticleNumber&quot;</span>)</div>
<div class="line"><a name="l02449"></a><span class="lineno"> 2449</span>&#160;                        {</div>
<div class="line"><a name="l02450"></a><span class="lineno"> 2450</span>&#160;                          result.push_back(<a class="code" href="../../d7/de3/classSBMLIncompatibility.html">SBMLIncompatibility</a>(1, pObject-&gt;<a class="code" href="../../d4/da8/classCCopasiObject.html#a879d6756b51f6b58d307940e1343bd10">getObjectName</a>().c_str(), <span class="stringliteral">&quot;metabolite&quot;</span>, pObjectParent-&gt;<a class="code" href="../../d4/da8/classCCopasiObject.html#a879d6756b51f6b58d307940e1343bd10">getObjectName</a>().c_str()));</div>
<div class="line"><a name="l02451"></a><span class="lineno"> 2451</span>&#160;                        }</div>
<div class="line"><a name="l02452"></a><span class="lineno"> 2452</span>&#160;                    }</div>
<div class="line"><a name="l02453"></a><span class="lineno"> 2453</span>&#160;                  <span class="keywordflow">else</span></div>
<div class="line"><a name="l02454"></a><span class="lineno"> 2454</span>&#160;                    {</div>
<div class="line"><a name="l02455"></a><span class="lineno"> 2455</span>&#160;                      <span class="keywordflow">if</span> (pObject-&gt;<a class="code" href="../../d4/da8/classCCopasiObject.html#a879d6756b51f6b58d307940e1343bd10">getObjectName</a>() == <span class="stringliteral">&quot;InitialConcentration&quot;</span></div>
<div class="line"><a name="l02456"></a><span class="lineno"> 2456</span>&#160;                          &amp;&amp; initialMap != NULL</div>
<div class="line"><a name="l02457"></a><span class="lineno"> 2457</span>&#160;                          &amp;&amp; (sbmlLevel &gt; 2 || (sbmlLevel == 2 &amp;&amp; sbmlVersion &gt; 1)))</div>
<div class="line"><a name="l02458"></a><span class="lineno"> 2458</span>&#160;                        {</div>
<div class="line"><a name="l02459"></a><span class="lineno"> 2459</span>&#160;                          <span class="comment">// add new parameter for the initial value</span></div>
<div class="line"><a name="l02460"></a><span class="lineno"> 2460</span>&#160;                          <a class="code" href="../../d5/d2f/CSBMLExporter_8cpp.html#a5871c2d2714854222dd5cba3e51c037c">addToInitialValueMap</a>(initialMap, pObject, pObjectParent, sbmlLevel, sbmlVersion);</div>
<div class="line"><a name="l02461"></a><span class="lineno"> 2461</span>&#160;                        }</div>
<div class="line"><a name="l02462"></a><span class="lineno"> 2462</span>&#160;                      <span class="keywordflow">else</span> <span class="keywordflow">if</span> (pObject-&gt;<a class="code" href="../../d4/da8/classCCopasiObject.html#a879d6756b51f6b58d307940e1343bd10">getObjectName</a>() != <span class="stringliteral">&quot;Concentration&quot;</span></div>
<div class="line"><a name="l02463"></a><span class="lineno"> 2463</span>&#160;                               &amp;&amp; pObject-&gt;<a class="code" href="../../d4/da8/classCCopasiObject.html#a879d6756b51f6b58d307940e1343bd10">getObjectName</a>() != <span class="stringliteral">&quot;ParticleNumber&quot;</span></div>
<div class="line"><a name="l02464"></a><span class="lineno"> 2464</span>&#160;                               &amp;&amp; pObject-&gt;<a class="code" href="../../d4/da8/classCCopasiObject.html#a879d6756b51f6b58d307940e1343bd10">getObjectName</a>() != <span class="stringliteral">&quot;Rate&quot;</span>)</div>
<div class="line"><a name="l02465"></a><span class="lineno"> 2465</span>&#160;                        {</div>
<div class="line"><a name="l02466"></a><span class="lineno"> 2466</span>&#160;</div>
<div class="line"><a name="l02467"></a><span class="lineno"> 2467</span>&#160;                          result.push_back(<a class="code" href="../../d7/de3/classSBMLIncompatibility.html">SBMLIncompatibility</a>(1, pObject-&gt;<a class="code" href="../../d4/da8/classCCopasiObject.html#a879d6756b51f6b58d307940e1343bd10">getObjectName</a>().c_str(), <span class="stringliteral">&quot;metabolite&quot;</span>, pObjectParent-&gt;<a class="code" href="../../d4/da8/classCCopasiObject.html#a879d6756b51f6b58d307940e1343bd10">getObjectName</a>().c_str()));</div>
<div class="line"><a name="l02468"></a><span class="lineno"> 2468</span>&#160;                        }</div>
<div class="line"><a name="l02469"></a><span class="lineno"> 2469</span>&#160;                    }</div>
<div class="line"><a name="l02470"></a><span class="lineno"> 2470</span>&#160;                }</div>
<div class="line"><a name="l02471"></a><span class="lineno"> 2471</span>&#160;              <span class="keywordflow">else</span> <span class="keywordflow">if</span> (typeString == <span class="stringliteral">&quot;ModelValue&quot;</span>)</div>
<div class="line"><a name="l02472"></a><span class="lineno"> 2472</span>&#160;                {</div>
<div class="line"><a name="l02473"></a><span class="lineno"> 2473</span>&#160;                  <span class="comment">// must be a reference to the transient or initial value</span></div>
<div class="line"><a name="l02474"></a><span class="lineno"> 2474</span>&#160;                  <span class="keywordflow">if</span> (initialExpression == <span class="keyword">true</span>)</div>
<div class="line"><a name="l02475"></a><span class="lineno"> 2475</span>&#160;                    {</div>
<div class="line"><a name="l02476"></a><span class="lineno"> 2476</span>&#160;                      <span class="keywordflow">if</span> (pObject-&gt;<a class="code" href="../../d4/da8/classCCopasiObject.html#a879d6756b51f6b58d307940e1343bd10">getObjectName</a>() != <span class="stringliteral">&quot;InitialValue&quot;</span>)</div>
<div class="line"><a name="l02477"></a><span class="lineno"> 2477</span>&#160;                        {</div>
<div class="line"><a name="l02478"></a><span class="lineno"> 2478</span>&#160;                          result.push_back(<a class="code" href="../../d7/de3/classSBMLIncompatibility.html">SBMLIncompatibility</a>(1, pObject-&gt;<a class="code" href="../../d4/da8/classCCopasiObject.html#a879d6756b51f6b58d307940e1343bd10">getObjectName</a>().c_str(), <span class="stringliteral">&quot;parameter&quot;</span>, pObjectParent-&gt;<a class="code" href="../../d4/da8/classCCopasiObject.html#a879d6756b51f6b58d307940e1343bd10">getObjectName</a>().c_str()));</div>
<div class="line"><a name="l02479"></a><span class="lineno"> 2479</span>&#160;                        }</div>
<div class="line"><a name="l02480"></a><span class="lineno"> 2480</span>&#160;                    }</div>
<div class="line"><a name="l02481"></a><span class="lineno"> 2481</span>&#160;                  <span class="keywordflow">else</span></div>
<div class="line"><a name="l02482"></a><span class="lineno"> 2482</span>&#160;                    {</div>
<div class="line"><a name="l02483"></a><span class="lineno"> 2483</span>&#160;                      <span class="keywordflow">if</span> (pObject-&gt;<a class="code" href="../../d4/da8/classCCopasiObject.html#a879d6756b51f6b58d307940e1343bd10">getObjectName</a>() == <span class="stringliteral">&quot;InitialValue&quot;</span></div>
<div class="line"><a name="l02484"></a><span class="lineno"> 2484</span>&#160;                          &amp;&amp; initialMap != NULL</div>
<div class="line"><a name="l02485"></a><span class="lineno"> 2485</span>&#160;                          &amp;&amp; (sbmlLevel &gt; 2 || (sbmlLevel == 2 &amp;&amp; sbmlVersion &gt; 1)))</div>
<div class="line"><a name="l02486"></a><span class="lineno"> 2486</span>&#160;                        {</div>
<div class="line"><a name="l02487"></a><span class="lineno"> 2487</span>&#160;                          <span class="comment">// add new parameter for the initial value</span></div>
<div class="line"><a name="l02488"></a><span class="lineno"> 2488</span>&#160;                          <a class="code" href="../../d5/d2f/CSBMLExporter_8cpp.html#a5871c2d2714854222dd5cba3e51c037c">addToInitialValueMap</a>(initialMap, pObject, pObjectParent, sbmlLevel, sbmlVersion);</div>
<div class="line"><a name="l02489"></a><span class="lineno"> 2489</span>&#160;                        }</div>
<div class="line"><a name="l02490"></a><span class="lineno"> 2490</span>&#160;                      <span class="keywordflow">else</span> <span class="keywordflow">if</span> (pObject-&gt;<a class="code" href="../../d4/da8/classCCopasiObject.html#a879d6756b51f6b58d307940e1343bd10">getObjectName</a>() != <span class="stringliteral">&quot;Value&quot;</span></div>
<div class="line"><a name="l02491"></a><span class="lineno"> 2491</span>&#160;                               &amp;&amp; pObject-&gt;<a class="code" href="../../d4/da8/classCCopasiObject.html#a879d6756b51f6b58d307940e1343bd10">getObjectName</a>() != <span class="stringliteral">&quot;Rate&quot;</span>)</div>
<div class="line"><a name="l02492"></a><span class="lineno"> 2492</span>&#160;                        {</div>
<div class="line"><a name="l02493"></a><span class="lineno"> 2493</span>&#160;                          result.push_back(<a class="code" href="../../d7/de3/classSBMLIncompatibility.html">SBMLIncompatibility</a>(1, pObject-&gt;<a class="code" href="../../d4/da8/classCCopasiObject.html#a879d6756b51f6b58d307940e1343bd10">getObjectName</a>().c_str(), <span class="stringliteral">&quot;parameter&quot;</span>, pObjectParent-&gt;<a class="code" href="../../d4/da8/classCCopasiObject.html#a879d6756b51f6b58d307940e1343bd10">getObjectName</a>().c_str()));</div>
<div class="line"><a name="l02494"></a><span class="lineno"> 2494</span>&#160;                        }</div>
<div class="line"><a name="l02495"></a><span class="lineno"> 2495</span>&#160;                    }</div>
<div class="line"><a name="l02496"></a><span class="lineno"> 2496</span>&#160;                }</div>
<div class="line"><a name="l02497"></a><span class="lineno"> 2497</span>&#160;              <span class="keywordflow">else</span> <span class="keywordflow">if</span> (typeString == <span class="stringliteral">&quot;Model&quot;</span>)</div>
<div class="line"><a name="l02498"></a><span class="lineno"> 2498</span>&#160;                {</div>
<div class="line"><a name="l02499"></a><span class="lineno"> 2499</span>&#160;                  <span class="comment">// must be a reference to the model time</span></div>
<div class="line"><a name="l02500"></a><span class="lineno"> 2500</span>&#160;                  <span class="keywordflow">if</span> (pObject-&gt;<a class="code" href="../../d4/da8/classCCopasiObject.html#a879d6756b51f6b58d307940e1343bd10">getObjectName</a>() != <span class="stringliteral">&quot;Time&quot;</span>)</div>
<div class="line"><a name="l02501"></a><span class="lineno"> 2501</span>&#160;                    {</div>
<div class="line"><a name="l02502"></a><span class="lineno"> 2502</span>&#160;                      result.push_back(<a class="code" href="../../d7/de3/classSBMLIncompatibility.html">SBMLIncompatibility</a>(1, pObject-&gt;<a class="code" href="../../d4/da8/classCCopasiObject.html#a879d6756b51f6b58d307940e1343bd10">getObjectName</a>().c_str(), <span class="stringliteral">&quot;model&quot;</span>, pObjectParent-&gt;<a class="code" href="../../d4/da8/classCCopasiObject.html#a879d6756b51f6b58d307940e1343bd10">getObjectName</a>().c_str()));</div>
<div class="line"><a name="l02503"></a><span class="lineno"> 2503</span>&#160;                    }</div>
<div class="line"><a name="l02504"></a><span class="lineno"> 2504</span>&#160;                }</div>
<div class="line"><a name="l02505"></a><span class="lineno"> 2505</span>&#160;              <span class="keywordflow">else</span> <span class="keywordflow">if</span> (typeString == <span class="stringliteral">&quot;Parameter&quot;</span>)</div>
<div class="line"><a name="l02506"></a><span class="lineno"> 2506</span>&#160;                {</div>
<div class="line"><a name="l02507"></a><span class="lineno"> 2507</span>&#160;                  <span class="comment">// must be a local parameter</span></div>
<div class="line"><a name="l02508"></a><span class="lineno"> 2508</span>&#160;                  <span class="keywordflow">if</span> (pObject-&gt;<a class="code" href="../../d4/da8/classCCopasiObject.html#a879d6756b51f6b58d307940e1343bd10">getObjectName</a>() != <span class="stringliteral">&quot;Value&quot;</span>)</div>
<div class="line"><a name="l02509"></a><span class="lineno"> 2509</span>&#160;                    {</div>
<div class="line"><a name="l02510"></a><span class="lineno"> 2510</span>&#160;                      result.push_back(<a class="code" href="../../d7/de3/classSBMLIncompatibility.html">SBMLIncompatibility</a>(1, pObject-&gt;<a class="code" href="../../d4/da8/classCCopasiObject.html#a879d6756b51f6b58d307940e1343bd10">getObjectName</a>().c_str(), <span class="stringliteral">&quot;local parameter&quot;</span>, pObjectParent-&gt;<a class="code" href="../../d4/da8/classCCopasiObject.html#a879d6756b51f6b58d307940e1343bd10">getObjectName</a>().c_str()));</div>
<div class="line"><a name="l02511"></a><span class="lineno"> 2511</span>&#160;                    }</div>
<div class="line"><a name="l02512"></a><span class="lineno"> 2512</span>&#160;                }</div>
<div class="line"><a name="l02513"></a><span class="lineno"> 2513</span>&#160;              <span class="keywordflow">else</span></div>
<div class="line"><a name="l02514"></a><span class="lineno"> 2514</span>&#160;                {</div>
<div class="line"><a name="l02515"></a><span class="lineno"> 2515</span>&#160;                  <span class="keywordflow">if</span> (sbmlLevel == 1 || (sbmlLevel == 2 &amp;&amp; sbmlVersion == 1))</div>
<div class="line"><a name="l02516"></a><span class="lineno"> 2516</span>&#160;                    {</div>
<div class="line"><a name="l02517"></a><span class="lineno"> 2517</span>&#160;                      result.push_back(<a class="code" href="../../d7/de3/classSBMLIncompatibility.html">SBMLIncompatibility</a>(10, pObject-&gt;<a class="code" href="../../d4/da8/classCCopasiObject.html#a879d6756b51f6b58d307940e1343bd10">getObjectName</a>().c_str(), typeString.c_str(), pObjectParent-&gt;<a class="code" href="../../d4/da8/classCCopasiObject.html#a879d6756b51f6b58d307940e1343bd10">getObjectName</a>().c_str()));</div>
<div class="line"><a name="l02518"></a><span class="lineno"> 2518</span>&#160;                    }</div>
<div class="line"><a name="l02519"></a><span class="lineno"> 2519</span>&#160;                  <span class="keywordflow">else</span></div>
<div class="line"><a name="l02520"></a><span class="lineno"> 2520</span>&#160;                    {</div>
<div class="line"><a name="l02521"></a><span class="lineno"> 2521</span>&#160;                      <span class="keywordflow">if</span> (typeString == <span class="stringliteral">&quot;Reaction&quot;</span>)</div>
<div class="line"><a name="l02522"></a><span class="lineno"> 2522</span>&#160;                        {</div>
<div class="line"><a name="l02523"></a><span class="lineno"> 2523</span>&#160;                          <span class="keywordflow">if</span> (pObject-&gt;<a class="code" href="../../d4/da8/classCCopasiObject.html#a879d6756b51f6b58d307940e1343bd10">getObjectName</a>() != <span class="stringliteral">&quot;Flux&quot;</span>)</div>
<div class="line"><a name="l02524"></a><span class="lineno"> 2524</span>&#160;                            {</div>
<div class="line"><a name="l02525"></a><span class="lineno"> 2525</span>&#160;                              result.push_back(<a class="code" href="../../d7/de3/classSBMLIncompatibility.html">SBMLIncompatibility</a>(1, pObject-&gt;<a class="code" href="../../d4/da8/classCCopasiObject.html#a879d6756b51f6b58d307940e1343bd10">getObjectName</a>().c_str(), <span class="stringliteral">&quot;reaction&quot;</span>, pObjectParent-&gt;<a class="code" href="../../d4/da8/classCCopasiObject.html#a879d6756b51f6b58d307940e1343bd10">getObjectName</a>().c_str()));</div>
<div class="line"><a name="l02526"></a><span class="lineno"> 2526</span>&#160;                            }</div>
<div class="line"><a name="l02527"></a><span class="lineno"> 2527</span>&#160;                        }</div>
<div class="line"><a name="l02528"></a><span class="lineno"> 2528</span>&#160;                    }</div>
<div class="line"><a name="l02529"></a><span class="lineno"> 2529</span>&#160;                }</div>
<div class="line"><a name="l02530"></a><span class="lineno"> 2530</span>&#160;            }</div>
<div class="line"><a name="l02531"></a><span class="lineno"> 2531</span>&#160;          <span class="keywordflow">else</span></div>
<div class="line"><a name="l02532"></a><span class="lineno"> 2532</span>&#160;            {</div>
<div class="line"><a name="l02533"></a><span class="lineno"> 2533</span>&#160;              <span class="comment">// normally local parameters are referenced via their value and</span></div>
<div class="line"><a name="l02534"></a><span class="lineno"> 2534</span>&#160;              <span class="comment">// not directly, so this code should never be called</span></div>
<div class="line"><a name="l02535"></a><span class="lineno"> 2535</span>&#160;              <span class="keyword">const</span> <a class="code" href="../../d5/db6/classCCopasiParameter.html">CCopasiParameter</a>* pLocalParameter = <span class="keyword">dynamic_cast&lt;</span><span class="keyword">const </span><a class="code" href="../../d5/db6/classCCopasiParameter.html">CCopasiParameter</a>*<span class="keyword">&gt;</span>(pObject);</div>
<div class="line"><a name="l02536"></a><span class="lineno"> 2536</span>&#160;</div>
<div class="line"><a name="l02537"></a><span class="lineno"> 2537</span>&#160;              <span class="keywordflow">if</span> (pLocalParameter == NULL)</div>
<div class="line"><a name="l02538"></a><span class="lineno"> 2538</span>&#160;                {</div>
<div class="line"><a name="l02539"></a><span class="lineno"> 2539</span>&#160;                  result.push_back(<a class="code" href="../../d7/de3/classSBMLIncompatibility.html">SBMLIncompatibility</a>(1, <span class="stringliteral">&quot;value&quot;</span>, pObject-&gt;<a class="code" href="../../d4/da8/classCCopasiObject.html#a56790cb06e1980712599250f3e695c6a">getObjectType</a>().c_str() , pObject-&gt;<a class="code" href="../../d4/da8/classCCopasiObject.html#a879d6756b51f6b58d307940e1343bd10">getObjectName</a>().c_str()));</div>
<div class="line"><a name="l02540"></a><span class="lineno"> 2540</span>&#160;                }</div>
<div class="line"><a name="l02541"></a><span class="lineno"> 2541</span>&#160;            }</div>
<div class="line"><a name="l02542"></a><span class="lineno"> 2542</span>&#160;        }</div>
<div class="line"><a name="l02543"></a><span class="lineno"> 2543</span>&#160;    }</div>
<div class="line"><a name="l02544"></a><span class="lineno"> 2544</span>&#160;}</div>
<div class="ttc" id="classCCopasiDataModel_html_a2e65952e0caf0b2709d381cf949fec69"><div class="ttname"><a href="../../d4/d18/classCCopasiDataModel.html#a2e65952e0caf0b2709d381cf949fec69">CCopasiDataModel::getModel</a></div><div class="ttdeci">CModel * getModel()</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d38/CCopasiDataModel_8cpp_source.html#l01407">CCopasiDataModel.cpp:1407</a></div></div>
<div class="ttc" id="classCCopasiObject_html_a879d6756b51f6b58d307940e1343bd10"><div class="ttname"><a href="../../d4/da8/classCCopasiObject.html#a879d6756b51f6b58d307940e1343bd10">CCopasiObject::getObjectName</a></div><div class="ttdeci">const std::string &amp; getObjectName() const </div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d22/CCopasiObject_8cpp_source.html#l00258">CCopasiObject.cpp:258</a></div></div>
<div class="ttc" id="classCEvaluationNodeObject_html_a2920cda3967b2538926f94175ce10db8"><div class="ttname"><a href="../../d8/d28/classCEvaluationNodeObject.html#a2920cda3967b2538926f94175ce10db8">CEvaluationNodeObject::getObjectCN</a></div><div class="ttdeci">const CRegisteredObjectName &amp; getObjectCN() const </div><div class="ttdef"><b>Definition:</b> <a href="../../d8/db2/CEvaluationNodeObject_8cpp_source.html#l00351">CEvaluationNodeObject.cpp:351</a></div></div>
<div class="ttc" id="classCCopasiObject_html"><div class="ttname"><a href="../../d4/da8/classCCopasiObject.html">CCopasiObject</a></div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d9f/CCopasiObject_8h_source.html#l00216">CCopasiObject.h:216</a></div></div>
<div class="ttc" id="classCCopasiObject_html_a56790cb06e1980712599250f3e695c6a"><div class="ttname"><a href="../../d4/da8/classCCopasiObject.html#a56790cb06e1980712599250f3e695c6a">CCopasiObject::getObjectType</a></div><div class="ttdeci">const std::string &amp; getObjectType() const </div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d22/CCopasiObject_8cpp_source.html#l00260">CCopasiObject.cpp:260</a></div></div>
<div class="ttc" id="classCCopasiParameter_html"><div class="ttname"><a href="../../d5/db6/classCCopasiParameter.html">CCopasiParameter</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d9/df7/CCopasiParameter_8h_source.html#l00035">CCopasiParameter.h:35</a></div></div>
<div class="ttc" id="classCEvaluationNode_html_aeef59b7ae37d1323a4900e5d19140491a373ef5eff2832cc83a380a1a6d5f17e7"><div class="ttname"><a href="../../d8/d9f/classCEvaluationNode.html#aeef59b7ae37d1323a4900e5d19140491a373ef5eff2832cc83a380a1a6d5f17e7">CEvaluationNode::OBJECT</a></div><div class="ttdef"><b>Definition:</b> <a href="../../de/dfa/CEvaluationNode_8h_source.html#l00045">CEvaluationNode.h:45</a></div></div>
<div class="ttc" id="classSBMLIncompatibility_html"><div class="ttname"><a href="../../d7/de3/classSBMLIncompatibility.html">SBMLIncompatibility</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d95/SBMLIncompatibility_8h_source.html#l00024">SBMLIncompatibility.h:24</a></div></div>
<div class="ttc" id="classCEvaluationNode_html_a9e5fcf60f22d2701417f90756847d37b"><div class="ttname"><a href="../../d8/d9f/classCEvaluationNode.html#a9e5fcf60f22d2701417f90756847d37b">CEvaluationNode::type</a></div><div class="ttdeci">static Type type(const Type &amp;type)</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d3d/CEvaluationNode_8cpp_source.html#l00123">CEvaluationNode.cpp:123</a></div></div>
<div class="ttc" id="CSBMLExporter_8cpp_html_a5871c2d2714854222dd5cba3e51c037c"><div class="ttname"><a href="../../d5/d2f/CSBMLExporter_8cpp.html#a5871c2d2714854222dd5cba3e51c037c">addToInitialValueMap</a></div><div class="ttdeci">void addToInitialValueMap(std::map&lt; const std::string, Parameter * &gt; *initialMap, const CCopasiObject *pObject, const CCopasiObject *pObjectParent, int sbmlLevel, int sbmlVersion)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d2f/CSBMLExporter_8cpp_source.html#l02347">CSBMLExporter.cpp:2347</a></div></div>
<div class="ttc" id="classCCopasiObject_html_aab9462de68df423ab9eaebaafabcf783"><div class="ttname"><a href="../../d4/da8/classCCopasiObject.html#aab9462de68df423ab9eaebaafabcf783">CCopasiObject::isReference</a></div><div class="ttdeci">bool isReference() const </div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d22/CCopasiObject_8cpp_source.html#l00572">CCopasiObject.cpp:572</a></div></div>
<div class="ttc" id="classCEvaluationNodeObject_html"><div class="ttname"><a href="../../d8/d28/classCEvaluationNodeObject.html">CEvaluationNodeObject</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d59/CEvaluationNodeObject_8h_source.html#l00034">CEvaluationNodeObject.h:34</a></div></div>
<div class="ttc" id="classCCopasiDataModel_html_a9d54888c14c755abec4c757289ee26f7"><div class="ttname"><a href="../../d4/d18/classCCopasiDataModel.html#a9d54888c14c755abec4c757289ee26f7">CCopasiDataModel::ObjectFromName</a></div><div class="ttdeci">CCopasiObject * ObjectFromName(const std::vector&lt; CCopasiContainer * &gt; &amp;listOfContainer, const CCopasiObjectName &amp;CN) const </div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d38/CCopasiDataModel_8cpp_source.html#l01940">CCopasiDataModel.cpp:1940</a></div></div>
<div class="ttc" id="classCCopasiObject_html_a33bb5035eec7ebc5e3ecac4771316405"><div class="ttname"><a href="../../d4/da8/classCCopasiObject.html#a33bb5035eec7ebc5e3ecac4771316405">CCopasiObject::getObjectParent</a></div><div class="ttdeci">CCopasiContainer * getObjectParent() const </div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d22/CCopasiObject_8cpp_source.html#l00276">CCopasiObject.cpp:276</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a465e0e27fef68f20231be2de837b71b2"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d3/d05/CChemEqParser__yacc_8cpp.html#aa76fec002b4ba91adc88f68d56ba730c">void</a> CSBMLExporter::collectIds </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="../../d4/d18/classCCopasiDataModel.html">CCopasiDataModel</a> &amp;&#160;</td>
          <td class="paramname"><em>dataModel</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::map&lt; std::string, const SBase * &gt; &amp;&#160;</td>
          <td class="paramname"><em>idMap</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>This method goes through the given datamodel and collects all SBML ids. </p>

<p>Definition at line <a class="el" href="../../d5/d2f/CSBMLExporter_8cpp_source.html#l07465">7465</a> of file <a class="el" href="../../d5/d2f/CSBMLExporter_8cpp_source.html">CSBMLExporter.cpp</a>.</p>

<p>References <a class="el" href="../../d4/d04/classCModel.html#a7d405db8dc8120b942aa0ec1e80db399">CModel::getCompartments()</a>, <a class="el" href="../../d4/d04/classCModel.html#ad55cc48064428d703cee3e69b71e4703">CModel::getEvents()</a>, <a class="el" href="../../d3/db1/classCCopasiRootContainer.html#afd5e8541f181260daf7515b28f0612c3">CCopasiRootContainer::getFunctionList()</a>, <a class="el" href="../../d4/d04/classCModel.html#a73a8a52c2190b1aae2f1427e4e9eb0e1">CModel::getMetabolites()</a>, <a class="el" href="../../d4/d18/classCCopasiDataModel.html#a2e65952e0caf0b2709d381cf949fec69">CCopasiDataModel::getModel()</a>, <a class="el" href="../../d4/d04/classCModel.html#ab3481ad574a3e1935a7617339970eab2">CModel::getModelValues()</a>, <a class="el" href="../../d4/d04/classCModel.html#ad9a3dc1905f1f38f689f728b829f285d">CModel::getReactions()</a>, <a class="el" href="../../d9/d86/classCFunction.html#a8dca3a504b45b55d7af0ba49a2e9a9a0">CFunction::getSBMLId()</a>, <a class="el" href="../../d0/da0/classCModelEntity.html#a5c8d403c6027f59d1cc3e1ccc2d9efac">CModelEntity::getSBMLId()</a>, <a class="el" href="../../da/d3f/classCEvent.html#a15664a61c44cae7a83014b2e2fec32eb">CEvent::getSBMLId()</a>, <a class="el" href="../../d4/dcf/classCReaction.html#aa75b9554a66b91f4e15edc0b0240db62">CReaction::getSBMLId()</a>, <a class="el" href="../../db/d9a/classCFunctionDB.html#ad350117a7f48a6a5fcccfdbecf8fb58b">CFunctionDB::loadedFunctions()</a>, and <a class="el" href="../../d8/d2c/classCCopasiVector.html#ab7e0e37022783eddfe85abf9339b05c0">CCopasiVector&lt; T &gt;::size()</a>.</p>

<p>Referenced by <a class="el" href="../../df/d80/classCSBMLExporter.html#a2b680d670c11c7c70a45bc12e236b2e8">createSBMLDocument()</a>.</p>
<div class="fragment"><div class="line"><a name="l07466"></a><span class="lineno"> 7466</span>&#160;{</div>
<div class="line"><a name="l07467"></a><span class="lineno"> 7467</span>&#160;  <span class="keywordtype">size_t</span> i, iMax = <a class="code" href="../../d3/db1/classCCopasiRootContainer.html#afd5e8541f181260daf7515b28f0612c3">CCopasiRootContainer::getFunctionList</a>()-&gt;<a class="code" href="../../db/d9a/classCFunctionDB.html#ad350117a7f48a6a5fcccfdbecf8fb58b">loadedFunctions</a>().<a class="code" href="../../d8/d2c/classCCopasiVector.html#ab7e0e37022783eddfe85abf9339b05c0">size</a>();</div>
<div class="line"><a name="l07468"></a><span class="lineno"> 7468</span>&#160;  std::string id;</div>
<div class="line"><a name="l07469"></a><span class="lineno"> 7469</span>&#160;</div>
<div class="line"><a name="l07470"></a><span class="lineno"> 7470</span>&#160;  <span class="keywordflow">for</span> (i = 0; i &lt; iMax; ++i)</div>
<div class="line"><a name="l07471"></a><span class="lineno"> 7471</span>&#160;    {</div>
<div class="line"><a name="l07472"></a><span class="lineno"> 7472</span>&#160;      <span class="keyword">const</span> <a class="code" href="../../d9/d86/classCFunction.html">CFunction</a>* pFun = <a class="code" href="../../d3/db1/classCCopasiRootContainer.html#afd5e8541f181260daf7515b28f0612c3">CCopasiRootContainer::getFunctionList</a>()-&gt;<a class="code" href="../../db/d9a/classCFunctionDB.html#ad350117a7f48a6a5fcccfdbecf8fb58b">loadedFunctions</a>()[i];</div>
<div class="line"><a name="l07473"></a><span class="lineno"> 7473</span>&#160;      <span class="keywordtype">id</span> = pFun-&gt;<a class="code" href="../../d9/d86/classCFunction.html#a8dca3a504b45b55d7af0ba49a2e9a9a0">getSBMLId</a>();</div>
<div class="line"><a name="l07474"></a><span class="lineno"> 7474</span>&#160;</div>
<div class="line"><a name="l07475"></a><span class="lineno"> 7475</span>&#160;      <span class="keywordflow">if</span> (!<span class="keywordtype">id</span>.empty())</div>
<div class="line"><a name="l07476"></a><span class="lineno"> 7476</span>&#160;        {</div>
<div class="line"><a name="l07477"></a><span class="lineno"> 7477</span>&#160;          idMap.insert(std::pair&lt;const std::string, const SBase*&gt;(<span class="keywordtype">id</span>, (<span class="keyword">const</span> SBase*)NULL));</div>
<div class="line"><a name="l07478"></a><span class="lineno"> 7478</span>&#160;        }</div>
<div class="line"><a name="l07479"></a><span class="lineno"> 7479</span>&#160;    }</div>
<div class="line"><a name="l07480"></a><span class="lineno"> 7480</span>&#160;</div>
<div class="line"><a name="l07481"></a><span class="lineno"> 7481</span>&#160;  <span class="keyword">const</span> <a class="code" href="../../d4/d04/classCModel.html">CModel</a>* pModel = dataModel.<a class="code" href="../../d4/d18/classCCopasiDataModel.html#a2e65952e0caf0b2709d381cf949fec69">getModel</a>();</div>
<div class="line"><a name="l07482"></a><span class="lineno"> 7482</span>&#160;</div>
<div class="line"><a name="l07483"></a><span class="lineno"> 7483</span>&#160;  <span class="keywordtype">id</span> = pModel-&gt;<a class="code" href="../../d0/da0/classCModelEntity.html#a5c8d403c6027f59d1cc3e1ccc2d9efac">getSBMLId</a>();</div>
<div class="line"><a name="l07484"></a><span class="lineno"> 7484</span>&#160;</div>
<div class="line"><a name="l07485"></a><span class="lineno"> 7485</span>&#160;  <span class="keywordflow">if</span> (!<span class="keywordtype">id</span>.empty())</div>
<div class="line"><a name="l07486"></a><span class="lineno"> 7486</span>&#160;    {</div>
<div class="line"><a name="l07487"></a><span class="lineno"> 7487</span>&#160;      idMap.insert(std::pair&lt;const std::string, const SBase*&gt;(<span class="keywordtype">id</span>, (<span class="keyword">const</span> SBase*)NULL));</div>
<div class="line"><a name="l07488"></a><span class="lineno"> 7488</span>&#160;    }</div>
<div class="line"><a name="l07489"></a><span class="lineno"> 7489</span>&#160;</div>
<div class="line"><a name="l07490"></a><span class="lineno"> 7490</span>&#160;  iMax = pModel-&gt;<a class="code" href="../../d4/d04/classCModel.html#a7d405db8dc8120b942aa0ec1e80db399">getCompartments</a>().<a class="code" href="../../d8/d2c/classCCopasiVector.html#ab7e0e37022783eddfe85abf9339b05c0">size</a>();</div>
<div class="line"><a name="l07491"></a><span class="lineno"> 7491</span>&#160;</div>
<div class="line"><a name="l07492"></a><span class="lineno"> 7492</span>&#160;  <span class="keywordflow">for</span> (i = 0; i &lt; iMax; ++i)</div>
<div class="line"><a name="l07493"></a><span class="lineno"> 7493</span>&#160;    {</div>
<div class="line"><a name="l07494"></a><span class="lineno"> 7494</span>&#160;      <span class="keyword">const</span> <a class="code" href="../../d4/dd4/classCCompartment.html">CCompartment</a>* pObj = pModel-&gt;<a class="code" href="../../d4/d04/classCModel.html#a7d405db8dc8120b942aa0ec1e80db399">getCompartments</a>()[i];</div>
<div class="line"><a name="l07495"></a><span class="lineno"> 7495</span>&#160;      <span class="keywordtype">id</span> = pObj-&gt;<a class="code" href="../../d0/da0/classCModelEntity.html#a5c8d403c6027f59d1cc3e1ccc2d9efac">getSBMLId</a>();</div>
<div class="line"><a name="l07496"></a><span class="lineno"> 7496</span>&#160;</div>
<div class="line"><a name="l07497"></a><span class="lineno"> 7497</span>&#160;      <span class="keywordflow">if</span> (!<span class="keywordtype">id</span>.empty())</div>
<div class="line"><a name="l07498"></a><span class="lineno"> 7498</span>&#160;        {</div>
<div class="line"><a name="l07499"></a><span class="lineno"> 7499</span>&#160;          idMap.insert(std::pair&lt;const std::string, const SBase*&gt;(<span class="keywordtype">id</span>, (<span class="keyword">const</span> SBase*)NULL));</div>
<div class="line"><a name="l07500"></a><span class="lineno"> 7500</span>&#160;        }</div>
<div class="line"><a name="l07501"></a><span class="lineno"> 7501</span>&#160;    }</div>
<div class="line"><a name="l07502"></a><span class="lineno"> 7502</span>&#160;</div>
<div class="line"><a name="l07503"></a><span class="lineno"> 7503</span>&#160;  iMax = pModel-&gt;<a class="code" href="../../d4/d04/classCModel.html#a73a8a52c2190b1aae2f1427e4e9eb0e1">getMetabolites</a>().<a class="code" href="../../d8/d2c/classCCopasiVector.html#ab7e0e37022783eddfe85abf9339b05c0">size</a>();</div>
<div class="line"><a name="l07504"></a><span class="lineno"> 7504</span>&#160;</div>
<div class="line"><a name="l07505"></a><span class="lineno"> 7505</span>&#160;  <span class="keywordflow">for</span> (i = 0; i &lt; iMax; ++i)</div>
<div class="line"><a name="l07506"></a><span class="lineno"> 7506</span>&#160;    {</div>
<div class="line"><a name="l07507"></a><span class="lineno"> 7507</span>&#160;      <span class="keyword">const</span> <a class="code" href="../../dc/d44/classCMetab.html">CMetab</a>* pObj = pModel-&gt;<a class="code" href="../../d4/d04/classCModel.html#a73a8a52c2190b1aae2f1427e4e9eb0e1">getMetabolites</a>()[i];</div>
<div class="line"><a name="l07508"></a><span class="lineno"> 7508</span>&#160;      <span class="keywordtype">id</span> = pObj-&gt;<a class="code" href="../../d0/da0/classCModelEntity.html#a5c8d403c6027f59d1cc3e1ccc2d9efac">getSBMLId</a>();</div>
<div class="line"><a name="l07509"></a><span class="lineno"> 7509</span>&#160;</div>
<div class="line"><a name="l07510"></a><span class="lineno"> 7510</span>&#160;      <span class="keywordflow">if</span> (!<span class="keywordtype">id</span>.empty())</div>
<div class="line"><a name="l07511"></a><span class="lineno"> 7511</span>&#160;        {</div>
<div class="line"><a name="l07512"></a><span class="lineno"> 7512</span>&#160;          idMap.insert(std::pair&lt;const std::string, const SBase*&gt;(<span class="keywordtype">id</span>, (<span class="keyword">const</span> SBase*)NULL));</div>
<div class="line"><a name="l07513"></a><span class="lineno"> 7513</span>&#160;        }</div>
<div class="line"><a name="l07514"></a><span class="lineno"> 7514</span>&#160;    }</div>
<div class="line"><a name="l07515"></a><span class="lineno"> 7515</span>&#160;</div>
<div class="line"><a name="l07516"></a><span class="lineno"> 7516</span>&#160;  iMax = pModel-&gt;<a class="code" href="../../d4/d04/classCModel.html#ab3481ad574a3e1935a7617339970eab2">getModelValues</a>().<a class="code" href="../../d8/d2c/classCCopasiVector.html#ab7e0e37022783eddfe85abf9339b05c0">size</a>();</div>
<div class="line"><a name="l07517"></a><span class="lineno"> 7517</span>&#160;</div>
<div class="line"><a name="l07518"></a><span class="lineno"> 7518</span>&#160;  <span class="keywordflow">for</span> (i = 0; i &lt; iMax; ++i)</div>
<div class="line"><a name="l07519"></a><span class="lineno"> 7519</span>&#160;    {</div>
<div class="line"><a name="l07520"></a><span class="lineno"> 7520</span>&#160;      <span class="keyword">const</span> <a class="code" href="../../d7/dec/classCModelValue.html">CModelValue</a>* pObj = pModel-&gt;<a class="code" href="../../d4/d04/classCModel.html#ab3481ad574a3e1935a7617339970eab2">getModelValues</a>()[i];</div>
<div class="line"><a name="l07521"></a><span class="lineno"> 7521</span>&#160;      <span class="keywordtype">id</span> = pObj-&gt;<a class="code" href="../../d0/da0/classCModelEntity.html#a5c8d403c6027f59d1cc3e1ccc2d9efac">getSBMLId</a>();</div>
<div class="line"><a name="l07522"></a><span class="lineno"> 7522</span>&#160;</div>
<div class="line"><a name="l07523"></a><span class="lineno"> 7523</span>&#160;      <span class="keywordflow">if</span> (!<span class="keywordtype">id</span>.empty())</div>
<div class="line"><a name="l07524"></a><span class="lineno"> 7524</span>&#160;        {</div>
<div class="line"><a name="l07525"></a><span class="lineno"> 7525</span>&#160;          idMap.insert(std::pair&lt;const std::string, const SBase*&gt;(<span class="keywordtype">id</span>, (<span class="keyword">const</span> SBase*)NULL));</div>
<div class="line"><a name="l07526"></a><span class="lineno"> 7526</span>&#160;        }</div>
<div class="line"><a name="l07527"></a><span class="lineno"> 7527</span>&#160;    }</div>
<div class="line"><a name="l07528"></a><span class="lineno"> 7528</span>&#160;</div>
<div class="line"><a name="l07529"></a><span class="lineno"> 7529</span>&#160;  iMax = pModel-&gt;<a class="code" href="../../d4/d04/classCModel.html#ad9a3dc1905f1f38f689f728b829f285d">getReactions</a>().<a class="code" href="../../d8/d2c/classCCopasiVector.html#ab7e0e37022783eddfe85abf9339b05c0">size</a>();</div>
<div class="line"><a name="l07530"></a><span class="lineno"> 7530</span>&#160;</div>
<div class="line"><a name="l07531"></a><span class="lineno"> 7531</span>&#160;  <span class="keywordflow">for</span> (i = 0; i &lt; iMax; ++i)</div>
<div class="line"><a name="l07532"></a><span class="lineno"> 7532</span>&#160;    {</div>
<div class="line"><a name="l07533"></a><span class="lineno"> 7533</span>&#160;      <span class="keyword">const</span> <a class="code" href="../../d4/dcf/classCReaction.html">CReaction</a>* pObj = pModel-&gt;<a class="code" href="../../d4/d04/classCModel.html#ad9a3dc1905f1f38f689f728b829f285d">getReactions</a>()[i];</div>
<div class="line"><a name="l07534"></a><span class="lineno"> 7534</span>&#160;      <span class="keywordtype">id</span> = pObj-&gt;<a class="code" href="../../d4/dcf/classCReaction.html#aa75b9554a66b91f4e15edc0b0240db62">getSBMLId</a>();</div>
<div class="line"><a name="l07535"></a><span class="lineno"> 7535</span>&#160;</div>
<div class="line"><a name="l07536"></a><span class="lineno"> 7536</span>&#160;      <span class="keywordflow">if</span> (!<span class="keywordtype">id</span>.empty())</div>
<div class="line"><a name="l07537"></a><span class="lineno"> 7537</span>&#160;        {</div>
<div class="line"><a name="l07538"></a><span class="lineno"> 7538</span>&#160;          idMap.insert(std::pair&lt;const std::string, const SBase*&gt;(<span class="keywordtype">id</span>, (<span class="keyword">const</span> SBase*)NULL));</div>
<div class="line"><a name="l07539"></a><span class="lineno"> 7539</span>&#160;        }</div>
<div class="line"><a name="l07540"></a><span class="lineno"> 7540</span>&#160;    }</div>
<div class="line"><a name="l07541"></a><span class="lineno"> 7541</span>&#160;</div>
<div class="line"><a name="l07542"></a><span class="lineno"> 7542</span>&#160;  iMax = pModel-&gt;<a class="code" href="../../d4/d04/classCModel.html#ad55cc48064428d703cee3e69b71e4703">getEvents</a>().<a class="code" href="../../d8/d2c/classCCopasiVector.html#ab7e0e37022783eddfe85abf9339b05c0">size</a>();</div>
<div class="line"><a name="l07543"></a><span class="lineno"> 7543</span>&#160;</div>
<div class="line"><a name="l07544"></a><span class="lineno"> 7544</span>&#160;  <span class="keywordflow">for</span> (i = 0; i &lt; iMax; ++i)</div>
<div class="line"><a name="l07545"></a><span class="lineno"> 7545</span>&#160;    {</div>
<div class="line"><a name="l07546"></a><span class="lineno"> 7546</span>&#160;      <span class="keyword">const</span> <a class="code" href="../../da/d3f/classCEvent.html">CEvent</a>* pObj = pModel-&gt;<a class="code" href="../../d4/d04/classCModel.html#ad55cc48064428d703cee3e69b71e4703">getEvents</a>()[i];</div>
<div class="line"><a name="l07547"></a><span class="lineno"> 7547</span>&#160;      <span class="keywordtype">id</span> = pObj-&gt;<a class="code" href="../../da/d3f/classCEvent.html#a15664a61c44cae7a83014b2e2fec32eb">getSBMLId</a>();</div>
<div class="line"><a name="l07548"></a><span class="lineno"> 7548</span>&#160;</div>
<div class="line"><a name="l07549"></a><span class="lineno"> 7549</span>&#160;      <span class="keywordflow">if</span> (!<span class="keywordtype">id</span>.empty())</div>
<div class="line"><a name="l07550"></a><span class="lineno"> 7550</span>&#160;        {</div>
<div class="line"><a name="l07551"></a><span class="lineno"> 7551</span>&#160;          idMap.insert(std::pair&lt;const std::string, const SBase*&gt;(<span class="keywordtype">id</span>, (<span class="keyword">const</span> SBase*)NULL));</div>
<div class="line"><a name="l07552"></a><span class="lineno"> 7552</span>&#160;        }</div>
<div class="line"><a name="l07553"></a><span class="lineno"> 7553</span>&#160;    }</div>
<div class="line"><a name="l07554"></a><span class="lineno"> 7554</span>&#160;}</div>
<div class="ttc" id="classCEvent_html"><div class="ttname"><a href="../../da/d3f/classCEvent.html">CEvent</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d3f/CEvent_8h_source.html#l00152">CEvent.h:152</a></div></div>
<div class="ttc" id="classCFunctionDB_html_ad350117a7f48a6a5fcccfdbecf8fb58b"><div class="ttname"><a href="../../db/d9a/classCFunctionDB.html#ad350117a7f48a6a5fcccfdbecf8fb58b">CFunctionDB::loadedFunctions</a></div><div class="ttdeci">CCopasiVectorN&lt; CFunction &gt; &amp; loadedFunctions()</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/df1/CFunctionDB_8cpp_source.html#l00346">CFunctionDB.cpp:346</a></div></div>
<div class="ttc" id="classCModel_html_ad55cc48064428d703cee3e69b71e4703"><div class="ttname"><a href="../../d4/d04/classCModel.html#ad55cc48064428d703cee3e69b71e4703">CModel::getEvents</a></div><div class="ttdeci">CCopasiVectorN&lt; CEvent &gt; &amp; getEvents()</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d08/CModel_8cpp_source.html#l01110">CModel.cpp:1110</a></div></div>
<div class="ttc" id="classCCopasiDataModel_html_a2e65952e0caf0b2709d381cf949fec69"><div class="ttname"><a href="../../d4/d18/classCCopasiDataModel.html#a2e65952e0caf0b2709d381cf949fec69">CCopasiDataModel::getModel</a></div><div class="ttdeci">CModel * getModel()</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d38/CCopasiDataModel_8cpp_source.html#l01407">CCopasiDataModel.cpp:1407</a></div></div>
<div class="ttc" id="classCModelEntity_html_a5c8d403c6027f59d1cc3e1ccc2d9efac"><div class="ttname"><a href="../../d0/da0/classCModelEntity.html#a5c8d403c6027f59d1cc3e1ccc2d9efac">CModelEntity::getSBMLId</a></div><div class="ttdeci">const std::string &amp; getSBMLId() const </div><div class="ttdef"><b>Definition:</b> <a href="../../d8/da3/CModelValue_8cpp_source.html#l00637">CModelValue.cpp:637</a></div></div>
<div class="ttc" id="classCModel_html_a73a8a52c2190b1aae2f1427e4e9eb0e1"><div class="ttname"><a href="../../d4/d04/classCModel.html#a73a8a52c2190b1aae2f1427e4e9eb0e1">CModel::getMetabolites</a></div><div class="ttdeci">const CCopasiVector&lt; CMetab &gt; &amp; getMetabolites() const </div><div class="ttdef"><b>Definition:</b> <a href="../../df/d08/CModel_8cpp_source.html#l01051">CModel.cpp:1051</a></div></div>
<div class="ttc" id="classCModel_html_ab3481ad574a3e1935a7617339970eab2"><div class="ttname"><a href="../../d4/d04/classCModel.html#ab3481ad574a3e1935a7617339970eab2">CModel::getModelValues</a></div><div class="ttdeci">const CCopasiVectorN&lt; CModelValue &gt; &amp; getModelValues() const </div><div class="ttdef"><b>Definition:</b> <a href="../../df/d08/CModel_8cpp_source.html#l01060">CModel.cpp:1060</a></div></div>
<div class="ttc" id="classCCopasiVector_html_ab7e0e37022783eddfe85abf9339b05c0"><div class="ttname"><a href="../../d8/d2c/classCCopasiVector.html#ab7e0e37022783eddfe85abf9339b05c0">CCopasiVector::size</a></div><div class="ttdeci">virtual size_t size() const </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d51/CCopasiVector_8h_source.html#l00386">CCopasiVector.h:386</a></div></div>
<div class="ttc" id="classCModelValue_html"><div class="ttname"><a href="../../d7/dec/classCModelValue.html">CModelValue</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d1/da3/CModelValue_8h_source.html#l00419">CModelValue.h:419</a></div></div>
<div class="ttc" id="classCMetab_html"><div class="ttname"><a href="../../dc/d44/classCMetab.html">CMetab</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d3/df5/CMetab_8h_source.html#l00178">CMetab.h:178</a></div></div>
<div class="ttc" id="classCReaction_html_aa75b9554a66b91f4e15edc0b0240db62"><div class="ttname"><a href="../../d4/dcf/classCReaction.html#aa75b9554a66b91f4e15edc0b0240db62">CReaction::getSBMLId</a></div><div class="ttdeci">const std::string &amp; getSBMLId() const </div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d77/CReaction_8cpp_source.html#l01654">CReaction.cpp:1654</a></div></div>
<div class="ttc" id="classCCopasiRootContainer_html_afd5e8541f181260daf7515b28f0612c3"><div class="ttname"><a href="../../d3/db1/classCCopasiRootContainer.html#afd5e8541f181260daf7515b28f0612c3">CCopasiRootContainer::getFunctionList</a></div><div class="ttdeci">static CFunctionDB * getFunctionList()</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/d4b/CCopasiRootContainer_8cpp_source.html#l00137">CCopasiRootContainer.cpp:137</a></div></div>
<div class="ttc" id="classCCompartment_html"><div class="ttname"><a href="../../d4/dd4/classCCompartment.html">CCompartment</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d59/CCompartment_8h_source.html#l00037">CCompartment.h:37</a></div></div>
<div class="ttc" id="classCModel_html_a7d405db8dc8120b942aa0ec1e80db399"><div class="ttname"><a href="../../d4/d04/classCModel.html#a7d405db8dc8120b942aa0ec1e80db399">CModel::getCompartments</a></div><div class="ttdeci">CCopasiVectorNS&lt; CCompartment &gt; &amp; getCompartments()</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d08/CModel_8cpp_source.html#l01145">CModel.cpp:1145</a></div></div>
<div class="ttc" id="classCFunction_html_a8dca3a504b45b55d7af0ba49a2e9a9a0"><div class="ttname"><a href="../../d9/d86/classCFunction.html#a8dca3a504b45b55d7af0ba49a2e9a9a0">CFunction::getSBMLId</a></div><div class="ttdeci">const std::string &amp; getSBMLId() const </div><div class="ttdef"><b>Definition:</b> <a href="../../d6/db0/CFunction_8cpp_source.html#l00068">CFunction.cpp:68</a></div></div>
<div class="ttc" id="classCFunction_html"><div class="ttname"><a href="../../d9/d86/classCFunction.html">CFunction</a></div><div class="ttdoc">The class for handling a chemical kinetic function. </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/df5/CFunction_8h_source.html#l00029">CFunction.h:29</a></div></div>
<div class="ttc" id="classCModel_html_ad9a3dc1905f1f38f689f728b829f285d"><div class="ttname"><a href="../../d4/d04/classCModel.html#ad9a3dc1905f1f38f689f728b829f285d">CModel::getReactions</a></div><div class="ttdeci">CCopasiVectorNS&lt; CReaction &gt; &amp; getReactions()</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d08/CModel_8cpp_source.html#l01039">CModel.cpp:1039</a></div></div>
<div class="ttc" id="classCEvent_html_a15664a61c44cae7a83014b2e2fec32eb"><div class="ttname"><a href="../../da/d3f/classCEvent.html#a15664a61c44cae7a83014b2e2fec32eb">CEvent::getSBMLId</a></div><div class="ttdeci">const std::string &amp; getSBMLId() const </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d55/CEvent_8cpp_source.html#l00403">CEvent.cpp:403</a></div></div>
<div class="ttc" id="classCModel_html"><div class="ttname"><a href="../../d4/d04/classCModel.html">CModel</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d90/CModel_8h_source.html#l00050">CModel.h:50</a></div></div>
<div class="ttc" id="classCReaction_html"><div class="ttname"><a href="../../d4/dcf/classCReaction.html">CReaction</a></div><div class="ttdef"><b>Definition:</b> <a href="../../db/dc3/CReaction_8h_source.html#l00044">CReaction.h:44</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a1fbce90193396d8ae0407ae7d3c0e689"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static <a class="el" href="../../d3/d05/CChemEqParser__yacc_8cpp.html#aa76fec002b4ba91adc88f68d56ba730c">void</a> CSBMLExporter::convert_to_l1v1 </td>
          <td>(</td>
          <td class="paramtype">std::string &amp;&#160;</td>
          <td class="paramname"><em>l1v2_string</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Converts the SBML model given in SBML Level 1 Version 2 format to SBML Level 1 Version 1. The method basically removes the namespace attribute on the sbml element and changes the version from 2 to 1. It also renames all "species" elements to "specie". All other changes between SBML Level 1 Version 2 and Level 1 Version 1 should not be relevant here. </p>

<p>Referenced by <a class="el" href="../../df/d80/classCSBMLExporter.html#ac99801bba6bcd2a66fa83d83b6ba7f85">exportModelToString()</a>.</p>

</div>
</div>
<a class="anchor" id="a5be33991e995d356110b5dc9420258cc"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">ASTNode * CSBMLExporter::convertASTTreeToLevel1 </td>
          <td>(</td>
          <td class="paramtype">const ASTNode *&#160;</td>
          <td class="paramname"><em>pNode</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const ListOfFunctionDefinitions &amp;&#160;</td>
          <td class="paramname"><em>functions</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::string &amp;&#160;</td>
          <td class="paramname"><em>message</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Creates an ASTNode based tree where all occurences of nodes that are not supported in SBML Level 1 are replaced by supported constructs. On error an exception is created. The caller is responsible for freeing the memory of the returned object. </p>

<p>Definition at line <a class="el" href="../../d5/d2f/CSBMLExporter_8cpp_source.html#l05507">5507</a> of file <a class="el" href="../../d5/d2f/CSBMLExporter_8cpp_source.html">CSBMLExporter.cpp</a>.</p>

<p>References <a class="el" href="../../d1/d89/compare__utilities_8cpp.html#afa316d1243bd0a5206c174657c661cd7">create_expression()</a>, <a class="el" href="../../d2/df0/classCCopasiMessage.html#a2ea1ed32494ff5c8d84353efcec7a5e4a568f885d73f0ea36bedfe92f6e533071">CCopasiMessage::EXCEPTION</a>, <a class="el" href="../../d9/d2d/CCopasiMessage_8h.html#a7f5ce9c8d3812b45cb6f33595fba5789">MCSBML</a>, and <a class="el" href="../../df/d80/classCSBMLExporter.html#a950f920695e4b39cbd7bef8b75e844af">replaceL1IncompatibleNodes()</a>.</p>

<p>Referenced by <a class="el" href="../../df/d80/classCSBMLExporter.html#a2039c651840bace8d1f24f4b632eee1d">convertToLevel1()</a>.</p>
<div class="fragment"><div class="line"><a name="l05508"></a><span class="lineno"> 5508</span>&#160;{</div>
<div class="line"><a name="l05509"></a><span class="lineno"> 5509</span>&#160;  ASTNode* pExpanded = <a class="code" href="../../d1/d89/compare__utilities_8cpp.html#afa316d1243bd0a5206c174657c661cd7">create_expression</a>(pNode, &amp;functions);</div>
<div class="line"><a name="l05510"></a><span class="lineno"> 5510</span>&#160;</div>
<div class="line"><a name="l05511"></a><span class="lineno"> 5511</span>&#160;  <span class="keywordflow">if</span> (pExpanded != NULL)</div>
<div class="line"><a name="l05512"></a><span class="lineno"> 5512</span>&#160;    {</div>
<div class="line"><a name="l05513"></a><span class="lineno"> 5513</span>&#160;      ASTNode* pReplaced = <a class="code" href="../../df/d80/classCSBMLExporter.html#a950f920695e4b39cbd7bef8b75e844af">CSBMLExporter::replaceL1IncompatibleNodes</a>(pExpanded);</div>
<div class="line"><a name="l05514"></a><span class="lineno"> 5514</span>&#160;      <span class="keyword">delete</span> pExpanded;</div>
<div class="line"><a name="l05515"></a><span class="lineno"> 5515</span>&#160;</div>
<div class="line"><a name="l05516"></a><span class="lineno"> 5516</span>&#160;      <span class="keywordflow">if</span> (pReplaced == NULL)</div>
<div class="line"><a name="l05517"></a><span class="lineno"> 5517</span>&#160;        {</div>
<div class="line"><a name="l05518"></a><span class="lineno"> 5518</span>&#160;          <a class="code" href="../../d2/df0/classCCopasiMessage.html">CCopasiMessage</a>(<a class="code" href="../../d2/df0/classCCopasiMessage.html#a2ea1ed32494ff5c8d84353efcec7a5e4a568f885d73f0ea36bedfe92f6e533071">CCopasiMessage::EXCEPTION</a>, <a class="code" href="../../d9/d2d/CCopasiMessage_8h.html#a7f5ce9c8d3812b45cb6f33595fba5789">MCSBML</a> + 62, message.c_str());</div>
<div class="line"><a name="l05519"></a><span class="lineno"> 5519</span>&#160;        }</div>
<div class="line"><a name="l05520"></a><span class="lineno"> 5520</span>&#160;</div>
<div class="line"><a name="l05521"></a><span class="lineno"> 5521</span>&#160;      pExpanded = pReplaced;</div>
<div class="line"><a name="l05522"></a><span class="lineno"> 5522</span>&#160;    }</div>
<div class="line"><a name="l05523"></a><span class="lineno"> 5523</span>&#160;  <span class="keywordflow">else</span></div>
<div class="line"><a name="l05524"></a><span class="lineno"> 5524</span>&#160;    {</div>
<div class="line"><a name="l05525"></a><span class="lineno"> 5525</span>&#160;      <a class="code" href="../../d2/df0/classCCopasiMessage.html">CCopasiMessage</a>(<a class="code" href="../../d2/df0/classCCopasiMessage.html#a2ea1ed32494ff5c8d84353efcec7a5e4a568f885d73f0ea36bedfe92f6e533071">CCopasiMessage::EXCEPTION</a>, <a class="code" href="../../d9/d2d/CCopasiMessage_8h.html#a7f5ce9c8d3812b45cb6f33595fba5789">MCSBML</a> + 61, message.c_str());</div>
<div class="line"><a name="l05526"></a><span class="lineno"> 5526</span>&#160;    }</div>
<div class="line"><a name="l05527"></a><span class="lineno"> 5527</span>&#160;</div>
<div class="line"><a name="l05528"></a><span class="lineno"> 5528</span>&#160;  <span class="keywordflow">return</span> pExpanded;</div>
<div class="line"><a name="l05529"></a><span class="lineno"> 5529</span>&#160;}</div>
<div class="ttc" id="classCSBMLExporter_html_a950f920695e4b39cbd7bef8b75e844af"><div class="ttname"><a href="../../df/d80/classCSBMLExporter.html#a950f920695e4b39cbd7bef8b75e844af">CSBMLExporter::replaceL1IncompatibleNodes</a></div><div class="ttdeci">static ASTNode * replaceL1IncompatibleNodes(const ASTNode *pNode)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d2f/CSBMLExporter_8cpp_source.html#l05298">CSBMLExporter.cpp:5298</a></div></div>
<div class="ttc" id="classCCopasiMessage_html_a2ea1ed32494ff5c8d84353efcec7a5e4a568f885d73f0ea36bedfe92f6e533071"><div class="ttname"><a href="../../d2/df0/classCCopasiMessage.html#a2ea1ed32494ff5c8d84353efcec7a5e4a568f885d73f0ea36bedfe92f6e533071">CCopasiMessage::EXCEPTION</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d2d/CCopasiMessage_8h_source.html#l00093">CCopasiMessage.h:93</a></div></div>
<div class="ttc" id="CCopasiMessage_8h_html_a7f5ce9c8d3812b45cb6f33595fba5789"><div class="ttname"><a href="../../d9/d2d/CCopasiMessage_8h.html#a7f5ce9c8d3812b45cb6f33595fba5789">MCSBML</a></div><div class="ttdeci">#define MCSBML</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d2d/CCopasiMessage_8h_source.html#l00046">CCopasiMessage.h:46</a></div></div>
<div class="ttc" id="classCCopasiMessage_html"><div class="ttname"><a href="../../d2/df0/classCCopasiMessage.html">CCopasiMessage</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d2d/CCopasiMessage_8h_source.html#l00078">CCopasiMessage.h:78</a></div></div>
<div class="ttc" id="compare__utilities_8cpp_html_afa316d1243bd0a5206c174657c661cd7"><div class="ttname"><a href="../../d1/d89/compare__utilities_8cpp.html#afa316d1243bd0a5206c174657c661cd7">create_expression</a></div><div class="ttdeci">ASTNode * create_expression(const ASTNode *pSource, const ListOfFunctionDefinitions *pFunctions)</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d89/compare__utilities_8cpp_source.html#l00072">compare_utilities.cpp:72</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="ac61681ecd68ba2288e21ff1584ad20af"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">ASTNode * CSBMLExporter::convertToASTNode </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="../../d8/d9f/classCEvaluationNode.html">CEvaluationNode</a> *&#160;</td>
          <td class="paramname"><em>pOrig</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d4/d18/classCCopasiDataModel.html">CCopasiDataModel</a> &amp;&#160;</td>
          <td class="paramname"><em>dataModel</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>This converts an <a class="el" href="../../d8/d9f/classCEvaluationNode.html">CEvaluationNode</a> based tree to an ASTNode tree. It makes sure that all functions used in function calls already have a unique SBML id. </p>

<p>Definition at line <a class="el" href="../../d5/d2f/CSBMLExporter_8cpp_source.html#l07078">7078</a> of file <a class="el" href="../../d5/d2f/CSBMLExporter_8cpp_source.html">CSBMLExporter.cpp</a>.</p>

<p>References <a class="el" href="../../d5/d2f/CSBMLExporter_8cpp.html#a811a546a8b7e55fc24c46d0d687dbf14">adjustNames()</a>, <a class="el" href="../../df/d80/classCSBMLExporter.html#a60ab409a11b90a1ca965d7702828af74">mIdMap</a>, <a class="el" href="../../df/d80/classCSBMLExporter.html#a1541a69b36b8e864883e49f0de244f81">mpSBMLDocument</a>, <a class="el" href="../../d7/de4/CQTSSAResultSubWidget_8cpp.html#a015b908fb74f75922e0bc448af09d9d1">pResult</a>, <a class="el" href="../../df/d80/classCSBMLExporter.html#a36e8f281bf2ae61c6f6de64a3d34da79">setFunctionSBMLIds()</a>, and <a class="el" href="../../d8/d9f/classCEvaluationNode.html#afefa50de87df9eb86fa0d602451c0e7e">CEvaluationNode::toAST()</a>.</p>

<p>Referenced by <a class="el" href="../../df/d80/classCSBMLExporter.html#a79ba15ac876b6354e2aaff763b8a7c86">createEvent()</a>, <a class="el" href="../../df/d80/classCSBMLExporter.html#abc1d139f7b654051b43958675056e34c">createFunctionDefinition()</a>, <a class="el" href="../../df/d80/classCSBMLExporter.html#a2f052fa99d8b6695c0b7cf12d21f7833">createInitialAssignment()</a>, <a class="el" href="../../df/d80/classCSBMLExporter.html#a1ac2102cd8012a24253ac6edd0379198">createKineticLaw()</a>, <a class="el" href="../../df/d80/classCSBMLExporter.html#a4e1fa35c0f3497f349b03147eb7326f0">createRule()</a>, and <a class="el" href="../../df/d80/classCSBMLExporter.html#aefbd6278e618486186192aff4bdff76e">exportEventAssignments()</a>.</p>
<div class="fragment"><div class="line"><a name="l07079"></a><span class="lineno"> 7079</span>&#160;{</div>
<div class="line"><a name="l07080"></a><span class="lineno"> 7080</span>&#160;  <span class="comment">// first go through the tree and check that all function calls are to</span></div>
<div class="line"><a name="l07081"></a><span class="lineno"> 7081</span>&#160;  <span class="comment">// functions that have an SBML id</span></div>
<div class="line"><a name="l07082"></a><span class="lineno"> 7082</span>&#160;  <span class="comment">// if they don&#39;t, we have to set one</span></div>
<div class="line"><a name="l07083"></a><span class="lineno"> 7083</span>&#160;  this-&gt;<a class="code" href="../../df/d80/classCSBMLExporter.html#a36e8f281bf2ae61c6f6de64a3d34da79">setFunctionSBMLIds</a>(pOrig, dataModel);</div>
<div class="line"><a name="l07084"></a><span class="lineno"> 7084</span>&#160;  ASTNode* <a class="code" href="../../d7/de4/CQTSSAResultSubWidget_8cpp.html#a015b908fb74f75922e0bc448af09d9d1">pResult</a> = pOrig-&gt;<a class="code" href="../../d8/d9f/classCEvaluationNode.html#afefa50de87df9eb86fa0d602451c0e7e">toAST</a>(&amp;dataModel);</div>
<div class="line"><a name="l07085"></a><span class="lineno"> 7085</span>&#160;</div>
<div class="line"><a name="l07086"></a><span class="lineno"> 7086</span>&#160;  <a class="code" href="../../d5/d2f/CSBMLExporter_8cpp.html#a811a546a8b7e55fc24c46d0d687dbf14">adjustNames</a>(pResult, <a class="code" href="../../df/d80/classCSBMLExporter.html#a1541a69b36b8e864883e49f0de244f81">mpSBMLDocument</a>, <a class="code" href="../../df/d80/classCSBMLExporter.html#a60ab409a11b90a1ca965d7702828af74">mIdMap</a>);</div>
<div class="line"><a name="l07087"></a><span class="lineno"> 7087</span>&#160;</div>
<div class="line"><a name="l07088"></a><span class="lineno"> 7088</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="../../d7/de4/CQTSSAResultSubWidget_8cpp.html#a015b908fb74f75922e0bc448af09d9d1">pResult</a>;</div>
<div class="line"><a name="l07089"></a><span class="lineno"> 7089</span>&#160;}</div>
<div class="ttc" id="classCEvaluationNode_html_afefa50de87df9eb86fa0d602451c0e7e"><div class="ttname"><a href="../../d8/d9f/classCEvaluationNode.html#afefa50de87df9eb86fa0d602451c0e7e">CEvaluationNode::toAST</a></div><div class="ttdeci">virtual ASTNode * toAST(const CCopasiDataModel *pDataModel) const </div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d3d/CEvaluationNode_8cpp_source.html#l00436">CEvaluationNode.cpp:436</a></div></div>
<div class="ttc" id="classCSBMLExporter_html_a1541a69b36b8e864883e49f0de244f81"><div class="ttname"><a href="../../df/d80/classCSBMLExporter.html#a1541a69b36b8e864883e49f0de244f81">CSBMLExporter::mpSBMLDocument</a></div><div class="ttdeci">SBMLDocument * mpSBMLDocument</div><div class="ttdef"><b>Definition:</b> <a href="../../da/d7f/CSBMLExporter_8h_source.html#l00055">CSBMLExporter.h:55</a></div></div>
<div class="ttc" id="classCSBMLExporter_html_a60ab409a11b90a1ca965d7702828af74"><div class="ttname"><a href="../../df/d80/classCSBMLExporter.html#a60ab409a11b90a1ca965d7702828af74">CSBMLExporter::mIdMap</a></div><div class="ttdeci">std::map&lt; std::string, const SBase * &gt; mIdMap</div><div class="ttdef"><b>Definition:</b> <a href="../../da/d7f/CSBMLExporter_8h_source.html#l00064">CSBMLExporter.h:64</a></div></div>
<div class="ttc" id="CQTSSAResultSubWidget_8cpp_html_a015b908fb74f75922e0bc448af09d9d1"><div class="ttname"><a href="../../d7/de4/CQTSSAResultSubWidget_8cpp.html#a015b908fb74f75922e0bc448af09d9d1">pResult</a></div><div class="ttdeci">const CArrayAnnotation * pResult</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/de4/CQTSSAResultSubWidget_8cpp_source.html#l00028">CQTSSAResultSubWidget.cpp:28</a></div></div>
<div class="ttc" id="CSBMLExporter_8cpp_html_a811a546a8b7e55fc24c46d0d687dbf14"><div class="ttname"><a href="../../d5/d2f/CSBMLExporter_8cpp.html#a811a546a8b7e55fc24c46d0d687dbf14">adjustNames</a></div><div class="ttdeci">void adjustNames(ASTNode *node, SBMLDocument *pSBMLDocument, std::map&lt; std::string, const SBase * &gt; &amp;idMap)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d2f/CSBMLExporter_8cpp_source.html#l07054">CSBMLExporter.cpp:7054</a></div></div>
<div class="ttc" id="classCSBMLExporter_html_a36e8f281bf2ae61c6f6de64a3d34da79"><div class="ttname"><a href="../../df/d80/classCSBMLExporter.html#a36e8f281bf2ae61c6f6de64a3d34da79">CSBMLExporter::setFunctionSBMLIds</a></div><div class="ttdeci">void setFunctionSBMLIds(const CEvaluationNode *pNode, CCopasiDataModel &amp;dataModel)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d2f/CSBMLExporter_8cpp_source.html#l07091">CSBMLExporter.cpp:7091</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a2039c651840bace8d1f24f4b632eee1d"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d3/d05/CChemEqParser__yacc_8cpp.html#aa76fec002b4ba91adc88f68d56ba730c">void</a> CSBMLExporter::convertToLevel1 </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>This method takes care of expanding all function calls in all expressions and converting functions that are not supported in Level 1 as well as constants that were not supported in Level 1 </p>

<p>Definition at line <a class="el" href="../../d5/d2f/CSBMLExporter_8cpp_source.html#l05230">5230</a> of file <a class="el" href="../../d5/d2f/CSBMLExporter_8cpp_source.html">CSBMLExporter.cpp</a>.</p>

<p>References <a class="el" href="../../df/d80/classCSBMLExporter.html#a5be33991e995d356110b5dc9420258cc">convertASTTreeToLevel1()</a>, <a class="el" href="../../d9/d2d/CCopasiMessage_8h.html#a1e835c01335d6f956a78adf106ed1b15">fatalError</a>, <a class="el" href="../../df/d80/classCSBMLExporter.html#a18a364ee64c8bd23b9c6fa3442d4e6b1">mExportedFunctions</a>, and <a class="el" href="../../df/d80/classCSBMLExporter.html#a1541a69b36b8e864883e49f0de244f81">mpSBMLDocument</a>.</p>

<p>Referenced by <a class="el" href="../../df/d80/classCSBMLExporter.html#a2b680d670c11c7c70a45bc12e236b2e8">createSBMLDocument()</a>.</p>
<div class="fragment"><div class="line"><a name="l05231"></a><span class="lineno"> 5231</span>&#160;{</div>
<div class="line"><a name="l05232"></a><span class="lineno"> 5232</span>&#160;  <span class="comment">// expand all function calls in rules, events and</span></div>
<div class="line"><a name="l05233"></a><span class="lineno"> 5233</span>&#160;  <span class="comment">// kinetic laws and delete the functions</span></div>
<div class="line"><a name="l05234"></a><span class="lineno"> 5234</span>&#160;  <span class="comment">// initial assignments do not need to be considered since they can not be</span></div>
<div class="line"><a name="l05235"></a><span class="lineno"> 5235</span>&#160;  <span class="comment">// exported to Level 1 anyway</span></div>
<div class="line"><a name="l05236"></a><span class="lineno"> 5236</span>&#160;  <span class="comment">//</span></div>
<div class="line"><a name="l05237"></a><span class="lineno"> 5237</span>&#160;  <span class="comment">// checking of the resulting expressions for piecewise functions</span></div>
<div class="line"><a name="l05238"></a><span class="lineno"> 5238</span>&#160;  <span class="comment">// is done in the convertASTTreeToLevel1 method</span></div>
<div class="line"><a name="l05239"></a><span class="lineno"> 5239</span>&#160;  <span class="keywordflow">if</span> (this-&gt;<a class="code" href="../../df/d80/classCSBMLExporter.html#a1541a69b36b8e864883e49f0de244f81">mpSBMLDocument</a> == NULL) <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l05240"></a><span class="lineno"> 5240</span>&#160;</div>
<div class="line"><a name="l05241"></a><span class="lineno"> 5241</span>&#160;  Model* pModel = this-&gt;<a class="code" href="../../df/d80/classCSBMLExporter.html#a1541a69b36b8e864883e49f0de244f81">mpSBMLDocument</a>-&gt;getModel();</div>
<div class="line"><a name="l05242"></a><span class="lineno"> 5242</span>&#160;  Rule* pRule = NULL;</div>
<div class="line"><a name="l05243"></a><span class="lineno"> 5243</span>&#160;  Reaction* pReaction = NULL;</div>
<div class="line"><a name="l05244"></a><span class="lineno"> 5244</span>&#160;  KineticLaw* pLaw = NULL;</div>
<div class="line"><a name="l05245"></a><span class="lineno"> 5245</span>&#160;  <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> i, iMax = pModel-&gt;getNumRules();</div>
<div class="line"><a name="l05246"></a><span class="lineno"> 5246</span>&#160;</div>
<div class="line"><a name="l05247"></a><span class="lineno"> 5247</span>&#160;  <span class="keywordflow">for</span> (i = 0; i &lt; iMax; ++i)</div>
<div class="line"><a name="l05248"></a><span class="lineno"> 5248</span>&#160;    {</div>
<div class="line"><a name="l05249"></a><span class="lineno"> 5249</span>&#160;      pRule = pModel-&gt;getRule(i);</div>
<div class="line"><a name="l05250"></a><span class="lineno"> 5250</span>&#160;      assert(pRule != NULL);</div>
<div class="line"><a name="l05251"></a><span class="lineno"> 5251</span>&#160;      <span class="keyword">const</span> ASTNode* pMath = pRule-&gt;getMath();</div>
<div class="line"><a name="l05252"></a><span class="lineno"> 5252</span>&#160;      assert(pMath != NULL);</div>
<div class="line"><a name="l05253"></a><span class="lineno"> 5253</span>&#160;      std::string message = <span class="stringliteral">&quot;rule for object with id \&quot;&quot;</span>;</div>
<div class="line"><a name="l05254"></a><span class="lineno"> 5254</span>&#160;      message += pRule-&gt;getVariable();</div>
<div class="line"><a name="l05255"></a><span class="lineno"> 5255</span>&#160;      message += <span class="stringliteral">&quot;\&quot;&quot;</span>;</div>
<div class="line"><a name="l05256"></a><span class="lineno"> 5256</span>&#160;      ASTNode* pNewMath = <a class="code" href="../../df/d80/classCSBMLExporter.html#a5be33991e995d356110b5dc9420258cc">CSBMLExporter::convertASTTreeToLevel1</a>(pMath, this-&gt;<a class="code" href="../../df/d80/classCSBMLExporter.html#a18a364ee64c8bd23b9c6fa3442d4e6b1">mExportedFunctions</a>, message);</div>
<div class="line"><a name="l05257"></a><span class="lineno"> 5257</span>&#160;      assert(pNewMath != NULL);</div>
<div class="line"><a name="l05258"></a><span class="lineno"> 5258</span>&#160;</div>
<div class="line"><a name="l05259"></a><span class="lineno"> 5259</span>&#160;      <span class="keywordflow">if</span> (pNewMath != NULL)</div>
<div class="line"><a name="l05260"></a><span class="lineno"> 5260</span>&#160;        {</div>
<div class="line"><a name="l05261"></a><span class="lineno"> 5261</span>&#160;          pRule-&gt;setMath(pNewMath);</div>
<div class="line"><a name="l05262"></a><span class="lineno"> 5262</span>&#160;          <span class="keyword">delete</span> pNewMath;</div>
<div class="line"><a name="l05263"></a><span class="lineno"> 5263</span>&#160;        }</div>
<div class="line"><a name="l05264"></a><span class="lineno"> 5264</span>&#160;    }</div>
<div class="line"><a name="l05265"></a><span class="lineno"> 5265</span>&#160;</div>
<div class="line"><a name="l05266"></a><span class="lineno"> 5266</span>&#160;  iMax = pModel-&gt;getNumReactions();</div>
<div class="line"><a name="l05267"></a><span class="lineno"> 5267</span>&#160;</div>
<div class="line"><a name="l05268"></a><span class="lineno"> 5268</span>&#160;  <span class="keywordflow">for</span> (i = 0; i &lt; iMax; ++i)</div>
<div class="line"><a name="l05269"></a><span class="lineno"> 5269</span>&#160;    {</div>
<div class="line"><a name="l05270"></a><span class="lineno"> 5270</span>&#160;      pReaction = pModel-&gt;getReaction(i);</div>
<div class="line"><a name="l05271"></a><span class="lineno"> 5271</span>&#160;      assert(pReaction != NULL);</div>
<div class="line"><a name="l05272"></a><span class="lineno"> 5272</span>&#160;      pLaw = pReaction-&gt;getKineticLaw();</div>
<div class="line"><a name="l05273"></a><span class="lineno"> 5273</span>&#160;</div>
<div class="line"><a name="l05274"></a><span class="lineno"> 5274</span>&#160;      <span class="comment">// maybe we don&#39;t have a kinetic law for all reactions</span></div>
<div class="line"><a name="l05275"></a><span class="lineno"> 5275</span>&#160;      <span class="keywordflow">if</span> (pLaw != NULL)</div>
<div class="line"><a name="l05276"></a><span class="lineno"> 5276</span>&#160;        {</div>
<div class="line"><a name="l05277"></a><span class="lineno"> 5277</span>&#160;          <span class="keyword">const</span> ASTNode* pMath = pLaw-&gt;getMath();</div>
<div class="line"><a name="l05278"></a><span class="lineno"> 5278</span>&#160;          assert(pMath != NULL);</div>
<div class="line"><a name="l05279"></a><span class="lineno"> 5279</span>&#160;          std::string message = <span class="stringliteral">&quot;kinetic law in reaction with id \&quot;&quot;</span>;</div>
<div class="line"><a name="l05280"></a><span class="lineno"> 5280</span>&#160;          message += pReaction-&gt;getId();</div>
<div class="line"><a name="l05281"></a><span class="lineno"> 5281</span>&#160;          message += <span class="stringliteral">&quot;\&quot;&quot;</span>;</div>
<div class="line"><a name="l05282"></a><span class="lineno"> 5282</span>&#160;          ASTNode* pNewMath = <a class="code" href="../../df/d80/classCSBMLExporter.html#a5be33991e995d356110b5dc9420258cc">CSBMLExporter::convertASTTreeToLevel1</a>(pMath, this-&gt;<a class="code" href="../../df/d80/classCSBMLExporter.html#a18a364ee64c8bd23b9c6fa3442d4e6b1">mExportedFunctions</a>, message);</div>
<div class="line"><a name="l05283"></a><span class="lineno"> 5283</span>&#160;          assert(pNewMath != NULL);</div>
<div class="line"><a name="l05284"></a><span class="lineno"> 5284</span>&#160;</div>
<div class="line"><a name="l05285"></a><span class="lineno"> 5285</span>&#160;          <span class="keywordflow">if</span> (pNewMath != NULL)</div>
<div class="line"><a name="l05286"></a><span class="lineno"> 5286</span>&#160;            {</div>
<div class="line"><a name="l05287"></a><span class="lineno"> 5287</span>&#160;              pLaw-&gt;setMath(pNewMath);</div>
<div class="line"><a name="l05288"></a><span class="lineno"> 5288</span>&#160;              <span class="keyword">delete</span> pNewMath;</div>
<div class="line"><a name="l05289"></a><span class="lineno"> 5289</span>&#160;            }</div>
<div class="line"><a name="l05290"></a><span class="lineno"> 5290</span>&#160;          <span class="keywordflow">else</span></div>
<div class="line"><a name="l05291"></a><span class="lineno"> 5291</span>&#160;            {</div>
<div class="line"><a name="l05292"></a><span class="lineno"> 5292</span>&#160;              <a class="code" href="../../d9/d2d/CCopasiMessage_8h.html#a1e835c01335d6f956a78adf106ed1b15">fatalError</a>();</div>
<div class="line"><a name="l05293"></a><span class="lineno"> 5293</span>&#160;            }</div>
<div class="line"><a name="l05294"></a><span class="lineno"> 5294</span>&#160;        }</div>
<div class="line"><a name="l05295"></a><span class="lineno"> 5295</span>&#160;    }</div>
<div class="line"><a name="l05296"></a><span class="lineno"> 5296</span>&#160;}</div>
<div class="ttc" id="classCSBMLExporter_html_a1541a69b36b8e864883e49f0de244f81"><div class="ttname"><a href="../../df/d80/classCSBMLExporter.html#a1541a69b36b8e864883e49f0de244f81">CSBMLExporter::mpSBMLDocument</a></div><div class="ttdeci">SBMLDocument * mpSBMLDocument</div><div class="ttdef"><b>Definition:</b> <a href="../../da/d7f/CSBMLExporter_8h_source.html#l00055">CSBMLExporter.h:55</a></div></div>
<div class="ttc" id="classCSBMLExporter_html_a18a364ee64c8bd23b9c6fa3442d4e6b1"><div class="ttname"><a href="../../df/d80/classCSBMLExporter.html#a18a364ee64c8bd23b9c6fa3442d4e6b1">CSBMLExporter::mExportedFunctions</a></div><div class="ttdeci">ListOfFunctionDefinitions mExportedFunctions</div><div class="ttdef"><b>Definition:</b> <a href="../../da/d7f/CSBMLExporter_8h_source.html#l00077">CSBMLExporter.h:77</a></div></div>
<div class="ttc" id="CCopasiMessage_8h_html_a1e835c01335d6f956a78adf106ed1b15"><div class="ttname"><a href="../../d9/d2d/CCopasiMessage_8h.html#a1e835c01335d6f956a78adf106ed1b15">fatalError</a></div><div class="ttdeci">#define fatalError()</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d2d/CCopasiMessage_8h_source.html#l00074">CCopasiMessage.h:74</a></div></div>
<div class="ttc" id="classCSBMLExporter_html_a5be33991e995d356110b5dc9420258cc"><div class="ttname"><a href="../../df/d80/classCSBMLExporter.html#a5be33991e995d356110b5dc9420258cc">CSBMLExporter::convertASTTreeToLevel1</a></div><div class="ttdeci">static ASTNode * convertASTTreeToLevel1(const ASTNode *pNode, const ListOfFunctionDefinitions &amp;functions, std::string &amp;message)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d2f/CSBMLExporter_8cpp_source.html#l05507">CSBMLExporter.cpp:5507</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a8d4300787dbaf8277365e8df178f70bd"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d3/d05/CChemEqParser__yacc_8cpp.html#aa76fec002b4ba91adc88f68d56ba730c">void</a> CSBMLExporter::createAreaUnit </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="../../d4/d18/classCCopasiDataModel.html">CCopasiDataModel</a> &amp;&#160;</td>
          <td class="paramname"><em>dataModel</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Creates the volume unit for the SBML model.</p>
<p>Creates the area unit for the SBML model. </p>

<p>Definition at line <a class="el" href="../../d5/d2f/CSBMLExporter_8cpp_source.html#l00798">798</a> of file <a class="el" href="../../d5/d2f/CSBMLExporter_8cpp_source.html">CSBMLExporter.cpp</a>.</p>

<p>References <a class="el" href="../../d7/d6d/classSBMLImporter.html#a61d10c15681b398f297bee71eaa75dbe">SBMLImporter::areSBMLUnitDefinitionsIdentical()</a>, <a class="el" href="../../d4/d04/classCModel.html#a135194aaa96d335b89fbd59a81bff22ca10f5a86ce5ab09b9271ed58fada9a39e">CModel::cm</a>, <a class="el" href="../../d4/d04/classCModel.html#a135194aaa96d335b89fbd59a81bff22ca70b8ea66d8daf842df307ade4b829a4a">CModel::dimensionlessLength</a>, <a class="el" href="../../d4/d04/classCModel.html#a135194aaa96d335b89fbd59a81bff22ca0a709ed13081b1ced10e5c0ba2d7498d">CModel::dm</a>, <a class="el" href="../../d2/df0/classCCopasiMessage.html#a2ea1ed32494ff5c8d84353efcec7a5e4a568f885d73f0ea36bedfe92f6e533071">CCopasiMessage::EXCEPTION</a>, <a class="el" href="../../d4/d04/classCModel.html#a135194aaa96d335b89fbd59a81bff22ca56d01266744ab991bb08454bac760459">CModel::fm</a>, <a class="el" href="../../d4/d04/classCModel.html#a3d6a99e0e0bb5469a66826f1215e8ff0">CModel::getAreaUnitEnum()</a>, <a class="el" href="../../d4/d18/classCCopasiDataModel.html#a2e65952e0caf0b2709d381cf949fec69">CCopasiDataModel::getModel()</a>, <a class="el" href="../../d5/d2f/CSBMLExporter_8cpp.html#a6c9f65aeea9a7ce079171b3a9a5b2673">INIT_DEFAULTS</a>, <a class="el" href="../../d4/d04/classCModel.html#a135194aaa96d335b89fbd59a81bff22ca4a35e788ac8194d4f2d1569516ea925d">CModel::m</a>, <a class="el" href="../../d4/d04/classCModel.html#a135194aaa96d335b89fbd59a81bff22ca5346ded51c1ef43bdc73a91cb3eea3a8">CModel::microm</a>, <a class="el" href="../../d4/d04/classCModel.html#a135194aaa96d335b89fbd59a81bff22ca70ff41c7addc0c115b28d2da5fa8d483">CModel::mm</a>, <a class="el" href="../../df/d80/classCSBMLExporter.html#a1541a69b36b8e864883e49f0de244f81">mpSBMLDocument</a>, <a class="el" href="../../df/d80/classCSBMLExporter.html#aba959efc152f63f1709d5de60e97a651">mSBMLLevel</a>, <a class="el" href="../../df/d80/classCSBMLExporter.html#af1bc50a307a46adcce8aa8abde6dab96">mSBMLVersion</a>, <a class="el" href="../../d4/d04/classCModel.html#a135194aaa96d335b89fbd59a81bff22ca4dba8de9df14c56def3876c2271b4e1e">CModel::nm</a>, and <a class="el" href="../../d4/d04/classCModel.html#a135194aaa96d335b89fbd59a81bff22caf7debf327739246370f137fd5f456d63">CModel::pm</a>.</p>

<p>Referenced by <a class="el" href="../../df/d80/classCSBMLExporter.html#aa26105735e02cd59de9932914b4c2505">createUnits()</a>.</p>
<div class="fragment"><div class="line"><a name="l00799"></a><span class="lineno">  799</span>&#160;{</div>
<div class="line"><a name="l00800"></a><span class="lineno">  800</span>&#160;  <span class="keywordflow">if</span> (dataModel.<a class="code" href="../../d4/d18/classCCopasiDataModel.html#a2e65952e0caf0b2709d381cf949fec69">getModel</a>() == NULL || this-&gt;<a class="code" href="../../df/d80/classCSBMLExporter.html#a1541a69b36b8e864883e49f0de244f81">mpSBMLDocument</a> == NULL || this-&gt;<a class="code" href="../../df/d80/classCSBMLExporter.html#a1541a69b36b8e864883e49f0de244f81">mpSBMLDocument</a>-&gt;getModel() == NULL) <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00801"></a><span class="lineno">  801</span>&#160;</div>
<div class="line"><a name="l00802"></a><span class="lineno">  802</span>&#160;  UnitDefinition uDef(this-&gt;<a class="code" href="../../df/d80/classCSBMLExporter.html#aba959efc152f63f1709d5de60e97a651">mSBMLLevel</a>, this-&gt;<a class="code" href="../../df/d80/classCSBMLExporter.html#af1bc50a307a46adcce8aa8abde6dab96">mSBMLVersion</a>);</div>
<div class="line"><a name="l00803"></a><span class="lineno">  803</span>&#160;  uDef.setName(<span class="stringliteral">&quot;area&quot;</span>);</div>
<div class="line"><a name="l00804"></a><span class="lineno">  804</span>&#160;  uDef.setId(<span class="stringliteral">&quot;area&quot;</span>);</div>
<div class="line"><a name="l00805"></a><span class="lineno">  805</span>&#160;  Unit unit(this-&gt;<a class="code" href="../../df/d80/classCSBMLExporter.html#aba959efc152f63f1709d5de60e97a651">mSBMLLevel</a>, this-&gt;<a class="code" href="../../df/d80/classCSBMLExporter.html#af1bc50a307a46adcce8aa8abde6dab96">mSBMLVersion</a>);</div>
<div class="line"><a name="l00806"></a><span class="lineno">  806</span>&#160;  <a class="code" href="../../d5/d2f/CSBMLExporter_8cpp.html#a6c9f65aeea9a7ce079171b3a9a5b2673">INIT_DEFAULTS</a>(unit);</div>
<div class="line"><a name="l00807"></a><span class="lineno">  807</span>&#160;</div>
<div class="line"><a name="l00808"></a><span class="lineno">  808</span>&#160;  <span class="keywordflow">switch</span> (dataModel.<a class="code" href="../../d4/d18/classCCopasiDataModel.html#a2e65952e0caf0b2709d381cf949fec69">getModel</a>()-&gt;<a class="code" href="../../d4/d04/classCModel.html#a3d6a99e0e0bb5469a66826f1215e8ff0">getAreaUnitEnum</a>())</div>
<div class="line"><a name="l00809"></a><span class="lineno">  809</span>&#160;    {</div>
<div class="line"><a name="l00810"></a><span class="lineno">  810</span>&#160;      <span class="keywordflow">case</span> <a class="code" href="../../d4/d04/classCModel.html#a135194aaa96d335b89fbd59a81bff22ca4a35e788ac8194d4f2d1569516ea925d">CModel::m</a>:</div>
<div class="line"><a name="l00811"></a><span class="lineno">  811</span>&#160;        unit.setKind(UNIT_KIND_METRE);</div>
<div class="line"><a name="l00812"></a><span class="lineno">  812</span>&#160;        unit.setExponent(2);</div>
<div class="line"><a name="l00813"></a><span class="lineno">  813</span>&#160;        unit.setScale(0);</div>
<div class="line"><a name="l00814"></a><span class="lineno">  814</span>&#160;        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00815"></a><span class="lineno">  815</span>&#160;</div>
<div class="line"><a name="l00816"></a><span class="lineno">  816</span>&#160;      <span class="keywordflow">case</span> <a class="code" href="../../d4/d04/classCModel.html#a135194aaa96d335b89fbd59a81bff22ca0a709ed13081b1ced10e5c0ba2d7498d">CModel::dm</a>:</div>
<div class="line"><a name="l00817"></a><span class="lineno">  817</span>&#160;        unit.setKind(UNIT_KIND_METRE);</div>
<div class="line"><a name="l00818"></a><span class="lineno">  818</span>&#160;        unit.setExponent(2);</div>
<div class="line"><a name="l00819"></a><span class="lineno">  819</span>&#160;        unit.setScale(-1);</div>
<div class="line"><a name="l00820"></a><span class="lineno">  820</span>&#160;        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00821"></a><span class="lineno">  821</span>&#160;</div>
<div class="line"><a name="l00822"></a><span class="lineno">  822</span>&#160;      <span class="keywordflow">case</span> <a class="code" href="../../d4/d04/classCModel.html#a135194aaa96d335b89fbd59a81bff22ca10f5a86ce5ab09b9271ed58fada9a39e">CModel::cm</a>:</div>
<div class="line"><a name="l00823"></a><span class="lineno">  823</span>&#160;        unit.setKind(UNIT_KIND_METRE);</div>
<div class="line"><a name="l00824"></a><span class="lineno">  824</span>&#160;        unit.setExponent(2);</div>
<div class="line"><a name="l00825"></a><span class="lineno">  825</span>&#160;        unit.setScale(-2);</div>
<div class="line"><a name="l00826"></a><span class="lineno">  826</span>&#160;        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00827"></a><span class="lineno">  827</span>&#160;</div>
<div class="line"><a name="l00828"></a><span class="lineno">  828</span>&#160;      <span class="keywordflow">case</span> <a class="code" href="../../d4/d04/classCModel.html#a135194aaa96d335b89fbd59a81bff22ca70ff41c7addc0c115b28d2da5fa8d483">CModel::mm</a>:</div>
<div class="line"><a name="l00829"></a><span class="lineno">  829</span>&#160;        unit.setKind(UNIT_KIND_METRE);</div>
<div class="line"><a name="l00830"></a><span class="lineno">  830</span>&#160;        unit.setExponent(2);</div>
<div class="line"><a name="l00831"></a><span class="lineno">  831</span>&#160;        unit.setScale(-3);</div>
<div class="line"><a name="l00832"></a><span class="lineno">  832</span>&#160;        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00833"></a><span class="lineno">  833</span>&#160;</div>
<div class="line"><a name="l00834"></a><span class="lineno">  834</span>&#160;      <span class="keywordflow">case</span> <a class="code" href="../../d4/d04/classCModel.html#a135194aaa96d335b89fbd59a81bff22ca5346ded51c1ef43bdc73a91cb3eea3a8">CModel::microm</a>:</div>
<div class="line"><a name="l00835"></a><span class="lineno">  835</span>&#160;        unit.setKind(UNIT_KIND_METRE);</div>
<div class="line"><a name="l00836"></a><span class="lineno">  836</span>&#160;        unit.setExponent(2);</div>
<div class="line"><a name="l00837"></a><span class="lineno">  837</span>&#160;        unit.setScale(-6);</div>
<div class="line"><a name="l00838"></a><span class="lineno">  838</span>&#160;        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00839"></a><span class="lineno">  839</span>&#160;</div>
<div class="line"><a name="l00840"></a><span class="lineno">  840</span>&#160;      <span class="keywordflow">case</span> <a class="code" href="../../d4/d04/classCModel.html#a135194aaa96d335b89fbd59a81bff22ca4dba8de9df14c56def3876c2271b4e1e">CModel::nm</a>:</div>
<div class="line"><a name="l00841"></a><span class="lineno">  841</span>&#160;        unit.setKind(UNIT_KIND_METRE);</div>
<div class="line"><a name="l00842"></a><span class="lineno">  842</span>&#160;        unit.setExponent(2);</div>
<div class="line"><a name="l00843"></a><span class="lineno">  843</span>&#160;        unit.setScale(-9);</div>
<div class="line"><a name="l00844"></a><span class="lineno">  844</span>&#160;        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00845"></a><span class="lineno">  845</span>&#160;</div>
<div class="line"><a name="l00846"></a><span class="lineno">  846</span>&#160;      <span class="keywordflow">case</span> <a class="code" href="../../d4/d04/classCModel.html#a135194aaa96d335b89fbd59a81bff22caf7debf327739246370f137fd5f456d63">CModel::pm</a>:</div>
<div class="line"><a name="l00847"></a><span class="lineno">  847</span>&#160;        unit.setKind(UNIT_KIND_METRE);</div>
<div class="line"><a name="l00848"></a><span class="lineno">  848</span>&#160;        unit.setExponent(2);</div>
<div class="line"><a name="l00849"></a><span class="lineno">  849</span>&#160;        unit.setScale(-12);</div>
<div class="line"><a name="l00850"></a><span class="lineno">  850</span>&#160;        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00851"></a><span class="lineno">  851</span>&#160;</div>
<div class="line"><a name="l00852"></a><span class="lineno">  852</span>&#160;      <span class="keywordflow">case</span> <a class="code" href="../../d4/d04/classCModel.html#a135194aaa96d335b89fbd59a81bff22ca56d01266744ab991bb08454bac760459">CModel::fm</a>:</div>
<div class="line"><a name="l00853"></a><span class="lineno">  853</span>&#160;        unit.setKind(UNIT_KIND_METRE);</div>
<div class="line"><a name="l00854"></a><span class="lineno">  854</span>&#160;        unit.setExponent(2);</div>
<div class="line"><a name="l00855"></a><span class="lineno">  855</span>&#160;        unit.setScale(-15);</div>
<div class="line"><a name="l00856"></a><span class="lineno">  856</span>&#160;        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00857"></a><span class="lineno">  857</span>&#160;</div>
<div class="line"><a name="l00858"></a><span class="lineno">  858</span>&#160;      <span class="keywordflow">case</span> <a class="code" href="../../d4/d04/classCModel.html#a135194aaa96d335b89fbd59a81bff22ca70b8ea66d8daf842df307ade4b829a4a">CModel::dimensionlessLength</a>:</div>
<div class="line"><a name="l00859"></a><span class="lineno">  859</span>&#160;        unit.setKind(UNIT_KIND_DIMENSIONLESS);</div>
<div class="line"><a name="l00860"></a><span class="lineno">  860</span>&#160;        unit.setExponent(1);</div>
<div class="line"><a name="l00861"></a><span class="lineno">  861</span>&#160;        unit.setScale(0);</div>
<div class="line"><a name="l00862"></a><span class="lineno">  862</span>&#160;        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00863"></a><span class="lineno">  863</span>&#160;</div>
<div class="line"><a name="l00864"></a><span class="lineno">  864</span>&#160;      <span class="keywordflow">default</span>:</div>
<div class="line"><a name="l00865"></a><span class="lineno">  865</span>&#160;        <a class="code" href="../../d2/df0/classCCopasiMessage.html">CCopasiMessage</a>(<a class="code" href="../../d2/df0/classCCopasiMessage.html#a2ea1ed32494ff5c8d84353efcec7a5e4a568f885d73f0ea36bedfe92f6e533071">CCopasiMessage::EXCEPTION</a>, <span class="stringliteral">&quot;SBMLExporter Error: Unknown copasi area unit.&quot;</span>);</div>
<div class="line"><a name="l00866"></a><span class="lineno">  866</span>&#160;        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00867"></a><span class="lineno">  867</span>&#160;    }</div>
<div class="line"><a name="l00868"></a><span class="lineno">  868</span>&#160;</div>
<div class="line"><a name="l00869"></a><span class="lineno">  869</span>&#160;  unit.setMultiplier(1.0);</div>
<div class="line"><a name="l00870"></a><span class="lineno">  870</span>&#160;  uDef.addUnit(&amp;unit);</div>
<div class="line"><a name="l00871"></a><span class="lineno">  871</span>&#160;  Model* pSBMLModel = this-&gt;<a class="code" href="../../df/d80/classCSBMLExporter.html#a1541a69b36b8e864883e49f0de244f81">mpSBMLDocument</a>-&gt;getModel();</div>
<div class="line"><a name="l00872"></a><span class="lineno">  872</span>&#160;  UnitDefinition* pUdef = pSBMLModel-&gt;getUnitDefinition(<span class="stringliteral">&quot;area&quot;</span>);</div>
<div class="line"><a name="l00873"></a><span class="lineno">  873</span>&#160;</div>
<div class="line"><a name="l00874"></a><span class="lineno">  874</span>&#160;  <span class="keywordflow">if</span> (pUdef != NULL)</div>
<div class="line"><a name="l00875"></a><span class="lineno">  875</span>&#160;    {</div>
<div class="line"><a name="l00876"></a><span class="lineno">  876</span>&#160;      <span class="comment">// check if it is the same unit as the existing one if there is one</span></div>
<div class="line"><a name="l00877"></a><span class="lineno">  877</span>&#160;      <span class="comment">// if yes, return, else replace the existing one</span></div>
<div class="line"><a name="l00878"></a><span class="lineno">  878</span>&#160;      <span class="keywordflow">if</span> (!<a class="code" href="../../d7/d6d/classSBMLImporter.html#a61d10c15681b398f297bee71eaa75dbe">SBMLImporter::areSBMLUnitDefinitionsIdentical</a>(pUdef, &amp;uDef))</div>
<div class="line"><a name="l00879"></a><span class="lineno">  879</span>&#160;        {</div>
<div class="line"><a name="l00880"></a><span class="lineno">  880</span>&#160;          (*pUdef) = uDef;</div>
<div class="line"><a name="l00881"></a><span class="lineno">  881</span>&#160;        }</div>
<div class="line"><a name="l00882"></a><span class="lineno">  882</span>&#160;    }</div>
<div class="line"><a name="l00883"></a><span class="lineno">  883</span>&#160;  <span class="keywordflow">else</span></div>
<div class="line"><a name="l00884"></a><span class="lineno">  884</span>&#160;    {</div>
<div class="line"><a name="l00885"></a><span class="lineno">  885</span>&#160;      <span class="comment">// only add it if it is not the default unit definition anyway</span></div>
<div class="line"><a name="l00886"></a><span class="lineno">  886</span>&#160;      <span class="keywordflow">if</span> (this-&gt;<a class="code" href="../../df/d80/classCSBMLExporter.html#aba959efc152f63f1709d5de60e97a651">mSBMLLevel</a> &gt; 2 ||</div>
<div class="line"><a name="l00887"></a><span class="lineno">  887</span>&#160;          unit.getKind() != UNIT_KIND_METRE ||</div>
<div class="line"><a name="l00888"></a><span class="lineno">  888</span>&#160;          unit.getScale() != 0 ||</div>
<div class="line"><a name="l00889"></a><span class="lineno">  889</span>&#160;          unit.getExponent() != 2 ||</div>
<div class="line"><a name="l00890"></a><span class="lineno">  890</span>&#160;          unit.getMultiplier() != 1.0)</div>
<div class="line"><a name="l00891"></a><span class="lineno">  891</span>&#160;        {</div>
<div class="line"><a name="l00892"></a><span class="lineno">  892</span>&#160;          <span class="comment">// set the unit definition</span></div>
<div class="line"><a name="l00893"></a><span class="lineno">  893</span>&#160;          pSBMLModel-&gt;addUnitDefinition(&amp;uDef);</div>
<div class="line"><a name="l00894"></a><span class="lineno">  894</span>&#160;        }</div>
<div class="line"><a name="l00895"></a><span class="lineno">  895</span>&#160;    }</div>
<div class="line"><a name="l00896"></a><span class="lineno">  896</span>&#160;</div>
<div class="line"><a name="l00897"></a><span class="lineno">  897</span>&#160;<span class="comment">// if we write an SBML L3 document, we have to explicitely set the units on the model</span></div>
<div class="line"><a name="l00898"></a><span class="lineno">  898</span>&#160;<span class="preprocessor">#if LIBSBML_VERSION &gt;= 40100</span></div>
<div class="line"><a name="l00899"></a><span class="lineno">  899</span>&#160;<span class="preprocessor"></span></div>
<div class="line"><a name="l00900"></a><span class="lineno">  900</span>&#160;  <span class="keywordflow">if</span> (this-&gt;<a class="code" href="../../df/d80/classCSBMLExporter.html#aba959efc152f63f1709d5de60e97a651">mSBMLLevel</a> &gt; 2)</div>
<div class="line"><a name="l00901"></a><span class="lineno">  901</span>&#160;    {</div>
<div class="line"><a name="l00902"></a><span class="lineno">  902</span>&#160;      pSBMLModel-&gt;setAreaUnits(uDef.getId());</div>
<div class="line"><a name="l00903"></a><span class="lineno">  903</span>&#160;    }</div>
<div class="line"><a name="l00904"></a><span class="lineno">  904</span>&#160;</div>
<div class="line"><a name="l00905"></a><span class="lineno">  905</span>&#160;<span class="preprocessor">#endif // LIBSBML_VERSION</span></div>
<div class="line"><a name="l00906"></a><span class="lineno">  906</span>&#160;<span class="preprocessor"></span>}</div>
<div class="ttc" id="classCModel_html_a3d6a99e0e0bb5469a66826f1215e8ff0"><div class="ttname"><a href="../../d4/d04/classCModel.html#a3d6a99e0e0bb5469a66826f1215e8ff0">CModel::getAreaUnitEnum</a></div><div class="ttdeci">CModel::AreaUnit getAreaUnitEnum() const </div><div class="ttdef"><b>Definition:</b> <a href="../../df/d08/CModel_8cpp_source.html#l02198">CModel.cpp:2198</a></div></div>
<div class="ttc" id="classCSBMLExporter_html_aba959efc152f63f1709d5de60e97a651"><div class="ttname"><a href="../../df/d80/classCSBMLExporter.html#aba959efc152f63f1709d5de60e97a651">CSBMLExporter::mSBMLLevel</a></div><div class="ttdeci">unsigned int mSBMLLevel</div><div class="ttdef"><b>Definition:</b> <a href="../../da/d7f/CSBMLExporter_8h_source.html#l00056">CSBMLExporter.h:56</a></div></div>
<div class="ttc" id="classCSBMLExporter_html_a1541a69b36b8e864883e49f0de244f81"><div class="ttname"><a href="../../df/d80/classCSBMLExporter.html#a1541a69b36b8e864883e49f0de244f81">CSBMLExporter::mpSBMLDocument</a></div><div class="ttdeci">SBMLDocument * mpSBMLDocument</div><div class="ttdef"><b>Definition:</b> <a href="../../da/d7f/CSBMLExporter_8h_source.html#l00055">CSBMLExporter.h:55</a></div></div>
<div class="ttc" id="classCCopasiDataModel_html_a2e65952e0caf0b2709d381cf949fec69"><div class="ttname"><a href="../../d4/d18/classCCopasiDataModel.html#a2e65952e0caf0b2709d381cf949fec69">CCopasiDataModel::getModel</a></div><div class="ttdeci">CModel * getModel()</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d38/CCopasiDataModel_8cpp_source.html#l01407">CCopasiDataModel.cpp:1407</a></div></div>
<div class="ttc" id="classCModel_html_a135194aaa96d335b89fbd59a81bff22ca70b8ea66d8daf842df307ade4b829a4a"><div class="ttname"><a href="../../d4/d04/classCModel.html#a135194aaa96d335b89fbd59a81bff22ca70b8ea66d8daf842df307ade4b829a4a">CModel::dimensionlessLength</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d90/CModel_8h_source.html#l00076">CModel.h:76</a></div></div>
<div class="ttc" id="classCModel_html_a135194aaa96d335b89fbd59a81bff22ca5346ded51c1ef43bdc73a91cb3eea3a8"><div class="ttname"><a href="../../d4/d04/classCModel.html#a135194aaa96d335b89fbd59a81bff22ca5346ded51c1ef43bdc73a91cb3eea3a8">CModel::microm</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d90/CModel_8h_source.html#l00076">CModel.h:76</a></div></div>
<div class="ttc" id="classCModel_html_a135194aaa96d335b89fbd59a81bff22ca0a709ed13081b1ced10e5c0ba2d7498d"><div class="ttname"><a href="../../d4/d04/classCModel.html#a135194aaa96d335b89fbd59a81bff22ca0a709ed13081b1ced10e5c0ba2d7498d">CModel::dm</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d90/CModel_8h_source.html#l00076">CModel.h:76</a></div></div>
<div class="ttc" id="classCModel_html_a135194aaa96d335b89fbd59a81bff22caf7debf327739246370f137fd5f456d63"><div class="ttname"><a href="../../d4/d04/classCModel.html#a135194aaa96d335b89fbd59a81bff22caf7debf327739246370f137fd5f456d63">CModel::pm</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d90/CModel_8h_source.html#l00076">CModel.h:76</a></div></div>
<div class="ttc" id="classCCopasiMessage_html_a2ea1ed32494ff5c8d84353efcec7a5e4a568f885d73f0ea36bedfe92f6e533071"><div class="ttname"><a href="../../d2/df0/classCCopasiMessage.html#a2ea1ed32494ff5c8d84353efcec7a5e4a568f885d73f0ea36bedfe92f6e533071">CCopasiMessage::EXCEPTION</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d2d/CCopasiMessage_8h_source.html#l00093">CCopasiMessage.h:93</a></div></div>
<div class="ttc" id="classCSBMLExporter_html_af1bc50a307a46adcce8aa8abde6dab96"><div class="ttname"><a href="../../df/d80/classCSBMLExporter.html#af1bc50a307a46adcce8aa8abde6dab96">CSBMLExporter::mSBMLVersion</a></div><div class="ttdeci">unsigned int mSBMLVersion</div><div class="ttdef"><b>Definition:</b> <a href="../../da/d7f/CSBMLExporter_8h_source.html#l00057">CSBMLExporter.h:57</a></div></div>
<div class="ttc" id="classCModel_html_a135194aaa96d335b89fbd59a81bff22ca10f5a86ce5ab09b9271ed58fada9a39e"><div class="ttname"><a href="../../d4/d04/classCModel.html#a135194aaa96d335b89fbd59a81bff22ca10f5a86ce5ab09b9271ed58fada9a39e">CModel::cm</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d90/CModel_8h_source.html#l00076">CModel.h:76</a></div></div>
<div class="ttc" id="classCModel_html_a135194aaa96d335b89fbd59a81bff22ca4dba8de9df14c56def3876c2271b4e1e"><div class="ttname"><a href="../../d4/d04/classCModel.html#a135194aaa96d335b89fbd59a81bff22ca4dba8de9df14c56def3876c2271b4e1e">CModel::nm</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d90/CModel_8h_source.html#l00076">CModel.h:76</a></div></div>
<div class="ttc" id="classCCopasiMessage_html"><div class="ttname"><a href="../../d2/df0/classCCopasiMessage.html">CCopasiMessage</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d2d/CCopasiMessage_8h_source.html#l00078">CCopasiMessage.h:78</a></div></div>
<div class="ttc" id="classCModel_html_a135194aaa96d335b89fbd59a81bff22ca4a35e788ac8194d4f2d1569516ea925d"><div class="ttname"><a href="../../d4/d04/classCModel.html#a135194aaa96d335b89fbd59a81bff22ca4a35e788ac8194d4f2d1569516ea925d">CModel::m</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d90/CModel_8h_source.html#l00076">CModel.h:76</a></div></div>
<div class="ttc" id="classCModel_html_a135194aaa96d335b89fbd59a81bff22ca56d01266744ab991bb08454bac760459"><div class="ttname"><a href="../../d4/d04/classCModel.html#a135194aaa96d335b89fbd59a81bff22ca56d01266744ab991bb08454bac760459">CModel::fm</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d90/CModel_8h_source.html#l00076">CModel.h:76</a></div></div>
<div class="ttc" id="CSBMLExporter_8cpp_html_a6c9f65aeea9a7ce079171b3a9a5b2673"><div class="ttname"><a href="../../d5/d2f/CSBMLExporter_8cpp.html#a6c9f65aeea9a7ce079171b3a9a5b2673">INIT_DEFAULTS</a></div><div class="ttdeci">#define INIT_DEFAULTS(element)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d2f/CSBMLExporter_8cpp_source.html#l00048">CSBMLExporter.cpp:48</a></div></div>
<div class="ttc" id="classCModel_html_a135194aaa96d335b89fbd59a81bff22ca70ff41c7addc0c115b28d2da5fa8d483"><div class="ttname"><a href="../../d4/d04/classCModel.html#a135194aaa96d335b89fbd59a81bff22ca70ff41c7addc0c115b28d2da5fa8d483">CModel::mm</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d90/CModel_8h_source.html#l00076">CModel.h:76</a></div></div>
<div class="ttc" id="classSBMLImporter_html_a61d10c15681b398f297bee71eaa75dbe"><div class="ttname"><a href="../../d7/d6d/classSBMLImporter.html#a61d10c15681b398f297bee71eaa75dbe">SBMLImporter::areSBMLUnitDefinitionsIdentical</a></div><div class="ttdeci">static bool areSBMLUnitDefinitionsIdentical(const UnitDefinition *pUdef1, const UnitDefinition *pUdef2)</div><div class="ttdef"><b>Definition:</b> <a href="../../df/dfd/SBMLImporter_8cpp_source.html#l08297">SBMLImporter.cpp:8297</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a8a3a98da416d76519f5ef7a9617d5b7e"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d3/d05/CChemEqParser__yacc_8cpp.html#aa76fec002b4ba91adc88f68d56ba730c">void</a> CSBMLExporter::createCompartment </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d4/dd4/classCCompartment.html">CCompartment</a> &amp;&#160;</td>
          <td class="paramname"><em>compartment</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Creates the compartment for the given COPASI compartment. </p>

<p>Definition at line <a class="el" href="../../d5/d2f/CSBMLExporter_8cpp_source.html#l00928">928</a> of file <a class="el" href="../../d5/d2f/CSBMLExporter_8cpp_source.html">CSBMLExporter.cpp</a>.</p>

<p>References <a class="el" href="../../d0/da0/classCModelEntity.html#a86cb8e66e255d66db258324064efc78aa3bfd50e7d8e4dd09716a51e0ca62dedb">CModelEntity::ASSIGNMENT</a>, <a class="el" href="../../df/d80/classCSBMLExporter.html#ab4d7f9c3d22b8225d1a4d9e3a98b855e">createUniqueId()</a>, <a class="el" href="../../d9/d2d/CCopasiMessage_8h.html#a1e835c01335d6f956a78adf106ed1b15">fatalError</a>, <a class="el" href="../../d4/dd4/classCCompartment.html#a977268782cb7d6cd7a01cab642b45c09">CCompartment::getDimensionality()</a>, <a class="el" href="../../d0/da0/classCModelEntity.html#a81da1db2a961ac206f9651f56f63138e">CModelEntity::getInitialExpression()</a>, <a class="el" href="../../d0/da0/classCModelEntity.html#a9358b19dd65bd1e1ef1e97fca55708b9">CModelEntity::getInitialValue()</a>, <a class="el" href="../../d4/da8/classCCopasiObject.html#a879d6756b51f6b58d307940e1343bd10">CCopasiObject::getObjectName()</a>, <a class="el" href="../../d0/da0/classCModelEntity.html#a5c8d403c6027f59d1cc3e1ccc2d9efac">CModelEntity::getSBMLId()</a>, <a class="el" href="../../d0/da0/classCModelEntity.html#ad6bdcaa2e8887271f61fc363262cc9ed">CModelEntity::getStatus()</a>, <a class="el" href="../../d5/d2f/CSBMLExporter_8cpp.html#a6c9f65aeea9a7ce079171b3a9a5b2673">INIT_DEFAULTS</a>, <a class="el" href="../../df/d80/classCSBMLExporter.html#ae2467a5206a20eae7445885970958380">mAssignmentVector</a>, <a class="el" href="../../df/d80/classCSBMLExporter.html#aeb19f9866a1735848770125dad2aebad">mCOPASI2SBMLMap</a>, <a class="el" href="../../df/d80/classCSBMLExporter.html#ae5ae5ec70c912323abe9c31b58de2652">mHandledSBMLObjects</a>, <a class="el" href="../../df/d80/classCSBMLExporter.html#a60ab409a11b90a1ca965d7702828af74">mIdMap</a>, <a class="el" href="../../df/d80/classCSBMLExporter.html#a1b30687327c5f035db028165254de116">mInitialAssignmentVector</a>, <a class="el" href="../../df/d80/classCSBMLExporter.html#aa2e61de10e2d26eee4c7310beb099b13">mMetaIdMap</a>, <a class="el" href="../../df/d80/classCSBMLExporter.html#a0e510c0403f40240d781206e3b224b69">mODEVector</a>, <a class="el" href="../../df/d80/classCSBMLExporter.html#a1541a69b36b8e864883e49f0de244f81">mpSBMLDocument</a>, <a class="el" href="../../df/d80/classCSBMLExporter.html#aba959efc152f63f1709d5de60e97a651">mSBMLLevel</a>, <a class="el" href="../../d0/da0/classCModelEntity.html#a86cb8e66e255d66db258324064efc78aa3c62c1c3a449e106a5f1eb2f4ff01ec3">CModelEntity::ODE</a>, <a class="el" href="../../df/d80/classCSBMLExporter.html#a9e7e580cffcbce270b84905e94bbb854">removeInitialAssignment()</a>, <a class="el" href="../../df/d80/classCSBMLExporter.html#a836063c67a8c63decd58706b6036efd0">removeRule()</a>, <a class="el" href="../../d0/da0/classCModelEntity.html#a9bfa78ba4485c77792c9cac3dfb3ac2e">CModelEntity::setSBMLId()</a>, <a class="el" href="../../df/d80/classCSBMLExporter.html#a166bed353f341e4e617bff6f40ff12c4">setSBMLNotes()</a>, and <a class="el" href="../../df/d80/classCSBMLExporter.html#aba8216eaf4931e0adf484832882fbe67">updateMIRIAMAnnotation()</a>.</p>

<p>Referenced by <a class="el" href="../../df/d80/classCSBMLExporter.html#a9d63824ae3cd33d9733f7147f8985bf7">createCompartments()</a>.</p>
<div class="fragment"><div class="line"><a name="l00929"></a><span class="lineno">  929</span>&#160;{</div>
<div class="line"><a name="l00930"></a><span class="lineno">  930</span>&#160;  Compartment* pSBMLCompartment = NULL;</div>
<div class="line"><a name="l00931"></a><span class="lineno">  931</span>&#160;  std::string sbmlId = compartment.<a class="code" href="../../d0/da0/classCModelEntity.html#a5c8d403c6027f59d1cc3e1ccc2d9efac">getSBMLId</a>();</div>
<div class="line"><a name="l00932"></a><span class="lineno">  932</span>&#160;</div>
<div class="line"><a name="l00933"></a><span class="lineno">  933</span>&#160;  <span class="keywordflow">if</span> (!sbmlId.empty())</div>
<div class="line"><a name="l00934"></a><span class="lineno">  934</span>&#160;    {</div>
<div class="line"><a name="l00935"></a><span class="lineno">  935</span>&#160;      pSBMLCompartment = this-&gt;<a class="code" href="../../df/d80/classCSBMLExporter.html#a1541a69b36b8e864883e49f0de244f81">mpSBMLDocument</a>-&gt;getModel()-&gt;getCompartment(sbmlId);</div>
<div class="line"><a name="l00936"></a><span class="lineno">  936</span>&#160;</div>
<div class="line"><a name="l00937"></a><span class="lineno">  937</span>&#160;      <span class="keywordflow">if</span> (pSBMLCompartment == NULL)</div>
<div class="line"><a name="l00938"></a><span class="lineno">  938</span>&#160;        {</div>
<div class="line"><a name="l00939"></a><span class="lineno">  939</span>&#160;          pSBMLCompartment = this-&gt;<a class="code" href="../../df/d80/classCSBMLExporter.html#a1541a69b36b8e864883e49f0de244f81">mpSBMLDocument</a>-&gt;getModel()-&gt;createCompartment();</div>
<div class="line"><a name="l00940"></a><span class="lineno">  940</span>&#160;          this-&gt;<a class="code" href="../../df/d80/classCSBMLExporter.html#aeb19f9866a1735848770125dad2aebad">mCOPASI2SBMLMap</a>[&amp;compartment] = pSBMLCompartment;</div>
<div class="line"><a name="l00941"></a><span class="lineno">  941</span>&#160;          pSBMLCompartment-&gt;setId(sbmlId);</div>
<div class="line"><a name="l00942"></a><span class="lineno">  942</span>&#160;        }</div>
<div class="line"><a name="l00943"></a><span class="lineno">  943</span>&#160;    }</div>
<div class="line"><a name="l00944"></a><span class="lineno">  944</span>&#160;  <span class="keywordflow">else</span></div>
<div class="line"><a name="l00945"></a><span class="lineno">  945</span>&#160;    {</div>
<div class="line"><a name="l00946"></a><span class="lineno">  946</span>&#160;      pSBMLCompartment = this-&gt;<a class="code" href="../../df/d80/classCSBMLExporter.html#a1541a69b36b8e864883e49f0de244f81">mpSBMLDocument</a>-&gt;getModel()-&gt;createCompartment();</div>
<div class="line"><a name="l00947"></a><span class="lineno">  947</span>&#160;      this-&gt;<a class="code" href="../../df/d80/classCSBMLExporter.html#aeb19f9866a1735848770125dad2aebad">mCOPASI2SBMLMap</a>[&amp;compartment] = pSBMLCompartment;</div>
<div class="line"><a name="l00948"></a><span class="lineno">  948</span>&#160;      sbmlId = <a class="code" href="../../df/d80/classCSBMLExporter.html#ab4d7f9c3d22b8225d1a4d9e3a98b855e">CSBMLExporter::createUniqueId</a>(this-&gt;<a class="code" href="../../df/d80/classCSBMLExporter.html#a60ab409a11b90a1ca965d7702828af74">mIdMap</a>, compartment.<a class="code" href="../../d4/da8/classCCopasiObject.html#a879d6756b51f6b58d307940e1343bd10">getObjectName</a>(), <span class="keyword">false</span>);</div>
<div class="line"><a name="l00949"></a><span class="lineno">  949</span>&#160;      compartment.<a class="code" href="../../d0/da0/classCModelEntity.html#a9bfa78ba4485c77792c9cac3dfb3ac2e">setSBMLId</a>(sbmlId);</div>
<div class="line"><a name="l00950"></a><span class="lineno">  950</span>&#160;      pSBMLCompartment-&gt;setId(sbmlId);</div>
<div class="line"><a name="l00951"></a><span class="lineno">  951</span>&#160;    }</div>
<div class="line"><a name="l00952"></a><span class="lineno">  952</span>&#160;</div>
<div class="line"><a name="l00953"></a><span class="lineno">  953</span>&#160;  <a class="code" href="../../d5/d2f/CSBMLExporter_8cpp.html#a6c9f65aeea9a7ce079171b3a9a5b2673">INIT_DEFAULTS</a>((*pSBMLCompartment));</div>
<div class="line"><a name="l00954"></a><span class="lineno">  954</span>&#160;</div>
<div class="line"><a name="l00955"></a><span class="lineno">  955</span>&#160;  this-&gt;<a class="code" href="../../df/d80/classCSBMLExporter.html#a60ab409a11b90a1ca965d7702828af74">mIdMap</a>.insert(std::pair&lt;const std::string, const SBase*&gt;(sbmlId, pSBMLCompartment));</div>
<div class="line"><a name="l00956"></a><span class="lineno">  956</span>&#160;  this-&gt;<a class="code" href="../../df/d80/classCSBMLExporter.html#ae5ae5ec70c912323abe9c31b58de2652">mHandledSBMLObjects</a>.insert(pSBMLCompartment);</div>
<div class="line"><a name="l00957"></a><span class="lineno">  957</span>&#160;</div>
<div class="line"><a name="l00958"></a><span class="lineno">  958</span>&#160;  <span class="comment">// don&#39;t call setName on level 1 objects because this will also</span></div>
<div class="line"><a name="l00959"></a><span class="lineno">  959</span>&#160;  <span class="comment">// change the id</span></div>
<div class="line"><a name="l00960"></a><span class="lineno">  960</span>&#160;  <span class="keywordflow">if</span> (this-&gt;<a class="code" href="../../df/d80/classCSBMLExporter.html#a1541a69b36b8e864883e49f0de244f81">mpSBMLDocument</a>-&gt;getLevel() &gt; 1)</div>
<div class="line"><a name="l00961"></a><span class="lineno">  961</span>&#160;    {</div>
<div class="line"><a name="l00962"></a><span class="lineno">  962</span>&#160;      pSBMLCompartment-&gt;setName(compartment.<a class="code" href="../../d4/da8/classCCopasiObject.html#a879d6756b51f6b58d307940e1343bd10">getObjectName</a>().c_str());</div>
<div class="line"><a name="l00963"></a><span class="lineno">  963</span>&#160;    }</div>
<div class="line"><a name="l00964"></a><span class="lineno">  964</span>&#160;</div>
<div class="line"><a name="l00965"></a><span class="lineno">  965</span>&#160;  pSBMLCompartment-&gt;setSpatialDimensions((<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span>)compartment.<a class="code" href="../../d4/dd4/classCCompartment.html#a977268782cb7d6cd7a01cab642b45c09">getDimensionality</a>());</div>
<div class="line"><a name="l00966"></a><span class="lineno">  966</span>&#160;  <span class="keywordtype">double</span> value = compartment.<a class="code" href="../../d0/da0/classCModelEntity.html#a9358b19dd65bd1e1ef1e97fca55708b9">getInitialValue</a>();</div>
<div class="line"><a name="l00967"></a><span class="lineno">  967</span>&#160;</div>
<div class="line"><a name="l00968"></a><span class="lineno">  968</span>&#160;  <span class="comment">// if the value is NaN, unset the initial volume</span></div>
<div class="line"><a name="l00969"></a><span class="lineno">  969</span>&#160;  <span class="keywordflow">if</span> (!isnan(value))</div>
<div class="line"><a name="l00970"></a><span class="lineno">  970</span>&#160;    {</div>
<div class="line"><a name="l00971"></a><span class="lineno">  971</span>&#160;      pSBMLCompartment-&gt;setVolume(value);</div>
<div class="line"><a name="l00972"></a><span class="lineno">  972</span>&#160;    }</div>
<div class="line"><a name="l00973"></a><span class="lineno">  973</span>&#160;  <span class="keywordflow">else</span></div>
<div class="line"><a name="l00974"></a><span class="lineno">  974</span>&#160;    {</div>
<div class="line"><a name="l00975"></a><span class="lineno">  975</span>&#160;      pSBMLCompartment-&gt;unsetVolume();</div>
<div class="line"><a name="l00976"></a><span class="lineno">  976</span>&#160;    }</div>
<div class="line"><a name="l00977"></a><span class="lineno">  977</span>&#160;</div>
<div class="line"><a name="l00978"></a><span class="lineno">  978</span>&#160;  <span class="comment">// fill assignment set</span></div>
<div class="line"><a name="l00979"></a><span class="lineno">  979</span>&#160;  <span class="comment">// a compartment can either have an assignment or an initial assignment but not</span></div>
<div class="line"><a name="l00980"></a><span class="lineno">  980</span>&#160;  <span class="comment">// both</span></div>
<div class="line"><a name="l00981"></a><span class="lineno">  981</span>&#160;  <a class="code" href="../../d0/da0/classCModelEntity.html#a86cb8e66e255d66db258324064efc78a">CModelEntity::Status</a> status = compartment.<a class="code" href="../../d0/da0/classCModelEntity.html#ad6bdcaa2e8887271f61fc363262cc9ed">getStatus</a>();</div>
<div class="line"><a name="l00982"></a><span class="lineno">  982</span>&#160;</div>
<div class="line"><a name="l00983"></a><span class="lineno">  983</span>&#160;  <span class="keywordflow">if</span> (status == <a class="code" href="../../d0/da0/classCModelEntity.html#a86cb8e66e255d66db258324064efc78aa3bfd50e7d8e4dd09716a51e0ca62dedb">CModelEntity::ASSIGNMENT</a>)</div>
<div class="line"><a name="l00984"></a><span class="lineno">  984</span>&#160;    {</div>
<div class="line"><a name="l00985"></a><span class="lineno">  985</span>&#160;      <span class="keywordflow">if</span> (compartment.<a class="code" href="../../d4/dd4/classCCompartment.html#a977268782cb7d6cd7a01cab642b45c09">getDimensionality</a>() != 0)</div>
<div class="line"><a name="l00986"></a><span class="lineno">  986</span>&#160;        {</div>
<div class="line"><a name="l00987"></a><span class="lineno">  987</span>&#160;          this-&gt;<a class="code" href="../../df/d80/classCSBMLExporter.html#ae2467a5206a20eae7445885970958380">mAssignmentVector</a>.push_back(&amp;compartment);</div>
<div class="line"><a name="l00988"></a><span class="lineno">  988</span>&#160;          pSBMLCompartment-&gt;setConstant(<span class="keyword">false</span>);</div>
<div class="line"><a name="l00989"></a><span class="lineno">  989</span>&#160;          <a class="code" href="../../df/d80/classCSBMLExporter.html#a9e7e580cffcbce270b84905e94bbb854">removeInitialAssignment</a>(pSBMLCompartment-&gt;getId());</div>
<div class="line"><a name="l00990"></a><span class="lineno">  990</span>&#160;        }</div>
<div class="line"><a name="l00991"></a><span class="lineno">  991</span>&#160;      <span class="keywordflow">else</span></div>
<div class="line"><a name="l00992"></a><span class="lineno">  992</span>&#160;        {</div>
<div class="line"><a name="l00993"></a><span class="lineno">  993</span>&#160;          <a class="code" href="../../d9/d2d/CCopasiMessage_8h.html#a1e835c01335d6f956a78adf106ed1b15">fatalError</a>();</div>
<div class="line"><a name="l00994"></a><span class="lineno">  994</span>&#160;        }</div>
<div class="line"><a name="l00995"></a><span class="lineno">  995</span>&#160;    }</div>
<div class="line"><a name="l00996"></a><span class="lineno">  996</span>&#160;  <span class="keywordflow">else</span> <span class="keywordflow">if</span> (status == <a class="code" href="../../d0/da0/classCModelEntity.html#a86cb8e66e255d66db258324064efc78aa3c62c1c3a449e106a5f1eb2f4ff01ec3">CModelEntity::ODE</a>)</div>
<div class="line"><a name="l00997"></a><span class="lineno">  997</span>&#160;    {</div>
<div class="line"><a name="l00998"></a><span class="lineno">  998</span>&#160;      <span class="keywordflow">if</span> (compartment.<a class="code" href="../../d4/dd4/classCCompartment.html#a977268782cb7d6cd7a01cab642b45c09">getDimensionality</a>() != 0)</div>
<div class="line"><a name="l00999"></a><span class="lineno">  999</span>&#160;        {</div>
<div class="line"><a name="l01000"></a><span class="lineno"> 1000</span>&#160;          this-&gt;<a class="code" href="../../df/d80/classCSBMLExporter.html#a0e510c0403f40240d781206e3b224b69">mODEVector</a>.push_back(&amp;compartment);</div>
<div class="line"><a name="l01001"></a><span class="lineno"> 1001</span>&#160;          pSBMLCompartment-&gt;setConstant(<span class="keyword">false</span>);</div>
<div class="line"><a name="l01002"></a><span class="lineno"> 1002</span>&#160;</div>
<div class="line"><a name="l01003"></a><span class="lineno"> 1003</span>&#160;          <span class="keywordflow">if</span> (compartment.<a class="code" href="../../d0/da0/classCModelEntity.html#a81da1db2a961ac206f9651f56f63138e">getInitialExpression</a>() != <span class="stringliteral">&quot;&quot;</span>)</div>
<div class="line"><a name="l01004"></a><span class="lineno"> 1004</span>&#160;            {</div>
<div class="line"><a name="l01005"></a><span class="lineno"> 1005</span>&#160;              this-&gt;<a class="code" href="../../df/d80/classCSBMLExporter.html#a1b30687327c5f035db028165254de116">mInitialAssignmentVector</a>.push_back(&amp;compartment);</div>
<div class="line"><a name="l01006"></a><span class="lineno"> 1006</span>&#160;            }</div>
<div class="line"><a name="l01007"></a><span class="lineno"> 1007</span>&#160;          <span class="keywordflow">else</span></div>
<div class="line"><a name="l01008"></a><span class="lineno"> 1008</span>&#160;            {</div>
<div class="line"><a name="l01009"></a><span class="lineno"> 1009</span>&#160;              <a class="code" href="../../df/d80/classCSBMLExporter.html#a9e7e580cffcbce270b84905e94bbb854">removeInitialAssignment</a>(pSBMLCompartment-&gt;getId());</div>
<div class="line"><a name="l01010"></a><span class="lineno"> 1010</span>&#160;            }</div>
<div class="line"><a name="l01011"></a><span class="lineno"> 1011</span>&#160;        }</div>
<div class="line"><a name="l01012"></a><span class="lineno"> 1012</span>&#160;      <span class="keywordflow">else</span></div>
<div class="line"><a name="l01013"></a><span class="lineno"> 1013</span>&#160;        {</div>
<div class="line"><a name="l01014"></a><span class="lineno"> 1014</span>&#160;          <a class="code" href="../../d9/d2d/CCopasiMessage_8h.html#a1e835c01335d6f956a78adf106ed1b15">fatalError</a>();</div>
<div class="line"><a name="l01015"></a><span class="lineno"> 1015</span>&#160;        }</div>
<div class="line"><a name="l01016"></a><span class="lineno"> 1016</span>&#160;    }</div>
<div class="line"><a name="l01017"></a><span class="lineno"> 1017</span>&#160;  <span class="keywordflow">else</span></div>
<div class="line"><a name="l01018"></a><span class="lineno"> 1018</span>&#160;    {</div>
<div class="line"><a name="l01019"></a><span class="lineno"> 1019</span>&#160;      <span class="comment">// do this explicitly since we might handle an existing object from an</span></div>
<div class="line"><a name="l01020"></a><span class="lineno"> 1020</span>&#160;      <span class="comment">// earlier import that had it attribute set already</span></div>
<div class="line"><a name="l01021"></a><span class="lineno"> 1021</span>&#160;      <span class="keywordflow">if</span> (this-&gt;<a class="code" href="../../df/d80/classCSBMLExporter.html#aba959efc152f63f1709d5de60e97a651">mSBMLLevel</a> != 1)</div>
<div class="line"><a name="l01022"></a><span class="lineno"> 1022</span>&#160;        {</div>
<div class="line"><a name="l01023"></a><span class="lineno"> 1023</span>&#160;          pSBMLCompartment-&gt;setConstant(<span class="keyword">true</span>);</div>
<div class="line"><a name="l01024"></a><span class="lineno"> 1024</span>&#160;        }</div>
<div class="line"><a name="l01025"></a><span class="lineno"> 1025</span>&#160;      <span class="keywordflow">else</span></div>
<div class="line"><a name="l01026"></a><span class="lineno"> 1026</span>&#160;        {</div>
<div class="line"><a name="l01027"></a><span class="lineno"> 1027</span>&#160;          <span class="comment">// Level 1 does not know the constant flag and libsbmnl does not drop</span></div>
<div class="line"><a name="l01028"></a><span class="lineno"> 1028</span>&#160;          <span class="comment">// it automatically</span></div>
<div class="line"><a name="l01029"></a><span class="lineno"> 1029</span>&#160;          pSBMLCompartment-&gt;setConstant(<span class="keyword">false</span>);</div>
<div class="line"><a name="l01030"></a><span class="lineno"> 1030</span>&#160;        }</div>
<div class="line"><a name="l01031"></a><span class="lineno"> 1031</span>&#160;</div>
<div class="line"><a name="l01032"></a><span class="lineno"> 1032</span>&#160;      <a class="code" href="../../df/d80/classCSBMLExporter.html#a836063c67a8c63decd58706b6036efd0">removeRule</a>(pSBMLCompartment-&gt;getId());</div>
<div class="line"><a name="l01033"></a><span class="lineno"> 1033</span>&#160;</div>
<div class="line"><a name="l01034"></a><span class="lineno"> 1034</span>&#160;      <span class="comment">// fill initial assignment set</span></div>
<div class="line"><a name="l01035"></a><span class="lineno"> 1035</span>&#160;      <span class="keywordflow">if</span> (compartment.<a class="code" href="../../d0/da0/classCModelEntity.html#a81da1db2a961ac206f9651f56f63138e">getInitialExpression</a>() != <span class="stringliteral">&quot;&quot;</span>)</div>
<div class="line"><a name="l01036"></a><span class="lineno"> 1036</span>&#160;        {</div>
<div class="line"><a name="l01037"></a><span class="lineno"> 1037</span>&#160;          <span class="keywordflow">if</span> (compartment.<a class="code" href="../../d4/dd4/classCCompartment.html#a977268782cb7d6cd7a01cab642b45c09">getDimensionality</a>() != 0)</div>
<div class="line"><a name="l01038"></a><span class="lineno"> 1038</span>&#160;            {</div>
<div class="line"><a name="l01039"></a><span class="lineno"> 1039</span>&#160;              this-&gt;<a class="code" href="../../df/d80/classCSBMLExporter.html#a1b30687327c5f035db028165254de116">mInitialAssignmentVector</a>.push_back(&amp;compartment);</div>
<div class="line"><a name="l01040"></a><span class="lineno"> 1040</span>&#160;            }</div>
<div class="line"><a name="l01041"></a><span class="lineno"> 1041</span>&#160;          <span class="keywordflow">else</span></div>
<div class="line"><a name="l01042"></a><span class="lineno"> 1042</span>&#160;            {</div>
<div class="line"><a name="l01043"></a><span class="lineno"> 1043</span>&#160;              <a class="code" href="../../d9/d2d/CCopasiMessage_8h.html#a1e835c01335d6f956a78adf106ed1b15">fatalError</a>();</div>
<div class="line"><a name="l01044"></a><span class="lineno"> 1044</span>&#160;            }</div>
<div class="line"><a name="l01045"></a><span class="lineno"> 1045</span>&#160;        }</div>
<div class="line"><a name="l01046"></a><span class="lineno"> 1046</span>&#160;      <span class="keywordflow">else</span></div>
<div class="line"><a name="l01047"></a><span class="lineno"> 1047</span>&#160;        {</div>
<div class="line"><a name="l01048"></a><span class="lineno"> 1048</span>&#160;          <a class="code" href="../../df/d80/classCSBMLExporter.html#a9e7e580cffcbce270b84905e94bbb854">removeInitialAssignment</a>(pSBMLCompartment-&gt;getId());</div>
<div class="line"><a name="l01049"></a><span class="lineno"> 1049</span>&#160;        }</div>
<div class="line"><a name="l01050"></a><span class="lineno"> 1050</span>&#160;    }</div>
<div class="line"><a name="l01051"></a><span class="lineno"> 1051</span>&#160;</div>
<div class="line"><a name="l01052"></a><span class="lineno"> 1052</span>&#160;  <span class="keywordflow">if</span> (pSBMLCompartment != NULL)</div>
<div class="line"><a name="l01053"></a><span class="lineno"> 1053</span>&#160;    {</div>
<div class="line"><a name="l01054"></a><span class="lineno"> 1054</span>&#160;      <a class="code" href="../../df/d80/classCSBMLExporter.html#a166bed353f341e4e617bff6f40ff12c4">CSBMLExporter::setSBMLNotes</a>(pSBMLCompartment, &amp;compartment);</div>
<div class="line"><a name="l01055"></a><span class="lineno"> 1055</span>&#160;    }</div>
<div class="line"><a name="l01056"></a><span class="lineno"> 1056</span>&#160;</div>
<div class="line"><a name="l01057"></a><span class="lineno"> 1057</span>&#160;  <span class="keywordflow">if</span> (pSBMLCompartment != NULL &amp;&amp; <a class="code" href="../../df/d80/classCSBMLExporter.html#aba959efc152f63f1709d5de60e97a651">mSBMLLevel</a> == 3)</div>
<div class="line"><a name="l01058"></a><span class="lineno"> 1058</span>&#160;    {</div>
<div class="line"><a name="l01059"></a><span class="lineno"> 1059</span>&#160;      pSBMLCompartment-&gt;setUnits(<span class="stringliteral">&quot;volume&quot;</span>);</div>
<div class="line"><a name="l01060"></a><span class="lineno"> 1060</span>&#160;    }</div>
<div class="line"><a name="l01061"></a><span class="lineno"> 1061</span>&#160;</div>
<div class="line"><a name="l01062"></a><span class="lineno"> 1062</span>&#160;  <a class="code" href="../../df/d80/classCSBMLExporter.html#aba8216eaf4931e0adf484832882fbe67">CSBMLExporter::updateMIRIAMAnnotation</a>(&amp;compartment, pSBMLCompartment, this-&gt;<a class="code" href="../../df/d80/classCSBMLExporter.html#aa2e61de10e2d26eee4c7310beb099b13">mMetaIdMap</a>);</div>
<div class="line"><a name="l01063"></a><span class="lineno"> 1063</span>&#160;}</div>
<div class="ttc" id="classCSBMLExporter_html_aba959efc152f63f1709d5de60e97a651"><div class="ttname"><a href="../../df/d80/classCSBMLExporter.html#aba959efc152f63f1709d5de60e97a651">CSBMLExporter::mSBMLLevel</a></div><div class="ttdeci">unsigned int mSBMLLevel</div><div class="ttdef"><b>Definition:</b> <a href="../../da/d7f/CSBMLExporter_8h_source.html#l00056">CSBMLExporter.h:56</a></div></div>
<div class="ttc" id="classCSBMLExporter_html_a1541a69b36b8e864883e49f0de244f81"><div class="ttname"><a href="../../df/d80/classCSBMLExporter.html#a1541a69b36b8e864883e49f0de244f81">CSBMLExporter::mpSBMLDocument</a></div><div class="ttdeci">SBMLDocument * mpSBMLDocument</div><div class="ttdef"><b>Definition:</b> <a href="../../da/d7f/CSBMLExporter_8h_source.html#l00055">CSBMLExporter.h:55</a></div></div>
<div class="ttc" id="classCModelEntity_html_a5c8d403c6027f59d1cc3e1ccc2d9efac"><div class="ttname"><a href="../../d0/da0/classCModelEntity.html#a5c8d403c6027f59d1cc3e1ccc2d9efac">CModelEntity::getSBMLId</a></div><div class="ttdeci">const std::string &amp; getSBMLId() const </div><div class="ttdef"><b>Definition:</b> <a href="../../d8/da3/CModelValue_8cpp_source.html#l00637">CModelValue.cpp:637</a></div></div>
<div class="ttc" id="classCCopasiObject_html_a879d6756b51f6b58d307940e1343bd10"><div class="ttname"><a href="../../d4/da8/classCCopasiObject.html#a879d6756b51f6b58d307940e1343bd10">CCopasiObject::getObjectName</a></div><div class="ttdeci">const std::string &amp; getObjectName() const </div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d22/CCopasiObject_8cpp_source.html#l00258">CCopasiObject.cpp:258</a></div></div>
<div class="ttc" id="classCCompartment_html_a977268782cb7d6cd7a01cab642b45c09"><div class="ttname"><a href="../../d4/dd4/classCCompartment.html#a977268782cb7d6cd7a01cab642b45c09">CCompartment::getDimensionality</a></div><div class="ttdeci">unsigned C_INT32 getDimensionality() const </div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d2d/CCompartment_8cpp_source.html#l00204">CCompartment.cpp:204</a></div></div>
<div class="ttc" id="CCopasiMessage_8h_html_a1e835c01335d6f956a78adf106ed1b15"><div class="ttname"><a href="../../d9/d2d/CCopasiMessage_8h.html#a1e835c01335d6f956a78adf106ed1b15">fatalError</a></div><div class="ttdeci">#define fatalError()</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d2d/CCopasiMessage_8h_source.html#l00074">CCopasiMessage.h:74</a></div></div>
<div class="ttc" id="classCSBMLExporter_html_ae2467a5206a20eae7445885970958380"><div class="ttname"><a href="../../df/d80/classCSBMLExporter.html#ae2467a5206a20eae7445885970958380">CSBMLExporter::mAssignmentVector</a></div><div class="ttdeci">std::vector&lt; CModelEntity * &gt; mAssignmentVector</div><div class="ttdef"><b>Definition:</b> <a href="../../da/d7f/CSBMLExporter_8h_source.html#l00058">CSBMLExporter.h:58</a></div></div>
<div class="ttc" id="classCModelEntity_html_a86cb8e66e255d66db258324064efc78aa3bfd50e7d8e4dd09716a51e0ca62dedb"><div class="ttname"><a href="../../d0/da0/classCModelEntity.html#a86cb8e66e255d66db258324064efc78aa3bfd50e7d8e4dd09716a51e0ca62dedb">CModelEntity::ASSIGNMENT</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d1/da3/CModelValue_8h_source.html#l00056">CModelValue.h:56</a></div></div>
<div class="ttc" id="classCSBMLExporter_html_a60ab409a11b90a1ca965d7702828af74"><div class="ttname"><a href="../../df/d80/classCSBMLExporter.html#a60ab409a11b90a1ca965d7702828af74">CSBMLExporter::mIdMap</a></div><div class="ttdeci">std::map&lt; std::string, const SBase * &gt; mIdMap</div><div class="ttdef"><b>Definition:</b> <a href="../../da/d7f/CSBMLExporter_8h_source.html#l00064">CSBMLExporter.h:64</a></div></div>
<div class="ttc" id="classCSBMLExporter_html_a166bed353f341e4e617bff6f40ff12c4"><div class="ttname"><a href="../../df/d80/classCSBMLExporter.html#a166bed353f341e4e617bff6f40ff12c4">CSBMLExporter::setSBMLNotes</a></div><div class="ttdeci">static bool setSBMLNotes(SBase *pSBase, const CAnnotation *pAnno)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d2f/CSBMLExporter_8cpp_source.html#l07697">CSBMLExporter.cpp:7697</a></div></div>
<div class="ttc" id="classCSBMLExporter_html_ab4d7f9c3d22b8225d1a4d9e3a98b855e"><div class="ttname"><a href="../../df/d80/classCSBMLExporter.html#ab4d7f9c3d22b8225d1a4d9e3a98b855e">CSBMLExporter::createUniqueId</a></div><div class="ttdeci">static const std::string createUniqueId(const std::map&lt; std::string, const SBase * &gt; &amp;idMap, const std::string &amp;prefix, bool addIndexForFirst, const std::string &amp;separator=&quot;_&quot;)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d2f/CSBMLExporter_8cpp_source.html#l02252">CSBMLExporter.cpp:2252</a></div></div>
<div class="ttc" id="classCModelEntity_html_a9358b19dd65bd1e1ef1e97fca55708b9"><div class="ttname"><a href="../../d0/da0/classCModelEntity.html#a9358b19dd65bd1e1ef1e97fca55708b9">CModelEntity::getInitialValue</a></div><div class="ttdeci">const C_FLOAT64 &amp; getInitialValue() const </div><div class="ttdef"><b>Definition:</b> <a href="../../d8/da3/CModelValue_8cpp_source.html#l00138">CModelValue.cpp:138</a></div></div>
<div class="ttc" id="classCSBMLExporter_html_a0e510c0403f40240d781206e3b224b69"><div class="ttname"><a href="../../df/d80/classCSBMLExporter.html#a0e510c0403f40240d781206e3b224b69">CSBMLExporter::mODEVector</a></div><div class="ttdeci">std::vector&lt; CModelEntity * &gt; mODEVector</div><div class="ttdef"><b>Definition:</b> <a href="../../da/d7f/CSBMLExporter_8h_source.html#l00059">CSBMLExporter.h:59</a></div></div>
<div class="ttc" id="classCModelEntity_html_a81da1db2a961ac206f9651f56f63138e"><div class="ttname"><a href="../../d0/da0/classCModelEntity.html#a81da1db2a961ac206f9651f56f63138e">CModelEntity::getInitialExpression</a></div><div class="ttdeci">std::string getInitialExpression() const </div><div class="ttdef"><b>Definition:</b> <a href="../../d8/da3/CModelValue_8cpp_source.html#l00350">CModelValue.cpp:350</a></div></div>
<div class="ttc" id="classCSBMLExporter_html_a9e7e580cffcbce270b84905e94bbb854"><div class="ttname"><a href="../../df/d80/classCSBMLExporter.html#a9e7e580cffcbce270b84905e94bbb854">CSBMLExporter::removeInitialAssignment</a></div><div class="ttdeci">void removeInitialAssignment(const std::string &amp;sbmlId)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d2f/CSBMLExporter_8cpp_source.html#l06021">CSBMLExporter.cpp:6021</a></div></div>
<div class="ttc" id="classCModelEntity_html_a86cb8e66e255d66db258324064efc78a"><div class="ttname"><a href="../../d0/da0/classCModelEntity.html#a86cb8e66e255d66db258324064efc78a">CModelEntity::Status</a></div><div class="ttdeci">Status</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/da3/CModelValue_8h_source.html#l00053">CModelValue.h:53</a></div></div>
<div class="ttc" id="classCSBMLExporter_html_aa2e61de10e2d26eee4c7310beb099b13"><div class="ttname"><a href="../../df/d80/classCSBMLExporter.html#aa2e61de10e2d26eee4c7310beb099b13">CSBMLExporter::mMetaIdMap</a></div><div class="ttdeci">std::map&lt; std::string, const SBase * &gt; mMetaIdMap</div><div class="ttdef"><b>Definition:</b> <a href="../../da/d7f/CSBMLExporter_8h_source.html#l00070">CSBMLExporter.h:70</a></div></div>
<div class="ttc" id="classCSBMLExporter_html_aeb19f9866a1735848770125dad2aebad"><div class="ttname"><a href="../../df/d80/classCSBMLExporter.html#aeb19f9866a1735848770125dad2aebad">CSBMLExporter::mCOPASI2SBMLMap</a></div><div class="ttdeci">std::map&lt; const CCopasiObject *, SBase * &gt; mCOPASI2SBMLMap</div><div class="ttdef"><b>Definition:</b> <a href="../../da/d7f/CSBMLExporter_8h_source.html#l00061">CSBMLExporter.h:61</a></div></div>
<div class="ttc" id="classCSBMLExporter_html_aba8216eaf4931e0adf484832882fbe67"><div class="ttname"><a href="../../df/d80/classCSBMLExporter.html#aba8216eaf4931e0adf484832882fbe67">CSBMLExporter::updateMIRIAMAnnotation</a></div><div class="ttdeci">bool updateMIRIAMAnnotation(const CCopasiObject *pCOPASIObject, SBase *pSBMLObject, std::map&lt; std::string, const SBase * &gt; &amp;metaIds)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d2f/CSBMLExporter_8cpp_source.html#l06361">CSBMLExporter.cpp:6361</a></div></div>
<div class="ttc" id="CSBMLExporter_8cpp_html_a6c9f65aeea9a7ce079171b3a9a5b2673"><div class="ttname"><a href="../../d5/d2f/CSBMLExporter_8cpp.html#a6c9f65aeea9a7ce079171b3a9a5b2673">INIT_DEFAULTS</a></div><div class="ttdeci">#define INIT_DEFAULTS(element)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d2f/CSBMLExporter_8cpp_source.html#l00048">CSBMLExporter.cpp:48</a></div></div>
<div class="ttc" id="classCSBMLExporter_html_ae5ae5ec70c912323abe9c31b58de2652"><div class="ttname"><a href="../../df/d80/classCSBMLExporter.html#ae5ae5ec70c912323abe9c31b58de2652">CSBMLExporter::mHandledSBMLObjects</a></div><div class="ttdeci">std::set&lt; SBase * &gt; mHandledSBMLObjects</div><div class="ttdef"><b>Definition:</b> <a href="../../da/d7f/CSBMLExporter_8h_source.html#l00062">CSBMLExporter.h:62</a></div></div>
<div class="ttc" id="classCModelEntity_html_a86cb8e66e255d66db258324064efc78aa3c62c1c3a449e106a5f1eb2f4ff01ec3"><div class="ttname"><a href="../../d0/da0/classCModelEntity.html#a86cb8e66e255d66db258324064efc78aa3c62c1c3a449e106a5f1eb2f4ff01ec3">CModelEntity::ODE</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d1/da3/CModelValue_8h_source.html#l00060">CModelValue.h:60</a></div></div>
<div class="ttc" id="classCModelEntity_html_ad6bdcaa2e8887271f61fc363262cc9ed"><div class="ttname"><a href="../../d0/da0/classCModelEntity.html#ad6bdcaa2e8887271f61fc363262cc9ed">CModelEntity::getStatus</a></div><div class="ttdeci">const CModelEntity::Status &amp; getStatus() const </div><div class="ttdef"><b>Definition:</b> <a href="../../d8/da3/CModelValue_8cpp_source.html#l00141">CModelValue.cpp:141</a></div></div>
<div class="ttc" id="classCModelEntity_html_a9bfa78ba4485c77792c9cac3dfb3ac2e"><div class="ttname"><a href="../../d0/da0/classCModelEntity.html#a9bfa78ba4485c77792c9cac3dfb3ac2e">CModelEntity::setSBMLId</a></div><div class="ttdeci">void setSBMLId(const std::string &amp;id)</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/da3/CModelValue_8cpp_source.html#l00632">CModelValue.cpp:632</a></div></div>
<div class="ttc" id="classCSBMLExporter_html_a836063c67a8c63decd58706b6036efd0"><div class="ttname"><a href="../../df/d80/classCSBMLExporter.html#a836063c67a8c63decd58706b6036efd0">CSBMLExporter::removeRule</a></div><div class="ttdeci">void removeRule(const std::string &amp;sbmlId)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d2f/CSBMLExporter_8cpp_source.html#l06042">CSBMLExporter.cpp:6042</a></div></div>
<div class="ttc" id="classCSBMLExporter_html_a1b30687327c5f035db028165254de116"><div class="ttname"><a href="../../df/d80/classCSBMLExporter.html#a1b30687327c5f035db028165254de116">CSBMLExporter::mInitialAssignmentVector</a></div><div class="ttdeci">std::vector&lt; CModelEntity * &gt; mInitialAssignmentVector</div><div class="ttdef"><b>Definition:</b> <a href="../../da/d7f/CSBMLExporter_8h_source.html#l00060">CSBMLExporter.h:60</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a9d63824ae3cd33d9733f7147f8985bf7"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d3/d05/CChemEqParser__yacc_8cpp.html#aa76fec002b4ba91adc88f68d56ba730c">void</a> CSBMLExporter::createCompartments </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d4/d18/classCCopasiDataModel.html">CCopasiDataModel</a> &amp;&#160;</td>
          <td class="paramname"><em>dataModel</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Creates the compartments for the model. </p>

<p>Definition at line <a class="el" href="../../d5/d2f/CSBMLExporter_8cpp_source.html#l00911">911</a> of file <a class="el" href="../../d5/d2f/CSBMLExporter_8cpp_source.html">CSBMLExporter.cpp</a>.</p>

<p>References <a class="el" href="../../d8/d2c/classCCopasiVector.html#acb26711fe72be0d2cb3a37c2fbcc031f">CCopasiVector&lt; T &gt;::begin()</a>, <a class="el" href="../../df/d80/classCSBMLExporter.html#a8a3a98da416d76519f5ef7a9617d5b7e">createCompartment()</a>, <a class="el" href="../../d8/d2c/classCCopasiVector.html#a44c97a5f614c885495c437f2a8d20954">CCopasiVector&lt; T &gt;::end()</a>, <a class="el" href="../../d4/d04/classCModel.html#a7d405db8dc8120b942aa0ec1e80db399">CModel::getCompartments()</a>, <a class="el" href="../../d4/d18/classCCopasiDataModel.html#a2e65952e0caf0b2709d381cf949fec69">CCopasiDataModel::getModel()</a>, and <a class="el" href="../../df/d80/classCSBMLExporter.html#a1541a69b36b8e864883e49f0de244f81">mpSBMLDocument</a>.</p>

<p>Referenced by <a class="el" href="../../df/d80/classCSBMLExporter.html#a2b680d670c11c7c70a45bc12e236b2e8">createSBMLDocument()</a>.</p>
<div class="fragment"><div class="line"><a name="l00912"></a><span class="lineno">  912</span>&#160;{</div>
<div class="line"><a name="l00913"></a><span class="lineno">  913</span>&#160;  <span class="comment">// make sure the SBML Document already exists and that it has a Model set</span></div>
<div class="line"><a name="l00914"></a><span class="lineno">  914</span>&#160;  <span class="keywordflow">if</span> (dataModel.<a class="code" href="../../d4/d18/classCCopasiDataModel.html#a2e65952e0caf0b2709d381cf949fec69">getModel</a>() == NULL || this-&gt;<a class="code" href="../../df/d80/classCSBMLExporter.html#a1541a69b36b8e864883e49f0de244f81">mpSBMLDocument</a> == NULL || this-&gt;<a class="code" href="../../df/d80/classCSBMLExporter.html#a1541a69b36b8e864883e49f0de244f81">mpSBMLDocument</a>-&gt;getModel() == NULL) <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00915"></a><span class="lineno">  915</span>&#160;</div>
<div class="line"><a name="l00916"></a><span class="lineno">  916</span>&#160;  <a class="code" href="../../d9/db9/classCCopasiVectorNS.html">CCopasiVectorNS&lt;CCompartment&gt;::const_iterator</a> it = dataModel.<a class="code" href="../../d4/d18/classCCopasiDataModel.html#a2e65952e0caf0b2709d381cf949fec69">getModel</a>()-&gt;<a class="code" href="../../d4/d04/classCModel.html#a7d405db8dc8120b942aa0ec1e80db399">getCompartments</a>().<a class="code" href="../../d8/d2c/classCCopasiVector.html#acb26711fe72be0d2cb3a37c2fbcc031f">begin</a>(), endit = dataModel.<a class="code" href="../../d4/d18/classCCopasiDataModel.html#a2e65952e0caf0b2709d381cf949fec69">getModel</a>()-&gt;<a class="code" href="../../d4/d04/classCModel.html#a7d405db8dc8120b942aa0ec1e80db399">getCompartments</a>().<a class="code" href="../../d8/d2c/classCCopasiVector.html#a44c97a5f614c885495c437f2a8d20954">end</a>();</div>
<div class="line"><a name="l00917"></a><span class="lineno">  917</span>&#160;</div>
<div class="line"><a name="l00918"></a><span class="lineno">  918</span>&#160;  <span class="keywordflow">while</span> (it != endit)</div>
<div class="line"><a name="l00919"></a><span class="lineno">  919</span>&#160;    {</div>
<div class="line"><a name="l00920"></a><span class="lineno">  920</span>&#160;      <a class="code" href="../../df/d80/classCSBMLExporter.html#a8a3a98da416d76519f5ef7a9617d5b7e">createCompartment</a>(**it);</div>
<div class="line"><a name="l00921"></a><span class="lineno">  921</span>&#160;      ++it;</div>
<div class="line"><a name="l00922"></a><span class="lineno">  922</span>&#160;    }</div>
<div class="line"><a name="l00923"></a><span class="lineno">  923</span>&#160;}</div>
<div class="ttc" id="classCSBMLExporter_html_a1541a69b36b8e864883e49f0de244f81"><div class="ttname"><a href="../../df/d80/classCSBMLExporter.html#a1541a69b36b8e864883e49f0de244f81">CSBMLExporter::mpSBMLDocument</a></div><div class="ttdeci">SBMLDocument * mpSBMLDocument</div><div class="ttdef"><b>Definition:</b> <a href="../../da/d7f/CSBMLExporter_8h_source.html#l00055">CSBMLExporter.h:55</a></div></div>
<div class="ttc" id="classCCopasiDataModel_html_a2e65952e0caf0b2709d381cf949fec69"><div class="ttname"><a href="../../d4/d18/classCCopasiDataModel.html#a2e65952e0caf0b2709d381cf949fec69">CCopasiDataModel::getModel</a></div><div class="ttdeci">CModel * getModel()</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d38/CCopasiDataModel_8cpp_source.html#l01407">CCopasiDataModel.cpp:1407</a></div></div>
<div class="ttc" id="classCSBMLExporter_html_a8a3a98da416d76519f5ef7a9617d5b7e"><div class="ttname"><a href="../../df/d80/classCSBMLExporter.html#a8a3a98da416d76519f5ef7a9617d5b7e">CSBMLExporter::createCompartment</a></div><div class="ttdeci">void createCompartment(CCompartment &amp;compartment)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d2f/CSBMLExporter_8cpp_source.html#l00928">CSBMLExporter.cpp:928</a></div></div>
<div class="ttc" id="classCCopasiVector_html_acb26711fe72be0d2cb3a37c2fbcc031f"><div class="ttname"><a href="../../d8/d2c/classCCopasiVector.html#acb26711fe72be0d2cb3a37c2fbcc031f">CCopasiVector::begin</a></div><div class="ttdeci">iterator begin()</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d51/CCopasiVector_8h_source.html#l00185">CCopasiVector.h:185</a></div></div>
<div class="ttc" id="classCCopasiVectorNS_html"><div class="ttname"><a href="../../d9/db9/classCCopasiVectorNS.html">CCopasiVectorNS</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d51/CCopasiVector_8h_source.html#l00800">CCopasiVector.h:800</a></div></div>
<div class="ttc" id="classCCopasiVector_html_a44c97a5f614c885495c437f2a8d20954"><div class="ttname"><a href="../../d8/d2c/classCCopasiVector.html#a44c97a5f614c885495c437f2a8d20954">CCopasiVector::end</a></div><div class="ttdeci">iterator end()</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d51/CCopasiVector_8h_source.html#l00191">CCopasiVector.h:191</a></div></div>
<div class="ttc" id="classCModel_html_a7d405db8dc8120b942aa0ec1e80db399"><div class="ttname"><a href="../../d4/d04/classCModel.html#a7d405db8dc8120b942aa0ec1e80db399">CModel::getCompartments</a></div><div class="ttdeci">CCopasiVectorNS&lt; CCompartment &gt; &amp; getCompartments()</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d08/CModel_8cpp_source.html#l01145">CModel.cpp:1145</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a79ba15ac876b6354e2aaff763b8a7c86"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d3/d05/CChemEqParser__yacc_8cpp.html#aa76fec002b4ba91adc88f68d56ba730c">void</a> CSBMLExporter::createEvent </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../da/d3f/classCEvent.html">CEvent</a> &amp;&#160;</td>
          <td class="paramname"><em>event</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">Event *&#160;</td>
          <td class="paramname"><em>pSBMLEvent</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d4/d18/classCCopasiDataModel.html">CCopasiDataModel</a> &amp;&#160;</td>
          <td class="paramname"><em>dataModel</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Creates an SBML Event for the given COPASI event. </p>

<p>Definition at line <a class="el" href="../../d5/d2f/CSBMLExporter_8cpp_source.html#l04005">4005</a> of file <a class="el" href="../../d5/d2f/CSBMLExporter_8cpp_source.html">CSBMLExporter.cpp</a>.</p>

<p>References <a class="el" href="../../d5/d2f/CSBMLExporter_8cpp.html#a50d8b634c989579da580569f9f73e114">convertExpression()</a>, <a class="el" href="../../df/d80/classCSBMLExporter.html#ac61681ecd68ba2288e21ff1584ad20af">convertToASTNode()</a>, <a class="el" href="../../df/d80/classCSBMLExporter.html#a6dcd463b48c53c136e6c1af5b22251f2">createFunctionSetFromFunctionNames()</a>, <a class="el" href="../../df/d80/classCSBMLExporter.html#ab4d7f9c3d22b8225d1a4d9e3a98b855e">createUniqueId()</a>, <a class="el" href="../../d2/df0/classCCopasiMessage.html#a2ea1ed32494ff5c8d84353efcec7a5e4a568f885d73f0ea36bedfe92f6e533071">CCopasiMessage::EXCEPTION</a>, <a class="el" href="../../df/d80/classCSBMLExporter.html#aefbd6278e618486186192aff4bdff76e">exportEventAssignments()</a>, <a class="el" href="../../df/d80/classCSBMLExporter.html#aa843eb9b5d1ae41d5dd2be78a864f2d5">findDirectlyUsedFunctions()</a>, <a class="el" href="../../da/d3f/classCEvent.html#a4d754abd6ba606dea38f8974ed33eb06">CEvent::getDelayAssignment()</a>, <a class="el" href="../../d3/db1/classCCopasiRootContainer.html#afd5e8541f181260daf7515b28f0612c3">CCopasiRootContainer::getFunctionList()</a>, <a class="el" href="../../d1/d50/classCEvaluationTree.html#abab25dce8518661da82058c20bc5b5aa">CEvaluationTree::getInfix()</a>, <a class="el" href="../../d4/da8/classCCopasiObject.html#a879d6756b51f6b58d307940e1343bd10">CCopasiObject::getObjectName()</a>, <a class="el" href="../../d1/d50/classCEvaluationTree.html#a542e592cb978819d30a6da627411ba91">CEvaluationTree::getRoot()</a>, <a class="el" href="../../da/d3f/classCEvent.html#a15664a61c44cae7a83014b2e2fec32eb">CEvent::getSBMLId()</a>, <a class="el" href="../../d8/d9f/classCEvaluationNode.html#ae24b55d848d78cec0a359fd199c76562">CEvaluationNode::getType()</a>, <a class="el" href="../../d8/d9f/classCEvaluationNode.html#aeef59b7ae37d1323a4900e5d19140491a7492325b731420bde92a0fa2620dde0c">CEvaluationNode::INVALID</a>, <a class="el" href="../../df/d80/classCSBMLExporter.html#aefa0189aa8976611a461b6de4142fdc7">isExpressionSBMLCompatible()</a>, <a class="el" href="../../df/d80/classCSBMLExporter.html#aeb19f9866a1735848770125dad2aebad">mCOPASI2SBMLMap</a>, <a class="el" href="../../d9/d2d/CCopasiMessage_8h.html#a7f5ce9c8d3812b45cb6f33595fba5789">MCSBML</a>, <a class="el" href="../../df/d80/classCSBMLExporter.html#a60ab409a11b90a1ca965d7702828af74">mIdMap</a>, <a class="el" href="../../df/d80/classCSBMLExporter.html#a5bd855fe9020f8c400a6cab63fb87711">mIncompatibilities</a>, <a class="el" href="../../df/d80/classCSBMLExporter.html#ac743dca5c88be1b916af33f454d1a64a">mIncompleteExport</a>, <a class="el" href="../../df/d80/classCSBMLExporter.html#ab85366b96bfd18cd3f7cf5ecc9b9d76b">mInitialValueMap</a>, <a class="el" href="../../df/d80/classCSBMLExporter.html#aa2e61de10e2d26eee4c7310beb099b13">mMetaIdMap</a>, <a class="el" href="../../df/d80/classCSBMLExporter.html#a1541a69b36b8e864883e49f0de244f81">mpSBMLDocument</a>, <a class="el" href="../../df/d80/classCSBMLExporter.html#aba959efc152f63f1709d5de60e97a651">mSBMLLevel</a>, <a class="el" href="../../df/d80/classCSBMLExporter.html#af1bc50a307a46adcce8aa8abde6dab96">mSBMLVersion</a>, <a class="el" href="../../df/d80/classCSBMLExporter.html#a4d5bc6e05778ebe1653f70b2c968564e">mUsedFunctions</a>, <a class="el" href="../../df/d80/classCSBMLExporter.html#a9cab2f1418b5678f726caac488f07858">outputIncompatibilities()</a>, <a class="el" href="../../df/d80/classCSBMLExporter.html#a8f73c8e9c1a56403427b179b2074f198">replace_local_parameters()</a>, <a class="el" href="../../df/d80/classCSBMLExporter.html#a030225cc274a7c545f010ba2ba7f13c3">replaceSpeciesReferences()</a>, <a class="el" href="../../d1/d50/classCEvaluationTree.html#a854ce243807e739edd85eb9bcae8ff19">CEvaluationTree::setInfix()</a>, <a class="el" href="../../df/d80/classCSBMLExporter.html#a166bed353f341e4e617bff6f40ff12c4">setSBMLNotes()</a>, <a class="el" href="../../d8/d9f/classCEvaluationNode.html#a9e5fcf60f22d2701417f90756847d37b">CEvaluationNode::type()</a>, <a class="el" href="../../df/d80/classCSBMLExporter.html#aba8216eaf4931e0adf484832882fbe67">updateMIRIAMAnnotation()</a>, and <a class="el" href="../../d2/df0/classCCopasiMessage.html#a2ea1ed32494ff5c8d84353efcec7a5e4ac789e90eead3612a24114b9eae58fdec">CCopasiMessage::WARNING</a>.</p>

<p>Referenced by <a class="el" href="../../df/d80/classCSBMLExporter.html#a5b27af3781d1e84d2235d0cb135a6963">createEvents()</a>.</p>
<div class="fragment"><div class="line"><a name="l04006"></a><span class="lineno"> 4006</span>&#160;{</div>
<div class="line"><a name="l04007"></a><span class="lineno"> 4007</span>&#160;  <span class="comment">// once events are functional, we create them here</span></div>
<div class="line"><a name="l04008"></a><span class="lineno"> 4008</span>&#160;  <span class="comment">// don&#39;t forget to call replaceSpeciesReferences</span></div>
<div class="line"><a name="l04009"></a><span class="lineno"> 4009</span>&#160;  <span class="comment">// on all mathematical expressions</span></div>
<div class="line"><a name="l04010"></a><span class="lineno"> 4010</span>&#160;</div>
<div class="line"><a name="l04011"></a><span class="lineno"> 4011</span>&#160;  <span class="comment">// first check if we already have a corresponding event from an earlier</span></div>
<div class="line"><a name="l04012"></a><span class="lineno"> 4012</span>&#160;  <span class="comment">// import or export</span></div>
<div class="line"><a name="l04013"></a><span class="lineno"> 4013</span>&#160;  <span class="comment">// if none is found, we create a new event object</span></div>
<div class="line"><a name="l04014"></a><span class="lineno"> 4014</span>&#160;  <span class="keywordflow">if</span> (pSBMLEvent == NULL)</div>
<div class="line"><a name="l04015"></a><span class="lineno"> 4015</span>&#160;    {</div>
<div class="line"><a name="l04016"></a><span class="lineno"> 4016</span>&#160;      pSBMLEvent = this-&gt;<a class="code" href="../../df/d80/classCSBMLExporter.html#a1541a69b36b8e864883e49f0de244f81">mpSBMLDocument</a>-&gt;getModel()-&gt;createEvent();</div>
<div class="line"><a name="l04017"></a><span class="lineno"> 4017</span>&#160;    }</div>
<div class="line"><a name="l04018"></a><span class="lineno"> 4018</span>&#160;  <span class="keywordflow">else</span></div>
<div class="line"><a name="l04019"></a><span class="lineno"> 4019</span>&#160;    {</div>
<div class="line"><a name="l04020"></a><span class="lineno"> 4020</span>&#160;      <span class="comment">// Read the event to the model</span></div>
<div class="line"><a name="l04021"></a><span class="lineno"> 4021</span>&#160;      <span class="keywordflow">if</span> (this-&gt;<a class="code" href="../../df/d80/classCSBMLExporter.html#a1541a69b36b8e864883e49f0de244f81">mpSBMLDocument</a>-&gt;getModel()-&gt;getListOfEvents()-&gt;appendAndOwn(pSBMLEvent) != LIBSBML_OPERATION_SUCCESS)</div>
<div class="line"><a name="l04022"></a><span class="lineno"> 4022</span>&#160;        {</div>
<div class="line"><a name="l04023"></a><span class="lineno"> 4023</span>&#160;          <span class="comment">// the existing event is not valid and cannot be added to the model, delete and create a new one instead</span></div>
<div class="line"><a name="l04024"></a><span class="lineno"> 4024</span>&#160;          <span class="keyword">delete</span> pSBMLEvent;</div>
<div class="line"><a name="l04025"></a><span class="lineno"> 4025</span>&#160;          pSBMLEvent = this-&gt;<a class="code" href="../../df/d80/classCSBMLExporter.html#a1541a69b36b8e864883e49f0de244f81">mpSBMLDocument</a>-&gt;getModel()-&gt;createEvent();</div>
<div class="line"><a name="l04026"></a><span class="lineno"> 4026</span>&#160;        }</div>
<div class="line"><a name="l04027"></a><span class="lineno"> 4027</span>&#160;    }</div>
<div class="line"><a name="l04028"></a><span class="lineno"> 4028</span>&#160;</div>
<div class="line"><a name="l04029"></a><span class="lineno"> 4029</span>&#160;  <span class="comment">// add the object to the COPASI2SBMLMap</span></div>
<div class="line"><a name="l04030"></a><span class="lineno"> 4030</span>&#160;  this-&gt;<a class="code" href="../../df/d80/classCSBMLExporter.html#aeb19f9866a1735848770125dad2aebad">mCOPASI2SBMLMap</a>[&amp;event] = pSBMLEvent;</div>
<div class="line"><a name="l04031"></a><span class="lineno"> 4031</span>&#160;</div>
<div class="line"><a name="l04032"></a><span class="lineno"> 4032</span>&#160;  <span class="comment">// a)  we set the name and the id</span></div>
<div class="line"><a name="l04033"></a><span class="lineno"> 4033</span>&#160;  <span class="keywordflow">if</span> (!pSBMLEvent-&gt;isSetId())</div>
<div class="line"><a name="l04034"></a><span class="lineno"> 4034</span>&#160;    {</div>
<div class="line"><a name="l04035"></a><span class="lineno"> 4035</span>&#160;      std::string sbmlId = <a class="code" href="../../df/d80/classCSBMLExporter.html#ab4d7f9c3d22b8225d1a4d9e3a98b855e">CSBMLExporter::createUniqueId</a>(this-&gt;<a class="code" href="../../df/d80/classCSBMLExporter.html#a60ab409a11b90a1ca965d7702828af74">mIdMap</a>, event.<a class="code" href="../../d4/da8/classCCopasiObject.html#a879d6756b51f6b58d307940e1343bd10">getObjectName</a>(), <span class="keyword">false</span>);</div>
<div class="line"><a name="l04036"></a><span class="lineno"> 4036</span>&#160;      this-&gt;<a class="code" href="../../df/d80/classCSBMLExporter.html#a60ab409a11b90a1ca965d7702828af74">mIdMap</a>.insert(std::pair&lt;const std::string, const SBase*&gt;(sbmlId, pSBMLEvent));</div>
<div class="line"><a name="l04037"></a><span class="lineno"> 4037</span>&#160;      pSBMLEvent-&gt;setId(sbmlId);</div>
<div class="line"><a name="l04038"></a><span class="lineno"> 4038</span>&#160;      <span class="keyword">event</span>.setSBMLId(sbmlId);</div>
<div class="line"><a name="l04039"></a><span class="lineno"> 4039</span>&#160;    }</div>
<div class="line"><a name="l04040"></a><span class="lineno"> 4040</span>&#160;</div>
<div class="line"><a name="l04041"></a><span class="lineno"> 4041</span>&#160;  <span class="comment">// The attribute &#39;useValuesfromTriggerTime&#39; is mandatory in L3V1</span></div>
<div class="line"><a name="l04042"></a><span class="lineno"> 4042</span>&#160;  <span class="keywordflow">if</span> (this-&gt;<a class="code" href="../../df/d80/classCSBMLExporter.html#aba959efc152f63f1709d5de60e97a651">mSBMLLevel</a> &gt; 2)</div>
<div class="line"><a name="l04043"></a><span class="lineno"> 4043</span>&#160;    {</div>
<div class="line"><a name="l04044"></a><span class="lineno"> 4044</span>&#160;      pSBMLEvent-&gt;setUseValuesFromTriggerTime(event.<a class="code" href="../../da/d3f/classCEvent.html#a4d754abd6ba606dea38f8974ed33eb06">getDelayAssignment</a>());</div>
<div class="line"><a name="l04045"></a><span class="lineno"> 4045</span>&#160;    }</div>
<div class="line"><a name="l04046"></a><span class="lineno"> 4046</span>&#160;</div>
<div class="line"><a name="l04047"></a><span class="lineno"> 4047</span>&#160;<span class="preprocessor">#if LIBSBML_VERSION &gt;= 40200</span></div>
<div class="line"><a name="l04048"></a><span class="lineno"> 4048</span>&#160;<span class="preprocessor"></span></div>
<div class="line"><a name="l04049"></a><span class="lineno"> 4049</span>&#160;  <span class="comment">// if the event came from an SBML L3 model, we have to make sure that the</span></div>
<div class="line"><a name="l04050"></a><span class="lineno"> 4050</span>&#160;  <span class="comment">// priority is not set when we export the event, otherwise the exported model</span></div>
<div class="line"><a name="l04051"></a><span class="lineno"> 4051</span>&#160;  <span class="comment">// and the COPASI model will not behave the same.</span></div>
<div class="line"><a name="l04052"></a><span class="lineno"> 4052</span>&#160;  <span class="keywordflow">if</span> (this-&gt;<a class="code" href="../../df/d80/classCSBMLExporter.html#aba959efc152f63f1709d5de60e97a651">mSBMLLevel</a> &gt; 2)</div>
<div class="line"><a name="l04053"></a><span class="lineno"> 4053</span>&#160;    {</div>
<div class="line"><a name="l04054"></a><span class="lineno"> 4054</span>&#160;      pSBMLEvent-&gt;setPriority(NULL);</div>
<div class="line"><a name="l04055"></a><span class="lineno"> 4055</span>&#160;    }</div>
<div class="line"><a name="l04056"></a><span class="lineno"> 4056</span>&#160;</div>
<div class="line"><a name="l04057"></a><span class="lineno"> 4057</span>&#160;<span class="preprocessor">#endif  // LIBSBML_VERSION &gt;= 40200</span></div>
<div class="line"><a name="l04058"></a><span class="lineno"> 4058</span>&#160;<span class="preprocessor"></span></div>
<div class="line"><a name="l04059"></a><span class="lineno"> 4059</span>&#160;  <span class="comment">// if the name doesn&#39;t consists of whitespace only, we set the name</span></div>
<div class="line"><a name="l04060"></a><span class="lineno"> 4060</span>&#160;  <span class="keywordflow">if</span> (event.<a class="code" href="../../d4/da8/classCCopasiObject.html#a879d6756b51f6b58d307940e1343bd10">getObjectName</a>().find_first_not_of(<span class="stringliteral">&quot;\t\r\n &quot;</span>) != std::string::npos)</div>
<div class="line"><a name="l04061"></a><span class="lineno"> 4061</span>&#160;    {</div>
<div class="line"><a name="l04062"></a><span class="lineno"> 4062</span>&#160;      pSBMLEvent-&gt;setName(event.<a class="code" href="../../d4/da8/classCCopasiObject.html#a879d6756b51f6b58d307940e1343bd10">getObjectName</a>());</div>
<div class="line"><a name="l04063"></a><span class="lineno"> 4063</span>&#160;    }</div>
<div class="line"><a name="l04064"></a><span class="lineno"> 4064</span>&#160;</div>
<div class="line"><a name="l04065"></a><span class="lineno"> 4065</span>&#160;  <span class="comment">// b) we check the trigger expression and export the trigger</span></div>
<div class="line"><a name="l04066"></a><span class="lineno"> 4066</span>&#160;  <span class="keyword">const</span> <a class="code" href="../../dc/dbd/classCExpression.html">CExpression</a>* pExpression = <span class="keyword">event</span>.getTriggerExpressionPtr();</div>
<div class="line"><a name="l04067"></a><span class="lineno"> 4067</span>&#160;  assert(pExpression != NULL);</div>
<div class="line"><a name="l04068"></a><span class="lineno"> 4068</span>&#160;  std::vector&lt;SBMLIncompatibility&gt; result;</div>
<div class="line"><a name="l04069"></a><span class="lineno"> 4069</span>&#160;  <a class="code" href="../../df/d80/classCSBMLExporter.html#aefa0189aa8976611a461b6de4142fdc7">CSBMLExporter::isExpressionSBMLCompatible</a>(*pExpression</div>
<div class="line"><a name="l04070"></a><span class="lineno"> 4070</span>&#160;      , dataModel</div>
<div class="line"><a name="l04071"></a><span class="lineno"> 4071</span>&#160;      , this-&gt;<a class="code" href="../../df/d80/classCSBMLExporter.html#aba959efc152f63f1709d5de60e97a651">mSBMLLevel</a></div>
<div class="line"><a name="l04072"></a><span class="lineno"> 4072</span>&#160;      , this-&gt;<a class="code" href="../../df/d80/classCSBMLExporter.html#af1bc50a307a46adcce8aa8abde6dab96">mSBMLVersion</a></div>
<div class="line"><a name="l04073"></a><span class="lineno"> 4073</span>&#160;      , result</div>
<div class="line"><a name="l04074"></a><span class="lineno"> 4074</span>&#160;      , std::string(<span class="stringliteral">&quot;event trigger for event with id\&quot;+&quot;</span> + event.<a class="code" href="../../da/d3f/classCEvent.html#a15664a61c44cae7a83014b2e2fec32eb">getSBMLId</a>() + <span class="stringliteral">&quot;\&quot;&quot;</span>)</div>
<div class="line"><a name="l04075"></a><span class="lineno"> 4075</span>&#160;      , <span class="keyword">false</span></div>
<div class="line"><a name="l04076"></a><span class="lineno"> 4076</span>&#160;      , &amp;<a class="code" href="../../df/d80/classCSBMLExporter.html#ab85366b96bfd18cd3f7cf5ecc9b9d76b">mInitialValueMap</a>);</div>
<div class="line"><a name="l04077"></a><span class="lineno"> 4077</span>&#160;</div>
<div class="line"><a name="l04078"></a><span class="lineno"> 4078</span>&#160;  <span class="comment">// collect directly used functions</span></div>
<div class="line"><a name="l04079"></a><span class="lineno"> 4079</span>&#160;  <span class="keywordflow">if</span> (result.empty())</div>
<div class="line"><a name="l04080"></a><span class="lineno"> 4080</span>&#160;    {</div>
<div class="line"><a name="l04081"></a><span class="lineno"> 4081</span>&#160;      std::set&lt;std::string&gt; directlyUsedFunctionNames;</div>
<div class="line"><a name="l04082"></a><span class="lineno"> 4082</span>&#160;      <a class="code" href="../../df/d80/classCSBMLExporter.html#aa843eb9b5d1ae41d5dd2be78a864f2d5">CSBMLExporter::findDirectlyUsedFunctions</a>(pExpression-&gt;<a class="code" href="../../d1/d50/classCEvaluationTree.html#a542e592cb978819d30a6da627411ba91">getRoot</a>(), directlyUsedFunctionNames);</div>
<div class="line"><a name="l04083"></a><span class="lineno"> 4083</span>&#160;      std::set&lt;CFunction*&gt; usedFunctions = <a class="code" href="../../df/d80/classCSBMLExporter.html#a6dcd463b48c53c136e6c1af5b22251f2">CSBMLExporter::createFunctionSetFromFunctionNames</a>(directlyUsedFunctionNames, <a class="code" href="../../d3/db1/classCCopasiRootContainer.html#afd5e8541f181260daf7515b28f0612c3">CCopasiRootContainer::getFunctionList</a>());</div>
<div class="line"><a name="l04084"></a><span class="lineno"> 4084</span>&#160;</div>
<div class="line"><a name="l04085"></a><span class="lineno"> 4085</span>&#160;<span class="preprocessor"># if defined _MSC_VER &amp;&amp; _MSC_VER &lt; 1201 // 1200 Identifies Visual C++ 6.0</span></div>
<div class="line"><a name="l04086"></a><span class="lineno"> 4086</span>&#160;<span class="preprocessor"></span>      {</div>
<div class="line"><a name="l04087"></a><span class="lineno"> 4087</span>&#160;        std::set&lt;CFunction*&gt;::const_iterator it = usedFunctions.begin();</div>
<div class="line"><a name="l04088"></a><span class="lineno"> 4088</span>&#160;        std::set&lt;CFunction*&gt;::const_iterator end = usedFunctions.end();</div>
<div class="line"><a name="l04089"></a><span class="lineno"> 4089</span>&#160;</div>
<div class="line"><a name="l04090"></a><span class="lineno"> 4090</span>&#160;        <span class="keywordflow">for</span> (; it != end; ++it)</div>
<div class="line"><a name="l04091"></a><span class="lineno"> 4091</span>&#160;          this-&gt;<a class="code" href="../../df/d80/classCSBMLExporter.html#a4d5bc6e05778ebe1653f70b2c968564e">mUsedFunctions</a>.insert(*it);</div>
<div class="line"><a name="l04092"></a><span class="lineno"> 4092</span>&#160;      }</div>
<div class="line"><a name="l04093"></a><span class="lineno"> 4093</span>&#160;<span class="preprocessor">#else</span></div>
<div class="line"><a name="l04094"></a><span class="lineno"> 4094</span>&#160;<span class="preprocessor"></span>      this-&gt;<a class="code" href="../../df/d80/classCSBMLExporter.html#a4d5bc6e05778ebe1653f70b2c968564e">mUsedFunctions</a>.insert(usedFunctions.begin(), usedFunctions.end());</div>
<div class="line"><a name="l04095"></a><span class="lineno"> 4095</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l04096"></a><span class="lineno"> 4096</span>&#160;<span class="preprocessor"></span>    }</div>
<div class="line"><a name="l04097"></a><span class="lineno"> 4097</span>&#160;  <span class="keywordflow">else</span></div>
<div class="line"><a name="l04098"></a><span class="lineno"> 4098</span>&#160;    {</div>
<div class="line"><a name="l04099"></a><span class="lineno"> 4099</span>&#160;      this-&gt;<a class="code" href="../../df/d80/classCSBMLExporter.html#a5bd855fe9020f8c400a6cab63fb87711">mIncompatibilities</a>.insert(this-&gt;<a class="code" href="../../df/d80/classCSBMLExporter.html#a5bd855fe9020f8c400a6cab63fb87711">mIncompatibilities</a>.end(), result.begin(), result.end());</div>
<div class="line"><a name="l04100"></a><span class="lineno"> 4100</span>&#160;</div>
<div class="line"><a name="l04101"></a><span class="lineno"> 4101</span>&#160;      <span class="keywordflow">if</span> (!this-&gt;<a class="code" href="../../df/d80/classCSBMLExporter.html#ac743dca5c88be1b916af33f454d1a64a">mIncompleteExport</a>)</div>
<div class="line"><a name="l04102"></a><span class="lineno"> 4102</span>&#160;        {</div>
<div class="line"><a name="l04103"></a><span class="lineno"> 4103</span>&#160;          this-&gt;<a class="code" href="../../df/d80/classCSBMLExporter.html#a9cab2f1418b5678f726caac488f07858">outputIncompatibilities</a>();</div>
<div class="line"><a name="l04104"></a><span class="lineno"> 4104</span>&#160;          <a class="code" href="../../d2/df0/classCCopasiMessage.html">CCopasiMessage</a>(<a class="code" href="../../d2/df0/classCCopasiMessage.html#a2ea1ed32494ff5c8d84353efcec7a5e4a568f885d73f0ea36bedfe92f6e533071">CCopasiMessage::EXCEPTION</a>, <a class="code" href="../../d9/d2d/CCopasiMessage_8h.html#a7f5ce9c8d3812b45cb6f33595fba5789">MCSBML</a> + 60, <span class="stringliteral">&quot;trigger expression&quot;</span>, <span class="stringliteral">&quot;event&quot;</span>, event.<a class="code" href="../../d4/da8/classCCopasiObject.html#a879d6756b51f6b58d307940e1343bd10">getObjectName</a>().c_str());</div>
<div class="line"><a name="l04105"></a><span class="lineno"> 4105</span>&#160;        }</div>
<div class="line"><a name="l04106"></a><span class="lineno"> 4106</span>&#160;    }</div>
<div class="line"><a name="l04107"></a><span class="lineno"> 4107</span>&#160;</div>
<div class="line"><a name="l04108"></a><span class="lineno"> 4108</span>&#160;  <span class="keyword">const</span> std::string&amp; changedExpression = <a class="code" href="../../d5/d2f/CSBMLExporter_8cpp.html#a50d8b634c989579da580569f9f73e114">convertExpression</a>(pExpression-&gt;<a class="code" href="../../d1/d50/classCEvaluationTree.html#abab25dce8518661da82058c20bc5b5aa">getInfix</a>(), <a class="code" href="../../df/d80/classCSBMLExporter.html#ab85366b96bfd18cd3f7cf5ecc9b9d76b">mInitialValueMap</a>);</div>
<div class="line"><a name="l04109"></a><span class="lineno"> 4109</span>&#160;</div>
<div class="line"><a name="l04110"></a><span class="lineno"> 4110</span>&#160;  <a class="code" href="../../d1/d50/classCEvaluationTree.html">CEvaluationTree</a> tree;</div>
<div class="line"><a name="l04111"></a><span class="lineno"> 4111</span>&#160;</div>
<div class="line"><a name="l04112"></a><span class="lineno"> 4112</span>&#160;  tree.<a class="code" href="../../d1/d50/classCEvaluationTree.html#a854ce243807e739edd85eb9bcae8ff19">setInfix</a>(changedExpression);</div>
<div class="line"><a name="l04113"></a><span class="lineno"> 4113</span>&#160;</div>
<div class="line"><a name="l04114"></a><span class="lineno"> 4114</span>&#160;  <span class="keyword">const</span> <a class="code" href="../../d8/d9f/classCEvaluationNode.html">CEvaluationNode</a>* pOrigNode = tree.getRoot();</div>
<div class="line"><a name="l04115"></a><span class="lineno"> 4115</span>&#160;</div>
<div class="line"><a name="l04116"></a><span class="lineno"> 4116</span>&#160;  <span class="comment">//const CEvaluationNode* pOrigNode = pExpression-&gt;getRoot();</span></div>
<div class="line"><a name="l04117"></a><span class="lineno"> 4117</span>&#160;</div>
<div class="line"><a name="l04118"></a><span class="lineno"> 4118</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="../../d8/d9f/classCEvaluationNode.html#a9e5fcf60f22d2701417f90756847d37b">CEvaluationNode::type</a>(pOrigNode-&gt;<a class="code" href="../../d8/d9f/classCEvaluationNode.html#ae24b55d848d78cec0a359fd199c76562">getType</a>()) == <a class="code" href="../../d8/d9f/classCEvaluationNode.html#aeef59b7ae37d1323a4900e5d19140491a7492325b731420bde92a0fa2620dde0c">CEvaluationNode::INVALID</a>)</div>
<div class="line"><a name="l04119"></a><span class="lineno"> 4119</span>&#160;    {</div>
<div class="line"><a name="l04120"></a><span class="lineno"> 4120</span>&#160;      <a class="code" href="../../d2/df0/classCCopasiMessage.html">CCopasiMessage</a>(<a class="code" href="../../d2/df0/classCCopasiMessage.html#a2ea1ed32494ff5c8d84353efcec7a5e4a568f885d73f0ea36bedfe92f6e533071">CCopasiMessage::EXCEPTION</a>, <a class="code" href="../../d9/d2d/CCopasiMessage_8h.html#a7f5ce9c8d3812b45cb6f33595fba5789">MCSBML</a> + 70, <span class="stringliteral">&quot;trigger&quot;</span>, <span class="stringliteral">&quot;event&quot;</span>, event.<a class="code" href="../../d4/da8/classCCopasiObject.html#a879d6756b51f6b58d307940e1343bd10">getObjectName</a>().c_str());</div>
<div class="line"><a name="l04121"></a><span class="lineno"> 4121</span>&#160;    }</div>
<div class="line"><a name="l04122"></a><span class="lineno"> 4122</span>&#160;</div>
<div class="line"><a name="l04123"></a><span class="lineno"> 4123</span>&#160;  <span class="comment">// the next few lines replace references to species depending on whether</span></div>
<div class="line"><a name="l04124"></a><span class="lineno"> 4124</span>&#160;  <span class="comment">// it is a reference to an amount or a reference to a concentration.</span></div>
<div class="line"><a name="l04125"></a><span class="lineno"> 4125</span>&#160;  <span class="comment">// Other factors that influence this replacement are if the model</span></div>
<div class="line"><a name="l04126"></a><span class="lineno"> 4126</span>&#160;  <span class="comment">// contains variable volumes or if the quantity units are set to CModel::number</span></div>
<div class="line"><a name="l04127"></a><span class="lineno"> 4127</span>&#160;  pOrigNode = this-&gt;<a class="code" href="../../df/d80/classCSBMLExporter.html#a030225cc274a7c545f010ba2ba7f13c3">replaceSpeciesReferences</a>(pOrigNode, dataModel);</div>
<div class="line"><a name="l04128"></a><span class="lineno"> 4128</span>&#160;  assert(pOrigNode != NULL);</div>
<div class="line"><a name="l04129"></a><span class="lineno"> 4129</span>&#160;  ASTNode* pNode = this-&gt;<a class="code" href="../../df/d80/classCSBMLExporter.html#ac61681ecd68ba2288e21ff1584ad20af">convertToASTNode</a>(pOrigNode, dataModel);</div>
<div class="line"><a name="l04130"></a><span class="lineno"> 4130</span>&#160;  <span class="keyword">delete</span> pOrigNode;</div>
<div class="line"><a name="l04131"></a><span class="lineno"> 4131</span>&#160;  <span class="comment">// convert local parameters that are referenced in an expression to global</span></div>
<div class="line"><a name="l04132"></a><span class="lineno"> 4132</span>&#160;  <span class="comment">// parameters</span></div>
<div class="line"><a name="l04133"></a><span class="lineno"> 4133</span>&#160;  this-&gt;<a class="code" href="../../df/d80/classCSBMLExporter.html#a8f73c8e9c1a56403427b179b2074f198">replace_local_parameters</a>(pNode, dataModel);</div>
<div class="line"><a name="l04134"></a><span class="lineno"> 4134</span>&#160;</div>
<div class="line"><a name="l04135"></a><span class="lineno"> 4135</span>&#160;  <span class="keywordflow">if</span> (pNode != NULL)</div>
<div class="line"><a name="l04136"></a><span class="lineno"> 4136</span>&#160;    {</div>
<div class="line"><a name="l04137"></a><span class="lineno"> 4137</span>&#160;      Trigger* pTrigger = pSBMLEvent-&gt;createTrigger();</div>
<div class="line"><a name="l04138"></a><span class="lineno"> 4138</span>&#160;      pTrigger-&gt;setMath(pNode);</div>
<div class="line"><a name="l04139"></a><span class="lineno"> 4139</span>&#160;<span class="preprocessor">#if LIBSBML_VERSION &gt;= 40200</span></div>
<div class="line"><a name="l04140"></a><span class="lineno"> 4140</span>&#160;<span class="preprocessor"></span></div>
<div class="line"><a name="l04141"></a><span class="lineno"> 4141</span>&#160;      <span class="comment">// we need to make sure that the initial value of the trigger is set to true</span></div>
<div class="line"><a name="l04142"></a><span class="lineno"> 4142</span>&#160;      <span class="comment">// as well as the persistent flag</span></div>
<div class="line"><a name="l04143"></a><span class="lineno"> 4143</span>&#160;      <span class="comment">// for L3 event because otherwise the exported model will not do the same as</span></div>
<div class="line"><a name="l04144"></a><span class="lineno"> 4144</span>&#160;      <span class="comment">// the model in COPASI</span></div>
<div class="line"><a name="l04145"></a><span class="lineno"> 4145</span>&#160;      <span class="keywordflow">if</span> (this-&gt;<a class="code" href="../../df/d80/classCSBMLExporter.html#aba959efc152f63f1709d5de60e97a651">mSBMLLevel</a> &gt; 2)</div>
<div class="line"><a name="l04146"></a><span class="lineno"> 4146</span>&#160;        {</div>
<div class="line"><a name="l04147"></a><span class="lineno"> 4147</span>&#160;          pTrigger-&gt;setInitialValue(<span class="keyword">true</span>);</div>
<div class="line"><a name="l04148"></a><span class="lineno"> 4148</span>&#160;          pTrigger-&gt;setPersistent(<span class="keyword">true</span>);</div>
<div class="line"><a name="l04149"></a><span class="lineno"> 4149</span>&#160;        }</div>
<div class="line"><a name="l04150"></a><span class="lineno"> 4150</span>&#160;</div>
<div class="line"><a name="l04151"></a><span class="lineno"> 4151</span>&#160;<span class="preprocessor">#endif  // LIBSBML_VERSION &gt;= 40200</span></div>
<div class="line"><a name="l04152"></a><span class="lineno"> 4152</span>&#160;<span class="preprocessor"></span>      <span class="keyword">delete</span> pNode;</div>
<div class="line"><a name="l04153"></a><span class="lineno"> 4153</span>&#160;    }</div>
<div class="line"><a name="l04154"></a><span class="lineno"> 4154</span>&#160;  <span class="keywordflow">else</span></div>
<div class="line"><a name="l04155"></a><span class="lineno"> 4155</span>&#160;    {</div>
<div class="line"><a name="l04156"></a><span class="lineno"> 4156</span>&#160;      <span class="keywordflow">if</span> (this-&gt;<a class="code" href="../../df/d80/classCSBMLExporter.html#ac743dca5c88be1b916af33f454d1a64a">mIncompleteExport</a> != <span class="keyword">true</span>)</div>
<div class="line"><a name="l04157"></a><span class="lineno"> 4157</span>&#160;        {</div>
<div class="line"><a name="l04158"></a><span class="lineno"> 4158</span>&#160;          <a class="code" href="../../d2/df0/classCCopasiMessage.html">CCopasiMessage</a>(<a class="code" href="../../d2/df0/classCCopasiMessage.html#a2ea1ed32494ff5c8d84353efcec7a5e4a568f885d73f0ea36bedfe92f6e533071">CCopasiMessage::EXCEPTION</a>, <a class="code" href="../../d9/d2d/CCopasiMessage_8h.html#a7f5ce9c8d3812b45cb6f33595fba5789">MCSBML</a> + 60, <span class="stringliteral">&quot;trigger&quot;</span>, <span class="stringliteral">&quot;event&quot;</span>, event.<a class="code" href="../../d4/da8/classCCopasiObject.html#a879d6756b51f6b58d307940e1343bd10">getObjectName</a>().c_str());</div>
<div class="line"><a name="l04159"></a><span class="lineno"> 4159</span>&#160;        }</div>
<div class="line"><a name="l04160"></a><span class="lineno"> 4160</span>&#160;    }</div>
<div class="line"><a name="l04161"></a><span class="lineno"> 4161</span>&#160;</div>
<div class="line"><a name="l04162"></a><span class="lineno"> 4162</span>&#160;  <span class="comment">// c) we check the delay expression and export it if it is set</span></div>
<div class="line"><a name="l04163"></a><span class="lineno"> 4163</span>&#160;  pExpression = <span class="keyword">event</span>.getDelayExpressionPtr();</div>
<div class="line"><a name="l04164"></a><span class="lineno"> 4164</span>&#160;  <span class="keyword">const</span> std::string delayInfix = pExpression == NULL ? <span class="stringliteral">&quot;&quot;</span> : pExpression-&gt;<a class="code" href="../../d1/d50/classCEvaluationTree.html#abab25dce8518661da82058c20bc5b5aa">getInfix</a>();</div>
<div class="line"><a name="l04165"></a><span class="lineno"> 4165</span>&#160;</div>
<div class="line"><a name="l04166"></a><span class="lineno"> 4166</span>&#160;  <span class="keywordflow">if</span> (!delayInfix.empty())</div>
<div class="line"><a name="l04167"></a><span class="lineno"> 4167</span>&#160;    {</div>
<div class="line"><a name="l04168"></a><span class="lineno"> 4168</span>&#160;      result.clear();</div>
<div class="line"><a name="l04169"></a><span class="lineno"> 4169</span>&#160;      <a class="code" href="../../df/d80/classCSBMLExporter.html#aefa0189aa8976611a461b6de4142fdc7">CSBMLExporter::isExpressionSBMLCompatible</a>(*pExpression</div>
<div class="line"><a name="l04170"></a><span class="lineno"> 4170</span>&#160;          , dataModel</div>
<div class="line"><a name="l04171"></a><span class="lineno"> 4171</span>&#160;          , this-&gt;<a class="code" href="../../df/d80/classCSBMLExporter.html#aba959efc152f63f1709d5de60e97a651">mSBMLLevel</a></div>
<div class="line"><a name="l04172"></a><span class="lineno"> 4172</span>&#160;          , this-&gt;<a class="code" href="../../df/d80/classCSBMLExporter.html#af1bc50a307a46adcce8aa8abde6dab96">mSBMLVersion</a></div>
<div class="line"><a name="l04173"></a><span class="lineno"> 4173</span>&#160;          , result</div>
<div class="line"><a name="l04174"></a><span class="lineno"> 4174</span>&#160;          , std::string(<span class="stringliteral">&quot;event delay for event with id\&quot;+&quot;</span> + event.<a class="code" href="../../da/d3f/classCEvent.html#a15664a61c44cae7a83014b2e2fec32eb">getSBMLId</a>() + <span class="stringliteral">&quot;\&quot;&quot;</span>).c_str()</div>
<div class="line"><a name="l04175"></a><span class="lineno"> 4175</span>&#160;          , false</div>
<div class="line"><a name="l04176"></a><span class="lineno"> 4176</span>&#160;          , &amp;<a class="code" href="../../df/d80/classCSBMLExporter.html#ab85366b96bfd18cd3f7cf5ecc9b9d76b">mInitialValueMap</a>);</div>
<div class="line"><a name="l04177"></a><span class="lineno"> 4177</span>&#160;</div>
<div class="line"><a name="l04178"></a><span class="lineno"> 4178</span>&#160;      <span class="comment">// collect directly used functions</span></div>
<div class="line"><a name="l04179"></a><span class="lineno"> 4179</span>&#160;      <span class="keywordflow">if</span> (result.empty())</div>
<div class="line"><a name="l04180"></a><span class="lineno"> 4180</span>&#160;        {</div>
<div class="line"><a name="l04181"></a><span class="lineno"> 4181</span>&#160;          std::set&lt;std::string&gt; directlyUsedFunctionNames;</div>
<div class="line"><a name="l04182"></a><span class="lineno"> 4182</span>&#160;          <a class="code" href="../../df/d80/classCSBMLExporter.html#aa843eb9b5d1ae41d5dd2be78a864f2d5">CSBMLExporter::findDirectlyUsedFunctions</a>(pExpression-&gt;<a class="code" href="../../d1/d50/classCEvaluationTree.html#a542e592cb978819d30a6da627411ba91">getRoot</a>(), directlyUsedFunctionNames);</div>
<div class="line"><a name="l04183"></a><span class="lineno"> 4183</span>&#160;          std::set&lt;CFunction*&gt; usedFunctions = <a class="code" href="../../df/d80/classCSBMLExporter.html#a6dcd463b48c53c136e6c1af5b22251f2">CSBMLExporter::createFunctionSetFromFunctionNames</a>(directlyUsedFunctionNames, <a class="code" href="../../d3/db1/classCCopasiRootContainer.html#afd5e8541f181260daf7515b28f0612c3">CCopasiRootContainer::getFunctionList</a>());</div>
<div class="line"><a name="l04184"></a><span class="lineno"> 4184</span>&#160;</div>
<div class="line"><a name="l04185"></a><span class="lineno"> 4185</span>&#160;<span class="preprocessor"># if defined _MSC_VER &amp;&amp; _MSC_VER &lt; 1201 // 1200 Identifies Visual C++ 6.0</span></div>
<div class="line"><a name="l04186"></a><span class="lineno"> 4186</span>&#160;<span class="preprocessor"></span>          {</div>
<div class="line"><a name="l04187"></a><span class="lineno"> 4187</span>&#160;            it = usedFunctions.begin();</div>
<div class="line"><a name="l04188"></a><span class="lineno"> 4188</span>&#160;            usedFunctions.end();</div>
<div class="line"><a name="l04189"></a><span class="lineno"> 4189</span>&#160;</div>
<div class="line"><a name="l04190"></a><span class="lineno"> 4190</span>&#160;            <span class="keywordflow">for</span> (; it != end; ++it)</div>
<div class="line"><a name="l04191"></a><span class="lineno"> 4191</span>&#160;              this-&gt;<a class="code" href="../../df/d80/classCSBMLExporter.html#a4d5bc6e05778ebe1653f70b2c968564e">mUsedFunctions</a>.insert(*it);</div>
<div class="line"><a name="l04192"></a><span class="lineno"> 4192</span>&#160;          }</div>
<div class="line"><a name="l04193"></a><span class="lineno"> 4193</span>&#160;<span class="preprocessor">#else</span></div>
<div class="line"><a name="l04194"></a><span class="lineno"> 4194</span>&#160;<span class="preprocessor"></span>          this-&gt;<a class="code" href="../../df/d80/classCSBMLExporter.html#a4d5bc6e05778ebe1653f70b2c968564e">mUsedFunctions</a>.insert(usedFunctions.begin(), usedFunctions.end());</div>
<div class="line"><a name="l04195"></a><span class="lineno"> 4195</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l04196"></a><span class="lineno"> 4196</span>&#160;<span class="preprocessor"></span>        }</div>
<div class="line"><a name="l04197"></a><span class="lineno"> 4197</span>&#160;      <span class="keywordflow">else</span></div>
<div class="line"><a name="l04198"></a><span class="lineno"> 4198</span>&#160;        {</div>
<div class="line"><a name="l04199"></a><span class="lineno"> 4199</span>&#160;          this-&gt;<a class="code" href="../../df/d80/classCSBMLExporter.html#a5bd855fe9020f8c400a6cab63fb87711">mIncompatibilities</a>.insert(this-&gt;<a class="code" href="../../df/d80/classCSBMLExporter.html#a5bd855fe9020f8c400a6cab63fb87711">mIncompatibilities</a>.end(), result.begin(), result.end());</div>
<div class="line"><a name="l04200"></a><span class="lineno"> 4200</span>&#160;</div>
<div class="line"><a name="l04201"></a><span class="lineno"> 4201</span>&#160;          <span class="keywordflow">if</span> (!this-&gt;<a class="code" href="../../df/d80/classCSBMLExporter.html#ac743dca5c88be1b916af33f454d1a64a">mIncompleteExport</a>)</div>
<div class="line"><a name="l04202"></a><span class="lineno"> 4202</span>&#160;            {</div>
<div class="line"><a name="l04203"></a><span class="lineno"> 4203</span>&#160;              this-&gt;<a class="code" href="../../df/d80/classCSBMLExporter.html#a9cab2f1418b5678f726caac488f07858">outputIncompatibilities</a>();</div>
<div class="line"><a name="l04204"></a><span class="lineno"> 4204</span>&#160;              <a class="code" href="../../d2/df0/classCCopasiMessage.html">CCopasiMessage</a>(<a class="code" href="../../d2/df0/classCCopasiMessage.html#a2ea1ed32494ff5c8d84353efcec7a5e4a568f885d73f0ea36bedfe92f6e533071">CCopasiMessage::EXCEPTION</a>, <a class="code" href="../../d9/d2d/CCopasiMessage_8h.html#a7f5ce9c8d3812b45cb6f33595fba5789">MCSBML</a> + 60, <span class="stringliteral">&quot;delay expression&quot;</span>, <span class="stringliteral">&quot;event&quot;</span>, event.<a class="code" href="../../d4/da8/classCCopasiObject.html#a879d6756b51f6b58d307940e1343bd10">getObjectName</a>().c_str());</div>
<div class="line"><a name="l04205"></a><span class="lineno"> 4205</span>&#160;            }</div>
<div class="line"><a name="l04206"></a><span class="lineno"> 4206</span>&#160;        }</div>
<div class="line"><a name="l04207"></a><span class="lineno"> 4207</span>&#160;</div>
<div class="line"><a name="l04208"></a><span class="lineno"> 4208</span>&#160;      <span class="comment">//pOrigNode = pExpression-&gt;getRoot();</span></div>
<div class="line"><a name="l04209"></a><span class="lineno"> 4209</span>&#160;      <span class="keyword">const</span> std::string&amp; changedExpression = <a class="code" href="../../d5/d2f/CSBMLExporter_8cpp.html#a50d8b634c989579da580569f9f73e114">convertExpression</a>(pExpression-&gt;<a class="code" href="../../d1/d50/classCEvaluationTree.html#abab25dce8518661da82058c20bc5b5aa">getInfix</a>(), <a class="code" href="../../df/d80/classCSBMLExporter.html#ab85366b96bfd18cd3f7cf5ecc9b9d76b">mInitialValueMap</a>);</div>
<div class="line"><a name="l04210"></a><span class="lineno"> 4210</span>&#160;      <a class="code" href="../../d1/d50/classCEvaluationTree.html">CEvaluationTree</a> tree;</div>
<div class="line"><a name="l04211"></a><span class="lineno"> 4211</span>&#160;      tree.<a class="code" href="../../d1/d50/classCEvaluationTree.html#a854ce243807e739edd85eb9bcae8ff19">setInfix</a>(changedExpression);</div>
<div class="line"><a name="l04212"></a><span class="lineno"> 4212</span>&#160;      <span class="keyword">const</span> <a class="code" href="../../d8/d9f/classCEvaluationNode.html">CEvaluationNode</a>* pOrigNode = tree.getRoot();</div>
<div class="line"><a name="l04213"></a><span class="lineno"> 4213</span>&#160;</div>
<div class="line"><a name="l04214"></a><span class="lineno"> 4214</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="../../d8/d9f/classCEvaluationNode.html#a9e5fcf60f22d2701417f90756847d37b">CEvaluationNode::type</a>(pOrigNode-&gt;<a class="code" href="../../d8/d9f/classCEvaluationNode.html#ae24b55d848d78cec0a359fd199c76562">getType</a>()) == <a class="code" href="../../d8/d9f/classCEvaluationNode.html#aeef59b7ae37d1323a4900e5d19140491a7492325b731420bde92a0fa2620dde0c">CEvaluationNode::INVALID</a>)</div>
<div class="line"><a name="l04215"></a><span class="lineno"> 4215</span>&#160;        {</div>
<div class="line"><a name="l04216"></a><span class="lineno"> 4216</span>&#160;          <a class="code" href="../../d2/df0/classCCopasiMessage.html">CCopasiMessage</a>(<a class="code" href="../../d2/df0/classCCopasiMessage.html#a2ea1ed32494ff5c8d84353efcec7a5e4a568f885d73f0ea36bedfe92f6e533071">CCopasiMessage::EXCEPTION</a>, <a class="code" href="../../d9/d2d/CCopasiMessage_8h.html#a7f5ce9c8d3812b45cb6f33595fba5789">MCSBML</a> + 70, <span class="stringliteral">&quot;delay&quot;</span>, <span class="stringliteral">&quot;event&quot;</span>, event.<a class="code" href="../../d4/da8/classCCopasiObject.html#a879d6756b51f6b58d307940e1343bd10">getObjectName</a>().c_str());</div>
<div class="line"><a name="l04217"></a><span class="lineno"> 4217</span>&#160;        }</div>
<div class="line"><a name="l04218"></a><span class="lineno"> 4218</span>&#160;</div>
<div class="line"><a name="l04219"></a><span class="lineno"> 4219</span>&#160;      <span class="comment">// the next few lines replace references to species depending on whether</span></div>
<div class="line"><a name="l04220"></a><span class="lineno"> 4220</span>&#160;      <span class="comment">// it is a reference to an amount or a reference to a concentration.</span></div>
<div class="line"><a name="l04221"></a><span class="lineno"> 4221</span>&#160;      <span class="comment">// Other factors that influence this replacement are if the model</span></div>
<div class="line"><a name="l04222"></a><span class="lineno"> 4222</span>&#160;      <span class="comment">// contains variable volumes or if the quantity units are set to CModel::number</span></div>
<div class="line"><a name="l04223"></a><span class="lineno"> 4223</span>&#160;      pOrigNode = this-&gt;<a class="code" href="../../df/d80/classCSBMLExporter.html#a030225cc274a7c545f010ba2ba7f13c3">replaceSpeciesReferences</a>(pOrigNode, dataModel);</div>
<div class="line"><a name="l04224"></a><span class="lineno"> 4224</span>&#160;      assert(pOrigNode != NULL);</div>
<div class="line"><a name="l04225"></a><span class="lineno"> 4225</span>&#160;      pNode = this-&gt;<a class="code" href="../../df/d80/classCSBMLExporter.html#ac61681ecd68ba2288e21ff1584ad20af">convertToASTNode</a>(pOrigNode, dataModel);</div>
<div class="line"><a name="l04226"></a><span class="lineno"> 4226</span>&#160;      <span class="keyword">delete</span> pOrigNode;</div>
<div class="line"><a name="l04227"></a><span class="lineno"> 4227</span>&#160;      <span class="comment">// convert local parameters that are referenced in an expression to global</span></div>
<div class="line"><a name="l04228"></a><span class="lineno"> 4228</span>&#160;      <span class="comment">// parameters</span></div>
<div class="line"><a name="l04229"></a><span class="lineno"> 4229</span>&#160;      this-&gt;<a class="code" href="../../df/d80/classCSBMLExporter.html#a8f73c8e9c1a56403427b179b2074f198">replace_local_parameters</a>(pNode, dataModel);</div>
<div class="line"><a name="l04230"></a><span class="lineno"> 4230</span>&#160;</div>
<div class="line"><a name="l04231"></a><span class="lineno"> 4231</span>&#160;      <span class="keywordflow">if</span> (pNode != NULL)</div>
<div class="line"><a name="l04232"></a><span class="lineno"> 4232</span>&#160;        {</div>
<div class="line"><a name="l04233"></a><span class="lineno"> 4233</span>&#160;          Delay* pDelay = <span class="keyword">new</span> Delay(this-&gt;<a class="code" href="../../df/d80/classCSBMLExporter.html#aba959efc152f63f1709d5de60e97a651">mSBMLLevel</a>, this-&gt;<a class="code" href="../../df/d80/classCSBMLExporter.html#af1bc50a307a46adcce8aa8abde6dab96">mSBMLVersion</a>);</div>
<div class="line"><a name="l04234"></a><span class="lineno"> 4234</span>&#160;          pDelay-&gt;setMath(pNode);</div>
<div class="line"><a name="l04235"></a><span class="lineno"> 4235</span>&#160;          pSBMLEvent-&gt;setDelay(pDelay);</div>
<div class="line"><a name="l04236"></a><span class="lineno"> 4236</span>&#160;          <span class="keyword">delete</span> pNode;</div>
<div class="line"><a name="l04237"></a><span class="lineno"> 4237</span>&#160;          <span class="keyword">delete</span> pDelay;</div>
<div class="line"><a name="l04238"></a><span class="lineno"> 4238</span>&#160;</div>
<div class="line"><a name="l04239"></a><span class="lineno"> 4239</span>&#160;          <span class="keywordflow">if</span> (this-&gt;<a class="code" href="../../df/d80/classCSBMLExporter.html#aba959efc152f63f1709d5de60e97a651">mSBMLLevel</a> == 2 &amp;&amp; this-&gt;<a class="code" href="../../df/d80/classCSBMLExporter.html#af1bc50a307a46adcce8aa8abde6dab96">mSBMLVersion</a> &gt;= 4)</div>
<div class="line"><a name="l04240"></a><span class="lineno"> 4240</span>&#160;            {</div>
<div class="line"><a name="l04241"></a><span class="lineno"> 4241</span>&#160;              pSBMLEvent-&gt;setUseValuesFromTriggerTime(event.<a class="code" href="../../da/d3f/classCEvent.html#a4d754abd6ba606dea38f8974ed33eb06">getDelayAssignment</a>());</div>
<div class="line"><a name="l04242"></a><span class="lineno"> 4242</span>&#160;            }</div>
<div class="line"><a name="l04243"></a><span class="lineno"> 4243</span>&#160;          <span class="comment">// if the delayAssignment is set to false, we have a problem</span></div>
<div class="line"><a name="l04244"></a><span class="lineno"> 4244</span>&#160;          <span class="comment">// because the model semantic changes on export</span></div>
<div class="line"><a name="l04245"></a><span class="lineno"> 4245</span>&#160;          <span class="keywordflow">else</span> <span class="keywordflow">if</span> (event.<a class="code" href="../../da/d3f/classCEvent.html#a4d754abd6ba606dea38f8974ed33eb06">getDelayAssignment</a>() == <span class="keyword">false</span> &amp;&amp;</div>
<div class="line"><a name="l04246"></a><span class="lineno"> 4246</span>&#160;                   this-&gt;<a class="code" href="../../df/d80/classCSBMLExporter.html#aba959efc152f63f1709d5de60e97a651">mSBMLLevel</a> &lt;= 2 &amp;&amp;</div>
<div class="line"><a name="l04247"></a><span class="lineno"> 4247</span>&#160;                   this-&gt;<a class="code" href="../../df/d80/classCSBMLExporter.html#af1bc50a307a46adcce8aa8abde6dab96">mSBMLVersion</a> &lt;= 3)</div>
<div class="line"><a name="l04248"></a><span class="lineno"> 4248</span>&#160;            {</div>
<div class="line"><a name="l04249"></a><span class="lineno"> 4249</span>&#160;              <a class="code" href="../../d2/df0/classCCopasiMessage.html">CCopasiMessage</a>(<a class="code" href="../../d2/df0/classCCopasiMessage.html#a2ea1ed32494ff5c8d84353efcec7a5e4ac789e90eead3612a24114b9eae58fdec">CCopasiMessage::WARNING</a>, <a class="code" href="../../d9/d2d/CCopasiMessage_8h.html#a7f5ce9c8d3812b45cb6f33595fba5789">MCSBML</a> + 77, event.<a class="code" href="../../d4/da8/classCCopasiObject.html#a879d6756b51f6b58d307940e1343bd10">getObjectName</a>().c_str(), this-&gt;<a class="code" href="../../df/d80/classCSBMLExporter.html#aba959efc152f63f1709d5de60e97a651">mSBMLLevel</a>, this-&gt;<a class="code" href="../../df/d80/classCSBMLExporter.html#af1bc50a307a46adcce8aa8abde6dab96">mSBMLVersion</a>);</div>
<div class="line"><a name="l04250"></a><span class="lineno"> 4250</span>&#160;            }</div>
<div class="line"><a name="l04251"></a><span class="lineno"> 4251</span>&#160;        }</div>
<div class="line"><a name="l04252"></a><span class="lineno"> 4252</span>&#160;      <span class="keywordflow">else</span></div>
<div class="line"><a name="l04253"></a><span class="lineno"> 4253</span>&#160;        {</div>
<div class="line"><a name="l04254"></a><span class="lineno"> 4254</span>&#160;          <span class="keywordflow">if</span> (this-&gt;<a class="code" href="../../df/d80/classCSBMLExporter.html#ac743dca5c88be1b916af33f454d1a64a">mIncompleteExport</a> != <span class="keyword">true</span>)</div>
<div class="line"><a name="l04255"></a><span class="lineno"> 4255</span>&#160;            {</div>
<div class="line"><a name="l04256"></a><span class="lineno"> 4256</span>&#160;              <a class="code" href="../../d2/df0/classCCopasiMessage.html">CCopasiMessage</a>(<a class="code" href="../../d2/df0/classCCopasiMessage.html#a2ea1ed32494ff5c8d84353efcec7a5e4a568f885d73f0ea36bedfe92f6e533071">CCopasiMessage::EXCEPTION</a>, <a class="code" href="../../d9/d2d/CCopasiMessage_8h.html#a7f5ce9c8d3812b45cb6f33595fba5789">MCSBML</a> + 60, <span class="stringliteral">&quot;delay&quot;</span>, <span class="stringliteral">&quot;event&quot;</span>, event.<a class="code" href="../../d4/da8/classCCopasiObject.html#a879d6756b51f6b58d307940e1343bd10">getObjectName</a>().c_str());</div>
<div class="line"><a name="l04257"></a><span class="lineno"> 4257</span>&#160;            }</div>
<div class="line"><a name="l04258"></a><span class="lineno"> 4258</span>&#160;        }</div>
<div class="line"><a name="l04259"></a><span class="lineno"> 4259</span>&#160;    }</div>
<div class="line"><a name="l04260"></a><span class="lineno"> 4260</span>&#160;</div>
<div class="line"><a name="l04261"></a><span class="lineno"> 4261</span>&#160;  <span class="comment">// export all event assignments</span></div>
<div class="line"><a name="l04262"></a><span class="lineno"> 4262</span>&#160;  this-&gt;<a class="code" href="../../df/d80/classCSBMLExporter.html#aefbd6278e618486186192aff4bdff76e">exportEventAssignments</a>(event, pSBMLEvent, dataModel);</div>
<div class="line"><a name="l04263"></a><span class="lineno"> 4263</span>&#160;</div>
<div class="line"><a name="l04264"></a><span class="lineno"> 4264</span>&#160;  <span class="comment">// check if the event has event assignments, if not, we have to delete</span></div>
<div class="line"><a name="l04265"></a><span class="lineno"> 4265</span>&#160;  <span class="comment">// the event and create an error message (for SBML Levels &lt; 3)</span></div>
<div class="line"><a name="l04266"></a><span class="lineno"> 4266</span>&#160;  <span class="keywordflow">if</span> (pSBMLEvent-&gt;getNumEventAssignments() == 0 &amp;&amp; <a class="code" href="../../df/d80/classCSBMLExporter.html#a1541a69b36b8e864883e49f0de244f81">mpSBMLDocument</a>-&gt;getLevel() &lt; 3)</div>
<div class="line"><a name="l04267"></a><span class="lineno"> 4267</span>&#160;    {</div>
<div class="line"><a name="l04268"></a><span class="lineno"> 4268</span>&#160;      <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> i, iMax = this-&gt;<a class="code" href="../../df/d80/classCSBMLExporter.html#a1541a69b36b8e864883e49f0de244f81">mpSBMLDocument</a>-&gt;getModel()-&gt;getNumEvents();</div>
<div class="line"><a name="l04269"></a><span class="lineno"> 4269</span>&#160;</div>
<div class="line"><a name="l04270"></a><span class="lineno"> 4270</span>&#160;      <span class="comment">// the following code does not check if the corrct pointer is found</span></div>
<div class="line"><a name="l04271"></a><span class="lineno"> 4271</span>&#160;      <span class="comment">// but this should not be a problem</span></div>
<div class="line"><a name="l04272"></a><span class="lineno"> 4272</span>&#160;      <span class="keywordflow">for</span> (i = 0; i &lt; iMax; ++i)</div>
<div class="line"><a name="l04273"></a><span class="lineno"> 4273</span>&#160;        {</div>
<div class="line"><a name="l04274"></a><span class="lineno"> 4274</span>&#160;          <span class="keywordflow">if</span> (this-&gt;<a class="code" href="../../df/d80/classCSBMLExporter.html#a1541a69b36b8e864883e49f0de244f81">mpSBMLDocument</a>-&gt;getModel()-&gt;getEvent(i) == pSBMLEvent)</div>
<div class="line"><a name="l04275"></a><span class="lineno"> 4275</span>&#160;            {</div>
<div class="line"><a name="l04276"></a><span class="lineno"> 4276</span>&#160;              this-&gt;<a class="code" href="../../df/d80/classCSBMLExporter.html#a1541a69b36b8e864883e49f0de244f81">mpSBMLDocument</a>-&gt;getModel()-&gt;getListOfEvents()-&gt;remove(i);</div>
<div class="line"><a name="l04277"></a><span class="lineno"> 4277</span>&#160;            }</div>
<div class="line"><a name="l04278"></a><span class="lineno"> 4278</span>&#160;        }</div>
<div class="line"><a name="l04279"></a><span class="lineno"> 4279</span>&#160;</div>
<div class="line"><a name="l04280"></a><span class="lineno"> 4280</span>&#160;      <span class="keyword">delete</span> pSBMLEvent;</div>
<div class="line"><a name="l04281"></a><span class="lineno"> 4281</span>&#160;      this-&gt;<a class="code" href="../../df/d80/classCSBMLExporter.html#aeb19f9866a1735848770125dad2aebad">mCOPASI2SBMLMap</a>.erase(&amp;event);</div>
<div class="line"><a name="l04282"></a><span class="lineno"> 4282</span>&#160;      pSBMLEvent = NULL;</div>
<div class="line"><a name="l04283"></a><span class="lineno"> 4283</span>&#160;</div>
<div class="line"><a name="l04284"></a><span class="lineno"> 4284</span>&#160;      <a class="code" href="../../d2/df0/classCCopasiMessage.html">CCopasiMessage</a>(<a class="code" href="../../d2/df0/classCCopasiMessage.html#a2ea1ed32494ff5c8d84353efcec7a5e4ac789e90eead3612a24114b9eae58fdec">CCopasiMessage::WARNING</a>, <span class="stringliteral">&quot;The event &#39;%s&#39; contained no event assignments, this is only supported for SBML Level 3 onwards. The event has not been exported.&quot;</span>, event.<a class="code" href="../../d4/da8/classCCopasiObject.html#a879d6756b51f6b58d307940e1343bd10">getObjectName</a>().c_str());</div>
<div class="line"><a name="l04285"></a><span class="lineno"> 4285</span>&#160;    }</div>
<div class="line"><a name="l04286"></a><span class="lineno"> 4286</span>&#160;</div>
<div class="line"><a name="l04287"></a><span class="lineno"> 4287</span>&#160;  <span class="keywordflow">if</span> (pSBMLEvent != NULL)</div>
<div class="line"><a name="l04288"></a><span class="lineno"> 4288</span>&#160;    {</div>
<div class="line"><a name="l04289"></a><span class="lineno"> 4289</span>&#160;      <a class="code" href="../../df/d80/classCSBMLExporter.html#a166bed353f341e4e617bff6f40ff12c4">CSBMLExporter::setSBMLNotes</a>(pSBMLEvent, &amp;event);</div>
<div class="line"><a name="l04290"></a><span class="lineno"> 4290</span>&#160;      <a class="code" href="../../df/d80/classCSBMLExporter.html#aba8216eaf4931e0adf484832882fbe67">CSBMLExporter::updateMIRIAMAnnotation</a>(&amp;event, pSBMLEvent, this-&gt;<a class="code" href="../../df/d80/classCSBMLExporter.html#aa2e61de10e2d26eee4c7310beb099b13">mMetaIdMap</a>);</div>
<div class="line"><a name="l04291"></a><span class="lineno"> 4291</span>&#160;    }</div>
<div class="line"><a name="l04292"></a><span class="lineno"> 4292</span>&#160;}</div>
<div class="ttc" id="classCSBMLExporter_html_aa843eb9b5d1ae41d5dd2be78a864f2d5"><div class="ttname"><a href="../../df/d80/classCSBMLExporter.html#aa843eb9b5d1ae41d5dd2be78a864f2d5">CSBMLExporter::findDirectlyUsedFunctions</a></div><div class="ttdeci">static void findDirectlyUsedFunctions(const CEvaluationNode *pRootNode, std::set&lt; std::string &gt; &amp;result)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d2f/CSBMLExporter_8cpp_source.html#l04927">CSBMLExporter.cpp:4927</a></div></div>
<div class="ttc" id="classCSBMLExporter_html_aba959efc152f63f1709d5de60e97a651"><div class="ttname"><a href="../../df/d80/classCSBMLExporter.html#aba959efc152f63f1709d5de60e97a651">CSBMLExporter::mSBMLLevel</a></div><div class="ttdeci">unsigned int mSBMLLevel</div><div class="ttdef"><b>Definition:</b> <a href="../../da/d7f/CSBMLExporter_8h_source.html#l00056">CSBMLExporter.h:56</a></div></div>
<div class="ttc" id="classCEvent_html_a4d754abd6ba606dea38f8974ed33eb06"><div class="ttname"><a href="../../da/d3f/classCEvent.html#a4d754abd6ba606dea38f8974ed33eb06">CEvent::getDelayAssignment</a></div><div class="ttdeci">const bool &amp; getDelayAssignment() const </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d55/CEvent_8cpp_source.html#l00419">CEvent.cpp:419</a></div></div>
<div class="ttc" id="classCSBMLExporter_html_a1541a69b36b8e864883e49f0de244f81"><div class="ttname"><a href="../../df/d80/classCSBMLExporter.html#a1541a69b36b8e864883e49f0de244f81">CSBMLExporter::mpSBMLDocument</a></div><div class="ttdeci">SBMLDocument * mpSBMLDocument</div><div class="ttdef"><b>Definition:</b> <a href="../../da/d7f/CSBMLExporter_8h_source.html#l00055">CSBMLExporter.h:55</a></div></div>
<div class="ttc" id="classCExpression_html"><div class="ttname"><a href="../../dc/dbd/classCExpression.html">CExpression</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dcc/CExpression_8h_source.html#l00028">CExpression.h:28</a></div></div>
<div class="ttc" id="classCSBMLExporter_html_a8f73c8e9c1a56403427b179b2074f198"><div class="ttname"><a href="../../df/d80/classCSBMLExporter.html#a8f73c8e9c1a56403427b179b2074f198">CSBMLExporter::replace_local_parameters</a></div><div class="ttdeci">void replace_local_parameters(ASTNode *pOrigNode, const CCopasiDataModel &amp;dataModel)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d2f/CSBMLExporter_8cpp_source.html#l07330">CSBMLExporter.cpp:7330</a></div></div>
<div class="ttc" id="CSBMLExporter_8cpp_html_a50d8b634c989579da580569f9f73e114"><div class="ttname"><a href="../../d5/d2f/CSBMLExporter_8cpp.html#a50d8b634c989579da580569f9f73e114">convertExpression</a></div><div class="ttdeci">std::string convertExpression(const std::string &amp;expression, const std::map&lt; const std::string, Parameter * &gt; &amp;initialValueMap)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d2f/CSBMLExporter_8cpp_source.html#l01810">CSBMLExporter.cpp:1810</a></div></div>
<div class="ttc" id="classCCopasiObject_html_a879d6756b51f6b58d307940e1343bd10"><div class="ttname"><a href="../../d4/da8/classCCopasiObject.html#a879d6756b51f6b58d307940e1343bd10">CCopasiObject::getObjectName</a></div><div class="ttdeci">const std::string &amp; getObjectName() const </div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d22/CCopasiObject_8cpp_source.html#l00258">CCopasiObject.cpp:258</a></div></div>
<div class="ttc" id="classCEvaluationNode_html_ae24b55d848d78cec0a359fd199c76562"><div class="ttname"><a href="../../d8/d9f/classCEvaluationNode.html#ae24b55d848d78cec0a359fd199c76562">CEvaluationNode::getType</a></div><div class="ttdeci">const Type &amp; getType() const </div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d3d/CEvaluationNode_8cpp_source.html#l00357">CEvaluationNode.cpp:357</a></div></div>
<div class="ttc" id="classCCopasiMessage_html_a2ea1ed32494ff5c8d84353efcec7a5e4ac789e90eead3612a24114b9eae58fdec"><div class="ttname"><a href="../../d2/df0/classCCopasiMessage.html#a2ea1ed32494ff5c8d84353efcec7a5e4ac789e90eead3612a24114b9eae58fdec">CCopasiMessage::WARNING</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d2d/CCopasiMessage_8h_source.html#l00086">CCopasiMessage.h:86</a></div></div>
<div class="ttc" id="classCEvaluationTree_html"><div class="ttname"><a href="../../d1/d50/classCEvaluationTree.html">CEvaluationTree</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d46/CEvaluationTree_8h_source.html#l00028">CEvaluationTree.h:28</a></div></div>
<div class="ttc" id="classCSBMLExporter_html_ac743dca5c88be1b916af33f454d1a64a"><div class="ttname"><a href="../../df/d80/classCSBMLExporter.html#ac743dca5c88be1b916af33f454d1a64a">CSBMLExporter::mIncompleteExport</a></div><div class="ttdeci">bool mIncompleteExport</div><div class="ttdef"><b>Definition:</b> <a href="../../da/d7f/CSBMLExporter_8h_source.html#l00066">CSBMLExporter.h:66</a></div></div>
<div class="ttc" id="classCSBMLExporter_html_a60ab409a11b90a1ca965d7702828af74"><div class="ttname"><a href="../../df/d80/classCSBMLExporter.html#a60ab409a11b90a1ca965d7702828af74">CSBMLExporter::mIdMap</a></div><div class="ttdeci">std::map&lt; std::string, const SBase * &gt; mIdMap</div><div class="ttdef"><b>Definition:</b> <a href="../../da/d7f/CSBMLExporter_8h_source.html#l00064">CSBMLExporter.h:64</a></div></div>
<div class="ttc" id="classCSBMLExporter_html_ab85366b96bfd18cd3f7cf5ecc9b9d76b"><div class="ttname"><a href="../../df/d80/classCSBMLExporter.html#ab85366b96bfd18cd3f7cf5ecc9b9d76b">CSBMLExporter::mInitialValueMap</a></div><div class="ttdeci">std::map&lt; const std::string, Parameter * &gt; mInitialValueMap</div><div class="ttdef"><b>Definition:</b> <a href="../../da/d7f/CSBMLExporter_8h_source.html#l00079">CSBMLExporter.h:79</a></div></div>
<div class="ttc" id="classCSBMLExporter_html_a166bed353f341e4e617bff6f40ff12c4"><div class="ttname"><a href="../../df/d80/classCSBMLExporter.html#a166bed353f341e4e617bff6f40ff12c4">CSBMLExporter::setSBMLNotes</a></div><div class="ttdeci">static bool setSBMLNotes(SBase *pSBase, const CAnnotation *pAnno)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d2f/CSBMLExporter_8cpp_source.html#l07697">CSBMLExporter.cpp:7697</a></div></div>
<div class="ttc" id="classCSBMLExporter_html_ab4d7f9c3d22b8225d1a4d9e3a98b855e"><div class="ttname"><a href="../../df/d80/classCSBMLExporter.html#ab4d7f9c3d22b8225d1a4d9e3a98b855e">CSBMLExporter::createUniqueId</a></div><div class="ttdeci">static const std::string createUniqueId(const std::map&lt; std::string, const SBase * &gt; &amp;idMap, const std::string &amp;prefix, bool addIndexForFirst, const std::string &amp;separator=&quot;_&quot;)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d2f/CSBMLExporter_8cpp_source.html#l02252">CSBMLExporter.cpp:2252</a></div></div>
<div class="ttc" id="classCCopasiMessage_html_a2ea1ed32494ff5c8d84353efcec7a5e4a568f885d73f0ea36bedfe92f6e533071"><div class="ttname"><a href="../../d2/df0/classCCopasiMessage.html#a2ea1ed32494ff5c8d84353efcec7a5e4a568f885d73f0ea36bedfe92f6e533071">CCopasiMessage::EXCEPTION</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d2d/CCopasiMessage_8h_source.html#l00093">CCopasiMessage.h:93</a></div></div>
<div class="ttc" id="classCEvaluationNode_html_a9e5fcf60f22d2701417f90756847d37b"><div class="ttname"><a href="../../d8/d9f/classCEvaluationNode.html#a9e5fcf60f22d2701417f90756847d37b">CEvaluationNode::type</a></div><div class="ttdeci">static Type type(const Type &amp;type)</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d3d/CEvaluationNode_8cpp_source.html#l00123">CEvaluationNode.cpp:123</a></div></div>
<div class="ttc" id="CCopasiMessage_8h_html_a7f5ce9c8d3812b45cb6f33595fba5789"><div class="ttname"><a href="../../d9/d2d/CCopasiMessage_8h.html#a7f5ce9c8d3812b45cb6f33595fba5789">MCSBML</a></div><div class="ttdeci">#define MCSBML</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d2d/CCopasiMessage_8h_source.html#l00046">CCopasiMessage.h:46</a></div></div>
<div class="ttc" id="classCSBMLExporter_html_af1bc50a307a46adcce8aa8abde6dab96"><div class="ttname"><a href="../../df/d80/classCSBMLExporter.html#af1bc50a307a46adcce8aa8abde6dab96">CSBMLExporter::mSBMLVersion</a></div><div class="ttdeci">unsigned int mSBMLVersion</div><div class="ttdef"><b>Definition:</b> <a href="../../da/d7f/CSBMLExporter_8h_source.html#l00057">CSBMLExporter.h:57</a></div></div>
<div class="ttc" id="classCSBMLExporter_html_aefbd6278e618486186192aff4bdff76e"><div class="ttname"><a href="../../df/d80/classCSBMLExporter.html#aefbd6278e618486186192aff4bdff76e">CSBMLExporter::exportEventAssignments</a></div><div class="ttdeci">void exportEventAssignments(const CEvent &amp;event, Event *pSBMLEvent, CCopasiDataModel &amp;dataModel)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d2f/CSBMLExporter_8cpp_source.html#l04294">CSBMLExporter.cpp:4294</a></div></div>
<div class="ttc" id="classCEvaluationNode_html_aeef59b7ae37d1323a4900e5d19140491a7492325b731420bde92a0fa2620dde0c"><div class="ttname"><a href="../../d8/d9f/classCEvaluationNode.html#aeef59b7ae37d1323a4900e5d19140491a7492325b731420bde92a0fa2620dde0c">CEvaluationNode::INVALID</a></div><div class="ttdef"><b>Definition:</b> <a href="../../de/dfa/CEvaluationNode_8h_source.html#l00041">CEvaluationNode.h:41</a></div></div>
<div class="ttc" id="classCCopasiRootContainer_html_afd5e8541f181260daf7515b28f0612c3"><div class="ttname"><a href="../../d3/db1/classCCopasiRootContainer.html#afd5e8541f181260daf7515b28f0612c3">CCopasiRootContainer::getFunctionList</a></div><div class="ttdeci">static CFunctionDB * getFunctionList()</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/d4b/CCopasiRootContainer_8cpp_source.html#l00137">CCopasiRootContainer.cpp:137</a></div></div>
<div class="ttc" id="classCSBMLExporter_html_aa2e61de10e2d26eee4c7310beb099b13"><div class="ttname"><a href="../../df/d80/classCSBMLExporter.html#aa2e61de10e2d26eee4c7310beb099b13">CSBMLExporter::mMetaIdMap</a></div><div class="ttdeci">std::map&lt; std::string, const SBase * &gt; mMetaIdMap</div><div class="ttdef"><b>Definition:</b> <a href="../../da/d7f/CSBMLExporter_8h_source.html#l00070">CSBMLExporter.h:70</a></div></div>
<div class="ttc" id="classCSBMLExporter_html_a5bd855fe9020f8c400a6cab63fb87711"><div class="ttname"><a href="../../df/d80/classCSBMLExporter.html#a5bd855fe9020f8c400a6cab63fb87711">CSBMLExporter::mIncompatibilities</a></div><div class="ttdeci">std::vector&lt; SBMLIncompatibility &gt; mIncompatibilities</div><div class="ttdef"><b>Definition:</b> <a href="../../da/d7f/CSBMLExporter_8h_source.html#l00065">CSBMLExporter.h:65</a></div></div>
<div class="ttc" id="classCSBMLExporter_html_aeb19f9866a1735848770125dad2aebad"><div class="ttname"><a href="../../df/d80/classCSBMLExporter.html#aeb19f9866a1735848770125dad2aebad">CSBMLExporter::mCOPASI2SBMLMap</a></div><div class="ttdeci">std::map&lt; const CCopasiObject *, SBase * &gt; mCOPASI2SBMLMap</div><div class="ttdef"><b>Definition:</b> <a href="../../da/d7f/CSBMLExporter_8h_source.html#l00061">CSBMLExporter.h:61</a></div></div>
<div class="ttc" id="classCCopasiMessage_html"><div class="ttname"><a href="../../d2/df0/classCCopasiMessage.html">CCopasiMessage</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d2d/CCopasiMessage_8h_source.html#l00078">CCopasiMessage.h:78</a></div></div>
<div class="ttc" id="classCEvaluationNode_html"><div class="ttname"><a href="../../d8/d9f/classCEvaluationNode.html">CEvaluationNode</a></div><div class="ttdef"><b>Definition:</b> <a href="../../de/dfa/CEvaluationNode_8h_source.html#l00033">CEvaluationNode.h:33</a></div></div>
<div class="ttc" id="classCSBMLExporter_html_ac61681ecd68ba2288e21ff1584ad20af"><div class="ttname"><a href="../../df/d80/classCSBMLExporter.html#ac61681ecd68ba2288e21ff1584ad20af">CSBMLExporter::convertToASTNode</a></div><div class="ttdeci">ASTNode * convertToASTNode(const CEvaluationNode *pOrig, CCopasiDataModel &amp;dataModel)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d2f/CSBMLExporter_8cpp_source.html#l07078">CSBMLExporter.cpp:7078</a></div></div>
<div class="ttc" id="classCSBMLExporter_html_aefa0189aa8976611a461b6de4142fdc7"><div class="ttname"><a href="../../df/d80/classCSBMLExporter.html#aefa0189aa8976611a461b6de4142fdc7">CSBMLExporter::isExpressionSBMLCompatible</a></div><div class="ttdeci">static void isExpressionSBMLCompatible(const CEvaluationTree &amp;expr, const CCopasiDataModel &amp;dataModel, int sbmlLevel, int sbmlVersion, std::vector&lt; SBMLIncompatibility &gt; &amp;result, const std::string &amp;objectDescription, bool initialExression=false, std::map&lt; const std::string, Parameter * &gt; *initialMap=NULL)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d2f/CSBMLExporter_8cpp_source.html#l02767">CSBMLExporter.cpp:2767</a></div></div>
<div class="ttc" id="classCSBMLExporter_html_a030225cc274a7c545f010ba2ba7f13c3"><div class="ttname"><a href="../../df/d80/classCSBMLExporter.html#a030225cc274a7c545f010ba2ba7f13c3">CSBMLExporter::replaceSpeciesReferences</a></div><div class="ttdeci">CEvaluationNode * replaceSpeciesReferences(const CEvaluationNode *pOrigNode, const CCopasiDataModel &amp;dataModel)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d2f/CSBMLExporter_8cpp_source.html#l06066">CSBMLExporter.cpp:6066</a></div></div>
<div class="ttc" id="classCSBMLExporter_html_a9cab2f1418b5678f726caac488f07858"><div class="ttname"><a href="../../df/d80/classCSBMLExporter.html#a9cab2f1418b5678f726caac488f07858">CSBMLExporter::outputIncompatibilities</a></div><div class="ttdeci">void outputIncompatibilities() const </div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d2f/CSBMLExporter_8cpp_source.html#l07160">CSBMLExporter.cpp:7160</a></div></div>
<div class="ttc" id="classCSBMLExporter_html_aba8216eaf4931e0adf484832882fbe67"><div class="ttname"><a href="../../df/d80/classCSBMLExporter.html#aba8216eaf4931e0adf484832882fbe67">CSBMLExporter::updateMIRIAMAnnotation</a></div><div class="ttdeci">bool updateMIRIAMAnnotation(const CCopasiObject *pCOPASIObject, SBase *pSBMLObject, std::map&lt; std::string, const SBase * &gt; &amp;metaIds)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d2f/CSBMLExporter_8cpp_source.html#l06361">CSBMLExporter.cpp:6361</a></div></div>
<div class="ttc" id="classCEvent_html_a15664a61c44cae7a83014b2e2fec32eb"><div class="ttname"><a href="../../da/d3f/classCEvent.html#a15664a61c44cae7a83014b2e2fec32eb">CEvent::getSBMLId</a></div><div class="ttdeci">const std::string &amp; getSBMLId() const </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d55/CEvent_8cpp_source.html#l00403">CEvent.cpp:403</a></div></div>
<div class="ttc" id="classCSBMLExporter_html_a6dcd463b48c53c136e6c1af5b22251f2"><div class="ttname"><a href="../../df/d80/classCSBMLExporter.html#a6dcd463b48c53c136e6c1af5b22251f2">CSBMLExporter::createFunctionSetFromFunctionNames</a></div><div class="ttdeci">static const std::set&lt; CFunction * &gt; createFunctionSetFromFunctionNames(const std::set&lt; std::string &gt; &amp;names, CFunctionDB *pFunDB)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d2f/CSBMLExporter_8cpp_source.html#l05054">CSBMLExporter.cpp:5054</a></div></div>
<div class="ttc" id="classCSBMLExporter_html_a4d5bc6e05778ebe1653f70b2c968564e"><div class="ttname"><a href="../../df/d80/classCSBMLExporter.html#a4d5bc6e05778ebe1653f70b2c968564e">CSBMLExporter::mUsedFunctions</a></div><div class="ttdeci">std::set&lt; CFunction * &gt; mUsedFunctions</div><div class="ttdef"><b>Definition:</b> <a href="../../da/d7f/CSBMLExporter_8h_source.html#l00063">CSBMLExporter.h:63</a></div></div>
<div class="ttc" id="classCEvaluationTree_html_a542e592cb978819d30a6da627411ba91"><div class="ttname"><a href="../../d1/d50/classCEvaluationTree.html#a542e592cb978819d30a6da627411ba91">CEvaluationTree::getRoot</a></div><div class="ttdeci">CEvaluationNode * getRoot()</div><div class="ttdef"><b>Definition:</b> <a href="../../da/d55/CEvaluationTree_8cpp_source.html#l00610">CEvaluationTree.cpp:610</a></div></div>
<div class="ttc" id="classCEvaluationTree_html_abab25dce8518661da82058c20bc5b5aa"><div class="ttname"><a href="../../d1/d50/classCEvaluationTree.html#abab25dce8518661da82058c20bc5b5aa">CEvaluationTree::getInfix</a></div><div class="ttdeci">const std::string &amp; getInfix() const </div><div class="ttdef"><b>Definition:</b> <a href="../../da/d55/CEvaluationTree_8cpp_source.html#l00188">CEvaluationTree.cpp:188</a></div></div>
<div class="ttc" id="classCEvaluationTree_html_a854ce243807e739edd85eb9bcae8ff19"><div class="ttname"><a href="../../d1/d50/classCEvaluationTree.html#a854ce243807e739edd85eb9bcae8ff19">CEvaluationTree::setInfix</a></div><div class="ttdeci">virtual bool setInfix(const std::string &amp;infix)</div><div class="ttdef"><b>Definition:</b> <a href="../../da/d55/CEvaluationTree_8cpp_source.html#l00175">CEvaluationTree.cpp:175</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a5b27af3781d1e84d2235d0cb135a6963"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d3/d05/CChemEqParser__yacc_8cpp.html#aa76fec002b4ba91adc88f68d56ba730c">void</a> CSBMLExporter::createEvents </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d4/d18/classCCopasiDataModel.html">CCopasiDataModel</a> &amp;&#160;</td>
          <td class="paramname"><em>dataModel</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Creates the events for the given data model. </p>

<p>Definition at line <a class="el" href="../../d5/d2f/CSBMLExporter_8cpp_source.html#l03938">3938</a> of file <a class="el" href="../../d5/d2f/CSBMLExporter_8cpp_source.html">CSBMLExporter.cpp</a>.</p>

<p>References <a class="el" href="../../d8/d2c/classCCopasiVector.html#acb26711fe72be0d2cb3a37c2fbcc031f">CCopasiVector&lt; T &gt;::begin()</a>, <a class="el" href="../../df/d80/classCSBMLExporter.html#a2ff9071e1a2ac3039de6b4311c40e336">checkForEvents()</a>, <a class="el" href="../../df/d80/classCSBMLExporter.html#a79ba15ac876b6354e2aaff763b8a7c86">createEvent()</a>, <a class="el" href="../../d8/d2c/classCCopasiVector.html#a44c97a5f614c885495c437f2a8d20954">CCopasiVector&lt; T &gt;::end()</a>, <a class="el" href="../../d4/d04/classCModel.html#ad55cc48064428d703cee3e69b71e4703">CModel::getEvents()</a>, <a class="el" href="../../d4/d18/classCCopasiDataModel.html#a2e65952e0caf0b2709d381cf949fec69">CCopasiDataModel::getModel()</a>, <a class="el" href="../../df/d80/classCSBMLExporter.html#aeb19f9866a1735848770125dad2aebad">mCOPASI2SBMLMap</a>, <a class="el" href="../../df/d80/classCSBMLExporter.html#a5bd855fe9020f8c400a6cab63fb87711">mIncompatibilities</a>, <a class="el" href="../../df/d80/classCSBMLExporter.html#a1541a69b36b8e864883e49f0de244f81">mpSBMLDocument</a>, and <a class="el" href="../../df/d80/classCSBMLExporter.html#aba959efc152f63f1709d5de60e97a651">mSBMLLevel</a>.</p>

<p>Referenced by <a class="el" href="../../df/d80/classCSBMLExporter.html#a2b680d670c11c7c70a45bc12e236b2e8">createSBMLDocument()</a>.</p>
<div class="fragment"><div class="line"><a name="l03939"></a><span class="lineno"> 3939</span>&#160;{</div>
<div class="line"><a name="l03940"></a><span class="lineno"> 3940</span>&#160;  <span class="keywordflow">if</span> (this-&gt;<a class="code" href="../../df/d80/classCSBMLExporter.html#aba959efc152f63f1709d5de60e97a651">mSBMLLevel</a> == 1)</div>
<div class="line"><a name="l03941"></a><span class="lineno"> 3941</span>&#160;    {</div>
<div class="line"><a name="l03942"></a><span class="lineno"> 3942</span>&#160;      <a class="code" href="../../df/d80/classCSBMLExporter.html#a2ff9071e1a2ac3039de6b4311c40e336">CSBMLExporter::checkForEvents</a>(dataModel, this-&gt;<a class="code" href="../../df/d80/classCSBMLExporter.html#a5bd855fe9020f8c400a6cab63fb87711">mIncompatibilities</a>);</div>
<div class="line"><a name="l03943"></a><span class="lineno"> 3943</span>&#160;      <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l03944"></a><span class="lineno"> 3944</span>&#160;    }</div>
<div class="line"><a name="l03945"></a><span class="lineno"> 3945</span>&#160;</div>
<div class="line"><a name="l03946"></a><span class="lineno"> 3946</span>&#160;  <span class="comment">// bail early</span></div>
<div class="line"><a name="l03947"></a><span class="lineno"> 3947</span>&#160;  <span class="keywordflow">if</span> (dataModel.<a class="code" href="../../d4/d18/classCCopasiDataModel.html#a2e65952e0caf0b2709d381cf949fec69">getModel</a>() == NULL)</div>
<div class="line"><a name="l03948"></a><span class="lineno"> 3948</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l03949"></a><span class="lineno"> 3949</span>&#160;</div>
<div class="line"><a name="l03950"></a><span class="lineno"> 3950</span>&#160;  Model* pSBMLModel = this-&gt;<a class="code" href="../../df/d80/classCSBMLExporter.html#a1541a69b36b8e864883e49f0de244f81">mpSBMLDocument</a>-&gt;getModel();</div>
<div class="line"><a name="l03951"></a><span class="lineno"> 3951</span>&#160;</div>
<div class="line"><a name="l03952"></a><span class="lineno"> 3952</span>&#160;  <span class="keywordflow">if</span> (pSBMLModel == NULL)</div>
<div class="line"><a name="l03953"></a><span class="lineno"> 3953</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l03954"></a><span class="lineno"> 3954</span>&#160;</div>
<div class="line"><a name="l03955"></a><span class="lineno"> 3955</span>&#160;  <span class="comment">// remove all events from the SBML model and put them in a set</span></div>
<div class="line"><a name="l03956"></a><span class="lineno"> 3956</span>&#160;  std::set&lt;Event*&gt; eventSet;</div>
<div class="line"><a name="l03957"></a><span class="lineno"> 3957</span>&#160;</div>
<div class="line"><a name="l03958"></a><span class="lineno"> 3958</span>&#160;  <span class="keywordflow">while</span> (pSBMLModel-&gt;getNumEvents() != 0)</div>
<div class="line"><a name="l03959"></a><span class="lineno"> 3959</span>&#160;    {</div>
<div class="line"><a name="l03960"></a><span class="lineno"> 3960</span>&#160;      Event* pEvent = pSBMLModel-&gt;getListOfEvents()-&gt;remove(pSBMLModel-&gt;getNumEvents() - 1);</div>
<div class="line"><a name="l03961"></a><span class="lineno"> 3961</span>&#160;      assert(pEvent != NULL);</div>
<div class="line"><a name="l03962"></a><span class="lineno"> 3962</span>&#160;      eventSet.insert(pEvent);</div>
<div class="line"><a name="l03963"></a><span class="lineno"> 3963</span>&#160;    }</div>
<div class="line"><a name="l03964"></a><span class="lineno"> 3964</span>&#160;</div>
<div class="line"><a name="l03965"></a><span class="lineno"> 3965</span>&#160;  <span class="keyword">const</span> <a class="code" href="../../d7/d08/classCCopasiVectorN.html">CCopasiVectorN&lt;CEvent&gt;</a>&amp; events = dataModel.<a class="code" href="../../d4/d18/classCCopasiDataModel.html#a2e65952e0caf0b2709d381cf949fec69">getModel</a>()-&gt;<a class="code" href="../../d4/d04/classCModel.html#ad55cc48064428d703cee3e69b71e4703">getEvents</a>();</div>
<div class="line"><a name="l03966"></a><span class="lineno"> 3966</span>&#160;</div>
<div class="line"><a name="l03967"></a><span class="lineno"> 3967</span>&#160;  <a class="code" href="../../d7/d08/classCCopasiVectorN.html">CCopasiVectorN&lt;CEvent&gt;::const_iterator</a> it = events.<a class="code" href="../../d8/d2c/classCCopasiVector.html#acb26711fe72be0d2cb3a37c2fbcc031f">begin</a>(), endit = events.<a class="code" href="../../d8/d2c/classCCopasiVector.html#a44c97a5f614c885495c437f2a8d20954">end</a>();</div>
<div class="line"><a name="l03968"></a><span class="lineno"> 3968</span>&#160;</div>
<div class="line"><a name="l03969"></a><span class="lineno"> 3969</span>&#160;  Event* pSBMLEvent = NULL;</div>
<div class="line"><a name="l03970"></a><span class="lineno"> 3970</span>&#160;</div>
<div class="line"><a name="l03971"></a><span class="lineno"> 3971</span>&#160;  std::map&lt;const CCopasiObject*, SBase*&gt;::const_iterator pos;</div>
<div class="line"><a name="l03972"></a><span class="lineno"> 3972</span>&#160;</div>
<div class="line"><a name="l03973"></a><span class="lineno"> 3973</span>&#160;  <span class="keywordflow">while</span> (it != endit)</div>
<div class="line"><a name="l03974"></a><span class="lineno"> 3974</span>&#160;    {</div>
<div class="line"><a name="l03975"></a><span class="lineno"> 3975</span>&#160;      <span class="comment">// find the old event if there is one</span></div>
<div class="line"><a name="l03976"></a><span class="lineno"> 3976</span>&#160;      pos = this-&gt;<a class="code" href="../../df/d80/classCSBMLExporter.html#aeb19f9866a1735848770125dad2aebad">mCOPASI2SBMLMap</a>.find(*it);</div>
<div class="line"><a name="l03977"></a><span class="lineno"> 3977</span>&#160;</div>
<div class="line"><a name="l03978"></a><span class="lineno"> 3978</span>&#160;      <span class="keywordflow">if</span> (pos != this-&gt;<a class="code" href="../../df/d80/classCSBMLExporter.html#aeb19f9866a1735848770125dad2aebad">mCOPASI2SBMLMap</a>.end())</div>
<div class="line"><a name="l03979"></a><span class="lineno"> 3979</span>&#160;        {</div>
<div class="line"><a name="l03980"></a><span class="lineno"> 3980</span>&#160;          pSBMLEvent = <span class="keyword">dynamic_cast&lt;</span>Event*<span class="keyword">&gt;</span>(pos-&gt;second);</div>
<div class="line"><a name="l03981"></a><span class="lineno"> 3981</span>&#160;        }</div>
<div class="line"><a name="l03982"></a><span class="lineno"> 3982</span>&#160;      <span class="keywordflow">else</span></div>
<div class="line"><a name="l03983"></a><span class="lineno"> 3983</span>&#160;        {</div>
<div class="line"><a name="l03984"></a><span class="lineno"> 3984</span>&#160;          pSBMLEvent = NULL;</div>
<div class="line"><a name="l03985"></a><span class="lineno"> 3985</span>&#160;        }</div>
<div class="line"><a name="l03986"></a><span class="lineno"> 3986</span>&#160;</div>
<div class="line"><a name="l03987"></a><span class="lineno"> 3987</span>&#160;      <span class="comment">// remove the event from the set</span></div>
<div class="line"><a name="l03988"></a><span class="lineno"> 3988</span>&#160;      <span class="keywordflow">if</span> (pSBMLEvent) eventSet.erase(pSBMLEvent);</div>
<div class="line"><a name="l03989"></a><span class="lineno"> 3989</span>&#160;</div>
<div class="line"><a name="l03990"></a><span class="lineno"> 3990</span>&#160;      this-&gt;<a class="code" href="../../df/d80/classCSBMLExporter.html#a79ba15ac876b6354e2aaff763b8a7c86">createEvent</a>(**it, pSBMLEvent, dataModel);</div>
<div class="line"><a name="l03991"></a><span class="lineno"> 3991</span>&#160;      ++it;</div>
<div class="line"><a name="l03992"></a><span class="lineno"> 3992</span>&#160;    }</div>
<div class="line"><a name="l03993"></a><span class="lineno"> 3993</span>&#160;</div>
<div class="line"><a name="l03994"></a><span class="lineno"> 3994</span>&#160;  <span class="comment">// make sure events that have already been deleted do not get</span></div>
<div class="line"><a name="l03995"></a><span class="lineno"> 3995</span>&#160;  <span class="comment">// exported</span></div>
<div class="line"><a name="l03996"></a><span class="lineno"> 3996</span>&#160;  std::set&lt;Event*&gt;::iterator it2 = eventSet.begin(), endit2 = eventSet.end();</div>
<div class="line"><a name="l03997"></a><span class="lineno"> 3997</span>&#160;</div>
<div class="line"><a name="l03998"></a><span class="lineno"> 3998</span>&#160;  <span class="keywordflow">while</span> (it2 != endit2)</div>
<div class="line"><a name="l03999"></a><span class="lineno"> 3999</span>&#160;    {</div>
<div class="line"><a name="l04000"></a><span class="lineno"> 4000</span>&#160;      <span class="keyword">delete</span> *it2;</div>
<div class="line"><a name="l04001"></a><span class="lineno"> 4001</span>&#160;      ++it2;</div>
<div class="line"><a name="l04002"></a><span class="lineno"> 4002</span>&#160;    }</div>
<div class="line"><a name="l04003"></a><span class="lineno"> 4003</span>&#160;}</div>
<div class="ttc" id="classCCopasiVectorN_html"><div class="ttname"><a href="../../d7/d08/classCCopasiVectorN.html">CCopasiVectorN&lt; CEvent &gt;</a></div></div>
<div class="ttc" id="classCSBMLExporter_html_aba959efc152f63f1709d5de60e97a651"><div class="ttname"><a href="../../df/d80/classCSBMLExporter.html#aba959efc152f63f1709d5de60e97a651">CSBMLExporter::mSBMLLevel</a></div><div class="ttdeci">unsigned int mSBMLLevel</div><div class="ttdef"><b>Definition:</b> <a href="../../da/d7f/CSBMLExporter_8h_source.html#l00056">CSBMLExporter.h:56</a></div></div>
<div class="ttc" id="classCSBMLExporter_html_a1541a69b36b8e864883e49f0de244f81"><div class="ttname"><a href="../../df/d80/classCSBMLExporter.html#a1541a69b36b8e864883e49f0de244f81">CSBMLExporter::mpSBMLDocument</a></div><div class="ttdeci">SBMLDocument * mpSBMLDocument</div><div class="ttdef"><b>Definition:</b> <a href="../../da/d7f/CSBMLExporter_8h_source.html#l00055">CSBMLExporter.h:55</a></div></div>
<div class="ttc" id="classCModel_html_ad55cc48064428d703cee3e69b71e4703"><div class="ttname"><a href="../../d4/d04/classCModel.html#ad55cc48064428d703cee3e69b71e4703">CModel::getEvents</a></div><div class="ttdeci">CCopasiVectorN&lt; CEvent &gt; &amp; getEvents()</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d08/CModel_8cpp_source.html#l01110">CModel.cpp:1110</a></div></div>
<div class="ttc" id="classCCopasiDataModel_html_a2e65952e0caf0b2709d381cf949fec69"><div class="ttname"><a href="../../d4/d18/classCCopasiDataModel.html#a2e65952e0caf0b2709d381cf949fec69">CCopasiDataModel::getModel</a></div><div class="ttdeci">CModel * getModel()</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d38/CCopasiDataModel_8cpp_source.html#l01407">CCopasiDataModel.cpp:1407</a></div></div>
<div class="ttc" id="classCCopasiVector_html_acb26711fe72be0d2cb3a37c2fbcc031f"><div class="ttname"><a href="../../d8/d2c/classCCopasiVector.html#acb26711fe72be0d2cb3a37c2fbcc031f">CCopasiVector::begin</a></div><div class="ttdeci">iterator begin()</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d51/CCopasiVector_8h_source.html#l00185">CCopasiVector.h:185</a></div></div>
<div class="ttc" id="classCCopasiVector_html_a44c97a5f614c885495c437f2a8d20954"><div class="ttname"><a href="../../d8/d2c/classCCopasiVector.html#a44c97a5f614c885495c437f2a8d20954">CCopasiVector::end</a></div><div class="ttdeci">iterator end()</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d51/CCopasiVector_8h_source.html#l00191">CCopasiVector.h:191</a></div></div>
<div class="ttc" id="classCSBMLExporter_html_a2ff9071e1a2ac3039de6b4311c40e336"><div class="ttname"><a href="../../df/d80/classCSBMLExporter.html#a2ff9071e1a2ac3039de6b4311c40e336">CSBMLExporter::checkForEvents</a></div><div class="ttdeci">static void checkForEvents(const CCopasiDataModel &amp;dataModel, std::vector&lt; SBMLIncompatibility &gt; &amp;result)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d2f/CSBMLExporter_8cpp_source.html#l04552">CSBMLExporter.cpp:4552</a></div></div>
<div class="ttc" id="classCSBMLExporter_html_a5bd855fe9020f8c400a6cab63fb87711"><div class="ttname"><a href="../../df/d80/classCSBMLExporter.html#a5bd855fe9020f8c400a6cab63fb87711">CSBMLExporter::mIncompatibilities</a></div><div class="ttdeci">std::vector&lt; SBMLIncompatibility &gt; mIncompatibilities</div><div class="ttdef"><b>Definition:</b> <a href="../../da/d7f/CSBMLExporter_8h_source.html#l00065">CSBMLExporter.h:65</a></div></div>
<div class="ttc" id="classCSBMLExporter_html_aeb19f9866a1735848770125dad2aebad"><div class="ttname"><a href="../../df/d80/classCSBMLExporter.html#aeb19f9866a1735848770125dad2aebad">CSBMLExporter::mCOPASI2SBMLMap</a></div><div class="ttdeci">std::map&lt; const CCopasiObject *, SBase * &gt; mCOPASI2SBMLMap</div><div class="ttdef"><b>Definition:</b> <a href="../../da/d7f/CSBMLExporter_8h_source.html#l00061">CSBMLExporter.h:61</a></div></div>
<div class="ttc" id="classCSBMLExporter_html_a79ba15ac876b6354e2aaff763b8a7c86"><div class="ttname"><a href="../../df/d80/classCSBMLExporter.html#a79ba15ac876b6354e2aaff763b8a7c86">CSBMLExporter::createEvent</a></div><div class="ttdeci">void createEvent(CEvent &amp;event, Event *pSBMLEvent, CCopasiDataModel &amp;dataModel)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d2f/CSBMLExporter_8cpp_source.html#l04005">CSBMLExporter.cpp:4005</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="abc1d139f7b654051b43958675056e34c"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d3/d05/CChemEqParser__yacc_8cpp.html#aa76fec002b4ba91adc88f68d56ba730c">void</a> CSBMLExporter::createFunctionDefinition </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d9/d86/classCFunction.html">CFunction</a> &amp;&#160;</td>
          <td class="paramname"><em>function</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d4/d18/classCCopasiDataModel.html">CCopasiDataModel</a> &amp;&#160;</td>
          <td class="paramname"><em>dataModel</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Create the SBML function definition from the given COPASI function. </p>

<p>Definition at line <a class="el" href="../../d5/d2f/CSBMLExporter_8cpp_source.html#l03107">3107</a> of file <a class="el" href="../../d5/d2f/CSBMLExporter_8cpp_source.html">CSBMLExporter.cpp</a>.</p>

<p>References <a class="el" href="../../df/d80/classCSBMLExporter.html#ac61681ecd68ba2288e21ff1584ad20af">convertToASTNode()</a>, <a class="el" href="../../df/d80/classCSBMLExporter.html#ab4d7f9c3d22b8225d1a4d9e3a98b855e">createUniqueId()</a>, <a class="el" href="../../d2/df0/classCCopasiMessage.html#a2ea1ed32494ff5c8d84353efcec7a5e4a568f885d73f0ea36bedfe92f6e533071">CCopasiMessage::EXCEPTION</a>, <a class="el" href="../../df/d80/classCSBMLExporter.html#aefa0189aa8976611a461b6de4142fdc7">isExpressionSBMLCompatible()</a>, <a class="el" href="../../df/d80/classCSBMLExporter.html#a885487cfd1570979b180bee89571c271">isValidSId()</a>, <a class="el" href="../../df/d80/classCSBMLExporter.html#aeb19f9866a1735848770125dad2aebad">mCOPASI2SBMLMap</a>, <a class="el" href="../../d9/d2d/CCopasiMessage_8h.html#a7f5ce9c8d3812b45cb6f33595fba5789">MCSBML</a>, <a class="el" href="../../df/d80/classCSBMLExporter.html#a18a364ee64c8bd23b9c6fa3442d4e6b1">mExportedFunctions</a>, <a class="el" href="../../df/d80/classCSBMLExporter.html#aa5207c45ebd8ce9bff303c680d2e535a">mFunctionMap</a>, <a class="el" href="../../df/d80/classCSBMLExporter.html#a60ab409a11b90a1ca965d7702828af74">mIdMap</a>, <a class="el" href="../../df/d80/classCSBMLExporter.html#a5bd855fe9020f8c400a6cab63fb87711">mIncompatibilities</a>, <a class="el" href="../../df/d80/classCSBMLExporter.html#aa2e61de10e2d26eee4c7310beb099b13">mMetaIdMap</a>, <a class="el" href="../../df/d80/classCSBMLExporter.html#a1541a69b36b8e864883e49f0de244f81">mpSBMLDocument</a>, <a class="el" href="../../df/d80/classCSBMLExporter.html#aba959efc152f63f1709d5de60e97a651">mSBMLLevel</a>, <a class="el" href="../../df/d80/classCSBMLExporter.html#af1bc50a307a46adcce8aa8abde6dab96">mSBMLVersion</a>, <a class="el" href="../../df/d80/classCSBMLExporter.html#a166bed353f341e4e617bff6f40ff12c4">setSBMLNotes()</a>, <a class="el" href="../../d0/d1f/classCFunctionParameters.html#a25eebb18490f1fd552a39faae2120453">CFunctionParameters::size()</a>, <a class="el" href="../../df/d80/classCSBMLExporter.html#aba8216eaf4931e0adf484832882fbe67">updateMIRIAMAnnotation()</a>, and <a class="el" href="../../d2/df0/classCCopasiMessage.html#a2ea1ed32494ff5c8d84353efcec7a5e4ac789e90eead3612a24114b9eae58fdec">CCopasiMessage::WARNING</a>.</p>

<p>Referenced by <a class="el" href="../../df/d80/classCSBMLExporter.html#a5349f8758c324eef2da6a4ecfe0df888">createFunctionDefinitions()</a>.</p>
<div class="fragment"><div class="line"><a name="l03108"></a><span class="lineno"> 3108</span>&#160;{</div>
<div class="line"><a name="l03109"></a><span class="lineno"> 3109</span>&#160;  <span class="comment">// check the expression</span></div>
<div class="line"><a name="l03110"></a><span class="lineno"> 3110</span>&#160;  std::map&lt;const CCopasiObject*, SBase*&gt;::iterator pos = this-&gt;<a class="code" href="../../df/d80/classCSBMLExporter.html#aeb19f9866a1735848770125dad2aebad">mCOPASI2SBMLMap</a>.find(&amp;<span class="keyword">function</span>);</div>
<div class="line"><a name="l03111"></a><span class="lineno"> 3111</span>&#160;  FunctionDefinition* pFunDef = NULL;</div>
<div class="line"><a name="l03112"></a><span class="lineno"> 3112</span>&#160;</div>
<div class="line"><a name="l03113"></a><span class="lineno"> 3113</span>&#160;  <span class="comment">// the entry could be NULL when exporting to L2 first and then to L3 because the</span></div>
<div class="line"><a name="l03114"></a><span class="lineno"> 3114</span>&#160;  <span class="comment">// SBMLExporter::collectIds will add a NULL entry into the id table which will be</span></div>
<div class="line"><a name="l03115"></a><span class="lineno"> 3115</span>&#160;  <span class="comment">// tranferred to the COPASI2SBMLMap.</span></div>
<div class="line"><a name="l03116"></a><span class="lineno"> 3116</span>&#160;  <span class="keywordflow">if</span> (pos != this-&gt;<a class="code" href="../../df/d80/classCSBMLExporter.html#aeb19f9866a1735848770125dad2aebad">mCOPASI2SBMLMap</a>.end() &amp;&amp; pos-&gt;second != NULL)</div>
<div class="line"><a name="l03117"></a><span class="lineno"> 3117</span>&#160;    {</div>
<div class="line"><a name="l03118"></a><span class="lineno"> 3118</span>&#160;      pFunDef = <span class="keyword">dynamic_cast&lt;</span>FunctionDefinition*<span class="keyword">&gt;</span>(pos-&gt;second);</div>
<div class="line"><a name="l03119"></a><span class="lineno"> 3119</span>&#160;      assert(pFunDef);</div>
<div class="line"><a name="l03120"></a><span class="lineno"> 3120</span>&#160;      this-&gt;<a class="code" href="../../df/d80/classCSBMLExporter.html#a1541a69b36b8e864883e49f0de244f81">mpSBMLDocument</a>-&gt;getModel()-&gt;getListOfFunctionDefinitions()-&gt;appendAndOwn(pFunDef);</div>
<div class="line"><a name="l03121"></a><span class="lineno"> 3121</span>&#160;    }</div>
<div class="line"><a name="l03122"></a><span class="lineno"> 3122</span>&#160;  <span class="keywordflow">else</span></div>
<div class="line"><a name="l03123"></a><span class="lineno"> 3123</span>&#160;    {</div>
<div class="line"><a name="l03124"></a><span class="lineno"> 3124</span>&#160;      <span class="keywordflow">if</span> (this-&gt;<a class="code" href="../../df/d80/classCSBMLExporter.html#a1541a69b36b8e864883e49f0de244f81">mpSBMLDocument</a>-&gt;getLevel() == 1)</div>
<div class="line"><a name="l03125"></a><span class="lineno"> 3125</span>&#160;        {</div>
<div class="line"><a name="l03126"></a><span class="lineno"> 3126</span>&#160;          pFunDef = <span class="keyword">new</span> FunctionDefinition(2, 4);</div>
<div class="line"><a name="l03127"></a><span class="lineno"> 3127</span>&#160;        }</div>
<div class="line"><a name="l03128"></a><span class="lineno"> 3128</span>&#160;      <span class="keywordflow">else</span></div>
<div class="line"><a name="l03129"></a><span class="lineno"> 3129</span>&#160;        {</div>
<div class="line"><a name="l03130"></a><span class="lineno"> 3130</span>&#160;          pFunDef = <span class="keyword">new</span> FunctionDefinition(this-&gt;<a class="code" href="../../df/d80/classCSBMLExporter.html#a1541a69b36b8e864883e49f0de244f81">mpSBMLDocument</a>-&gt;getLevel(), this-&gt;<a class="code" href="../../df/d80/classCSBMLExporter.html#a1541a69b36b8e864883e49f0de244f81">mpSBMLDocument</a>-&gt;getVersion());</div>
<div class="line"><a name="l03131"></a><span class="lineno"> 3131</span>&#160;        }</div>
<div class="line"><a name="l03132"></a><span class="lineno"> 3132</span>&#160;</div>
<div class="line"><a name="l03133"></a><span class="lineno"> 3133</span>&#160;      this-&gt;<a class="code" href="../../df/d80/classCSBMLExporter.html#aa5207c45ebd8ce9bff303c680d2e535a">mFunctionMap</a>[pFunDef] = &amp;<span class="keyword">function</span>;</div>
<div class="line"><a name="l03134"></a><span class="lineno"> 3134</span>&#160;      pFunDef-&gt;setName(<span class="keyword">function</span>.getObjectName());</div>
<div class="line"><a name="l03135"></a><span class="lineno"> 3135</span>&#160;      std::string <span class="keywordtype">id</span> = <span class="keyword">function</span>.getSBMLId();</div>
<div class="line"><a name="l03136"></a><span class="lineno"> 3136</span>&#160;</div>
<div class="line"><a name="l03137"></a><span class="lineno"> 3137</span>&#160;      <span class="keywordflow">if</span> (<span class="keywordtype">id</span>.empty())</div>
<div class="line"><a name="l03138"></a><span class="lineno"> 3138</span>&#160;        {</div>
<div class="line"><a name="l03139"></a><span class="lineno"> 3139</span>&#160;          <span class="keywordtype">id</span> = <span class="keyword">function</span>.getObjectName();</div>
<div class="line"><a name="l03140"></a><span class="lineno"> 3140</span>&#160;</div>
<div class="line"><a name="l03141"></a><span class="lineno"> 3141</span>&#160;          <span class="keywordflow">if</span> (<a class="code" href="../../df/d80/classCSBMLExporter.html#a885487cfd1570979b180bee89571c271">CSBMLExporter::isValidSId</a>(<span class="keywordtype">id</span>))</div>
<div class="line"><a name="l03142"></a><span class="lineno"> 3142</span>&#160;            {</div>
<div class="line"><a name="l03143"></a><span class="lineno"> 3143</span>&#160;              <span class="keywordflow">if</span> (this-&gt;<a class="code" href="../../df/d80/classCSBMLExporter.html#a60ab409a11b90a1ca965d7702828af74">mIdMap</a>.find(<span class="keywordtype">id</span>) != this-&gt;<a class="code" href="../../df/d80/classCSBMLExporter.html#a60ab409a11b90a1ca965d7702828af74">mIdMap</a>.end())</div>
<div class="line"><a name="l03144"></a><span class="lineno"> 3144</span>&#160;                {</div>
<div class="line"><a name="l03145"></a><span class="lineno"> 3145</span>&#160;                  <span class="keywordtype">id</span> = <a class="code" href="../../df/d80/classCSBMLExporter.html#ab4d7f9c3d22b8225d1a4d9e3a98b855e">CSBMLExporter::createUniqueId</a>(this-&gt;<a class="code" href="../../df/d80/classCSBMLExporter.html#a60ab409a11b90a1ca965d7702828af74">mIdMap</a>, <span class="keywordtype">id</span>, <span class="keyword">true</span>);</div>
<div class="line"><a name="l03146"></a><span class="lineno"> 3146</span>&#160;                }</div>
<div class="line"><a name="l03147"></a><span class="lineno"> 3147</span>&#160;            }</div>
<div class="line"><a name="l03148"></a><span class="lineno"> 3148</span>&#160;          <span class="keywordflow">else</span></div>
<div class="line"><a name="l03149"></a><span class="lineno"> 3149</span>&#160;            {</div>
<div class="line"><a name="l03150"></a><span class="lineno"> 3150</span>&#160;              <span class="keywordtype">id</span> = <a class="code" href="../../df/d80/classCSBMLExporter.html#ab4d7f9c3d22b8225d1a4d9e3a98b855e">CSBMLExporter::createUniqueId</a>(this-&gt;<a class="code" href="../../df/d80/classCSBMLExporter.html#a60ab409a11b90a1ca965d7702828af74">mIdMap</a>, <span class="keyword">function</span>.getObjectName(), <span class="keyword">false</span>);</div>
<div class="line"><a name="l03151"></a><span class="lineno"> 3151</span>&#160;            }</div>
<div class="line"><a name="l03152"></a><span class="lineno"> 3152</span>&#160;        }</div>
<div class="line"><a name="l03153"></a><span class="lineno"> 3153</span>&#160;</div>
<div class="line"><a name="l03154"></a><span class="lineno"> 3154</span>&#160;      this-&gt;<a class="code" href="../../df/d80/classCSBMLExporter.html#a60ab409a11b90a1ca965d7702828af74">mIdMap</a>.insert(std::pair&lt;const std::string, const SBase*&gt;(<span class="keywordtype">id</span>, pFunDef));</div>
<div class="line"><a name="l03155"></a><span class="lineno"> 3155</span>&#160;      pFunDef-&gt;setId(<span class="keywordtype">id</span>);</div>
<div class="line"><a name="l03156"></a><span class="lineno"> 3156</span>&#160;      <span class="keyword">function</span>.setSBMLId(<span class="keywordtype">id</span>);</div>
<div class="line"><a name="l03157"></a><span class="lineno"> 3157</span>&#160;      this-&gt;<a class="code" href="../../df/d80/classCSBMLExporter.html#aeb19f9866a1735848770125dad2aebad">mCOPASI2SBMLMap</a>[&amp;<span class="keyword">function</span>] = pFunDef;</div>
<div class="line"><a name="l03158"></a><span class="lineno"> 3158</span>&#160;    }</div>
<div class="line"><a name="l03159"></a><span class="lineno"> 3159</span>&#160;</div>
<div class="line"><a name="l03160"></a><span class="lineno"> 3160</span>&#160;  <span class="keywordflow">if</span> (<span class="keyword">function</span>.getRoot() == NULL)</div>
<div class="line"><a name="l03161"></a><span class="lineno"> 3161</span>&#160;    {</div>
<div class="line"><a name="l03162"></a><span class="lineno"> 3162</span>&#160;      std::string errorMessage = std::string(<span class="stringliteral">&quot;Can not export function &#39;&quot;</span>);</div>
<div class="line"><a name="l03163"></a><span class="lineno"> 3163</span>&#160;      errorMessage += <span class="keyword">function</span>.getObjectName();</div>
<div class="line"><a name="l03164"></a><span class="lineno"> 3164</span>&#160;      errorMessage += std::string(<span class="stringliteral">&quot;&#39;. Function does not have a valid root node.&quot;</span>);</div>
<div class="line"><a name="l03165"></a><span class="lineno"> 3165</span>&#160;      <a class="code" href="../../d2/df0/classCCopasiMessage.html">CCopasiMessage</a>(<a class="code" href="../../d2/df0/classCCopasiMessage.html#a2ea1ed32494ff5c8d84353efcec7a5e4a568f885d73f0ea36bedfe92f6e533071">CCopasiMessage::EXCEPTION</a>, errorMessage.c_str());</div>
<div class="line"><a name="l03166"></a><span class="lineno"> 3166</span>&#160;    }</div>
<div class="line"><a name="l03167"></a><span class="lineno"> 3167</span>&#160;  <span class="keywordflow">else</span></div>
<div class="line"><a name="l03168"></a><span class="lineno"> 3168</span>&#160;    {</div>
<div class="line"><a name="l03169"></a><span class="lineno"> 3169</span>&#160;      std::vector&lt;SBMLIncompatibility&gt; result;</div>
<div class="line"><a name="l03170"></a><span class="lineno"> 3170</span>&#160;      <a class="code" href="../../df/d80/classCSBMLExporter.html#aefa0189aa8976611a461b6de4142fdc7">CSBMLExporter::isExpressionSBMLCompatible</a>(<span class="keyword">function</span>, dataModel, this-&gt;<a class="code" href="../../df/d80/classCSBMLExporter.html#aba959efc152f63f1709d5de60e97a651">mSBMLLevel</a>, this-&gt;<a class="code" href="../../df/d80/classCSBMLExporter.html#af1bc50a307a46adcce8aa8abde6dab96">mSBMLVersion</a>, result, std::string(<span class="stringliteral">&quot;function with name \&quot;&quot;</span> + <span class="keyword">function</span>.getObjectName() + <span class="stringliteral">&quot;\&quot;&quot;</span>).c_str());</div>
<div class="line"><a name="l03171"></a><span class="lineno"> 3171</span>&#160;</div>
<div class="line"><a name="l03172"></a><span class="lineno"> 3172</span>&#160;      <span class="keywordflow">if</span> (result.empty())</div>
<div class="line"><a name="l03173"></a><span class="lineno"> 3173</span>&#160;        {</div>
<div class="line"><a name="l03174"></a><span class="lineno"> 3174</span>&#160;          ASTNode* pFunNode = this-&gt;<a class="code" href="../../df/d80/classCSBMLExporter.html#ac61681ecd68ba2288e21ff1584ad20af">convertToASTNode</a>(<span class="keyword">function</span>.getRoot(), dataModel);</div>
<div class="line"><a name="l03175"></a><span class="lineno"> 3175</span>&#160;          <span class="comment">// go through the AST tree and replace all function call nodes with with a call to the sbml id</span></div>
<div class="line"><a name="l03176"></a><span class="lineno"> 3176</span>&#160;          ASTNode* pLambda = <span class="keyword">new</span> ASTNode(AST_LAMBDA);</div>
<div class="line"><a name="l03177"></a><span class="lineno"> 3177</span>&#160;          <span class="comment">// add the parameters to the function definition</span></div>
<div class="line"><a name="l03178"></a><span class="lineno"> 3178</span>&#160;          <span class="keyword">const</span> <a class="code" href="../../d0/d1f/classCFunctionParameters.html">CFunctionParameters</a>&amp; funParams = <span class="keyword">function</span>.getVariables();</div>
<div class="line"><a name="l03179"></a><span class="lineno"> 3179</span>&#160;          <span class="keywordtype">size_t</span> i, iMax = funParams.<a class="code" href="../../d0/d1f/classCFunctionParameters.html#a25eebb18490f1fd552a39faae2120453">size</a>();</div>
<div class="line"><a name="l03180"></a><span class="lineno"> 3180</span>&#160;          ASTNode* pParamNode = NULL;</div>
<div class="line"><a name="l03181"></a><span class="lineno"> 3181</span>&#160;</div>
<div class="line"><a name="l03182"></a><span class="lineno"> 3182</span>&#160;          <span class="keywordflow">for</span> (i = 0; i &lt; iMax; ++i)</div>
<div class="line"><a name="l03183"></a><span class="lineno"> 3183</span>&#160;            {</div>
<div class="line"><a name="l03184"></a><span class="lineno"> 3184</span>&#160;              pParamNode = <span class="keyword">new</span> ASTNode(AST_NAME);</div>
<div class="line"><a name="l03185"></a><span class="lineno"> 3185</span>&#160;              pParamNode-&gt;setName(funParams[i]-&gt;getObjectName().c_str());</div>
<div class="line"><a name="l03186"></a><span class="lineno"> 3186</span>&#160;              pLambda-&gt;addChild(pParamNode);</div>
<div class="line"><a name="l03187"></a><span class="lineno"> 3187</span>&#160;            }</div>
<div class="line"><a name="l03188"></a><span class="lineno"> 3188</span>&#160;</div>
<div class="line"><a name="l03189"></a><span class="lineno"> 3189</span>&#160;          pLambda-&gt;addChild(pFunNode);</div>
<div class="line"><a name="l03190"></a><span class="lineno"> 3190</span>&#160;</div>
<div class="line"><a name="l03191"></a><span class="lineno"> 3191</span>&#160;          <span class="keywordflow">if</span> (pFunDef-&gt;setMath(pLambda) != LIBSBML_OPERATION_SUCCESS)</div>
<div class="line"><a name="l03192"></a><span class="lineno"> 3192</span>&#160;            {</div>
<div class="line"><a name="l03193"></a><span class="lineno"> 3193</span>&#160;              <a class="code" href="../../d2/df0/classCCopasiMessage.html">CCopasiMessage</a>(<a class="code" href="../../d2/df0/classCCopasiMessage.html#a2ea1ed32494ff5c8d84353efcec7a5e4ac789e90eead3612a24114b9eae58fdec">CCopasiMessage::WARNING</a>,</div>
<div class="line"><a name="l03194"></a><span class="lineno"> 3194</span>&#160;                             <span class="stringliteral">&quot;The function &#39;%s&#39; uses an invalid expression &#39;%s&#39; that cannot be exported to SBML, the function definition is not exported.&quot;</span></div>
<div class="line"><a name="l03195"></a><span class="lineno"> 3195</span>&#160;                             , <span class="keyword">function</span>.getObjectName().c_str()</div>
<div class="line"><a name="l03196"></a><span class="lineno"> 3196</span>&#160;                             , <span class="keyword">function</span>.getInfix().c_str());</div>
<div class="line"><a name="l03197"></a><span class="lineno"> 3197</span>&#160;            }</div>
<div class="line"><a name="l03198"></a><span class="lineno"> 3198</span>&#160;</div>
<div class="line"><a name="l03199"></a><span class="lineno"> 3199</span>&#160;          this-&gt;<a class="code" href="../../df/d80/classCSBMLExporter.html#a18a364ee64c8bd23b9c6fa3442d4e6b1">mExportedFunctions</a>.appendAndOwn(pFunDef);</div>
<div class="line"><a name="l03200"></a><span class="lineno"> 3200</span>&#160;          <span class="keyword">delete</span> pLambda;</div>
<div class="line"><a name="l03201"></a><span class="lineno"> 3201</span>&#160;        }</div>
<div class="line"><a name="l03202"></a><span class="lineno"> 3202</span>&#160;      <span class="keywordflow">else</span></div>
<div class="line"><a name="l03203"></a><span class="lineno"> 3203</span>&#160;        {</div>
<div class="line"><a name="l03204"></a><span class="lineno"> 3204</span>&#160;          this-&gt;<a class="code" href="../../df/d80/classCSBMLExporter.html#a5bd855fe9020f8c400a6cab63fb87711">mIncompatibilities</a>.insert(this-&gt;<a class="code" href="../../df/d80/classCSBMLExporter.html#a5bd855fe9020f8c400a6cab63fb87711">mIncompatibilities</a>.end(), result.begin(), result.end());</div>
<div class="line"><a name="l03205"></a><span class="lineno"> 3205</span>&#160;          <a class="code" href="../../d2/df0/classCCopasiMessage.html">CCopasiMessage</a>(<a class="code" href="../../d2/df0/classCCopasiMessage.html#a2ea1ed32494ff5c8d84353efcec7a5e4a568f885d73f0ea36bedfe92f6e533071">CCopasiMessage::EXCEPTION</a>, <a class="code" href="../../d9/d2d/CCopasiMessage_8h.html#a7f5ce9c8d3812b45cb6f33595fba5789">MCSBML</a> + 28, <span class="keyword">function</span>.getObjectName().c_str());</div>
<div class="line"><a name="l03206"></a><span class="lineno"> 3206</span>&#160;        }</div>
<div class="line"><a name="l03207"></a><span class="lineno"> 3207</span>&#160;    }</div>
<div class="line"><a name="l03208"></a><span class="lineno"> 3208</span>&#160;</div>
<div class="line"><a name="l03209"></a><span class="lineno"> 3209</span>&#160;  <span class="keywordflow">if</span> (pFunDef != NULL)</div>
<div class="line"><a name="l03210"></a><span class="lineno"> 3210</span>&#160;    {</div>
<div class="line"><a name="l03211"></a><span class="lineno"> 3211</span>&#160;      <a class="code" href="../../df/d80/classCSBMLExporter.html#a166bed353f341e4e617bff6f40ff12c4">CSBMLExporter::setSBMLNotes</a>(pFunDef, &amp;<span class="keyword">function</span>);</div>
<div class="line"><a name="l03212"></a><span class="lineno"> 3212</span>&#160;    }</div>
<div class="line"><a name="l03213"></a><span class="lineno"> 3213</span>&#160;</div>
<div class="line"><a name="l03214"></a><span class="lineno"> 3214</span>&#160;  <a class="code" href="../../df/d80/classCSBMLExporter.html#aba8216eaf4931e0adf484832882fbe67">CSBMLExporter::updateMIRIAMAnnotation</a>(&amp;<span class="keyword">function</span>, pFunDef, this-&gt;<a class="code" href="../../df/d80/classCSBMLExporter.html#aa2e61de10e2d26eee4c7310beb099b13">mMetaIdMap</a>);</div>
<div class="line"><a name="l03215"></a><span class="lineno"> 3215</span>&#160;}</div>
<div class="ttc" id="classCFunctionParameters_html_a25eebb18490f1fd552a39faae2120453"><div class="ttname"><a href="../../d0/d1f/classCFunctionParameters.html#a25eebb18490f1fd552a39faae2120453">CFunctionParameters::size</a></div><div class="ttdeci">size_t size() const </div><div class="ttdef"><b>Definition:</b> <a href="../../d5/db1/CFunctionParameters_8cpp_source.html#l00100">CFunctionParameters.cpp:100</a></div></div>
<div class="ttc" id="classCSBMLExporter_html_aba959efc152f63f1709d5de60e97a651"><div class="ttname"><a href="../../df/d80/classCSBMLExporter.html#aba959efc152f63f1709d5de60e97a651">CSBMLExporter::mSBMLLevel</a></div><div class="ttdeci">unsigned int mSBMLLevel</div><div class="ttdef"><b>Definition:</b> <a href="../../da/d7f/CSBMLExporter_8h_source.html#l00056">CSBMLExporter.h:56</a></div></div>
<div class="ttc" id="classCSBMLExporter_html_a1541a69b36b8e864883e49f0de244f81"><div class="ttname"><a href="../../df/d80/classCSBMLExporter.html#a1541a69b36b8e864883e49f0de244f81">CSBMLExporter::mpSBMLDocument</a></div><div class="ttdeci">SBMLDocument * mpSBMLDocument</div><div class="ttdef"><b>Definition:</b> <a href="../../da/d7f/CSBMLExporter_8h_source.html#l00055">CSBMLExporter.h:55</a></div></div>
<div class="ttc" id="classCSBMLExporter_html_a18a364ee64c8bd23b9c6fa3442d4e6b1"><div class="ttname"><a href="../../df/d80/classCSBMLExporter.html#a18a364ee64c8bd23b9c6fa3442d4e6b1">CSBMLExporter::mExportedFunctions</a></div><div class="ttdeci">ListOfFunctionDefinitions mExportedFunctions</div><div class="ttdef"><b>Definition:</b> <a href="../../da/d7f/CSBMLExporter_8h_source.html#l00077">CSBMLExporter.h:77</a></div></div>
<div class="ttc" id="classCCopasiMessage_html_a2ea1ed32494ff5c8d84353efcec7a5e4ac789e90eead3612a24114b9eae58fdec"><div class="ttname"><a href="../../d2/df0/classCCopasiMessage.html#a2ea1ed32494ff5c8d84353efcec7a5e4ac789e90eead3612a24114b9eae58fdec">CCopasiMessage::WARNING</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d2d/CCopasiMessage_8h_source.html#l00086">CCopasiMessage.h:86</a></div></div>
<div class="ttc" id="classCFunctionParameters_html"><div class="ttname"><a href="../../d0/d1f/classCFunctionParameters.html">CFunctionParameters</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d3/de1/CFunctionParameters_8h_source.html#l00030">CFunctionParameters.h:30</a></div></div>
<div class="ttc" id="classCSBMLExporter_html_a60ab409a11b90a1ca965d7702828af74"><div class="ttname"><a href="../../df/d80/classCSBMLExporter.html#a60ab409a11b90a1ca965d7702828af74">CSBMLExporter::mIdMap</a></div><div class="ttdeci">std::map&lt; std::string, const SBase * &gt; mIdMap</div><div class="ttdef"><b>Definition:</b> <a href="../../da/d7f/CSBMLExporter_8h_source.html#l00064">CSBMLExporter.h:64</a></div></div>
<div class="ttc" id="classCSBMLExporter_html_a166bed353f341e4e617bff6f40ff12c4"><div class="ttname"><a href="../../df/d80/classCSBMLExporter.html#a166bed353f341e4e617bff6f40ff12c4">CSBMLExporter::setSBMLNotes</a></div><div class="ttdeci">static bool setSBMLNotes(SBase *pSBase, const CAnnotation *pAnno)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d2f/CSBMLExporter_8cpp_source.html#l07697">CSBMLExporter.cpp:7697</a></div></div>
<div class="ttc" id="classCSBMLExporter_html_ab4d7f9c3d22b8225d1a4d9e3a98b855e"><div class="ttname"><a href="../../df/d80/classCSBMLExporter.html#ab4d7f9c3d22b8225d1a4d9e3a98b855e">CSBMLExporter::createUniqueId</a></div><div class="ttdeci">static const std::string createUniqueId(const std::map&lt; std::string, const SBase * &gt; &amp;idMap, const std::string &amp;prefix, bool addIndexForFirst, const std::string &amp;separator=&quot;_&quot;)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d2f/CSBMLExporter_8cpp_source.html#l02252">CSBMLExporter.cpp:2252</a></div></div>
<div class="ttc" id="classCCopasiMessage_html_a2ea1ed32494ff5c8d84353efcec7a5e4a568f885d73f0ea36bedfe92f6e533071"><div class="ttname"><a href="../../d2/df0/classCCopasiMessage.html#a2ea1ed32494ff5c8d84353efcec7a5e4a568f885d73f0ea36bedfe92f6e533071">CCopasiMessage::EXCEPTION</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d2d/CCopasiMessage_8h_source.html#l00093">CCopasiMessage.h:93</a></div></div>
<div class="ttc" id="CCopasiMessage_8h_html_a7f5ce9c8d3812b45cb6f33595fba5789"><div class="ttname"><a href="../../d9/d2d/CCopasiMessage_8h.html#a7f5ce9c8d3812b45cb6f33595fba5789">MCSBML</a></div><div class="ttdeci">#define MCSBML</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d2d/CCopasiMessage_8h_source.html#l00046">CCopasiMessage.h:46</a></div></div>
<div class="ttc" id="classCSBMLExporter_html_aa5207c45ebd8ce9bff303c680d2e535a"><div class="ttname"><a href="../../df/d80/classCSBMLExporter.html#aa5207c45ebd8ce9bff303c680d2e535a">CSBMLExporter::mFunctionMap</a></div><div class="ttdeci">std::map&lt; const FunctionDefinition *, const CCopasiObject * &gt; mFunctionMap</div><div class="ttdef"><b>Definition:</b> <a href="../../da/d7f/CSBMLExporter_8h_source.html#l00078">CSBMLExporter.h:78</a></div></div>
<div class="ttc" id="classCSBMLExporter_html_a885487cfd1570979b180bee89571c271"><div class="ttname"><a href="../../df/d80/classCSBMLExporter.html#a885487cfd1570979b180bee89571c271">CSBMLExporter::isValidSId</a></div><div class="ttdeci">static bool isValidSId(const std::string &amp;id)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d2f/CSBMLExporter_8cpp_source.html#l05993">CSBMLExporter.cpp:5993</a></div></div>
<div class="ttc" id="classCSBMLExporter_html_af1bc50a307a46adcce8aa8abde6dab96"><div class="ttname"><a href="../../df/d80/classCSBMLExporter.html#af1bc50a307a46adcce8aa8abde6dab96">CSBMLExporter::mSBMLVersion</a></div><div class="ttdeci">unsigned int mSBMLVersion</div><div class="ttdef"><b>Definition:</b> <a href="../../da/d7f/CSBMLExporter_8h_source.html#l00057">CSBMLExporter.h:57</a></div></div>
<div class="ttc" id="classCSBMLExporter_html_aa2e61de10e2d26eee4c7310beb099b13"><div class="ttname"><a href="../../df/d80/classCSBMLExporter.html#aa2e61de10e2d26eee4c7310beb099b13">CSBMLExporter::mMetaIdMap</a></div><div class="ttdeci">std::map&lt; std::string, const SBase * &gt; mMetaIdMap</div><div class="ttdef"><b>Definition:</b> <a href="../../da/d7f/CSBMLExporter_8h_source.html#l00070">CSBMLExporter.h:70</a></div></div>
<div class="ttc" id="classCSBMLExporter_html_a5bd855fe9020f8c400a6cab63fb87711"><div class="ttname"><a href="../../df/d80/classCSBMLExporter.html#a5bd855fe9020f8c400a6cab63fb87711">CSBMLExporter::mIncompatibilities</a></div><div class="ttdeci">std::vector&lt; SBMLIncompatibility &gt; mIncompatibilities</div><div class="ttdef"><b>Definition:</b> <a href="../../da/d7f/CSBMLExporter_8h_source.html#l00065">CSBMLExporter.h:65</a></div></div>
<div class="ttc" id="classCSBMLExporter_html_aeb19f9866a1735848770125dad2aebad"><div class="ttname"><a href="../../df/d80/classCSBMLExporter.html#aeb19f9866a1735848770125dad2aebad">CSBMLExporter::mCOPASI2SBMLMap</a></div><div class="ttdeci">std::map&lt; const CCopasiObject *, SBase * &gt; mCOPASI2SBMLMap</div><div class="ttdef"><b>Definition:</b> <a href="../../da/d7f/CSBMLExporter_8h_source.html#l00061">CSBMLExporter.h:61</a></div></div>
<div class="ttc" id="classCCopasiMessage_html"><div class="ttname"><a href="../../d2/df0/classCCopasiMessage.html">CCopasiMessage</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d2d/CCopasiMessage_8h_source.html#l00078">CCopasiMessage.h:78</a></div></div>
<div class="ttc" id="classCSBMLExporter_html_ac61681ecd68ba2288e21ff1584ad20af"><div class="ttname"><a href="../../df/d80/classCSBMLExporter.html#ac61681ecd68ba2288e21ff1584ad20af">CSBMLExporter::convertToASTNode</a></div><div class="ttdeci">ASTNode * convertToASTNode(const CEvaluationNode *pOrig, CCopasiDataModel &amp;dataModel)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d2f/CSBMLExporter_8cpp_source.html#l07078">CSBMLExporter.cpp:7078</a></div></div>
<div class="ttc" id="classCSBMLExporter_html_aefa0189aa8976611a461b6de4142fdc7"><div class="ttname"><a href="../../df/d80/classCSBMLExporter.html#aefa0189aa8976611a461b6de4142fdc7">CSBMLExporter::isExpressionSBMLCompatible</a></div><div class="ttdeci">static void isExpressionSBMLCompatible(const CEvaluationTree &amp;expr, const CCopasiDataModel &amp;dataModel, int sbmlLevel, int sbmlVersion, std::vector&lt; SBMLIncompatibility &gt; &amp;result, const std::string &amp;objectDescription, bool initialExression=false, std::map&lt; const std::string, Parameter * &gt; *initialMap=NULL)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d2f/CSBMLExporter_8cpp_source.html#l02767">CSBMLExporter.cpp:2767</a></div></div>
<div class="ttc" id="classCSBMLExporter_html_aba8216eaf4931e0adf484832882fbe67"><div class="ttname"><a href="../../df/d80/classCSBMLExporter.html#aba8216eaf4931e0adf484832882fbe67">CSBMLExporter::updateMIRIAMAnnotation</a></div><div class="ttdeci">bool updateMIRIAMAnnotation(const CCopasiObject *pCOPASIObject, SBase *pSBMLObject, std::map&lt; std::string, const SBase * &gt; &amp;metaIds)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d2f/CSBMLExporter_8cpp_source.html#l06361">CSBMLExporter.cpp:6361</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a5349f8758c324eef2da6a4ecfe0df888"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d3/d05/CChemEqParser__yacc_8cpp.html#aa76fec002b4ba91adc88f68d56ba730c">void</a> CSBMLExporter::createFunctionDefinitions </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d4/d18/classCCopasiDataModel.html">CCopasiDataModel</a> &amp;&#160;</td>
          <td class="paramname"><em>dataModel</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Create all function definitions. </p>

<p>Definition at line <a class="el" href="../../d5/d2f/CSBMLExporter_8cpp_source.html#l02940">2940</a> of file <a class="el" href="../../d5/d2f/CSBMLExporter_8cpp_source.html">CSBMLExporter.cpp</a>.</p>

<p>References <a class="el" href="../../df/d80/classCSBMLExporter.html#abc1d139f7b654051b43958675056e34c">createFunctionDefinition()</a>, <a class="el" href="../../d9/d2d/CCopasiMessage_8h.html#a1e835c01335d6f956a78adf106ed1b15">fatalError</a>, <a class="el" href="../../df/d80/classCSBMLExporter.html#a6553f17e9fedbf662bb4512f15cf6216">findUsedFunctions()</a>, <a class="el" href="../../d3/db1/classCCopasiRootContainer.html#afd5e8541f181260daf7515b28f0612c3">CCopasiRootContainer::getFunctionList()</a>, <a class="el" href="../../d4/da8/classCCopasiObject.html#a879d6756b51f6b58d307940e1343bd10">CCopasiObject::getObjectName()</a>, <a class="el" href="../../df/d80/classCSBMLExporter.html#aeb19f9866a1735848770125dad2aebad">mCOPASI2SBMLMap</a>, <a class="el" href="../../df/d80/classCSBMLExporter.html#a18a364ee64c8bd23b9c6fa3442d4e6b1">mExportedFunctions</a>, <a class="el" href="../../df/d80/classCSBMLExporter.html#aa5207c45ebd8ce9bff303c680d2e535a">mFunctionMap</a>, <a class="el" href="../../df/d80/classCSBMLExporter.html#a1541a69b36b8e864883e49f0de244f81">mpSBMLDocument</a>, and <a class="el" href="../../df/d80/classCSBMLExporter.html#a4d5bc6e05778ebe1653f70b2c968564e">mUsedFunctions</a>.</p>

<p>Referenced by <a class="el" href="../../df/d80/classCSBMLExporter.html#a2b680d670c11c7c70a45bc12e236b2e8">createSBMLDocument()</a>.</p>
<div class="fragment"><div class="line"><a name="l02941"></a><span class="lineno"> 2941</span>&#160;{</div>
<div class="line"><a name="l02942"></a><span class="lineno"> 2942</span>&#160;  this-&gt;<a class="code" href="../../df/d80/classCSBMLExporter.html#a18a364ee64c8bd23b9c6fa3442d4e6b1">mExportedFunctions</a>.clear(<span class="keyword">true</span>);</div>
<div class="line"><a name="l02943"></a><span class="lineno"> 2943</span>&#160;  this-&gt;<a class="code" href="../../df/d80/classCSBMLExporter.html#aa5207c45ebd8ce9bff303c680d2e535a">mFunctionMap</a>.clear();</div>
<div class="line"><a name="l02944"></a><span class="lineno"> 2944</span>&#160;  <span class="comment">// make sure the list of used functions is filled before this is</span></div>
<div class="line"><a name="l02945"></a><span class="lineno"> 2945</span>&#160;  <span class="comment">// called</span></div>
<div class="line"><a name="l02946"></a><span class="lineno"> 2946</span>&#160;  <span class="comment">// make sure the mCOPASI2SBMLMap is up to date</span></div>
<div class="line"><a name="l02947"></a><span class="lineno"> 2947</span>&#160;</div>
<div class="line"><a name="l02948"></a><span class="lineno"> 2948</span>&#160;  <span class="comment">// find all indirectly called functions</span></div>
<div class="line"><a name="l02949"></a><span class="lineno"> 2949</span>&#160;  std::vector&lt;CFunction*&gt; usedFunctions = <a class="code" href="../../df/d80/classCSBMLExporter.html#a6553f17e9fedbf662bb4512f15cf6216">findUsedFunctions</a>(this-&gt;<a class="code" href="../../df/d80/classCSBMLExporter.html#a4d5bc6e05778ebe1653f70b2c968564e">mUsedFunctions</a>, <a class="code" href="../../d3/db1/classCCopasiRootContainer.html#afd5e8541f181260daf7515b28f0612c3">CCopasiRootContainer::getFunctionList</a>());</div>
<div class="line"><a name="l02950"></a><span class="lineno"> 2950</span>&#160;  this-&gt;<a class="code" href="../../df/d80/classCSBMLExporter.html#a4d5bc6e05778ebe1653f70b2c968564e">mUsedFunctions</a>.clear();</div>
<div class="line"><a name="l02951"></a><span class="lineno"> 2951</span>&#160;  this-&gt;<a class="code" href="../../df/d80/classCSBMLExporter.html#a4d5bc6e05778ebe1653f70b2c968564e">mUsedFunctions</a>.insert(usedFunctions.begin(), usedFunctions.end());</div>
<div class="line"><a name="l02952"></a><span class="lineno"> 2952</span>&#160;</div>
<div class="line"><a name="l02953"></a><span class="lineno"> 2953</span>&#160;  <span class="comment">// remove the function calls that have been created by copasi solely for use</span></div>
<div class="line"><a name="l02954"></a><span class="lineno"> 2954</span>&#160;  <span class="comment">// as a kinetic law term if it is no longer needed</span></div>
<div class="line"><a name="l02955"></a><span class="lineno"> 2955</span>&#160;  Model* pModel = this-&gt;<a class="code" href="../../df/d80/classCSBMLExporter.html#a1541a69b36b8e864883e49f0de244f81">mpSBMLDocument</a>-&gt;getModel();</div>
<div class="line"><a name="l02956"></a><span class="lineno"> 2956</span>&#160;  assert(pModel);</div>
<div class="line"><a name="l02957"></a><span class="lineno"> 2957</span>&#160;</div>
<div class="line"><a name="l02958"></a><span class="lineno"> 2958</span>&#160;  <span class="keywordflow">if</span> (pModel == NULL) <a class="code" href="../../d9/d2d/CCopasiMessage_8h.html#a1e835c01335d6f956a78adf106ed1b15">fatalError</a>();</div>
<div class="line"><a name="l02959"></a><span class="lineno"> 2959</span>&#160;</div>
<div class="line"><a name="l02960"></a><span class="lineno"> 2960</span>&#160;  std::map&lt;SBase*, const CCopasiObject*&gt; sbml2copasiMap;</div>
<div class="line"><a name="l02961"></a><span class="lineno"> 2961</span>&#160;  std::map&lt;const CCopasiObject*, SBase*&gt;::iterator mapIt = this-&gt;<a class="code" href="../../df/d80/classCSBMLExporter.html#aeb19f9866a1735848770125dad2aebad">mCOPASI2SBMLMap</a>.begin();</div>
<div class="line"><a name="l02962"></a><span class="lineno"> 2962</span>&#160;  std::map&lt;const CCopasiObject*, SBase*&gt;::iterator mapEndit = this-&gt;<a class="code" href="../../df/d80/classCSBMLExporter.html#aeb19f9866a1735848770125dad2aebad">mCOPASI2SBMLMap</a>.end();</div>
<div class="line"><a name="l02963"></a><span class="lineno"> 2963</span>&#160;</div>
<div class="line"><a name="l02964"></a><span class="lineno"> 2964</span>&#160;  <span class="keywordflow">while</span> (mapIt != mapEndit)</div>
<div class="line"><a name="l02965"></a><span class="lineno"> 2965</span>&#160;    {</div>
<div class="line"><a name="l02966"></a><span class="lineno"> 2966</span>&#160;      sbml2copasiMap.insert(std::make_pair(mapIt-&gt;second, mapIt-&gt;first));</div>
<div class="line"><a name="l02967"></a><span class="lineno"> 2967</span>&#160;      ++mapIt;</div>
<div class="line"><a name="l02968"></a><span class="lineno"> 2968</span>&#160;    }</div>
<div class="line"><a name="l02969"></a><span class="lineno"> 2969</span>&#160;</div>
<div class="line"><a name="l02970"></a><span class="lineno"> 2970</span>&#160;  std::set&lt;CFunction*&gt; unusedFunctions;</div>
<div class="line"><a name="l02971"></a><span class="lineno"> 2971</span>&#160;  <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> i = 0, iMax = pModel-&gt;getNumFunctionDefinitions();</div>
<div class="line"><a name="l02972"></a><span class="lineno"> 2972</span>&#160;  std::map&lt;SBase*, const CCopasiObject*&gt;::iterator mapPos;</div>
<div class="line"><a name="l02973"></a><span class="lineno"> 2973</span>&#160;  std::set&lt;std::string&gt; toRemove;</div>
<div class="line"><a name="l02974"></a><span class="lineno"> 2974</span>&#160;</div>
<div class="line"><a name="l02975"></a><span class="lineno"> 2975</span>&#160;  <span class="keywordflow">while</span> (i &lt; iMax)</div>
<div class="line"><a name="l02976"></a><span class="lineno"> 2976</span>&#160;    {</div>
<div class="line"><a name="l02977"></a><span class="lineno"> 2977</span>&#160;      FunctionDefinition* pFunDef = pModel-&gt;getFunctionDefinition(i);</div>
<div class="line"><a name="l02978"></a><span class="lineno"> 2978</span>&#160;</div>
<div class="line"><a name="l02979"></a><span class="lineno"> 2979</span>&#160;      <span class="keywordflow">if</span> (pFunDef != NULL)</div>
<div class="line"><a name="l02980"></a><span class="lineno"> 2980</span>&#160;        {</div>
<div class="line"><a name="l02981"></a><span class="lineno"> 2981</span>&#160;          mapPos = sbml2copasiMap.find(pFunDef);</div>
<div class="line"><a name="l02982"></a><span class="lineno"> 2982</span>&#160;</div>
<div class="line"><a name="l02983"></a><span class="lineno"> 2983</span>&#160;          <span class="keywordflow">if</span> (mapPos != sbml2copasiMap.end())</div>
<div class="line"><a name="l02984"></a><span class="lineno"> 2984</span>&#160;            {</div>
<div class="line"><a name="l02985"></a><span class="lineno"> 2985</span>&#160;              <a class="code" href="../../d9/d86/classCFunction.html">CFunction</a>* pFun = <span class="keyword">dynamic_cast&lt;</span><a class="code" href="../../d9/d86/classCFunction.html">CFunction</a>*<span class="keyword">&gt;</span>(<span class="keyword">const_cast&lt;</span><a class="code" href="../../d4/da8/classCCopasiObject.html">CCopasiObject</a>*<span class="keyword">&gt;</span>(mapPos-&gt;second));</div>
<div class="line"><a name="l02986"></a><span class="lineno"> 2986</span>&#160;</div>
<div class="line"><a name="l02987"></a><span class="lineno"> 2987</span>&#160;              <span class="keywordflow">if</span> (pFun != NULL &amp;&amp; this-&gt;<a class="code" href="../../df/d80/classCSBMLExporter.html#a4d5bc6e05778ebe1653f70b2c968564e">mUsedFunctions</a>.find(pFun) == this-&gt;<a class="code" href="../../df/d80/classCSBMLExporter.html#a4d5bc6e05778ebe1653f70b2c968564e">mUsedFunctions</a>.end())</div>
<div class="line"><a name="l02988"></a><span class="lineno"> 2988</span>&#160;                {</div>
<div class="line"><a name="l02989"></a><span class="lineno"> 2989</span>&#160;                  <span class="comment">// the function exists in the model, but it is not used in any</span></div>
<div class="line"><a name="l02990"></a><span class="lineno"> 2990</span>&#160;                  <span class="comment">// expression</span></div>
<div class="line"><a name="l02991"></a><span class="lineno"> 2991</span>&#160;                  <span class="keywordflow">if</span> (pFun-&gt;<a class="code" href="../../d4/da8/classCCopasiObject.html#a879d6756b51f6b58d307940e1343bd10">getObjectName</a>().find(<span class="stringliteral">&quot;function_4_&quot;</span>) == 0 || pFun-&gt;<a class="code" href="../../d4/da8/classCCopasiObject.html#a879d6756b51f6b58d307940e1343bd10">getObjectName</a>().find(<span class="stringliteral">&quot;Function for &quot;</span>) == 0)</div>
<div class="line"><a name="l02992"></a><span class="lineno"> 2992</span>&#160;                    {</div>
<div class="line"><a name="l02993"></a><span class="lineno"> 2993</span>&#160;                      <span class="comment">// store the function definition that is to be removed</span></div>
<div class="line"><a name="l02994"></a><span class="lineno"> 2994</span>&#160;                      toRemove.insert(pFunDef-&gt;getId());</div>
<div class="line"><a name="l02995"></a><span class="lineno"> 2995</span>&#160;                    }</div>
<div class="line"><a name="l02996"></a><span class="lineno"> 2996</span>&#160;                  <span class="keywordflow">else</span></div>
<div class="line"><a name="l02997"></a><span class="lineno"> 2997</span>&#160;                    {</div>
<div class="line"><a name="l02998"></a><span class="lineno"> 2998</span>&#160;                      <span class="comment">// those need to be stored in a separate list since we also</span></div>
<div class="line"><a name="l02999"></a><span class="lineno"> 2999</span>&#160;                      <span class="comment">// need to find indirectly called functions</span></div>
<div class="line"><a name="l03000"></a><span class="lineno"> 3000</span>&#160;                      unusedFunctions.insert(pFun);</div>
<div class="line"><a name="l03001"></a><span class="lineno"> 3001</span>&#160;                    }</div>
<div class="line"><a name="l03002"></a><span class="lineno"> 3002</span>&#160;                }</div>
<div class="line"><a name="l03003"></a><span class="lineno"> 3003</span>&#160;            }</div>
<div class="line"><a name="l03004"></a><span class="lineno"> 3004</span>&#160;        }</div>
<div class="line"><a name="l03005"></a><span class="lineno"> 3005</span>&#160;</div>
<div class="line"><a name="l03006"></a><span class="lineno"> 3006</span>&#160;      ++i;</div>
<div class="line"><a name="l03007"></a><span class="lineno"> 3007</span>&#160;    }</div>
<div class="line"><a name="l03008"></a><span class="lineno"> 3008</span>&#160;</div>
<div class="line"><a name="l03009"></a><span class="lineno"> 3009</span>&#160;  <span class="comment">// find all indirectly called functions for the unused functions</span></div>
<div class="line"><a name="l03010"></a><span class="lineno"> 3010</span>&#160;  std::vector&lt;CFunction*&gt; functionsVect = <a class="code" href="../../df/d80/classCSBMLExporter.html#a6553f17e9fedbf662bb4512f15cf6216">findUsedFunctions</a>(unusedFunctions, <a class="code" href="../../d3/db1/classCCopasiRootContainer.html#afd5e8541f181260daf7515b28f0612c3">CCopasiRootContainer::getFunctionList</a>());</div>
<div class="line"><a name="l03011"></a><span class="lineno"> 3011</span>&#160;  usedFunctions.insert(usedFunctions.end(), functionsVect.begin(), functionsVect.end());</div>
<div class="line"><a name="l03012"></a><span class="lineno"> 3012</span>&#160;  <span class="comment">// reset the used functions set</span></div>
<div class="line"><a name="l03013"></a><span class="lineno"> 3013</span>&#160;  this-&gt;<a class="code" href="../../df/d80/classCSBMLExporter.html#a4d5bc6e05778ebe1653f70b2c968564e">mUsedFunctions</a>.clear();</div>
<div class="line"><a name="l03014"></a><span class="lineno"> 3014</span>&#160;  this-&gt;<a class="code" href="../../df/d80/classCSBMLExporter.html#a4d5bc6e05778ebe1653f70b2c968564e">mUsedFunctions</a>.insert(usedFunctions.begin(), usedFunctions.end());</div>
<div class="line"><a name="l03015"></a><span class="lineno"> 3015</span>&#160;</div>
<div class="line"><a name="l03016"></a><span class="lineno"> 3016</span>&#160;  <span class="comment">// now we remove the function definitions from the SBML model</span></div>
<div class="line"><a name="l03017"></a><span class="lineno"> 3017</span>&#160;  std::set&lt;std::string&gt;::iterator toRemoveIt = toRemove.begin();</div>
<div class="line"><a name="l03018"></a><span class="lineno"> 3018</span>&#160;  std::set&lt;std::string&gt;::iterator toRemoveEndit = toRemove.end();</div>
<div class="line"><a name="l03019"></a><span class="lineno"> 3019</span>&#160;</div>
<div class="line"><a name="l03020"></a><span class="lineno"> 3020</span>&#160;  <span class="keywordflow">while</span> (toRemoveIt != toRemoveEndit)</div>
<div class="line"><a name="l03021"></a><span class="lineno"> 3021</span>&#160;    {</div>
<div class="line"><a name="l03022"></a><span class="lineno"> 3022</span>&#160;      FunctionDefinition* pFunDef = pModel-&gt;getFunctionDefinition(*toRemoveIt);</div>
<div class="line"><a name="l03023"></a><span class="lineno"> 3023</span>&#160;</div>
<div class="line"><a name="l03024"></a><span class="lineno"> 3024</span>&#160;      <span class="keywordflow">if</span> (pFunDef != NULL)</div>
<div class="line"><a name="l03025"></a><span class="lineno"> 3025</span>&#160;        {</div>
<div class="line"><a name="l03026"></a><span class="lineno"> 3026</span>&#160;          mapPos = sbml2copasiMap.find(pFunDef);</div>
<div class="line"><a name="l03027"></a><span class="lineno"> 3027</span>&#160;</div>
<div class="line"><a name="l03028"></a><span class="lineno"> 3028</span>&#160;          <span class="keywordflow">if</span> (mapPos != sbml2copasiMap.end() &amp;&amp;</div>
<div class="line"><a name="l03029"></a><span class="lineno"> 3029</span>&#160;              this-&gt;<a class="code" href="../../df/d80/classCSBMLExporter.html#a4d5bc6e05778ebe1653f70b2c968564e">mUsedFunctions</a>.find(dynamic_cast&lt;CFunction*&gt;(const_cast&lt;CCopasiObject*&gt;(mapPos-&gt;second))) == this-&gt;<a class="code" href="../../df/d80/classCSBMLExporter.html#a4d5bc6e05778ebe1653f70b2c968564e">mUsedFunctions</a>.end())</div>
<div class="line"><a name="l03030"></a><span class="lineno"> 3030</span>&#160;            {</div>
<div class="line"><a name="l03031"></a><span class="lineno"> 3031</span>&#160;              pModel-&gt;getListOfFunctionDefinitions()-&gt;remove(*toRemoveIt);</div>
<div class="line"><a name="l03032"></a><span class="lineno"> 3032</span>&#160;            }</div>
<div class="line"><a name="l03033"></a><span class="lineno"> 3033</span>&#160;        }</div>
<div class="line"><a name="l03034"></a><span class="lineno"> 3034</span>&#160;</div>
<div class="line"><a name="l03035"></a><span class="lineno"> 3035</span>&#160;      ++toRemoveIt;</div>
<div class="line"><a name="l03036"></a><span class="lineno"> 3036</span>&#160;    }</div>
<div class="line"><a name="l03037"></a><span class="lineno"> 3037</span>&#160;</div>
<div class="line"><a name="l03038"></a><span class="lineno"> 3038</span>&#160;  <span class="comment">// order the remaining function definitions</span></div>
<div class="line"><a name="l03039"></a><span class="lineno"> 3039</span>&#160;  <span class="comment">// remove duplicates from the vector, always keep the last one</span></div>
<div class="line"><a name="l03040"></a><span class="lineno"> 3040</span>&#160;  std::vector&lt;CFunction*&gt;::reverse_iterator reverseIt = usedFunctions.rbegin(), reverseEndit = usedFunctions.rend();</div>
<div class="line"><a name="l03041"></a><span class="lineno"> 3041</span>&#160;  functionsVect.clear();</div>
<div class="line"><a name="l03042"></a><span class="lineno"> 3042</span>&#160;</div>
<div class="line"><a name="l03043"></a><span class="lineno"> 3043</span>&#160;  <span class="keywordflow">while</span> (reverseIt != reverseEndit)</div>
<div class="line"><a name="l03044"></a><span class="lineno"> 3044</span>&#160;    {</div>
<div class="line"><a name="l03045"></a><span class="lineno"> 3045</span>&#160;      <span class="keywordflow">if</span> (std::find(functionsVect.begin(), functionsVect.end(), *reverseIt) == functionsVect.end())</div>
<div class="line"><a name="l03046"></a><span class="lineno"> 3046</span>&#160;        {</div>
<div class="line"><a name="l03047"></a><span class="lineno"> 3047</span>&#160;          functionsVect.insert(functionsVect.begin(), *reverseIt);</div>
<div class="line"><a name="l03048"></a><span class="lineno"> 3048</span>&#160;        }</div>
<div class="line"><a name="l03049"></a><span class="lineno"> 3049</span>&#160;</div>
<div class="line"><a name="l03050"></a><span class="lineno"> 3050</span>&#160;      ++reverseIt;</div>
<div class="line"><a name="l03051"></a><span class="lineno"> 3051</span>&#160;    }</div>
<div class="line"><a name="l03052"></a><span class="lineno"> 3052</span>&#160;</div>
<div class="line"><a name="l03053"></a><span class="lineno"> 3053</span>&#160;  <span class="comment">// remove all existing function definitions from the list</span></div>
<div class="line"><a name="l03054"></a><span class="lineno"> 3054</span>&#160;  <span class="comment">// and remove their entries from the copasi2sbmlmap</span></div>
<div class="line"><a name="l03055"></a><span class="lineno"> 3055</span>&#160;  iMax = pModel-&gt;getNumFunctionDefinitions();</div>
<div class="line"><a name="l03056"></a><span class="lineno"> 3056</span>&#160;</div>
<div class="line"><a name="l03057"></a><span class="lineno"> 3057</span>&#160;  <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> i = 0; i &lt; iMax; ++i)</div>
<div class="line"><a name="l03058"></a><span class="lineno"> 3058</span>&#160;    {</div>
<div class="line"><a name="l03059"></a><span class="lineno"> 3059</span>&#160;      mapIt = this-&gt;<a class="code" href="../../df/d80/classCSBMLExporter.html#aeb19f9866a1735848770125dad2aebad">mCOPASI2SBMLMap</a>.begin();</div>
<div class="line"><a name="l03060"></a><span class="lineno"> 3060</span>&#160;      mapEndit = this-&gt;<a class="code" href="../../df/d80/classCSBMLExporter.html#aeb19f9866a1735848770125dad2aebad">mCOPASI2SBMLMap</a>.end();</div>
<div class="line"><a name="l03061"></a><span class="lineno"> 3061</span>&#160;</div>
<div class="line"><a name="l03062"></a><span class="lineno"> 3062</span>&#160;      <span class="keywordflow">while</span> (mapIt != mapEndit)</div>
<div class="line"><a name="l03063"></a><span class="lineno"> 3063</span>&#160;        {</div>
<div class="line"><a name="l03064"></a><span class="lineno"> 3064</span>&#160;          <span class="keywordflow">if</span> (mapIt-&gt;second == pModel-&gt;getFunctionDefinition(i))</div>
<div class="line"><a name="l03065"></a><span class="lineno"> 3065</span>&#160;            {</div>
<div class="line"><a name="l03066"></a><span class="lineno"> 3066</span>&#160;              this-&gt;<a class="code" href="../../df/d80/classCSBMLExporter.html#aeb19f9866a1735848770125dad2aebad">mCOPASI2SBMLMap</a>.erase(mapIt-&gt;first);</div>
<div class="line"><a name="l03067"></a><span class="lineno"> 3067</span>&#160;              <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l03068"></a><span class="lineno"> 3068</span>&#160;            }</div>
<div class="line"><a name="l03069"></a><span class="lineno"> 3069</span>&#160;</div>
<div class="line"><a name="l03070"></a><span class="lineno"> 3070</span>&#160;          ++mapIt;</div>
<div class="line"><a name="l03071"></a><span class="lineno"> 3071</span>&#160;        }</div>
<div class="line"><a name="l03072"></a><span class="lineno"> 3072</span>&#160;    }</div>
<div class="line"><a name="l03073"></a><span class="lineno"> 3073</span>&#160;</div>
<div class="line"><a name="l03074"></a><span class="lineno"> 3074</span>&#160;  <span class="comment">// don&#39;t want to remove the new custom function definitions if present</span></div>
<div class="line"><a name="l03075"></a><span class="lineno"> 3075</span>&#160;  <span class="comment">// pModel-&gt;getListOfFunctionDefinitions()-&gt;clear(true);</span></div>
<div class="line"><a name="l03076"></a><span class="lineno"> 3076</span>&#160;  <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = ((<span class="keywordtype">int</span>)pModel-&gt;getNumFunctionDefinitions()) - 1; i &gt;= 0; --i)</div>
<div class="line"><a name="l03077"></a><span class="lineno"> 3077</span>&#160;    {</div>
<div class="line"><a name="l03078"></a><span class="lineno"> 3078</span>&#160;      FunctionDefinition* current = pModel-&gt;getFunctionDefinition(i);</div>
<div class="line"><a name="l03079"></a><span class="lineno"> 3079</span>&#160;</div>
<div class="line"><a name="l03080"></a><span class="lineno"> 3080</span>&#160;      <span class="keywordflow">if</span> (current != NULL &amp;&amp;</div>
<div class="line"><a name="l03081"></a><span class="lineno"> 3081</span>&#160;          current-&gt;isSetAnnotation() &amp;&amp;</div>
<div class="line"><a name="l03082"></a><span class="lineno"> 3082</span>&#160;          current-&gt;getAnnotation()-&gt;getNumChildren() == 1 &amp;&amp;</div>
<div class="line"><a name="l03083"></a><span class="lineno"> 3083</span>&#160;          current-&gt;getAnnotation()-&gt;getChild(0).getURI().find(<span class="stringliteral">&quot;http://sbml.org/annotations/&quot;</span>) != std::string::npos)</div>
<div class="line"><a name="l03084"></a><span class="lineno"> 3084</span>&#160;        <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l03085"></a><span class="lineno"> 3085</span>&#160;</div>
<div class="line"><a name="l03086"></a><span class="lineno"> 3086</span>&#160;      <span class="comment">// if we are here it is not one of the custom ones, so delete it</span></div>
<div class="line"><a name="l03087"></a><span class="lineno"> 3087</span>&#160;      FunctionDefinition* toDelete = pModel-&gt;removeFunctionDefinition(i);</div>
<div class="line"><a name="l03088"></a><span class="lineno"> 3088</span>&#160;      <span class="keyword">delete</span> toDelete;</div>
<div class="line"><a name="l03089"></a><span class="lineno"> 3089</span>&#160;    }</div>
<div class="line"><a name="l03090"></a><span class="lineno"> 3090</span>&#160;</div>
<div class="line"><a name="l03091"></a><span class="lineno"> 3091</span>&#160;  std::vector&lt;CFunction*&gt;::iterator it = functionsVect.begin(), endit = functionsVect.end();</div>
<div class="line"><a name="l03092"></a><span class="lineno"> 3092</span>&#160;</div>
<div class="line"><a name="l03093"></a><span class="lineno"> 3093</span>&#160;  <span class="keywordflow">while</span> (it != endit)</div>
<div class="line"><a name="l03094"></a><span class="lineno"> 3094</span>&#160;    {</div>
<div class="line"><a name="l03095"></a><span class="lineno"> 3095</span>&#160;      <span class="keywordflow">if</span> (*it != NULL)</div>
<div class="line"><a name="l03096"></a><span class="lineno"> 3096</span>&#160;        {</div>
<div class="line"><a name="l03097"></a><span class="lineno"> 3097</span>&#160;          <a class="code" href="../../df/d80/classCSBMLExporter.html#abc1d139f7b654051b43958675056e34c">createFunctionDefinition</a>(**it, dataModel);</div>
<div class="line"><a name="l03098"></a><span class="lineno"> 3098</span>&#160;        }</div>
<div class="line"><a name="l03099"></a><span class="lineno"> 3099</span>&#160;</div>
<div class="line"><a name="l03100"></a><span class="lineno"> 3100</span>&#160;      ++it;</div>
<div class="line"><a name="l03101"></a><span class="lineno"> 3101</span>&#160;    }</div>
<div class="line"><a name="l03102"></a><span class="lineno"> 3102</span>&#160;}</div>
<div class="ttc" id="classCSBMLExporter_html_a6553f17e9fedbf662bb4512f15cf6216"><div class="ttname"><a href="../../df/d80/classCSBMLExporter.html#a6553f17e9fedbf662bb4512f15cf6216">CSBMLExporter::findUsedFunctions</a></div><div class="ttdeci">static const std::vector&lt; CFunction * &gt; findUsedFunctions(std::set&lt; CFunction * &gt; &amp;functions, CFunctionDB *pFunctionDB)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d2f/CSBMLExporter_8cpp_source.html#l04945">CSBMLExporter.cpp:4945</a></div></div>
<div class="ttc" id="classCSBMLExporter_html_a1541a69b36b8e864883e49f0de244f81"><div class="ttname"><a href="../../df/d80/classCSBMLExporter.html#a1541a69b36b8e864883e49f0de244f81">CSBMLExporter::mpSBMLDocument</a></div><div class="ttdeci">SBMLDocument * mpSBMLDocument</div><div class="ttdef"><b>Definition:</b> <a href="../../da/d7f/CSBMLExporter_8h_source.html#l00055">CSBMLExporter.h:55</a></div></div>
<div class="ttc" id="classCSBMLExporter_html_a18a364ee64c8bd23b9c6fa3442d4e6b1"><div class="ttname"><a href="../../df/d80/classCSBMLExporter.html#a18a364ee64c8bd23b9c6fa3442d4e6b1">CSBMLExporter::mExportedFunctions</a></div><div class="ttdeci">ListOfFunctionDefinitions mExportedFunctions</div><div class="ttdef"><b>Definition:</b> <a href="../../da/d7f/CSBMLExporter_8h_source.html#l00077">CSBMLExporter.h:77</a></div></div>
<div class="ttc" id="classCCopasiObject_html_a879d6756b51f6b58d307940e1343bd10"><div class="ttname"><a href="../../d4/da8/classCCopasiObject.html#a879d6756b51f6b58d307940e1343bd10">CCopasiObject::getObjectName</a></div><div class="ttdeci">const std::string &amp; getObjectName() const </div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d22/CCopasiObject_8cpp_source.html#l00258">CCopasiObject.cpp:258</a></div></div>
<div class="ttc" id="classCSBMLExporter_html_abc1d139f7b654051b43958675056e34c"><div class="ttname"><a href="../../df/d80/classCSBMLExporter.html#abc1d139f7b654051b43958675056e34c">CSBMLExporter::createFunctionDefinition</a></div><div class="ttdeci">void createFunctionDefinition(CFunction &amp;function, CCopasiDataModel &amp;dataModel)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d2f/CSBMLExporter_8cpp_source.html#l03107">CSBMLExporter.cpp:3107</a></div></div>
<div class="ttc" id="CCopasiMessage_8h_html_a1e835c01335d6f956a78adf106ed1b15"><div class="ttname"><a href="../../d9/d2d/CCopasiMessage_8h.html#a1e835c01335d6f956a78adf106ed1b15">fatalError</a></div><div class="ttdeci">#define fatalError()</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d2d/CCopasiMessage_8h_source.html#l00074">CCopasiMessage.h:74</a></div></div>
<div class="ttc" id="classCCopasiObject_html"><div class="ttname"><a href="../../d4/da8/classCCopasiObject.html">CCopasiObject</a></div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d9f/CCopasiObject_8h_source.html#l00216">CCopasiObject.h:216</a></div></div>
<div class="ttc" id="classCSBMLExporter_html_aa5207c45ebd8ce9bff303c680d2e535a"><div class="ttname"><a href="../../df/d80/classCSBMLExporter.html#aa5207c45ebd8ce9bff303c680d2e535a">CSBMLExporter::mFunctionMap</a></div><div class="ttdeci">std::map&lt; const FunctionDefinition *, const CCopasiObject * &gt; mFunctionMap</div><div class="ttdef"><b>Definition:</b> <a href="../../da/d7f/CSBMLExporter_8h_source.html#l00078">CSBMLExporter.h:78</a></div></div>
<div class="ttc" id="classCCopasiRootContainer_html_afd5e8541f181260daf7515b28f0612c3"><div class="ttname"><a href="../../d3/db1/classCCopasiRootContainer.html#afd5e8541f181260daf7515b28f0612c3">CCopasiRootContainer::getFunctionList</a></div><div class="ttdeci">static CFunctionDB * getFunctionList()</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/d4b/CCopasiRootContainer_8cpp_source.html#l00137">CCopasiRootContainer.cpp:137</a></div></div>
<div class="ttc" id="classCSBMLExporter_html_aeb19f9866a1735848770125dad2aebad"><div class="ttname"><a href="../../df/d80/classCSBMLExporter.html#aeb19f9866a1735848770125dad2aebad">CSBMLExporter::mCOPASI2SBMLMap</a></div><div class="ttdeci">std::map&lt; const CCopasiObject *, SBase * &gt; mCOPASI2SBMLMap</div><div class="ttdef"><b>Definition:</b> <a href="../../da/d7f/CSBMLExporter_8h_source.html#l00061">CSBMLExporter.h:61</a></div></div>
<div class="ttc" id="classCFunction_html"><div class="ttname"><a href="../../d9/d86/classCFunction.html">CFunction</a></div><div class="ttdoc">The class for handling a chemical kinetic function. </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/df5/CFunction_8h_source.html#l00029">CFunction.h:29</a></div></div>
<div class="ttc" id="classCSBMLExporter_html_a4d5bc6e05778ebe1653f70b2c968564e"><div class="ttname"><a href="../../df/d80/classCSBMLExporter.html#a4d5bc6e05778ebe1653f70b2c968564e">CSBMLExporter::mUsedFunctions</a></div><div class="ttdeci">std::set&lt; CFunction * &gt; mUsedFunctions</div><div class="ttdef"><b>Definition:</b> <a href="../../da/d7f/CSBMLExporter_8h_source.html#l00063">CSBMLExporter.h:63</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a6dcd463b48c53c136e6c1af5b22251f2"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const std::set&lt; <a class="el" href="../../d9/d86/classCFunction.html">CFunction</a> * &gt; CSBMLExporter::createFunctionSetFromFunctionNames </td>
          <td>(</td>
          <td class="paramtype">const std::set&lt; std::string &gt; &amp;&#160;</td>
          <td class="paramname"><em>names</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../db/d9a/classCFunctionDB.html">CFunctionDB</a> *&#160;</td>
          <td class="paramname"><em>pFunDB</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="../../d5/d2f/CSBMLExporter_8cpp_source.html#l05054">5054</a> of file <a class="el" href="../../d5/d2f/CSBMLExporter_8cpp_source.html">CSBMLExporter.cpp</a>.</p>

<p>References <a class="el" href="../../d2/df0/classCCopasiMessage.html#a2ea1ed32494ff5c8d84353efcec7a5e4a26a213bf509c2f6ee21982b4f7a18505">CCopasiMessage::ERROR</a>, <a class="el" href="../../db/d9a/classCFunctionDB.html#aa25aabb5ce2677103813278c014e06fb">CFunctionDB::findFunction()</a>, and <a class="el" href="../../d9/d2d/CCopasiMessage_8h.html#a7f5ce9c8d3812b45cb6f33595fba5789">MCSBML</a>.</p>

<p>Referenced by <a class="el" href="../../df/d80/classCSBMLExporter.html#aeeac4e8650cfa507c42df9f0eae46474">checkForPiecewiseFunctions()</a>, <a class="el" href="../../df/d80/classCSBMLExporter.html#a79ba15ac876b6354e2aaff763b8a7c86">createEvent()</a>, <a class="el" href="../../df/d80/classCSBMLExporter.html#a2f052fa99d8b6695c0b7cf12d21f7833">createInitialAssignment()</a>, <a class="el" href="../../df/d80/classCSBMLExporter.html#a4e1fa35c0f3497f349b03147eb7326f0">createRule()</a>, <a class="el" href="../../df/d80/classCSBMLExporter.html#aefbd6278e618486186192aff4bdff76e">exportEventAssignments()</a>, and <a class="el" href="../../df/d80/classCSBMLExporter.html#a6553f17e9fedbf662bb4512f15cf6216">findUsedFunctions()</a>.</p>
<div class="fragment"><div class="line"><a name="l05055"></a><span class="lineno"> 5055</span>&#160;{</div>
<div class="line"><a name="l05056"></a><span class="lineno"> 5056</span>&#160;  std::set&lt;CFunction*&gt; result;</div>
<div class="line"><a name="l05057"></a><span class="lineno"> 5057</span>&#160;</div>
<div class="line"><a name="l05058"></a><span class="lineno"> 5058</span>&#160;  <span class="keywordflow">if</span> (pFunDB != NULL)</div>
<div class="line"><a name="l05059"></a><span class="lineno"> 5059</span>&#160;    {</div>
<div class="line"><a name="l05060"></a><span class="lineno"> 5060</span>&#160;      std::set&lt;std::string&gt;::const_iterator it = names.begin();</div>
<div class="line"><a name="l05061"></a><span class="lineno"> 5061</span>&#160;      std::set&lt;std::string&gt;::const_iterator endit = names.end();</div>
<div class="line"><a name="l05062"></a><span class="lineno"> 5062</span>&#160;      <a class="code" href="../../d9/d86/classCFunction.html">CFunction</a>* pFun = NULL;</div>
<div class="line"><a name="l05063"></a><span class="lineno"> 5063</span>&#160;</div>
<div class="line"><a name="l05064"></a><span class="lineno"> 5064</span>&#160;      <span class="keywordflow">while</span> (it != endit)</div>
<div class="line"><a name="l05065"></a><span class="lineno"> 5065</span>&#160;        {</div>
<div class="line"><a name="l05066"></a><span class="lineno"> 5066</span>&#160;          pFun = <span class="keyword">dynamic_cast&lt;</span><a class="code" href="../../d9/d86/classCFunction.html">CFunction</a>*<span class="keyword">&gt;</span>(pFunDB-&gt;<a class="code" href="../../db/d9a/classCFunctionDB.html#aa25aabb5ce2677103813278c014e06fb">findFunction</a>(*it));</div>
<div class="line"><a name="l05067"></a><span class="lineno"> 5067</span>&#160;</div>
<div class="line"><a name="l05068"></a><span class="lineno"> 5068</span>&#160;          <span class="keywordflow">if</span> (pFun == NULL)</div>
<div class="line"><a name="l05069"></a><span class="lineno"> 5069</span>&#160;            {</div>
<div class="line"><a name="l05070"></a><span class="lineno"> 5070</span>&#160;              <a class="code" href="../../d2/df0/classCCopasiMessage.html">CCopasiMessage</a>(<a class="code" href="../../d2/df0/classCCopasiMessage.html#a2ea1ed32494ff5c8d84353efcec7a5e4a26a213bf509c2f6ee21982b4f7a18505">CCopasiMessage::ERROR</a>, <a class="code" href="../../d9/d2d/CCopasiMessage_8h.html#a7f5ce9c8d3812b45cb6f33595fba5789">MCSBML</a> + 15, (*it).c_str());</div>
<div class="line"><a name="l05071"></a><span class="lineno"> 5071</span>&#160;            }</div>
<div class="line"><a name="l05072"></a><span class="lineno"> 5072</span>&#160;          <span class="keywordflow">else</span></div>
<div class="line"><a name="l05073"></a><span class="lineno"> 5073</span>&#160;            {</div>
<div class="line"><a name="l05074"></a><span class="lineno"> 5074</span>&#160;              result.insert(pFun);</div>
<div class="line"><a name="l05075"></a><span class="lineno"> 5075</span>&#160;            }</div>
<div class="line"><a name="l05076"></a><span class="lineno"> 5076</span>&#160;</div>
<div class="line"><a name="l05077"></a><span class="lineno"> 5077</span>&#160;          ++it;</div>
<div class="line"><a name="l05078"></a><span class="lineno"> 5078</span>&#160;        }</div>
<div class="line"><a name="l05079"></a><span class="lineno"> 5079</span>&#160;    }</div>
<div class="line"><a name="l05080"></a><span class="lineno"> 5080</span>&#160;</div>
<div class="line"><a name="l05081"></a><span class="lineno"> 5081</span>&#160;  <span class="keywordflow">return</span> result;</div>
<div class="line"><a name="l05082"></a><span class="lineno"> 5082</span>&#160;}</div>
<div class="ttc" id="CCopasiMessage_8h_html_a7f5ce9c8d3812b45cb6f33595fba5789"><div class="ttname"><a href="../../d9/d2d/CCopasiMessage_8h.html#a7f5ce9c8d3812b45cb6f33595fba5789">MCSBML</a></div><div class="ttdeci">#define MCSBML</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d2d/CCopasiMessage_8h_source.html#l00046">CCopasiMessage.h:46</a></div></div>
<div class="ttc" id="classCCopasiMessage_html_a2ea1ed32494ff5c8d84353efcec7a5e4a26a213bf509c2f6ee21982b4f7a18505"><div class="ttname"><a href="../../d2/df0/classCCopasiMessage.html#a2ea1ed32494ff5c8d84353efcec7a5e4a26a213bf509c2f6ee21982b4f7a18505">CCopasiMessage::ERROR</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d2d/CCopasiMessage_8h_source.html#l00092">CCopasiMessage.h:92</a></div></div>
<div class="ttc" id="classCCopasiMessage_html"><div class="ttname"><a href="../../d2/df0/classCCopasiMessage.html">CCopasiMessage</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d2d/CCopasiMessage_8h_source.html#l00078">CCopasiMessage.h:78</a></div></div>
<div class="ttc" id="classCFunction_html"><div class="ttname"><a href="../../d9/d86/classCFunction.html">CFunction</a></div><div class="ttdoc">The class for handling a chemical kinetic function. </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/df5/CFunction_8h_source.html#l00029">CFunction.h:29</a></div></div>
<div class="ttc" id="classCFunctionDB_html_aa25aabb5ce2677103813278c014e06fb"><div class="ttname"><a href="../../db/d9a/classCFunctionDB.html#aa25aabb5ce2677103813278c014e06fb">CFunctionDB::findFunction</a></div><div class="ttdeci">CFunction * findFunction(const std::string &amp;functionName)</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/df1/CFunctionDB_8cpp_source.html#l00325">CFunctionDB.cpp:325</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a8eae5817343af6b386faedbc04342ec5"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const std::map&lt; std::string, const SBase * &gt; CSBMLExporter::createIdMap </td>
          <td>(</td>
          <td class="paramtype">const Model &amp;&#160;</td>
          <td class="paramname"><em>sbmlModel</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Goes through the given SBML model and puts all ids with the corresponding object into a map. </p>

<p>Definition at line <a class="el" href="../../d5/d2f/CSBMLExporter_8cpp_source.html#l02075">2075</a> of file <a class="el" href="../../d5/d2f/CSBMLExporter_8cpp_source.html">CSBMLExporter.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l02076"></a><span class="lineno"> 2076</span>&#160;{</div>
<div class="line"><a name="l02077"></a><span class="lineno"> 2077</span>&#160;  <span class="comment">// go through all function definitions, compartments, species, reactions,</span></div>
<div class="line"><a name="l02078"></a><span class="lineno"> 2078</span>&#160;  <span class="comment">// parameters and events and create a set with all used ids.</span></div>
<div class="line"><a name="l02079"></a><span class="lineno"> 2079</span>&#160;  std::map&lt;std::string, const SBase*&gt; idMap;</div>
<div class="line"><a name="l02080"></a><span class="lineno"> 2080</span>&#160;  <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> i, iMax;</div>
<div class="line"><a name="l02081"></a><span class="lineno"> 2081</span>&#160;</div>
<div class="line"><a name="l02082"></a><span class="lineno"> 2082</span>&#160;  <span class="keywordflow">if</span> (sbmlModel.isSetId())</div>
<div class="line"><a name="l02083"></a><span class="lineno"> 2083</span>&#160;    {</div>
<div class="line"><a name="l02084"></a><span class="lineno"> 2084</span>&#160;      idMap.insert(std::pair&lt;const std::string, const SBase*&gt;(sbmlModel.getId(), &amp;sbmlModel));</div>
<div class="line"><a name="l02085"></a><span class="lineno"> 2085</span>&#160;    }</div>
<div class="line"><a name="l02086"></a><span class="lineno"> 2086</span>&#160;</div>
<div class="line"><a name="l02087"></a><span class="lineno"> 2087</span>&#160;  <span class="keywordflow">if</span> (sbmlModel.getListOfFunctionDefinitions()-&gt;isSetId())</div>
<div class="line"><a name="l02088"></a><span class="lineno"> 2088</span>&#160;    {</div>
<div class="line"><a name="l02089"></a><span class="lineno"> 2089</span>&#160;      idMap.insert(std::pair&lt;const std::string, const SBase*&gt;(sbmlModel.getListOfFunctionDefinitions()-&gt;getId(), sbmlModel.getListOfFunctionDefinitions()));</div>
<div class="line"><a name="l02090"></a><span class="lineno"> 2090</span>&#160;    }</div>
<div class="line"><a name="l02091"></a><span class="lineno"> 2091</span>&#160;</div>
<div class="line"><a name="l02092"></a><span class="lineno"> 2092</span>&#160;  iMax = sbmlModel.getNumFunctionDefinitions();</div>
<div class="line"><a name="l02093"></a><span class="lineno"> 2093</span>&#160;</div>
<div class="line"><a name="l02094"></a><span class="lineno"> 2094</span>&#160;  <span class="keywordflow">for</span> (i = 0; i &lt; iMax; ++i)</div>
<div class="line"><a name="l02095"></a><span class="lineno"> 2095</span>&#160;    {</div>
<div class="line"><a name="l02096"></a><span class="lineno"> 2096</span>&#160;      idMap.insert(std::pair&lt;const std::string, const SBase*&gt;(sbmlModel.getFunctionDefinition(i)-&gt;getId(), sbmlModel.getFunctionDefinition(i)));</div>
<div class="line"><a name="l02097"></a><span class="lineno"> 2097</span>&#160;    }</div>
<div class="line"><a name="l02098"></a><span class="lineno"> 2098</span>&#160;</div>
<div class="line"><a name="l02099"></a><span class="lineno"> 2099</span>&#160;  <span class="keywordflow">if</span> (sbmlModel.getListOfCompartments()-&gt;isSetId())</div>
<div class="line"><a name="l02100"></a><span class="lineno"> 2100</span>&#160;    {</div>
<div class="line"><a name="l02101"></a><span class="lineno"> 2101</span>&#160;      idMap.insert(std::pair&lt;const std::string, const SBase*&gt;(sbmlModel.getListOfCompartments()-&gt;getId(), sbmlModel.getListOfCompartments()));</div>
<div class="line"><a name="l02102"></a><span class="lineno"> 2102</span>&#160;    }</div>
<div class="line"><a name="l02103"></a><span class="lineno"> 2103</span>&#160;</div>
<div class="line"><a name="l02104"></a><span class="lineno"> 2104</span>&#160;  iMax = sbmlModel.getNumCompartments();</div>
<div class="line"><a name="l02105"></a><span class="lineno"> 2105</span>&#160;</div>
<div class="line"><a name="l02106"></a><span class="lineno"> 2106</span>&#160;  <span class="keywordflow">for</span> (i = 0; i &lt; iMax; ++i)</div>
<div class="line"><a name="l02107"></a><span class="lineno"> 2107</span>&#160;    {</div>
<div class="line"><a name="l02108"></a><span class="lineno"> 2108</span>&#160;      idMap.insert(std::pair&lt;const std::string, const SBase*&gt;(sbmlModel.getCompartment(i)-&gt;getId(), sbmlModel.getCompartment(i)));</div>
<div class="line"><a name="l02109"></a><span class="lineno"> 2109</span>&#160;    }</div>
<div class="line"><a name="l02110"></a><span class="lineno"> 2110</span>&#160;</div>
<div class="line"><a name="l02111"></a><span class="lineno"> 2111</span>&#160;  <span class="keywordflow">if</span> (sbmlModel.getListOfSpecies()-&gt;isSetId())</div>
<div class="line"><a name="l02112"></a><span class="lineno"> 2112</span>&#160;    {</div>
<div class="line"><a name="l02113"></a><span class="lineno"> 2113</span>&#160;      idMap.insert(std::pair&lt;const std::string, const SBase*&gt;(sbmlModel.getListOfSpecies()-&gt;getId(), sbmlModel.getListOfSpecies()));</div>
<div class="line"><a name="l02114"></a><span class="lineno"> 2114</span>&#160;    }</div>
<div class="line"><a name="l02115"></a><span class="lineno"> 2115</span>&#160;</div>
<div class="line"><a name="l02116"></a><span class="lineno"> 2116</span>&#160;  iMax = sbmlModel.getNumSpecies();</div>
<div class="line"><a name="l02117"></a><span class="lineno"> 2117</span>&#160;</div>
<div class="line"><a name="l02118"></a><span class="lineno"> 2118</span>&#160;  <span class="keywordflow">for</span> (i = 0; i &lt; iMax; ++i)</div>
<div class="line"><a name="l02119"></a><span class="lineno"> 2119</span>&#160;    {</div>
<div class="line"><a name="l02120"></a><span class="lineno"> 2120</span>&#160;      idMap.insert(std::pair&lt;const std::string, const SBase*&gt;(sbmlModel.getSpecies(i)-&gt;getId(), sbmlModel.getSpecies(i)));</div>
<div class="line"><a name="l02121"></a><span class="lineno"> 2121</span>&#160;    }</div>
<div class="line"><a name="l02122"></a><span class="lineno"> 2122</span>&#160;</div>
<div class="line"><a name="l02123"></a><span class="lineno"> 2123</span>&#160;  <span class="keywordflow">if</span> (sbmlModel.getListOfParameters()-&gt;isSetId())</div>
<div class="line"><a name="l02124"></a><span class="lineno"> 2124</span>&#160;    {</div>
<div class="line"><a name="l02125"></a><span class="lineno"> 2125</span>&#160;      idMap.insert(std::pair&lt;const std::string, const SBase*&gt;(sbmlModel.getListOfParameters()-&gt;getId(), sbmlModel.getListOfParameters()));</div>
<div class="line"><a name="l02126"></a><span class="lineno"> 2126</span>&#160;    }</div>
<div class="line"><a name="l02127"></a><span class="lineno"> 2127</span>&#160;</div>
<div class="line"><a name="l02128"></a><span class="lineno"> 2128</span>&#160;  iMax = sbmlModel.getNumParameters();</div>
<div class="line"><a name="l02129"></a><span class="lineno"> 2129</span>&#160;</div>
<div class="line"><a name="l02130"></a><span class="lineno"> 2130</span>&#160;  <span class="keywordflow">for</span> (i = 0; i &lt; iMax; ++i)</div>
<div class="line"><a name="l02131"></a><span class="lineno"> 2131</span>&#160;    {</div>
<div class="line"><a name="l02132"></a><span class="lineno"> 2132</span>&#160;      idMap.insert(std::pair&lt;const std::string, const SBase*&gt;(sbmlModel.getParameter(i)-&gt;getId(), sbmlModel.getParameter(i)));</div>
<div class="line"><a name="l02133"></a><span class="lineno"> 2133</span>&#160;    }</div>
<div class="line"><a name="l02134"></a><span class="lineno"> 2134</span>&#160;</div>
<div class="line"><a name="l02135"></a><span class="lineno"> 2135</span>&#160;  <span class="keywordflow">if</span> (sbmlModel.getListOfReactions()-&gt;isSetId())</div>
<div class="line"><a name="l02136"></a><span class="lineno"> 2136</span>&#160;    {</div>
<div class="line"><a name="l02137"></a><span class="lineno"> 2137</span>&#160;      idMap.insert(std::pair&lt;const std::string, const SBase*&gt;(sbmlModel.getListOfReactions()-&gt;getId(), sbmlModel.getListOfReactions()));</div>
<div class="line"><a name="l02138"></a><span class="lineno"> 2138</span>&#160;    }</div>
<div class="line"><a name="l02139"></a><span class="lineno"> 2139</span>&#160;</div>
<div class="line"><a name="l02140"></a><span class="lineno"> 2140</span>&#160;  iMax = sbmlModel.getNumReactions();</div>
<div class="line"><a name="l02141"></a><span class="lineno"> 2141</span>&#160;</div>
<div class="line"><a name="l02142"></a><span class="lineno"> 2142</span>&#160;  <span class="keywordflow">for</span> (i = 0; i &lt; iMax; ++i)</div>
<div class="line"><a name="l02143"></a><span class="lineno"> 2143</span>&#160;    {</div>
<div class="line"><a name="l02144"></a><span class="lineno"> 2144</span>&#160;      <span class="keyword">const</span> Reaction* pReaction = sbmlModel.getReaction(i);</div>
<div class="line"><a name="l02145"></a><span class="lineno"> 2145</span>&#160;</div>
<div class="line"><a name="l02146"></a><span class="lineno"> 2146</span>&#160;      <span class="keywordflow">if</span> (pReaction != NULL)</div>
<div class="line"><a name="l02147"></a><span class="lineno"> 2147</span>&#160;        {</div>
<div class="line"><a name="l02148"></a><span class="lineno"> 2148</span>&#160;          idMap.insert(std::pair&lt;const std::string, const SBase*&gt;(pReaction-&gt;getId(), pReaction));</div>
<div class="line"><a name="l02149"></a><span class="lineno"> 2149</span>&#160;</div>
<div class="line"><a name="l02150"></a><span class="lineno"> 2150</span>&#160;          <span class="keywordflow">if</span> (pReaction-&gt;getListOfReactants()-&gt;isSetId())</div>
<div class="line"><a name="l02151"></a><span class="lineno"> 2151</span>&#160;            {</div>
<div class="line"><a name="l02152"></a><span class="lineno"> 2152</span>&#160;              idMap.insert(std::pair&lt;const std::string, const SBase*&gt;(pReaction-&gt;getListOfReactants()-&gt;getId(), pReaction-&gt;getListOfReactants()));</div>
<div class="line"><a name="l02153"></a><span class="lineno"> 2153</span>&#160;            }</div>
<div class="line"><a name="l02154"></a><span class="lineno"> 2154</span>&#160;</div>
<div class="line"><a name="l02155"></a><span class="lineno"> 2155</span>&#160;          <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> j, jMax = pReaction-&gt;getNumReactants();</div>
<div class="line"><a name="l02156"></a><span class="lineno"> 2156</span>&#160;          <span class="keyword">const</span> SpeciesReference* pSRef = NULL;</div>
<div class="line"><a name="l02157"></a><span class="lineno"> 2157</span>&#160;</div>
<div class="line"><a name="l02158"></a><span class="lineno"> 2158</span>&#160;          <span class="keywordflow">for</span> (j = 0; j &lt; jMax; ++j)</div>
<div class="line"><a name="l02159"></a><span class="lineno"> 2159</span>&#160;            {</div>
<div class="line"><a name="l02160"></a><span class="lineno"> 2160</span>&#160;              pSRef = pReaction-&gt;getReactant(j);</div>
<div class="line"><a name="l02161"></a><span class="lineno"> 2161</span>&#160;</div>
<div class="line"><a name="l02162"></a><span class="lineno"> 2162</span>&#160;              <span class="keywordflow">if</span> (pSRef-&gt;isSetId())</div>
<div class="line"><a name="l02163"></a><span class="lineno"> 2163</span>&#160;                {</div>
<div class="line"><a name="l02164"></a><span class="lineno"> 2164</span>&#160;                  idMap.insert(std::pair&lt;const std::string, const SBase*&gt;(pSRef-&gt;getId(), pSRef));</div>
<div class="line"><a name="l02165"></a><span class="lineno"> 2165</span>&#160;                }</div>
<div class="line"><a name="l02166"></a><span class="lineno"> 2166</span>&#160;            }</div>
<div class="line"><a name="l02167"></a><span class="lineno"> 2167</span>&#160;</div>
<div class="line"><a name="l02168"></a><span class="lineno"> 2168</span>&#160;          <span class="keywordflow">if</span> (pReaction-&gt;getListOfProducts()-&gt;isSetId())</div>
<div class="line"><a name="l02169"></a><span class="lineno"> 2169</span>&#160;            {</div>
<div class="line"><a name="l02170"></a><span class="lineno"> 2170</span>&#160;              idMap.insert(std::pair&lt;const std::string, const SBase*&gt;(pReaction-&gt;getListOfProducts()-&gt;getId(), pReaction-&gt;getListOfProducts()));</div>
<div class="line"><a name="l02171"></a><span class="lineno"> 2171</span>&#160;            }</div>
<div class="line"><a name="l02172"></a><span class="lineno"> 2172</span>&#160;</div>
<div class="line"><a name="l02173"></a><span class="lineno"> 2173</span>&#160;          jMax = pReaction-&gt;getNumProducts();</div>
<div class="line"><a name="l02174"></a><span class="lineno"> 2174</span>&#160;</div>
<div class="line"><a name="l02175"></a><span class="lineno"> 2175</span>&#160;          <span class="keywordflow">for</span> (j = 0; j &lt; jMax; ++j)</div>
<div class="line"><a name="l02176"></a><span class="lineno"> 2176</span>&#160;            {</div>
<div class="line"><a name="l02177"></a><span class="lineno"> 2177</span>&#160;              pSRef = pReaction-&gt;getProduct(j);</div>
<div class="line"><a name="l02178"></a><span class="lineno"> 2178</span>&#160;</div>
<div class="line"><a name="l02179"></a><span class="lineno"> 2179</span>&#160;              <span class="keywordflow">if</span> (pSRef-&gt;isSetId())</div>
<div class="line"><a name="l02180"></a><span class="lineno"> 2180</span>&#160;                {</div>
<div class="line"><a name="l02181"></a><span class="lineno"> 2181</span>&#160;                  idMap.insert(std::pair&lt;const std::string, const SBase*&gt;(pSRef-&gt;getId(), pSRef));</div>
<div class="line"><a name="l02182"></a><span class="lineno"> 2182</span>&#160;                }</div>
<div class="line"><a name="l02183"></a><span class="lineno"> 2183</span>&#160;            }</div>
<div class="line"><a name="l02184"></a><span class="lineno"> 2184</span>&#160;</div>
<div class="line"><a name="l02185"></a><span class="lineno"> 2185</span>&#160;          <span class="keywordflow">if</span> (pReaction-&gt;getListOfModifiers()-&gt;isSetId())</div>
<div class="line"><a name="l02186"></a><span class="lineno"> 2186</span>&#160;            {</div>
<div class="line"><a name="l02187"></a><span class="lineno"> 2187</span>&#160;              idMap.insert(std::pair&lt;const std::string, const SBase*&gt;(pReaction-&gt;getListOfModifiers()-&gt;getId(), pReaction-&gt;getListOfModifiers()));</div>
<div class="line"><a name="l02188"></a><span class="lineno"> 2188</span>&#160;            }</div>
<div class="line"><a name="l02189"></a><span class="lineno"> 2189</span>&#160;</div>
<div class="line"><a name="l02190"></a><span class="lineno"> 2190</span>&#160;          jMax = pReaction-&gt;getNumModifiers();</div>
<div class="line"><a name="l02191"></a><span class="lineno"> 2191</span>&#160;          <span class="keyword">const</span> ModifierSpeciesReference* pModSRef;</div>
<div class="line"><a name="l02192"></a><span class="lineno"> 2192</span>&#160;</div>
<div class="line"><a name="l02193"></a><span class="lineno"> 2193</span>&#160;          <span class="keywordflow">for</span> (j = 0; j &lt; jMax; ++j)</div>
<div class="line"><a name="l02194"></a><span class="lineno"> 2194</span>&#160;            {</div>
<div class="line"><a name="l02195"></a><span class="lineno"> 2195</span>&#160;              pModSRef = pReaction-&gt;getModifier(j);</div>
<div class="line"><a name="l02196"></a><span class="lineno"> 2196</span>&#160;</div>
<div class="line"><a name="l02197"></a><span class="lineno"> 2197</span>&#160;              <span class="keywordflow">if</span> (pModSRef-&gt;isSetId())</div>
<div class="line"><a name="l02198"></a><span class="lineno"> 2198</span>&#160;                {</div>
<div class="line"><a name="l02199"></a><span class="lineno"> 2199</span>&#160;                  idMap.insert(std::pair&lt;const std::string, const SBase*&gt;(pModSRef-&gt;getId(), pModSRef));</div>
<div class="line"><a name="l02200"></a><span class="lineno"> 2200</span>&#160;                }</div>
<div class="line"><a name="l02201"></a><span class="lineno"> 2201</span>&#160;            }</div>
<div class="line"><a name="l02202"></a><span class="lineno"> 2202</span>&#160;        }</div>
<div class="line"><a name="l02203"></a><span class="lineno"> 2203</span>&#160;    }</div>
<div class="line"><a name="l02204"></a><span class="lineno"> 2204</span>&#160;</div>
<div class="line"><a name="l02205"></a><span class="lineno"> 2205</span>&#160;  <span class="keywordflow">if</span> (sbmlModel.getListOfEvents()-&gt;isSetId())</div>
<div class="line"><a name="l02206"></a><span class="lineno"> 2206</span>&#160;    {</div>
<div class="line"><a name="l02207"></a><span class="lineno"> 2207</span>&#160;      idMap.insert(std::pair&lt;const std::string, const SBase*&gt;(sbmlModel.getListOfEvents()-&gt;getId(), sbmlModel.getListOfEvents()));</div>
<div class="line"><a name="l02208"></a><span class="lineno"> 2208</span>&#160;    }</div>
<div class="line"><a name="l02209"></a><span class="lineno"> 2209</span>&#160;</div>
<div class="line"><a name="l02210"></a><span class="lineno"> 2210</span>&#160;  iMax = sbmlModel.getNumEvents();</div>
<div class="line"><a name="l02211"></a><span class="lineno"> 2211</span>&#160;</div>
<div class="line"><a name="l02212"></a><span class="lineno"> 2212</span>&#160;  <span class="keywordflow">for</span> (i = 0; i &lt; iMax; ++i)</div>
<div class="line"><a name="l02213"></a><span class="lineno"> 2213</span>&#160;    {</div>
<div class="line"><a name="l02214"></a><span class="lineno"> 2214</span>&#160;      idMap.insert(std::pair&lt;const std::string, const SBase*&gt;(sbmlModel.getEvent(i)-&gt;getId(), sbmlModel.getEvent(i)));</div>
<div class="line"><a name="l02215"></a><span class="lineno"> 2215</span>&#160;    }</div>
<div class="line"><a name="l02216"></a><span class="lineno"> 2216</span>&#160;</div>
<div class="line"><a name="l02217"></a><span class="lineno"> 2217</span>&#160;  <span class="comment">// if COPASI is compiled with layout, we have to add those ids as well</span></div>
<div class="line"><a name="l02218"></a><span class="lineno"> 2218</span>&#160;  <span class="keyword">const</span> LayoutModelPlugin* lmPlugin = (LayoutModelPlugin*)sbmlModel.getPlugin(<span class="stringliteral">&quot;layout&quot;</span>);</div>
<div class="line"><a name="l02219"></a><span class="lineno"> 2219</span>&#160;</div>
<div class="line"><a name="l02220"></a><span class="lineno"> 2220</span>&#160;  <span class="keywordflow">if</span> (lmPlugin != NULL)</div>
<div class="line"><a name="l02221"></a><span class="lineno"> 2221</span>&#160;    {</div>
<div class="line"><a name="l02222"></a><span class="lineno"> 2222</span>&#160;      <span class="keywordflow">if</span> (lmPlugin-&gt;getListOfLayouts()-&gt;isSetId())</div>
<div class="line"><a name="l02223"></a><span class="lineno"> 2223</span>&#160;        {</div>
<div class="line"><a name="l02224"></a><span class="lineno"> 2224</span>&#160;          idMap.insert(std::pair&lt;const std::string, const SBase*&gt;(lmPlugin-&gt;getListOfLayouts()-&gt;getId(), lmPlugin-&gt;getListOfLayouts()));</div>
<div class="line"><a name="l02225"></a><span class="lineno"> 2225</span>&#160;        }</div>
<div class="line"><a name="l02226"></a><span class="lineno"> 2226</span>&#160;</div>
<div class="line"><a name="l02227"></a><span class="lineno"> 2227</span>&#160;      iMax = lmPlugin-&gt;getListOfLayouts()-&gt;size();</div>
<div class="line"><a name="l02228"></a><span class="lineno"> 2228</span>&#160;</div>
<div class="line"><a name="l02229"></a><span class="lineno"> 2229</span>&#160;      <span class="keywordflow">for</span> (i = 0; i &lt; iMax; ++i)</div>
<div class="line"><a name="l02230"></a><span class="lineno"> 2230</span>&#160;        {</div>
<div class="line"><a name="l02231"></a><span class="lineno"> 2231</span>&#160;          <span class="keyword">const</span> Layout* pLayout = lmPlugin-&gt;getLayout(i);</div>
<div class="line"><a name="l02232"></a><span class="lineno"> 2232</span>&#160;</div>
<div class="line"><a name="l02233"></a><span class="lineno"> 2233</span>&#160;          <span class="keywordflow">if</span> (pLayout != NULL)</div>
<div class="line"><a name="l02234"></a><span class="lineno"> 2234</span>&#160;            {</div>
<div class="line"><a name="l02235"></a><span class="lineno"> 2235</span>&#160;              <span class="keywordflow">if</span> (pLayout-&gt;isSetId())</div>
<div class="line"><a name="l02236"></a><span class="lineno"> 2236</span>&#160;                {</div>
<div class="line"><a name="l02237"></a><span class="lineno"> 2237</span>&#160;                  idMap.insert(std::pair&lt;const std::string, const SBase*&gt;(pLayout-&gt;getId(), pLayout));</div>
<div class="line"><a name="l02238"></a><span class="lineno"> 2238</span>&#160;                }</div>
<div class="line"><a name="l02239"></a><span class="lineno"> 2239</span>&#160;            }</div>
<div class="line"><a name="l02240"></a><span class="lineno"> 2240</span>&#160;        }</div>
<div class="line"><a name="l02241"></a><span class="lineno"> 2241</span>&#160;    }</div>
<div class="line"><a name="l02242"></a><span class="lineno"> 2242</span>&#160;</div>
<div class="line"><a name="l02243"></a><span class="lineno"> 2243</span>&#160;  <span class="keywordflow">return</span> idMap;</div>
<div class="line"><a name="l02244"></a><span class="lineno"> 2244</span>&#160;}</div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a2f052fa99d8b6695c0b7cf12d21f7833"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d3/d05/CChemEqParser__yacc_8cpp.html#aa76fec002b4ba91adc88f68d56ba730c">void</a> CSBMLExporter::createInitialAssignment </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="../../d0/da0/classCModelEntity.html">CModelEntity</a> &amp;&#160;</td>
          <td class="paramname"><em>modelEntity</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d4/d18/classCCopasiDataModel.html">CCopasiDataModel</a> &amp;&#160;</td>
          <td class="paramname"><em>dataModel</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Creates the initial assignment for the given COPASI model entity. </p>

<p>Definition at line <a class="el" href="../../d5/d2f/CSBMLExporter_8cpp_source.html#l01673">1673</a> of file <a class="el" href="../../d5/d2f/CSBMLExporter_8cpp_source.html">CSBMLExporter.cpp</a>.</p>

<p>References <a class="el" href="../../df/d80/classCSBMLExporter.html#ac61681ecd68ba2288e21ff1584ad20af">convertToASTNode()</a>, <a class="el" href="../../df/d80/classCSBMLExporter.html#a6dcd463b48c53c136e6c1af5b22251f2">createFunctionSetFromFunctionNames()</a>, <a class="el" href="../../d2/df0/classCCopasiMessage.html#a2ea1ed32494ff5c8d84353efcec7a5e4a568f885d73f0ea36bedfe92f6e533071">CCopasiMessage::EXCEPTION</a>, <a class="el" href="../../df/d80/classCSBMLExporter.html#aa843eb9b5d1ae41d5dd2be78a864f2d5">findDirectlyUsedFunctions()</a>, <a class="el" href="../../dc/d44/classCMetab.html#a9774853fea3fd6c9b15ecd26df7ab349">CMetab::getCompartment()</a>, <a class="el" href="../../d4/dd4/classCCompartment.html#a977268782cb7d6cd7a01cab642b45c09">CCompartment::getDimensionality()</a>, <a class="el" href="../../d3/db1/classCCopasiRootContainer.html#afd5e8541f181260daf7515b28f0612c3">CCopasiRootContainer::getFunctionList()</a>, <a class="el" href="../../d0/da0/classCModelEntity.html#a81973823a591e58112161570d7abac10">CModelEntity::getInitialExpressionPtr()</a>, <a class="el" href="../../d0/da0/classCModelEntity.html#a39df6ef8194ede615a3f12a94a04a31a">CModelEntity::getInitialValueReference()</a>, <a class="el" href="../../d4/da8/classCCopasiObject.html#a879d6756b51f6b58d307940e1343bd10">CCopasiObject::getObjectName()</a>, <a class="el" href="../../d4/da8/classCCopasiObject.html#a56790cb06e1980712599250f3e695c6a">CCopasiObject::getObjectType()</a>, <a class="el" href="../../d1/d50/classCEvaluationTree.html#a542e592cb978819d30a6da627411ba91">CEvaluationTree::getRoot()</a>, <a class="el" href="../../d0/da0/classCModelEntity.html#a5c8d403c6027f59d1cc3e1ccc2d9efac">CModelEntity::getSBMLId()</a>, <a class="el" href="../../d8/d9f/classCEvaluationNode.html#ae24b55d848d78cec0a359fd199c76562">CEvaluationNode::getType()</a>, <a class="el" href="../../d8/d9f/classCEvaluationNode.html#aeef59b7ae37d1323a4900e5d19140491a7492325b731420bde92a0fa2620dde0c">CEvaluationNode::INVALID</a>, <a class="el" href="../../df/d80/classCSBMLExporter.html#aefa0189aa8976611a461b6de4142fdc7">isExpressionSBMLCompatible()</a>, <a class="el" href="../../df/d80/classCSBMLExporter.html#aeb19f9866a1735848770125dad2aebad">mCOPASI2SBMLMap</a>, <a class="el" href="../../d9/d2d/CCopasiMessage_8h.html#a7f5ce9c8d3812b45cb6f33595fba5789">MCSBML</a>, <a class="el" href="../../df/d80/classCSBMLExporter.html#ae5ae5ec70c912323abe9c31b58de2652">mHandledSBMLObjects</a>, <a class="el" href="../../df/d80/classCSBMLExporter.html#a5bd855fe9020f8c400a6cab63fb87711">mIncompatibilities</a>, <a class="el" href="../../df/d80/classCSBMLExporter.html#ac743dca5c88be1b916af33f454d1a64a">mIncompleteExport</a>, <a class="el" href="../../df/d80/classCSBMLExporter.html#ab85366b96bfd18cd3f7cf5ecc9b9d76b">mInitialValueMap</a>, <a class="el" href="../../df/d80/classCSBMLExporter.html#a1541a69b36b8e864883e49f0de244f81">mpSBMLDocument</a>, <a class="el" href="../../df/d80/classCSBMLExporter.html#aba959efc152f63f1709d5de60e97a651">mSBMLLevel</a>, <a class="el" href="../../df/d80/classCSBMLExporter.html#af1bc50a307a46adcce8aa8abde6dab96">mSBMLVersion</a>, <a class="el" href="../../df/d80/classCSBMLExporter.html#aa8f731ee31dccd8e0b8d81ed695d9b0b">multiplyByObject()</a>, <a class="el" href="../../df/d80/classCSBMLExporter.html#a4d5bc6e05778ebe1653f70b2c968564e">mUsedFunctions</a>, <a class="el" href="../../df/d80/classCSBMLExporter.html#a9cab2f1418b5678f726caac488f07858">outputIncompatibilities()</a>, <a class="el" href="../../df/d80/classCSBMLExporter.html#a8f73c8e9c1a56403427b179b2074f198">replace_local_parameters()</a>, <a class="el" href="../../df/d80/classCSBMLExporter.html#a030225cc274a7c545f010ba2ba7f13c3">replaceSpeciesReferences()</a>, and <a class="el" href="../../d8/d9f/classCEvaluationNode.html#a9e5fcf60f22d2701417f90756847d37b">CEvaluationNode::type()</a>.</p>

<p>Referenced by <a class="el" href="../../df/d80/classCSBMLExporter.html#a165664a6805421e7bf448ccd3604b7ed">createInitialAssignments()</a>.</p>
<div class="fragment"><div class="line"><a name="l01674"></a><span class="lineno"> 1674</span>&#160;{</div>
<div class="line"><a name="l01675"></a><span class="lineno"> 1675</span>&#160;  <span class="comment">// check the expression</span></div>
<div class="line"><a name="l01676"></a><span class="lineno"> 1676</span>&#160;  std::vector&lt;SBMLIncompatibility&gt; result;</div>
<div class="line"><a name="l01677"></a><span class="lineno"> 1677</span>&#160;  <a class="code" href="../../df/d80/classCSBMLExporter.html#aefa0189aa8976611a461b6de4142fdc7">CSBMLExporter::isExpressionSBMLCompatible</a>(*modelEntity.<a class="code" href="../../d0/da0/classCModelEntity.html#a81973823a591e58112161570d7abac10">getInitialExpressionPtr</a>()</div>
<div class="line"><a name="l01678"></a><span class="lineno"> 1678</span>&#160;      , dataModel</div>
<div class="line"><a name="l01679"></a><span class="lineno"> 1679</span>&#160;      , this-&gt;<a class="code" href="../../df/d80/classCSBMLExporter.html#aba959efc152f63f1709d5de60e97a651">mSBMLLevel</a></div>
<div class="line"><a name="l01680"></a><span class="lineno"> 1680</span>&#160;      , this-&gt;<a class="code" href="../../df/d80/classCSBMLExporter.html#af1bc50a307a46adcce8aa8abde6dab96">mSBMLVersion</a></div>
<div class="line"><a name="l01681"></a><span class="lineno"> 1681</span>&#160;      , result</div>
<div class="line"><a name="l01682"></a><span class="lineno"> 1682</span>&#160;      , std::string(<span class="stringliteral">&quot;initial expression for object named \&quot;&quot;</span> + modelEntity.<a class="code" href="../../d4/da8/classCCopasiObject.html#a879d6756b51f6b58d307940e1343bd10">getObjectName</a>() + <span class="stringliteral">&quot;\&quot;&quot;</span>).c_str()</div>
<div class="line"><a name="l01683"></a><span class="lineno"> 1683</span>&#160;      , true</div>
<div class="line"><a name="l01684"></a><span class="lineno"> 1684</span>&#160;      , &amp;<a class="code" href="../../df/d80/classCSBMLExporter.html#ab85366b96bfd18cd3f7cf5ecc9b9d76b">mInitialValueMap</a>);</div>
<div class="line"><a name="l01685"></a><span class="lineno"> 1685</span>&#160;</div>
<div class="line"><a name="l01686"></a><span class="lineno"> 1686</span>&#160;  <span class="comment">// collect directly used functions</span></div>
<div class="line"><a name="l01687"></a><span class="lineno"> 1687</span>&#160;  <span class="keywordflow">if</span> (result.empty())</div>
<div class="line"><a name="l01688"></a><span class="lineno"> 1688</span>&#160;    {</div>
<div class="line"><a name="l01689"></a><span class="lineno"> 1689</span>&#160;      std::set&lt;std::string&gt; directlyUsedFunctionNames;</div>
<div class="line"><a name="l01690"></a><span class="lineno"> 1690</span>&#160;      <a class="code" href="../../df/d80/classCSBMLExporter.html#aa843eb9b5d1ae41d5dd2be78a864f2d5">CSBMLExporter::findDirectlyUsedFunctions</a>(modelEntity.<a class="code" href="../../d0/da0/classCModelEntity.html#a81973823a591e58112161570d7abac10">getInitialExpressionPtr</a>()-&gt;<a class="code" href="../../d1/d50/classCEvaluationTree.html#a542e592cb978819d30a6da627411ba91">getRoot</a>(), directlyUsedFunctionNames);</div>
<div class="line"><a name="l01691"></a><span class="lineno"> 1691</span>&#160;      std::set&lt;CFunction*&gt; usedFunctions = <a class="code" href="../../df/d80/classCSBMLExporter.html#a6dcd463b48c53c136e6c1af5b22251f2">CSBMLExporter::createFunctionSetFromFunctionNames</a>(directlyUsedFunctionNames, <a class="code" href="../../d3/db1/classCCopasiRootContainer.html#afd5e8541f181260daf7515b28f0612c3">CCopasiRootContainer::getFunctionList</a>());</div>
<div class="line"><a name="l01692"></a><span class="lineno"> 1692</span>&#160;</div>
<div class="line"><a name="l01693"></a><span class="lineno"> 1693</span>&#160;<span class="preprocessor">#if defined _MSC_VER &amp;&amp; _MSC_VER &lt; 1201 // 1200 Identifies Visual C++ 6.0</span></div>
<div class="line"><a name="l01694"></a><span class="lineno"> 1694</span>&#160;<span class="preprocessor"></span>      {</div>
<div class="line"><a name="l01695"></a><span class="lineno"> 1695</span>&#160;        std::set&lt;CFunction*&gt;::const_iterator it = usedFunctions.begin();</div>
<div class="line"><a name="l01696"></a><span class="lineno"> 1696</span>&#160;        std::set&lt;CFunction*&gt;::const_iterator end = usedFunctions.end();</div>
<div class="line"><a name="l01697"></a><span class="lineno"> 1697</span>&#160;</div>
<div class="line"><a name="l01698"></a><span class="lineno"> 1698</span>&#160;        <span class="keywordflow">for</span> (; it != end; ++it)</div>
<div class="line"><a name="l01699"></a><span class="lineno"> 1699</span>&#160;          this-&gt;<a class="code" href="../../df/d80/classCSBMLExporter.html#a4d5bc6e05778ebe1653f70b2c968564e">mUsedFunctions</a>.insert(*it);</div>
<div class="line"><a name="l01700"></a><span class="lineno"> 1700</span>&#160;      }</div>
<div class="line"><a name="l01701"></a><span class="lineno"> 1701</span>&#160;<span class="preprocessor">#else</span></div>
<div class="line"><a name="l01702"></a><span class="lineno"> 1702</span>&#160;<span class="preprocessor"></span>      this-&gt;<a class="code" href="../../df/d80/classCSBMLExporter.html#a4d5bc6e05778ebe1653f70b2c968564e">mUsedFunctions</a>.insert(usedFunctions.begin(), usedFunctions.end());</div>
<div class="line"><a name="l01703"></a><span class="lineno"> 1703</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l01704"></a><span class="lineno"> 1704</span>&#160;<span class="preprocessor"></span></div>
<div class="line"><a name="l01705"></a><span class="lineno"> 1705</span>&#160;      <span class="comment">// create the actual initial assignment</span></div>
<div class="line"><a name="l01706"></a><span class="lineno"> 1706</span>&#160;      InitialAssignment* pInitialAssignment = this-&gt;<a class="code" href="../../df/d80/classCSBMLExporter.html#a1541a69b36b8e864883e49f0de244f81">mpSBMLDocument</a>-&gt;getModel()-&gt;getInitialAssignment(modelEntity.<a class="code" href="../../d0/da0/classCModelEntity.html#a5c8d403c6027f59d1cc3e1ccc2d9efac">getSBMLId</a>());</div>
<div class="line"><a name="l01707"></a><span class="lineno"> 1707</span>&#160;</div>
<div class="line"><a name="l01708"></a><span class="lineno"> 1708</span>&#160;      <span class="keywordflow">if</span> (pInitialAssignment == NULL)</div>
<div class="line"><a name="l01709"></a><span class="lineno"> 1709</span>&#160;        {</div>
<div class="line"><a name="l01710"></a><span class="lineno"> 1710</span>&#160;          pInitialAssignment = this-&gt;<a class="code" href="../../df/d80/classCSBMLExporter.html#a1541a69b36b8e864883e49f0de244f81">mpSBMLDocument</a>-&gt;getModel()-&gt;createInitialAssignment();</div>
<div class="line"><a name="l01711"></a><span class="lineno"> 1711</span>&#160;          pInitialAssignment-&gt;setSymbol(modelEntity.<a class="code" href="../../d0/da0/classCModelEntity.html#a5c8d403c6027f59d1cc3e1ccc2d9efac">getSBMLId</a>());</div>
<div class="line"><a name="l01712"></a><span class="lineno"> 1712</span>&#160;        }</div>
<div class="line"><a name="l01713"></a><span class="lineno"> 1713</span>&#160;</div>
<div class="line"><a name="l01714"></a><span class="lineno"> 1714</span>&#160;      <span class="comment">// set the math</span></div>
<div class="line"><a name="l01715"></a><span class="lineno"> 1715</span>&#160;      this-&gt;<a class="code" href="../../df/d80/classCSBMLExporter.html#ae5ae5ec70c912323abe9c31b58de2652">mHandledSBMLObjects</a>.insert(pInitialAssignment);</div>
<div class="line"><a name="l01716"></a><span class="lineno"> 1716</span>&#160;      <span class="keyword">const</span> <a class="code" href="../../d8/d9f/classCEvaluationNode.html">CEvaluationNode</a>* pOrigNode = modelEntity.<a class="code" href="../../d0/da0/classCModelEntity.html#a81973823a591e58112161570d7abac10">getInitialExpressionPtr</a>()-&gt;<a class="code" href="../../d1/d50/classCEvaluationTree.html#a542e592cb978819d30a6da627411ba91">getRoot</a>();</div>
<div class="line"><a name="l01717"></a><span class="lineno"> 1717</span>&#160;</div>
<div class="line"><a name="l01718"></a><span class="lineno"> 1718</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="../../d8/d9f/classCEvaluationNode.html#a9e5fcf60f22d2701417f90756847d37b">CEvaluationNode::type</a>(pOrigNode-&gt;<a class="code" href="../../d8/d9f/classCEvaluationNode.html#ae24b55d848d78cec0a359fd199c76562">getType</a>()) == <a class="code" href="../../d8/d9f/classCEvaluationNode.html#aeef59b7ae37d1323a4900e5d19140491a7492325b731420bde92a0fa2620dde0c">CEvaluationNode::INVALID</a>)</div>
<div class="line"><a name="l01719"></a><span class="lineno"> 1719</span>&#160;        {</div>
<div class="line"><a name="l01720"></a><span class="lineno"> 1720</span>&#160;          <a class="code" href="../../d2/df0/classCCopasiMessage.html">CCopasiMessage</a>(<a class="code" href="../../d2/df0/classCCopasiMessage.html#a2ea1ed32494ff5c8d84353efcec7a5e4a568f885d73f0ea36bedfe92f6e533071">CCopasiMessage::EXCEPTION</a>, <a class="code" href="../../d9/d2d/CCopasiMessage_8h.html#a7f5ce9c8d3812b45cb6f33595fba5789">MCSBML</a> + 70, <span class="stringliteral">&quot;initial assignment&quot;</span>, modelEntity.<a class="code" href="../../d4/da8/classCCopasiObject.html#a56790cb06e1980712599250f3e695c6a">getObjectType</a>().c_str(), modelEntity.<a class="code" href="../../d4/da8/classCCopasiObject.html#a879d6756b51f6b58d307940e1343bd10">getObjectName</a>().c_str());</div>
<div class="line"><a name="l01721"></a><span class="lineno"> 1721</span>&#160;        }</div>
<div class="line"><a name="l01722"></a><span class="lineno"> 1722</span>&#160;</div>
<div class="line"><a name="l01723"></a><span class="lineno"> 1723</span>&#160;      <span class="comment">// the next few lines replace references to species depending on whether</span></div>
<div class="line"><a name="l01724"></a><span class="lineno"> 1724</span>&#160;      <span class="comment">// it is a reference to an amount or a reference to a concentration.</span></div>
<div class="line"><a name="l01725"></a><span class="lineno"> 1725</span>&#160;      <span class="comment">// Other factors that influence this replacement are if the model</span></div>
<div class="line"><a name="l01726"></a><span class="lineno"> 1726</span>&#160;      <span class="comment">// contains variable volumes or if the quantity units are set to CModel::number</span></div>
<div class="line"><a name="l01727"></a><span class="lineno"> 1727</span>&#160;      pOrigNode = this-&gt;<a class="code" href="../../df/d80/classCSBMLExporter.html#a030225cc274a7c545f010ba2ba7f13c3">replaceSpeciesReferences</a>(pOrigNode, dataModel);</div>
<div class="line"><a name="l01728"></a><span class="lineno"> 1728</span>&#160;      assert(pOrigNode != NULL);</div>
<div class="line"><a name="l01729"></a><span class="lineno"> 1729</span>&#160;</div>
<div class="line"><a name="l01730"></a><span class="lineno"> 1730</span>&#160;      <span class="comment">// check if the rule is for an amount species</span></div>
<div class="line"><a name="l01731"></a><span class="lineno"> 1731</span>&#160;      <span class="comment">// if this is the case, we have to multiply the expression by the volume</span></div>
<div class="line"><a name="l01732"></a><span class="lineno"> 1732</span>&#160;      <span class="comment">// of the compartment the species is in</span></div>
<div class="line"><a name="l01733"></a><span class="lineno"> 1733</span>&#160;      <span class="comment">// create the actual rule</span></div>
<div class="line"><a name="l01734"></a><span class="lineno"> 1734</span>&#160;      <span class="keyword">const</span> <a class="code" href="../../dc/d44/classCMetab.html">CMetab</a>* pMetab = <span class="keyword">dynamic_cast&lt;</span><span class="keyword">const </span><a class="code" href="../../dc/d44/classCMetab.html">CMetab</a>*<span class="keyword">&gt;</span>(&amp;modelEntity);</div>
<div class="line"><a name="l01735"></a><span class="lineno"> 1735</span>&#160;</div>
<div class="line"><a name="l01736"></a><span class="lineno"> 1736</span>&#160;      <span class="keywordflow">if</span> (pMetab != NULL)</div>
<div class="line"><a name="l01737"></a><span class="lineno"> 1737</span>&#160;        {</div>
<div class="line"><a name="l01738"></a><span class="lineno"> 1738</span>&#160;          std::map&lt;const CCopasiObject*, SBase*&gt;::const_iterator pos = this-&gt;<a class="code" href="../../df/d80/classCSBMLExporter.html#aeb19f9866a1735848770125dad2aebad">mCOPASI2SBMLMap</a>.find(&amp;modelEntity);</div>
<div class="line"><a name="l01739"></a><span class="lineno"> 1739</span>&#160;          assert(pos != this-&gt;<a class="code" href="../../df/d80/classCSBMLExporter.html#aeb19f9866a1735848770125dad2aebad">mCOPASI2SBMLMap</a>.end());</div>
<div class="line"><a name="l01740"></a><span class="lineno"> 1740</span>&#160;</div>
<div class="line"><a name="l01741"></a><span class="lineno"> 1741</span>&#160;          <span class="keywordflow">if</span> (dynamic_cast&lt;const Species*&gt;(pos-&gt;second)-&gt;getHasOnlySubstanceUnits() == <span class="keyword">true</span>)</div>
<div class="line"><a name="l01742"></a><span class="lineno"> 1742</span>&#160;            {</div>
<div class="line"><a name="l01743"></a><span class="lineno"> 1743</span>&#160;              <span class="keyword">const</span> <a class="code" href="../../d4/dd4/classCCompartment.html">CCompartment</a>* pCompartment = pMetab-&gt;<a class="code" href="../../dc/d44/classCMetab.html#a9774853fea3fd6c9b15ecd26df7ab349">getCompartment</a>();</div>
<div class="line"><a name="l01744"></a><span class="lineno"> 1744</span>&#160;</div>
<div class="line"><a name="l01745"></a><span class="lineno"> 1745</span>&#160;              <span class="keywordflow">if</span> (pCompartment-&gt;<a class="code" href="../../d4/dd4/classCCompartment.html#a977268782cb7d6cd7a01cab642b45c09">getDimensionality</a>() != 0)</div>
<div class="line"><a name="l01746"></a><span class="lineno"> 1746</span>&#160;                {</div>
<div class="line"><a name="l01747"></a><span class="lineno"> 1747</span>&#160;                  <a class="code" href="../../d8/d9f/classCEvaluationNode.html">CEvaluationNode</a>* pNode = <a class="code" href="../../df/d80/classCSBMLExporter.html#aa8f731ee31dccd8e0b8d81ed695d9b0b">CSBMLExporter::multiplyByObject</a>(pOrigNode, pCompartment-&gt;<a class="code" href="../../d0/da0/classCModelEntity.html#a39df6ef8194ede615a3f12a94a04a31a">getInitialValueReference</a>());</div>
<div class="line"><a name="l01748"></a><span class="lineno"> 1748</span>&#160;                  assert(pNode != NULL);</div>
<div class="line"><a name="l01749"></a><span class="lineno"> 1749</span>&#160;</div>
<div class="line"><a name="l01750"></a><span class="lineno"> 1750</span>&#160;                  <span class="keywordflow">if</span> (pNode != NULL)</div>
<div class="line"><a name="l01751"></a><span class="lineno"> 1751</span>&#160;                    {</div>
<div class="line"><a name="l01752"></a><span class="lineno"> 1752</span>&#160;                      <span class="keyword">delete</span> pOrigNode;</div>
<div class="line"><a name="l01753"></a><span class="lineno"> 1753</span>&#160;                      pOrigNode = pNode;</div>
<div class="line"><a name="l01754"></a><span class="lineno"> 1754</span>&#160;                    }</div>
<div class="line"><a name="l01755"></a><span class="lineno"> 1755</span>&#160;                }</div>
<div class="line"><a name="l01756"></a><span class="lineno"> 1756</span>&#160;            }</div>
<div class="line"><a name="l01757"></a><span class="lineno"> 1757</span>&#160;        }</div>
<div class="line"><a name="l01758"></a><span class="lineno"> 1758</span>&#160;</div>
<div class="line"><a name="l01759"></a><span class="lineno"> 1759</span>&#160;      ASTNode* pNode = this-&gt;<a class="code" href="../../df/d80/classCSBMLExporter.html#ac61681ecd68ba2288e21ff1584ad20af">convertToASTNode</a>(pOrigNode, dataModel);</div>
<div class="line"><a name="l01760"></a><span class="lineno"> 1760</span>&#160;      <span class="keyword">delete</span> pOrigNode;</div>
<div class="line"><a name="l01761"></a><span class="lineno"> 1761</span>&#160;      <span class="comment">// convert local parameters that are referenced in an expression to global</span></div>
<div class="line"><a name="l01762"></a><span class="lineno"> 1762</span>&#160;      <span class="comment">// parameters</span></div>
<div class="line"><a name="l01763"></a><span class="lineno"> 1763</span>&#160;      this-&gt;<a class="code" href="../../df/d80/classCSBMLExporter.html#a8f73c8e9c1a56403427b179b2074f198">replace_local_parameters</a>(pNode, dataModel);</div>
<div class="line"><a name="l01764"></a><span class="lineno"> 1764</span>&#160;</div>
<div class="line"><a name="l01765"></a><span class="lineno"> 1765</span>&#160;      <span class="keywordflow">if</span> (pNode != NULL)</div>
<div class="line"><a name="l01766"></a><span class="lineno"> 1766</span>&#160;        {</div>
<div class="line"><a name="l01767"></a><span class="lineno"> 1767</span>&#160;          pInitialAssignment-&gt;setMath(pNode);</div>
<div class="line"><a name="l01768"></a><span class="lineno"> 1768</span>&#160;          <span class="keyword">delete</span> pNode;</div>
<div class="line"><a name="l01769"></a><span class="lineno"> 1769</span>&#160;        }</div>
<div class="line"><a name="l01770"></a><span class="lineno"> 1770</span>&#160;      <span class="keywordflow">else</span></div>
<div class="line"><a name="l01771"></a><span class="lineno"> 1771</span>&#160;        {</div>
<div class="line"><a name="l01772"></a><span class="lineno"> 1772</span>&#160;          <span class="keywordflow">if</span> (this-&gt;<a class="code" href="../../df/d80/classCSBMLExporter.html#ac743dca5c88be1b916af33f454d1a64a">mIncompleteExport</a> == <span class="keyword">true</span>)</div>
<div class="line"><a name="l01773"></a><span class="lineno"> 1773</span>&#160;            {</div>
<div class="line"><a name="l01774"></a><span class="lineno"> 1774</span>&#160;              <span class="comment">// remove the initial assignment from the SBML model</span></div>
<div class="line"><a name="l01775"></a><span class="lineno"> 1775</span>&#160;              <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> i = 0, iMax = this-&gt;<a class="code" href="../../df/d80/classCSBMLExporter.html#a1541a69b36b8e864883e49f0de244f81">mpSBMLDocument</a>-&gt;getModel()-&gt;getNumInitialAssignments();</div>
<div class="line"><a name="l01776"></a><span class="lineno"> 1776</span>&#160;</div>
<div class="line"><a name="l01777"></a><span class="lineno"> 1777</span>&#160;              <span class="keywordflow">while</span> (i &lt; iMax)</div>
<div class="line"><a name="l01778"></a><span class="lineno"> 1778</span>&#160;                {</div>
<div class="line"><a name="l01779"></a><span class="lineno"> 1779</span>&#160;                  <span class="keywordflow">if</span> (this-&gt;<a class="code" href="../../df/d80/classCSBMLExporter.html#a1541a69b36b8e864883e49f0de244f81">mpSBMLDocument</a>-&gt;getModel()-&gt;getInitialAssignment(i)-&gt;getSymbol() == modelEntity.<a class="code" href="../../d0/da0/classCModelEntity.html#a5c8d403c6027f59d1cc3e1ccc2d9efac">getSBMLId</a>())</div>
<div class="line"><a name="l01780"></a><span class="lineno"> 1780</span>&#160;                    {</div>
<div class="line"><a name="l01781"></a><span class="lineno"> 1781</span>&#160;                      this-&gt;<a class="code" href="../../df/d80/classCSBMLExporter.html#a1541a69b36b8e864883e49f0de244f81">mpSBMLDocument</a>-&gt;getModel()-&gt;getListOfInitialAssignments()-&gt;remove(i);</div>
<div class="line"><a name="l01782"></a><span class="lineno"> 1782</span>&#160;                      <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l01783"></a><span class="lineno"> 1783</span>&#160;                    }</div>
<div class="line"><a name="l01784"></a><span class="lineno"> 1784</span>&#160;</div>
<div class="line"><a name="l01785"></a><span class="lineno"> 1785</span>&#160;                  ++i;</div>
<div class="line"><a name="l01786"></a><span class="lineno"> 1786</span>&#160;                }</div>
<div class="line"><a name="l01787"></a><span class="lineno"> 1787</span>&#160;            }</div>
<div class="line"><a name="l01788"></a><span class="lineno"> 1788</span>&#160;          <span class="keywordflow">else</span></div>
<div class="line"><a name="l01789"></a><span class="lineno"> 1789</span>&#160;            {</div>
<div class="line"><a name="l01790"></a><span class="lineno"> 1790</span>&#160;              <a class="code" href="../../d2/df0/classCCopasiMessage.html">CCopasiMessage</a>(<a class="code" href="../../d2/df0/classCCopasiMessage.html#a2ea1ed32494ff5c8d84353efcec7a5e4a568f885d73f0ea36bedfe92f6e533071">CCopasiMessage::EXCEPTION</a>, <a class="code" href="../../d9/d2d/CCopasiMessage_8h.html#a7f5ce9c8d3812b45cb6f33595fba5789">MCSBML</a> + 60, <span class="stringliteral">&quot;initial assignment&quot;</span>, modelEntity.<a class="code" href="../../d4/da8/classCCopasiObject.html#a56790cb06e1980712599250f3e695c6a">getObjectType</a>().c_str(), modelEntity.<a class="code" href="../../d4/da8/classCCopasiObject.html#a879d6756b51f6b58d307940e1343bd10">getObjectName</a>().c_str());</div>
<div class="line"><a name="l01791"></a><span class="lineno"> 1791</span>&#160;            }</div>
<div class="line"><a name="l01792"></a><span class="lineno"> 1792</span>&#160;        }</div>
<div class="line"><a name="l01793"></a><span class="lineno"> 1793</span>&#160;    }</div>
<div class="line"><a name="l01794"></a><span class="lineno"> 1794</span>&#160;  <span class="keywordflow">else</span></div>
<div class="line"><a name="l01795"></a><span class="lineno"> 1795</span>&#160;    {</div>
<div class="line"><a name="l01796"></a><span class="lineno"> 1796</span>&#160;      this-&gt;<a class="code" href="../../df/d80/classCSBMLExporter.html#a5bd855fe9020f8c400a6cab63fb87711">mIncompatibilities</a>.insert(this-&gt;<a class="code" href="../../df/d80/classCSBMLExporter.html#a5bd855fe9020f8c400a6cab63fb87711">mIncompatibilities</a>.end(), result.begin(), result.end());</div>
<div class="line"><a name="l01797"></a><span class="lineno"> 1797</span>&#160;</div>
<div class="line"><a name="l01798"></a><span class="lineno"> 1798</span>&#160;      <span class="keywordflow">if</span> (!this-&gt;<a class="code" href="../../df/d80/classCSBMLExporter.html#ac743dca5c88be1b916af33f454d1a64a">mIncompleteExport</a>)</div>
<div class="line"><a name="l01799"></a><span class="lineno"> 1799</span>&#160;        {</div>
<div class="line"><a name="l01800"></a><span class="lineno"> 1800</span>&#160;          this-&gt;<a class="code" href="../../df/d80/classCSBMLExporter.html#a9cab2f1418b5678f726caac488f07858">outputIncompatibilities</a>();</div>
<div class="line"><a name="l01801"></a><span class="lineno"> 1801</span>&#160;          <a class="code" href="../../d2/df0/classCCopasiMessage.html">CCopasiMessage</a>(<a class="code" href="../../d2/df0/classCCopasiMessage.html#a2ea1ed32494ff5c8d84353efcec7a5e4a568f885d73f0ea36bedfe92f6e533071">CCopasiMessage::EXCEPTION</a>, <a class="code" href="../../d9/d2d/CCopasiMessage_8h.html#a7f5ce9c8d3812b45cb6f33595fba5789">MCSBML</a> + 60, <span class="stringliteral">&quot;initial assignment&quot;</span>, modelEntity.<a class="code" href="../../d4/da8/classCCopasiObject.html#a56790cb06e1980712599250f3e695c6a">getObjectType</a>().c_str(), modelEntity.<a class="code" href="../../d4/da8/classCCopasiObject.html#a879d6756b51f6b58d307940e1343bd10">getObjectName</a>().c_str());</div>
<div class="line"><a name="l01802"></a><span class="lineno"> 1802</span>&#160;        }</div>
<div class="line"><a name="l01803"></a><span class="lineno"> 1803</span>&#160;    }</div>
<div class="line"><a name="l01804"></a><span class="lineno"> 1804</span>&#160;}</div>
<div class="ttc" id="classCSBMLExporter_html_aa843eb9b5d1ae41d5dd2be78a864f2d5"><div class="ttname"><a href="../../df/d80/classCSBMLExporter.html#aa843eb9b5d1ae41d5dd2be78a864f2d5">CSBMLExporter::findDirectlyUsedFunctions</a></div><div class="ttdeci">static void findDirectlyUsedFunctions(const CEvaluationNode *pRootNode, std::set&lt; std::string &gt; &amp;result)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d2f/CSBMLExporter_8cpp_source.html#l04927">CSBMLExporter.cpp:4927</a></div></div>
<div class="ttc" id="classCSBMLExporter_html_aba959efc152f63f1709d5de60e97a651"><div class="ttname"><a href="../../df/d80/classCSBMLExporter.html#aba959efc152f63f1709d5de60e97a651">CSBMLExporter::mSBMLLevel</a></div><div class="ttdeci">unsigned int mSBMLLevel</div><div class="ttdef"><b>Definition:</b> <a href="../../da/d7f/CSBMLExporter_8h_source.html#l00056">CSBMLExporter.h:56</a></div></div>
<div class="ttc" id="classCSBMLExporter_html_a1541a69b36b8e864883e49f0de244f81"><div class="ttname"><a href="../../df/d80/classCSBMLExporter.html#a1541a69b36b8e864883e49f0de244f81">CSBMLExporter::mpSBMLDocument</a></div><div class="ttdeci">SBMLDocument * mpSBMLDocument</div><div class="ttdef"><b>Definition:</b> <a href="../../da/d7f/CSBMLExporter_8h_source.html#l00055">CSBMLExporter.h:55</a></div></div>
<div class="ttc" id="classCSBMLExporter_html_a8f73c8e9c1a56403427b179b2074f198"><div class="ttname"><a href="../../df/d80/classCSBMLExporter.html#a8f73c8e9c1a56403427b179b2074f198">CSBMLExporter::replace_local_parameters</a></div><div class="ttdeci">void replace_local_parameters(ASTNode *pOrigNode, const CCopasiDataModel &amp;dataModel)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d2f/CSBMLExporter_8cpp_source.html#l07330">CSBMLExporter.cpp:7330</a></div></div>
<div class="ttc" id="classCModelEntity_html_a5c8d403c6027f59d1cc3e1ccc2d9efac"><div class="ttname"><a href="../../d0/da0/classCModelEntity.html#a5c8d403c6027f59d1cc3e1ccc2d9efac">CModelEntity::getSBMLId</a></div><div class="ttdeci">const std::string &amp; getSBMLId() const </div><div class="ttdef"><b>Definition:</b> <a href="../../d8/da3/CModelValue_8cpp_source.html#l00637">CModelValue.cpp:637</a></div></div>
<div class="ttc" id="classCSBMLExporter_html_aa8f731ee31dccd8e0b8d81ed695d9b0b"><div class="ttname"><a href="../../df/d80/classCSBMLExporter.html#aa8f731ee31dccd8e0b8d81ed695d9b0b">CSBMLExporter::multiplyByObject</a></div><div class="ttdeci">static CEvaluationNode * multiplyByObject(const CEvaluationNode *pOrigNode, const CCopasiObject *pObject)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d2f/CSBMLExporter_8cpp_source.html#l07654">CSBMLExporter.cpp:7654</a></div></div>
<div class="ttc" id="classCCopasiObject_html_a879d6756b51f6b58d307940e1343bd10"><div class="ttname"><a href="../../d4/da8/classCCopasiObject.html#a879d6756b51f6b58d307940e1343bd10">CCopasiObject::getObjectName</a></div><div class="ttdeci">const std::string &amp; getObjectName() const </div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d22/CCopasiObject_8cpp_source.html#l00258">CCopasiObject.cpp:258</a></div></div>
<div class="ttc" id="classCCompartment_html_a977268782cb7d6cd7a01cab642b45c09"><div class="ttname"><a href="../../d4/dd4/classCCompartment.html#a977268782cb7d6cd7a01cab642b45c09">CCompartment::getDimensionality</a></div><div class="ttdeci">unsigned C_INT32 getDimensionality() const </div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d2d/CCompartment_8cpp_source.html#l00204">CCompartment.cpp:204</a></div></div>
<div class="ttc" id="classCModelEntity_html_a39df6ef8194ede615a3f12a94a04a31a"><div class="ttname"><a href="../../d0/da0/classCModelEntity.html#a39df6ef8194ede615a3f12a94a04a31a">CModelEntity::getInitialValueReference</a></div><div class="ttdeci">CCopasiObject * getInitialValueReference() const </div><div class="ttdef"><b>Definition:</b> <a href="../../d8/da3/CModelValue_8cpp_source.html#l00367">CModelValue.cpp:367</a></div></div>
<div class="ttc" id="classCEvaluationNode_html_ae24b55d848d78cec0a359fd199c76562"><div class="ttname"><a href="../../d8/d9f/classCEvaluationNode.html#ae24b55d848d78cec0a359fd199c76562">CEvaluationNode::getType</a></div><div class="ttdeci">const Type &amp; getType() const </div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d3d/CEvaluationNode_8cpp_source.html#l00357">CEvaluationNode.cpp:357</a></div></div>
<div class="ttc" id="classCCopasiObject_html_a56790cb06e1980712599250f3e695c6a"><div class="ttname"><a href="../../d4/da8/classCCopasiObject.html#a56790cb06e1980712599250f3e695c6a">CCopasiObject::getObjectType</a></div><div class="ttdeci">const std::string &amp; getObjectType() const </div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d22/CCopasiObject_8cpp_source.html#l00260">CCopasiObject.cpp:260</a></div></div>
<div class="ttc" id="classCSBMLExporter_html_ac743dca5c88be1b916af33f454d1a64a"><div class="ttname"><a href="../../df/d80/classCSBMLExporter.html#ac743dca5c88be1b916af33f454d1a64a">CSBMLExporter::mIncompleteExport</a></div><div class="ttdeci">bool mIncompleteExport</div><div class="ttdef"><b>Definition:</b> <a href="../../da/d7f/CSBMLExporter_8h_source.html#l00066">CSBMLExporter.h:66</a></div></div>
<div class="ttc" id="classCMetab_html"><div class="ttname"><a href="../../dc/d44/classCMetab.html">CMetab</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d3/df5/CMetab_8h_source.html#l00178">CMetab.h:178</a></div></div>
<div class="ttc" id="classCSBMLExporter_html_ab85366b96bfd18cd3f7cf5ecc9b9d76b"><div class="ttname"><a href="../../df/d80/classCSBMLExporter.html#ab85366b96bfd18cd3f7cf5ecc9b9d76b">CSBMLExporter::mInitialValueMap</a></div><div class="ttdeci">std::map&lt; const std::string, Parameter * &gt; mInitialValueMap</div><div class="ttdef"><b>Definition:</b> <a href="../../da/d7f/CSBMLExporter_8h_source.html#l00079">CSBMLExporter.h:79</a></div></div>
<div class="ttc" id="classCCopasiMessage_html_a2ea1ed32494ff5c8d84353efcec7a5e4a568f885d73f0ea36bedfe92f6e533071"><div class="ttname"><a href="../../d2/df0/classCCopasiMessage.html#a2ea1ed32494ff5c8d84353efcec7a5e4a568f885d73f0ea36bedfe92f6e533071">CCopasiMessage::EXCEPTION</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d2d/CCopasiMessage_8h_source.html#l00093">CCopasiMessage.h:93</a></div></div>
<div class="ttc" id="classCEvaluationNode_html_a9e5fcf60f22d2701417f90756847d37b"><div class="ttname"><a href="../../d8/d9f/classCEvaluationNode.html#a9e5fcf60f22d2701417f90756847d37b">CEvaluationNode::type</a></div><div class="ttdeci">static Type type(const Type &amp;type)</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d3d/CEvaluationNode_8cpp_source.html#l00123">CEvaluationNode.cpp:123</a></div></div>
<div class="ttc" id="CCopasiMessage_8h_html_a7f5ce9c8d3812b45cb6f33595fba5789"><div class="ttname"><a href="../../d9/d2d/CCopasiMessage_8h.html#a7f5ce9c8d3812b45cb6f33595fba5789">MCSBML</a></div><div class="ttdeci">#define MCSBML</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d2d/CCopasiMessage_8h_source.html#l00046">CCopasiMessage.h:46</a></div></div>
<div class="ttc" id="classCSBMLExporter_html_af1bc50a307a46adcce8aa8abde6dab96"><div class="ttname"><a href="../../df/d80/classCSBMLExporter.html#af1bc50a307a46adcce8aa8abde6dab96">CSBMLExporter::mSBMLVersion</a></div><div class="ttdeci">unsigned int mSBMLVersion</div><div class="ttdef"><b>Definition:</b> <a href="../../da/d7f/CSBMLExporter_8h_source.html#l00057">CSBMLExporter.h:57</a></div></div>
<div class="ttc" id="classCEvaluationNode_html_aeef59b7ae37d1323a4900e5d19140491a7492325b731420bde92a0fa2620dde0c"><div class="ttname"><a href="../../d8/d9f/classCEvaluationNode.html#aeef59b7ae37d1323a4900e5d19140491a7492325b731420bde92a0fa2620dde0c">CEvaluationNode::INVALID</a></div><div class="ttdef"><b>Definition:</b> <a href="../../de/dfa/CEvaluationNode_8h_source.html#l00041">CEvaluationNode.h:41</a></div></div>
<div class="ttc" id="classCCopasiRootContainer_html_afd5e8541f181260daf7515b28f0612c3"><div class="ttname"><a href="../../d3/db1/classCCopasiRootContainer.html#afd5e8541f181260daf7515b28f0612c3">CCopasiRootContainer::getFunctionList</a></div><div class="ttdeci">static CFunctionDB * getFunctionList()</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/d4b/CCopasiRootContainer_8cpp_source.html#l00137">CCopasiRootContainer.cpp:137</a></div></div>
<div class="ttc" id="classCCompartment_html"><div class="ttname"><a href="../../d4/dd4/classCCompartment.html">CCompartment</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d59/CCompartment_8h_source.html#l00037">CCompartment.h:37</a></div></div>
<div class="ttc" id="classCSBMLExporter_html_a5bd855fe9020f8c400a6cab63fb87711"><div class="ttname"><a href="../../df/d80/classCSBMLExporter.html#a5bd855fe9020f8c400a6cab63fb87711">CSBMLExporter::mIncompatibilities</a></div><div class="ttdeci">std::vector&lt; SBMLIncompatibility &gt; mIncompatibilities</div><div class="ttdef"><b>Definition:</b> <a href="../../da/d7f/CSBMLExporter_8h_source.html#l00065">CSBMLExporter.h:65</a></div></div>
<div class="ttc" id="classCSBMLExporter_html_aeb19f9866a1735848770125dad2aebad"><div class="ttname"><a href="../../df/d80/classCSBMLExporter.html#aeb19f9866a1735848770125dad2aebad">CSBMLExporter::mCOPASI2SBMLMap</a></div><div class="ttdeci">std::map&lt; const CCopasiObject *, SBase * &gt; mCOPASI2SBMLMap</div><div class="ttdef"><b>Definition:</b> <a href="../../da/d7f/CSBMLExporter_8h_source.html#l00061">CSBMLExporter.h:61</a></div></div>
<div class="ttc" id="classCCopasiMessage_html"><div class="ttname"><a href="../../d2/df0/classCCopasiMessage.html">CCopasiMessage</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d2d/CCopasiMessage_8h_source.html#l00078">CCopasiMessage.h:78</a></div></div>
<div class="ttc" id="classCEvaluationNode_html"><div class="ttname"><a href="../../d8/d9f/classCEvaluationNode.html">CEvaluationNode</a></div><div class="ttdef"><b>Definition:</b> <a href="../../de/dfa/CEvaluationNode_8h_source.html#l00033">CEvaluationNode.h:33</a></div></div>
<div class="ttc" id="classCSBMLExporter_html_ac61681ecd68ba2288e21ff1584ad20af"><div class="ttname"><a href="../../df/d80/classCSBMLExporter.html#ac61681ecd68ba2288e21ff1584ad20af">CSBMLExporter::convertToASTNode</a></div><div class="ttdeci">ASTNode * convertToASTNode(const CEvaluationNode *pOrig, CCopasiDataModel &amp;dataModel)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d2f/CSBMLExporter_8cpp_source.html#l07078">CSBMLExporter.cpp:7078</a></div></div>
<div class="ttc" id="classCSBMLExporter_html_aefa0189aa8976611a461b6de4142fdc7"><div class="ttname"><a href="../../df/d80/classCSBMLExporter.html#aefa0189aa8976611a461b6de4142fdc7">CSBMLExporter::isExpressionSBMLCompatible</a></div><div class="ttdeci">static void isExpressionSBMLCompatible(const CEvaluationTree &amp;expr, const CCopasiDataModel &amp;dataModel, int sbmlLevel, int sbmlVersion, std::vector&lt; SBMLIncompatibility &gt; &amp;result, const std::string &amp;objectDescription, bool initialExression=false, std::map&lt; const std::string, Parameter * &gt; *initialMap=NULL)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d2f/CSBMLExporter_8cpp_source.html#l02767">CSBMLExporter.cpp:2767</a></div></div>
<div class="ttc" id="classCSBMLExporter_html_a030225cc274a7c545f010ba2ba7f13c3"><div class="ttname"><a href="../../df/d80/classCSBMLExporter.html#a030225cc274a7c545f010ba2ba7f13c3">CSBMLExporter::replaceSpeciesReferences</a></div><div class="ttdeci">CEvaluationNode * replaceSpeciesReferences(const CEvaluationNode *pOrigNode, const CCopasiDataModel &amp;dataModel)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d2f/CSBMLExporter_8cpp_source.html#l06066">CSBMLExporter.cpp:6066</a></div></div>
<div class="ttc" id="classCSBMLExporter_html_a9cab2f1418b5678f726caac488f07858"><div class="ttname"><a href="../../df/d80/classCSBMLExporter.html#a9cab2f1418b5678f726caac488f07858">CSBMLExporter::outputIncompatibilities</a></div><div class="ttdeci">void outputIncompatibilities() const </div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d2f/CSBMLExporter_8cpp_source.html#l07160">CSBMLExporter.cpp:7160</a></div></div>
<div class="ttc" id="classCSBMLExporter_html_ae5ae5ec70c912323abe9c31b58de2652"><div class="ttname"><a href="../../df/d80/classCSBMLExporter.html#ae5ae5ec70c912323abe9c31b58de2652">CSBMLExporter::mHandledSBMLObjects</a></div><div class="ttdeci">std::set&lt; SBase * &gt; mHandledSBMLObjects</div><div class="ttdef"><b>Definition:</b> <a href="../../da/d7f/CSBMLExporter_8h_source.html#l00062">CSBMLExporter.h:62</a></div></div>
<div class="ttc" id="classCSBMLExporter_html_a6dcd463b48c53c136e6c1af5b22251f2"><div class="ttname"><a href="../../df/d80/classCSBMLExporter.html#a6dcd463b48c53c136e6c1af5b22251f2">CSBMLExporter::createFunctionSetFromFunctionNames</a></div><div class="ttdeci">static const std::set&lt; CFunction * &gt; createFunctionSetFromFunctionNames(const std::set&lt; std::string &gt; &amp;names, CFunctionDB *pFunDB)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d2f/CSBMLExporter_8cpp_source.html#l05054">CSBMLExporter.cpp:5054</a></div></div>
<div class="ttc" id="classCSBMLExporter_html_a4d5bc6e05778ebe1653f70b2c968564e"><div class="ttname"><a href="../../df/d80/classCSBMLExporter.html#a4d5bc6e05778ebe1653f70b2c968564e">CSBMLExporter::mUsedFunctions</a></div><div class="ttdeci">std::set&lt; CFunction * &gt; mUsedFunctions</div><div class="ttdef"><b>Definition:</b> <a href="../../da/d7f/CSBMLExporter_8h_source.html#l00063">CSBMLExporter.h:63</a></div></div>
<div class="ttc" id="classCMetab_html_a9774853fea3fd6c9b15ecd26df7ab349"><div class="ttname"><a href="../../dc/d44/classCMetab.html#a9774853fea3fd6c9b15ecd26df7ab349">CMetab::getCompartment</a></div><div class="ttdeci">const CCompartment * getCompartment() const </div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d70/CMetab_8cpp_source.html#l00222">CMetab.cpp:222</a></div></div>
<div class="ttc" id="classCEvaluationTree_html_a542e592cb978819d30a6da627411ba91"><div class="ttname"><a href="../../d1/d50/classCEvaluationTree.html#a542e592cb978819d30a6da627411ba91">CEvaluationTree::getRoot</a></div><div class="ttdeci">CEvaluationNode * getRoot()</div><div class="ttdef"><b>Definition:</b> <a href="../../da/d55/CEvaluationTree_8cpp_source.html#l00610">CEvaluationTree.cpp:610</a></div></div>
<div class="ttc" id="classCModelEntity_html_a81973823a591e58112161570d7abac10"><div class="ttname"><a href="../../d0/da0/classCModelEntity.html#a81973823a591e58112161570d7abac10">CModelEntity::getInitialExpressionPtr</a></div><div class="ttdeci">const CExpression * getInitialExpressionPtr() const </div><div class="ttdef"><b>Definition:</b> <a href="../../d8/da3/CModelValue_8cpp_source.html#l00294">CModelValue.cpp:294</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a165664a6805421e7bf448ccd3604b7ed"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d3/d05/CChemEqParser__yacc_8cpp.html#aa76fec002b4ba91adc88f68d56ba730c">void</a> CSBMLExporter::createInitialAssignments </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d4/d18/classCCopasiDataModel.html">CCopasiDataModel</a> &amp;&#160;</td>
          <td class="paramname"><em>dataModel</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Creates the initial assignments for the model. </p>

<p>Definition at line <a class="el" href="../../d5/d2f/CSBMLExporter_8cpp_source.html#l01650">1650</a> of file <a class="el" href="../../d5/d2f/CSBMLExporter_8cpp_source.html">CSBMLExporter.cpp</a>.</p>

<p>References <a class="el" href="../../df/d80/classCSBMLExporter.html#a2f052fa99d8b6695c0b7cf12d21f7833">createInitialAssignment()</a>, and <a class="el" href="../../df/d80/classCSBMLExporter.html#a1b30687327c5f035db028165254de116">mInitialAssignmentVector</a>.</p>

<p>Referenced by <a class="el" href="../../df/d80/classCSBMLExporter.html#a2b680d670c11c7c70a45bc12e236b2e8">createSBMLDocument()</a>.</p>
<div class="fragment"><div class="line"><a name="l01651"></a><span class="lineno"> 1651</span>&#160;{</div>
<div class="line"><a name="l01652"></a><span class="lineno"> 1652</span>&#160;  <span class="comment">// make sure the mInitialAssignmentVector has been filled already</span></div>
<div class="line"><a name="l01653"></a><span class="lineno"> 1653</span>&#160;</div>
<div class="line"><a name="l01654"></a><span class="lineno"> 1654</span>&#160;  <span class="comment">// create the initial assignments</span></div>
<div class="line"><a name="l01655"></a><span class="lineno"> 1655</span>&#160;  <span class="keywordtype">size_t</span> i, iMax = this-&gt;<a class="code" href="../../df/d80/classCSBMLExporter.html#a1b30687327c5f035db028165254de116">mInitialAssignmentVector</a>.size();</div>
<div class="line"><a name="l01656"></a><span class="lineno"> 1656</span>&#160;  <span class="keyword">const</span> <a class="code" href="../../d0/da0/classCModelEntity.html">CModelEntity</a>* pME = NULL;</div>
<div class="line"><a name="l01657"></a><span class="lineno"> 1657</span>&#160;</div>
<div class="line"><a name="l01658"></a><span class="lineno"> 1658</span>&#160;  <span class="keywordflow">for</span> (i = 0; i &lt; iMax; ++i)</div>
<div class="line"><a name="l01659"></a><span class="lineno"> 1659</span>&#160;    {</div>
<div class="line"><a name="l01660"></a><span class="lineno"> 1660</span>&#160;      pME = <a class="code" href="../../df/d80/classCSBMLExporter.html#a1b30687327c5f035db028165254de116">mInitialAssignmentVector</a>[i];</div>
<div class="line"><a name="l01661"></a><span class="lineno"> 1661</span>&#160;      assert(pME != NULL);</div>
<div class="line"><a name="l01662"></a><span class="lineno"> 1662</span>&#160;</div>
<div class="line"><a name="l01663"></a><span class="lineno"> 1663</span>&#160;      <span class="keywordflow">if</span> (pME != NULL)</div>
<div class="line"><a name="l01664"></a><span class="lineno"> 1664</span>&#160;        {</div>
<div class="line"><a name="l01665"></a><span class="lineno"> 1665</span>&#160;          <a class="code" href="../../df/d80/classCSBMLExporter.html#a2f052fa99d8b6695c0b7cf12d21f7833">createInitialAssignment</a>(*pME, dataModel);</div>
<div class="line"><a name="l01666"></a><span class="lineno"> 1666</span>&#160;        }</div>
<div class="line"><a name="l01667"></a><span class="lineno"> 1667</span>&#160;    }</div>
<div class="line"><a name="l01668"></a><span class="lineno"> 1668</span>&#160;}</div>
<div class="ttc" id="classCSBMLExporter_html_a2f052fa99d8b6695c0b7cf12d21f7833"><div class="ttname"><a href="../../df/d80/classCSBMLExporter.html#a2f052fa99d8b6695c0b7cf12d21f7833">CSBMLExporter::createInitialAssignment</a></div><div class="ttdeci">void createInitialAssignment(const CModelEntity &amp;modelEntity, CCopasiDataModel &amp;dataModel)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d2f/CSBMLExporter_8cpp_source.html#l01673">CSBMLExporter.cpp:1673</a></div></div>
<div class="ttc" id="classCModelEntity_html"><div class="ttname"><a href="../../d0/da0/classCModelEntity.html">CModelEntity</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d1/da3/CModelValue_8h_source.html#l00039">CModelValue.h:39</a></div></div>
<div class="ttc" id="classCSBMLExporter_html_a1b30687327c5f035db028165254de116"><div class="ttname"><a href="../../df/d80/classCSBMLExporter.html#a1b30687327c5f035db028165254de116">CSBMLExporter::mInitialAssignmentVector</a></div><div class="ttdeci">std::vector&lt; CModelEntity * &gt; mInitialAssignmentVector</div><div class="ttdef"><b>Definition:</b> <a href="../../da/d7f/CSBMLExporter_8h_source.html#l00060">CSBMLExporter.h:60</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a6f2f5bc62cdf7e13aa17508771260ac3"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d8/d9f/classCEvaluationNode.html">CEvaluationNode</a> * CSBMLExporter::createKineticExpression </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d9/d86/classCFunction.html">CFunction</a> *&#160;</td>
          <td class="paramname"><em>pFun</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::vector&lt; std::vector&lt; std::string &gt; &gt; &amp;&#160;</td>
          <td class="paramname"><em>arguments</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Creates an expression from a given node and a set of parameter mappings by replacing the function arguments with the parameters. static CEvaluationNode* createExpressionTree(const CEvaluationNode* const pNode, const std::map&lt;std::string, std::string&gt;&amp; parameterMap, const <a class="el" href="../../d4/d18/classCCopasiDataModel.html">CCopasiDataModel</a>&amp; dataModel); Creates an expression from a given function and a set of parameters by replacing the function arguments with the parameters. static CEvaluationNode* createExpressionTree(const CFunction* const pFun, const std::vector&lt;std::vector&lt;std::string&gt; &gt;&amp; arguments, const <a class="el" href="../../d4/d18/classCCopasiDataModel.html">CCopasiDataModel</a>&amp; dataModel); Create an expression that corresponds to a kinetic law. If the kinetic law was mass action, the expression is a mass action term , otherwise it is a function call. </p>

<p>Definition at line <a class="el" href="../../d5/d2f/CSBMLExporter_8cpp_source.html#l04802">4802</a> of file <a class="el" href="../../d5/d2f/CSBMLExporter_8cpp_source.html">CSBMLExporter.cpp</a>.</p>

<p>References <a class="el" href="../../df/d44/classCEvaluationNodeCall.html#a6147ec0eb9c3a60469965d9ec5bc4b11">CEvaluationNodeCall::addChild()</a>, <a class="el" href="../../d8/d28/classCEvaluationNodeObject.html#ac395d4a167d9c1848c3872ee94074d86af646af56f5c9953bce5ba78b399fee72">CEvaluationNodeObject::CN</a>, <a class="el" href="../../df/d80/classCSBMLExporter.html#a6aad2107b13073b09b9ca92aa465e094">createMassActionExpression()</a>, <a class="el" href="../../d9/d2d/CCopasiMessage_8h.html#a1e835c01335d6f956a78adf106ed1b15">fatalError</a>, <a class="el" href="../../df/d44/classCEvaluationNodeCall.html#a93a04c7bc0f741a21aaf2931c1a48a5aaa66852977bcd9de920db5669776940f1">CEvaluationNodeCall::FUNCTION</a>, <a class="el" href="../../d8/d5c/classCKeyFactory.html#a49fdca380d37f99f3195103465ba4c0f">CKeyFactory::get()</a>, <a class="el" href="../../d4/da8/classCCopasiObject.html#a1f5e2625716c1ac192561974bd17b3cb">CCopasiObject::getCN()</a>, <a class="el" href="../../d3/db1/classCCopasiRootContainer.html#acfd634e031d3fb4358b24bfcdd26830e">CCopasiRootContainer::getKeyFactory()</a>, <a class="el" href="../../d4/da8/classCCopasiObject.html#a879d6756b51f6b58d307940e1343bd10">CCopasiObject::getObjectName()</a>, <a class="el" href="../../d1/d50/classCEvaluationTree.html#a09abd66dddd22b300853b0e2de8f392f">CEvaluationTree::getType()</a>, <a class="el" href="../../d9/d86/classCFunction.html#ab30b89a5603c9e0aa76b9cf2345f2e57">CFunction::getVariables()</a>, <a class="el" href="../../d9/d86/classCFunction.html#a77f5a02ec50b4a83ce014aebe52bb924">CFunction::isReversible()</a>, <a class="el" href="../../d1/d50/classCEvaluationTree.html#a438862de69016cbade534b1ed597fc70a7c35a8b4884ef60b8dd1d32dfbd08a20">CEvaluationTree::MassAction</a>, <a class="el" href="../../df/d80/classCSBMLExporter.html#a4d5bc6e05778ebe1653f70b2c968564e">mUsedFunctions</a>, <a class="el" href="../../d7/de4/CQTSSAResultSubWidget_8cpp.html#a015b908fb74f75922e0bc448af09d9d1">pResult</a>, <a class="el" href="../../d0/d1f/classCFunctionParameters.html#a25eebb18490f1fd552a39faae2120453">CFunctionParameters::size()</a>, and <a class="el" href="../../dc/df8/copasi_8h.html#a4cd90bcaf1a35317678ec47713b5f629a8a0273b6da872343bab7a1278a8aa87e">TriTrue</a>.</p>

<p>Referenced by <a class="el" href="../../df/d80/classCSBMLExporter.html#a1ac2102cd8012a24253ac6edd0379198">createKineticLaw()</a>.</p>
<div class="fragment"><div class="line"><a name="l04803"></a><span class="lineno"> 4803</span>&#160;{</div>
<div class="line"><a name="l04804"></a><span class="lineno"> 4804</span>&#160;  <span class="keywordflow">if</span> (!pFun || pFun-&gt;<a class="code" href="../../d9/d86/classCFunction.html#ab30b89a5603c9e0aa76b9cf2345f2e57">getVariables</a>().<a class="code" href="../../d0/d1f/classCFunctionParameters.html#a25eebb18490f1fd552a39faae2120453">size</a>() != arguments.size()) <a class="code" href="../../d9/d2d/CCopasiMessage_8h.html#a1e835c01335d6f956a78adf106ed1b15">fatalError</a>();</div>
<div class="line"><a name="l04805"></a><span class="lineno"> 4805</span>&#160;</div>
<div class="line"><a name="l04806"></a><span class="lineno"> 4806</span>&#160;  <a class="code" href="../../d8/d9f/classCEvaluationNode.html">CEvaluationNode</a>* <a class="code" href="../../d7/de4/CQTSSAResultSubWidget_8cpp.html#a015b908fb74f75922e0bc448af09d9d1">pResult</a>;</div>
<div class="line"><a name="l04807"></a><span class="lineno"> 4807</span>&#160;</div>
<div class="line"><a name="l04808"></a><span class="lineno"> 4808</span>&#160;  <span class="keywordflow">if</span> (pFun-&gt;<a class="code" href="../../d1/d50/classCEvaluationTree.html#a09abd66dddd22b300853b0e2de8f392f">getType</a>() == <a class="code" href="../../d1/d50/classCEvaluationTree.html#a438862de69016cbade534b1ed597fc70a7c35a8b4884ef60b8dd1d32dfbd08a20">CEvaluationTree::MassAction</a>)</div>
<div class="line"><a name="l04809"></a><span class="lineno"> 4809</span>&#160;    {</div>
<div class="line"><a name="l04810"></a><span class="lineno"> 4810</span>&#160;      pResult = <a class="code" href="../../df/d80/classCSBMLExporter.html#a6aad2107b13073b09b9ca92aa465e094">CSBMLExporter::createMassActionExpression</a>(arguments, pFun-&gt;<a class="code" href="../../d9/d86/classCFunction.html#a77f5a02ec50b4a83ce014aebe52bb924">isReversible</a>() == <a class="code" href="../../dc/df8/copasi_8h.html#a4cd90bcaf1a35317678ec47713b5f629a8a0273b6da872343bab7a1278a8aa87e">TriTrue</a>);</div>
<div class="line"><a name="l04811"></a><span class="lineno"> 4811</span>&#160;    }</div>
<div class="line"><a name="l04812"></a><span class="lineno"> 4812</span>&#160;  <span class="keywordflow">else</span></div>
<div class="line"><a name="l04813"></a><span class="lineno"> 4813</span>&#160;    {</div>
<div class="line"><a name="l04814"></a><span class="lineno"> 4814</span>&#160;      <a class="code" href="../../df/d44/classCEvaluationNodeCall.html">CEvaluationNodeCall</a>* pFunctionCall = <span class="keyword">new</span> <a class="code" href="../../df/d44/classCEvaluationNodeCall.html">CEvaluationNodeCall</a>(<a class="code" href="../../df/d44/classCEvaluationNodeCall.html#a93a04c7bc0f741a21aaf2931c1a48a5aaa66852977bcd9de920db5669776940f1">CEvaluationNodeCall::FUNCTION</a>, pFun-&gt;<a class="code" href="../../d4/da8/classCCopasiObject.html#a879d6756b51f6b58d307940e1343bd10">getObjectName</a>());</div>
<div class="line"><a name="l04815"></a><span class="lineno"> 4815</span>&#160;      this-&gt;<a class="code" href="../../df/d80/classCSBMLExporter.html#a4d5bc6e05778ebe1653f70b2c968564e">mUsedFunctions</a>.insert(pFun);</div>
<div class="line"><a name="l04816"></a><span class="lineno"> 4816</span>&#160;      <span class="keywordtype">size_t</span> i, iMax = arguments.size();</div>
<div class="line"><a name="l04817"></a><span class="lineno"> 4817</span>&#160;      std::string cn;</div>
<div class="line"><a name="l04818"></a><span class="lineno"> 4818</span>&#160;</div>
<div class="line"><a name="l04819"></a><span class="lineno"> 4819</span>&#160;      <span class="keywordflow">for</span> (i = 0; i &lt; iMax; ++i)</div>
<div class="line"><a name="l04820"></a><span class="lineno"> 4820</span>&#160;        {</div>
<div class="line"><a name="l04821"></a><span class="lineno"> 4821</span>&#160;          <span class="keywordflow">if</span> (arguments[i].size() != 1) <a class="code" href="../../d9/d2d/CCopasiMessage_8h.html#a1e835c01335d6f956a78adf106ed1b15">fatalError</a>(); <span class="comment">// we can&#39;t have arrays here.</span></div>
<div class="line"><a name="l04822"></a><span class="lineno"> 4822</span>&#160;</div>
<div class="line"><a name="l04823"></a><span class="lineno"> 4823</span>&#160;          <span class="keyword">const</span> <a class="code" href="../../d4/da8/classCCopasiObject.html">CCopasiObject</a>* pObject = <a class="code" href="../../d3/db1/classCCopasiRootContainer.html#acfd634e031d3fb4358b24bfcdd26830e">CCopasiRootContainer::getKeyFactory</a>()-&gt;<a class="code" href="../../d8/d5c/classCKeyFactory.html#a49fdca380d37f99f3195103465ba4c0f">get</a>(arguments[i][0]);</div>
<div class="line"><a name="l04824"></a><span class="lineno"> 4824</span>&#160;</div>
<div class="line"><a name="l04825"></a><span class="lineno"> 4825</span>&#160;          <span class="keywordflow">if</span> (!pObject) <a class="code" href="../../d9/d2d/CCopasiMessage_8h.html#a1e835c01335d6f956a78adf106ed1b15">fatalError</a>();</div>
<div class="line"><a name="l04826"></a><span class="lineno"> 4826</span>&#160;</div>
<div class="line"><a name="l04827"></a><span class="lineno"> 4827</span>&#160;          <span class="keywordflow">if</span> (dynamic_cast&lt;const CModel*&gt;(pObject) != NULL)</div>
<div class="line"><a name="l04828"></a><span class="lineno"> 4828</span>&#160;            {</div>
<div class="line"><a name="l04829"></a><span class="lineno"> 4829</span>&#160;              cn = <span class="stringliteral">&quot;&lt;&quot;</span> + pObject-&gt;<a class="code" href="../../d4/da8/classCCopasiObject.html#a1f5e2625716c1ac192561974bd17b3cb">getCN</a>() + <span class="stringliteral">&quot;,Reference=Time&gt;&quot;</span>;</div>
<div class="line"><a name="l04830"></a><span class="lineno"> 4830</span>&#160;            }</div>
<div class="line"><a name="l04831"></a><span class="lineno"> 4831</span>&#160;          <span class="keywordflow">else</span> <span class="keywordflow">if</span> (dynamic_cast&lt;const CCompartment*&gt;(pObject) != NULL)</div>
<div class="line"><a name="l04832"></a><span class="lineno"> 4832</span>&#160;            {</div>
<div class="line"><a name="l04833"></a><span class="lineno"> 4833</span>&#160;              cn = <span class="stringliteral">&quot;&lt;&quot;</span> + pObject-&gt;<a class="code" href="../../d4/da8/classCCopasiObject.html#a1f5e2625716c1ac192561974bd17b3cb">getCN</a>() + <span class="stringliteral">&quot;,Reference=Volume&gt;&quot;</span>;</div>
<div class="line"><a name="l04834"></a><span class="lineno"> 4834</span>&#160;            }</div>
<div class="line"><a name="l04835"></a><span class="lineno"> 4835</span>&#160;          <span class="keywordflow">else</span> <span class="keywordflow">if</span> (dynamic_cast&lt;const CMetab*&gt;(pObject) != NULL)</div>
<div class="line"><a name="l04836"></a><span class="lineno"> 4836</span>&#160;            {</div>
<div class="line"><a name="l04837"></a><span class="lineno"> 4837</span>&#160;              cn = <span class="stringliteral">&quot;&lt;&quot;</span> + pObject-&gt;<a class="code" href="../../d4/da8/classCCopasiObject.html#a1f5e2625716c1ac192561974bd17b3cb">getCN</a>() + <span class="stringliteral">&quot;,Reference=Concentration&gt;&quot;</span>;</div>
<div class="line"><a name="l04838"></a><span class="lineno"> 4838</span>&#160;            }</div>
<div class="line"><a name="l04839"></a><span class="lineno"> 4839</span>&#160;          <span class="keywordflow">else</span> <span class="keywordflow">if</span> (dynamic_cast&lt;const CModelValue*&gt;(pObject) != NULL)</div>
<div class="line"><a name="l04840"></a><span class="lineno"> 4840</span>&#160;            {</div>
<div class="line"><a name="l04841"></a><span class="lineno"> 4841</span>&#160;              cn = <span class="stringliteral">&quot;&lt;&quot;</span> + pObject-&gt;<a class="code" href="../../d4/da8/classCCopasiObject.html#a1f5e2625716c1ac192561974bd17b3cb">getCN</a>() + <span class="stringliteral">&quot;,Reference=Value&gt;&quot;</span>;</div>
<div class="line"><a name="l04842"></a><span class="lineno"> 4842</span>&#160;            }</div>
<div class="line"><a name="l04843"></a><span class="lineno"> 4843</span>&#160;          <span class="keywordflow">else</span> <span class="keywordflow">if</span> (dynamic_cast&lt;const CReaction*&gt;(pObject) != NULL)</div>
<div class="line"><a name="l04844"></a><span class="lineno"> 4844</span>&#160;            {</div>
<div class="line"><a name="l04845"></a><span class="lineno"> 4845</span>&#160;              cn = <span class="stringliteral">&quot;&lt;&quot;</span> + pObject-&gt;<a class="code" href="../../d4/da8/classCCopasiObject.html#a1f5e2625716c1ac192561974bd17b3cb">getCN</a>() + <span class="stringliteral">&quot;,Reference=Flux&gt;&quot;</span>;</div>
<div class="line"><a name="l04846"></a><span class="lineno"> 4846</span>&#160;            }</div>
<div class="line"><a name="l04847"></a><span class="lineno"> 4847</span>&#160;          <span class="keywordflow">else</span> <span class="keywordflow">if</span> (dynamic_cast&lt;const CCopasiParameter*&gt;(pObject) != NULL)</div>
<div class="line"><a name="l04848"></a><span class="lineno"> 4848</span>&#160;            {</div>
<div class="line"><a name="l04849"></a><span class="lineno"> 4849</span>&#160;              <span class="comment">// local parameter of a reaction</span></div>
<div class="line"><a name="l04850"></a><span class="lineno"> 4850</span>&#160;              <span class="comment">// must set the node content to the SBML id if the parameter</span></div>
<div class="line"><a name="l04851"></a><span class="lineno"> 4851</span>&#160;              cn = <span class="stringliteral">&quot;&lt;&quot;</span> + pObject-&gt;<a class="code" href="../../d4/da8/classCCopasiObject.html#a1f5e2625716c1ac192561974bd17b3cb">getCN</a>() + <span class="stringliteral">&quot;&gt;&quot;</span>;</div>
<div class="line"><a name="l04852"></a><span class="lineno"> 4852</span>&#160;            }</div>
<div class="line"><a name="l04853"></a><span class="lineno"> 4853</span>&#160;          <span class="keywordflow">else</span></div>
<div class="line"><a name="l04854"></a><span class="lineno"> 4854</span>&#160;            {</div>
<div class="line"><a name="l04855"></a><span class="lineno"> 4855</span>&#160;              cn = <span class="stringliteral">&quot;&lt;&quot;</span> + pObject-&gt;<a class="code" href="../../d4/da8/classCCopasiObject.html#a1f5e2625716c1ac192561974bd17b3cb">getCN</a>() + <span class="stringliteral">&quot;&gt;&quot;</span>;</div>
<div class="line"><a name="l04856"></a><span class="lineno"> 4856</span>&#160;            }</div>
<div class="line"><a name="l04857"></a><span class="lineno"> 4857</span>&#160;</div>
<div class="line"><a name="l04858"></a><span class="lineno"> 4858</span>&#160;          pFunctionCall-&gt;<a class="code" href="../../df/d44/classCEvaluationNodeCall.html#a6147ec0eb9c3a60469965d9ec5bc4b11">addChild</a>(<span class="keyword">new</span> <a class="code" href="../../d8/d28/classCEvaluationNodeObject.html">CEvaluationNodeObject</a>(<a class="code" href="../../d8/d28/classCEvaluationNodeObject.html#ac395d4a167d9c1848c3872ee94074d86af646af56f5c9953bce5ba78b399fee72">CEvaluationNodeObject::CN</a>, cn));</div>
<div class="line"><a name="l04859"></a><span class="lineno"> 4859</span>&#160;        }</div>
<div class="line"><a name="l04860"></a><span class="lineno"> 4860</span>&#160;</div>
<div class="line"><a name="l04861"></a><span class="lineno"> 4861</span>&#160;      pResult = pFunctionCall;</div>
<div class="line"><a name="l04862"></a><span class="lineno"> 4862</span>&#160;    }</div>
<div class="line"><a name="l04863"></a><span class="lineno"> 4863</span>&#160;</div>
<div class="line"><a name="l04864"></a><span class="lineno"> 4864</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="../../d7/de4/CQTSSAResultSubWidget_8cpp.html#a015b908fb74f75922e0bc448af09d9d1">pResult</a>;</div>
<div class="line"><a name="l04865"></a><span class="lineno"> 4865</span>&#160;}</div>
<div class="ttc" id="classCFunctionParameters_html_a25eebb18490f1fd552a39faae2120453"><div class="ttname"><a href="../../d0/d1f/classCFunctionParameters.html#a25eebb18490f1fd552a39faae2120453">CFunctionParameters::size</a></div><div class="ttdeci">size_t size() const </div><div class="ttdef"><b>Definition:</b> <a href="../../d5/db1/CFunctionParameters_8cpp_source.html#l00100">CFunctionParameters.cpp:100</a></div></div>
<div class="ttc" id="classCEvaluationNodeCall_html_a6147ec0eb9c3a60469965d9ec5bc4b11"><div class="ttname"><a href="../../df/d44/classCEvaluationNodeCall.html#a6147ec0eb9c3a60469965d9ec5bc4b11">CEvaluationNodeCall::addChild</a></div><div class="ttdeci">virtual bool addChild(CCopasiNode&lt; Data &gt; *pChild, CCopasiNode&lt; Data &gt; *pAfter=NULL)</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d90/CEvaluationNodeCall_8cpp_source.html#l00465">CEvaluationNodeCall.cpp:465</a></div></div>
<div class="ttc" id="classCCopasiObject_html_a1f5e2625716c1ac192561974bd17b3cb"><div class="ttname"><a href="../../d4/da8/classCCopasiObject.html#a1f5e2625716c1ac192561974bd17b3cb">CCopasiObject::getCN</a></div><div class="ttdeci">virtual CCopasiObjectName getCN() const </div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d22/CCopasiObject_8cpp_source.html#l00103">CCopasiObject.cpp:103</a></div></div>
<div class="ttc" id="classCCopasiObject_html_a879d6756b51f6b58d307940e1343bd10"><div class="ttname"><a href="../../d4/da8/classCCopasiObject.html#a879d6756b51f6b58d307940e1343bd10">CCopasiObject::getObjectName</a></div><div class="ttdeci">const std::string &amp; getObjectName() const </div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d22/CCopasiObject_8cpp_source.html#l00258">CCopasiObject.cpp:258</a></div></div>
<div class="ttc" id="classCKeyFactory_html_a49fdca380d37f99f3195103465ba4c0f"><div class="ttname"><a href="../../d8/d5c/classCKeyFactory.html#a49fdca380d37f99f3195103465ba4c0f">CKeyFactory::get</a></div><div class="ttdeci">CCopasiObject * get(const std::string &amp;key)</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dc8/CKeyFactory_8cpp_source.html#l00235">CKeyFactory.cpp:235</a></div></div>
<div class="ttc" id="CCopasiMessage_8h_html_a1e835c01335d6f956a78adf106ed1b15"><div class="ttname"><a href="../../d9/d2d/CCopasiMessage_8h.html#a1e835c01335d6f956a78adf106ed1b15">fatalError</a></div><div class="ttdeci">#define fatalError()</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d2d/CCopasiMessage_8h_source.html#l00074">CCopasiMessage.h:74</a></div></div>
<div class="ttc" id="classCEvaluationNodeCall_html"><div class="ttname"><a href="../../df/d44/classCEvaluationNodeCall.html">CEvaluationNodeCall</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d90/CEvaluationNodeCall_8h_source.html#l00030">CEvaluationNodeCall.h:30</a></div></div>
<div class="ttc" id="classCEvaluationTree_html_a09abd66dddd22b300853b0e2de8f392f"><div class="ttname"><a href="../../d1/d50/classCEvaluationTree.html#a09abd66dddd22b300853b0e2de8f392f">CEvaluationTree::getType</a></div><div class="ttdeci">const CEvaluationTree::Type &amp; getType() const </div><div class="ttdef"><b>Definition:</b> <a href="../../da/d55/CEvaluationTree_8cpp_source.html#l00167">CEvaluationTree.cpp:167</a></div></div>
<div class="ttc" id="classCCopasiObject_html"><div class="ttname"><a href="../../d4/da8/classCCopasiObject.html">CCopasiObject</a></div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d9f/CCopasiObject_8h_source.html#l00216">CCopasiObject.h:216</a></div></div>
<div class="ttc" id="classCEvaluationTree_html_a438862de69016cbade534b1ed597fc70a7c35a8b4884ef60b8dd1d32dfbd08a20"><div class="ttname"><a href="../../d1/d50/classCEvaluationTree.html#a438862de69016cbade534b1ed597fc70a7c35a8b4884ef60b8dd1d32dfbd08a20">CEvaluationTree::MassAction</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d46/CEvaluationTree_8h_source.html#l00038">CEvaluationTree.h:38</a></div></div>
<div class="ttc" id="classCEvaluationNodeObject_html_ac395d4a167d9c1848c3872ee94074d86af646af56f5c9953bce5ba78b399fee72"><div class="ttname"><a href="../../d8/d28/classCEvaluationNodeObject.html#ac395d4a167d9c1848c3872ee94074d86af646af56f5c9953bce5ba78b399fee72">CEvaluationNodeObject::CN</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d59/CEvaluationNodeObject_8h_source.html#l00044">CEvaluationNodeObject.h:44</a></div></div>
<div class="ttc" id="classCFunction_html_a77f5a02ec50b4a83ce014aebe52bb924"><div class="ttname"><a href="../../d9/d86/classCFunction.html#a77f5a02ec50b4a83ce014aebe52bb924">CFunction::isReversible</a></div><div class="ttdeci">const TriLogic &amp; isReversible() const </div><div class="ttdef"><b>Definition:</b> <a href="../../d6/db0/CFunction_8cpp_source.html#l00145">CFunction.cpp:145</a></div></div>
<div class="ttc" id="CQTSSAResultSubWidget_8cpp_html_a015b908fb74f75922e0bc448af09d9d1"><div class="ttname"><a href="../../d7/de4/CQTSSAResultSubWidget_8cpp.html#a015b908fb74f75922e0bc448af09d9d1">pResult</a></div><div class="ttdeci">const CArrayAnnotation * pResult</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/de4/CQTSSAResultSubWidget_8cpp_source.html#l00028">CQTSSAResultSubWidget.cpp:28</a></div></div>
<div class="ttc" id="classCEvaluationNode_html"><div class="ttname"><a href="../../d8/d9f/classCEvaluationNode.html">CEvaluationNode</a></div><div class="ttdef"><b>Definition:</b> <a href="../../de/dfa/CEvaluationNode_8h_source.html#l00033">CEvaluationNode.h:33</a></div></div>
<div class="ttc" id="classCCopasiRootContainer_html_acfd634e031d3fb4358b24bfcdd26830e"><div class="ttname"><a href="../../d3/db1/classCCopasiRootContainer.html#acfd634e031d3fb4358b24bfcdd26830e">CCopasiRootContainer::getKeyFactory</a></div><div class="ttdeci">static CKeyFactory * getKeyFactory()</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/d4b/CCopasiRootContainer_8cpp_source.html#l00163">CCopasiRootContainer.cpp:163</a></div></div>
<div class="ttc" id="classCSBMLExporter_html_a6aad2107b13073b09b9ca92aa465e094"><div class="ttname"><a href="../../df/d80/classCSBMLExporter.html#a6aad2107b13073b09b9ca92aa465e094">CSBMLExporter::createMassActionExpression</a></div><div class="ttdeci">static CEvaluationNode * createMassActionExpression(const std::vector&lt; std::vector&lt; std::string &gt; &gt; &amp;arguments, bool isReversible)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d2f/CSBMLExporter_8cpp_source.html#l05907">CSBMLExporter.cpp:5907</a></div></div>
<div class="ttc" id="classCEvaluationNodeObject_html"><div class="ttname"><a href="../../d8/d28/classCEvaluationNodeObject.html">CEvaluationNodeObject</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d59/CEvaluationNodeObject_8h_source.html#l00034">CEvaluationNodeObject.h:34</a></div></div>
<div class="ttc" id="classCEvaluationNodeCall_html_a93a04c7bc0f741a21aaf2931c1a48a5aaa66852977bcd9de920db5669776940f1"><div class="ttname"><a href="../../df/d44/classCEvaluationNodeCall.html#a93a04c7bc0f741a21aaf2931c1a48a5aaa66852977bcd9de920db5669776940f1">CEvaluationNodeCall::FUNCTION</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d90/CEvaluationNodeCall_8h_source.html#l00039">CEvaluationNodeCall.h:39</a></div></div>
<div class="ttc" id="copasi_8h_html_a4cd90bcaf1a35317678ec47713b5f629a8a0273b6da872343bab7a1278a8aa87e"><div class="ttname"><a href="../../dc/df8/copasi_8h.html#a4cd90bcaf1a35317678ec47713b5f629a8a0273b6da872343bab7a1278a8aa87e">TriTrue</a></div><div class="ttdef"><b>Definition:</b> <a href="../../dc/df8/copasi_8h_source.html#l00129">copasi.h:129</a></div></div>
<div class="ttc" id="classCSBMLExporter_html_a4d5bc6e05778ebe1653f70b2c968564e"><div class="ttname"><a href="../../df/d80/classCSBMLExporter.html#a4d5bc6e05778ebe1653f70b2c968564e">CSBMLExporter::mUsedFunctions</a></div><div class="ttdeci">std::set&lt; CFunction * &gt; mUsedFunctions</div><div class="ttdef"><b>Definition:</b> <a href="../../da/d7f/CSBMLExporter_8h_source.html#l00063">CSBMLExporter.h:63</a></div></div>
<div class="ttc" id="classCFunction_html_ab30b89a5603c9e0aa76b9cf2345f2e57"><div class="ttname"><a href="../../d9/d86/classCFunction.html#ab30b89a5603c9e0aa76b9cf2345f2e57">CFunction::getVariables</a></div><div class="ttdeci">CFunctionParameters &amp; getVariables()</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/db0/CFunction_8cpp_source.html#l00148">CFunction.cpp:148</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a1ac2102cd8012a24253ac6edd0379198"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">KineticLaw * CSBMLExporter::createKineticLaw </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d4/dcf/classCReaction.html">CReaction</a> &amp;&#160;</td>
          <td class="paramname"><em>reaction</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d4/d18/classCCopasiDataModel.html">CCopasiDataModel</a> &amp;&#160;</td>
          <td class="paramname"><em>dataModel</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned int&#160;</td>
          <td class="paramname"><em>level</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned int&#160;</td>
          <td class="paramname"><em>version</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Create the kinetic law for the given reaction. On failure NULL is returned. </p>

<p>Definition at line <a class="el" href="../../d5/d2f/CSBMLExporter_8cpp_source.html#l04584">4584</a> of file <a class="el" href="../../d5/d2f/CSBMLExporter_8cpp_source.html">CSBMLExporter.cpp</a>.</p>

<p>References <a class="el" href="../../df/d80/classCSBMLExporter.html#ac61681ecd68ba2288e21ff1584ad20af">convertToASTNode()</a>, <a class="el" href="../../df/d80/classCSBMLExporter.html#a6f2f5bc62cdf7e13aa17508771260ac3">createKineticExpression()</a>, <a class="el" href="../../d9/d2d/CCopasiMessage_8h.html#a1e835c01335d6f956a78adf106ed1b15">fatalError</a>, <a class="el" href="../../d8/d5c/classCKeyFactory.html#a49fdca380d37f99f3195103465ba4c0f">CKeyFactory::get()</a>, <a class="el" href="../../d4/dcf/classCReaction.html#ade6a66098c2f04f6e91d916029fe23e2">CReaction::getChemEq()</a>, <a class="el" href="../../d5/db6/classCCopasiParameter.html#acb7d9fc7eca10f6fa48542576e8c4aaa">CCopasiParameter::getCN()</a>, <a class="el" href="../../d4/dcf/classCReaction.html#aef23a5812d844679f24d78e3a8db433e">CReaction::getCompartmentNumber()</a>, <a class="el" href="../../d4/dd4/classCCompartment.html#a977268782cb7d6cd7a01cab642b45c09">CCompartment::getDimensionality()</a>, <a class="el" href="../../d4/dcf/classCReaction.html#a5028bbc1b79e8a72071c7222cfeef9a2">CReaction::getFunction()</a>, <a class="el" href="../../d4/dcf/classCReaction.html#a20ee692b525e72782f4e26ec17e1bb66">CReaction::getFunctionParameters()</a>, <a class="el" href="../../d3/db1/classCCopasiRootContainer.html#acfd634e031d3fb4358b24bfcdd26830e">CCopasiRootContainer::getKeyFactory()</a>, <a class="el" href="../../d4/da8/classCCopasiObject.html#a879d6756b51f6b58d307940e1343bd10">CCopasiObject::getObjectName()</a>, <a class="el" href="../../d4/dcf/classCReaction.html#a01dfa1503da893c56b664b63f5b82efd">CReaction::getParameterMapping()</a>, <a class="el" href="../../d4/dcf/classCReaction.html#a875f55a9dd2d75a62c25d9415c7472a2">CReaction::getParameterMappings()</a>, <a class="el" href="../../d4/dcf/classCReaction.html#abf0fcd06c00d7a110472ce75df58a7fb">CReaction::getParameterValue()</a>, <a class="el" href="../../d1/dc0/classCChemEq.html#ac7001192479e074d3696734187ec50d8">CChemEq::getProducts()</a>, <a class="el" href="../../d0/da0/classCModelEntity.html#a5c8d403c6027f59d1cc3e1ccc2d9efac">CModelEntity::getSBMLId()</a>, <a class="el" href="../../d1/dc0/classCChemEq.html#abbcd10e89a632f5a7c225fee6975c6d9">CChemEq::getSubstrates()</a>, <a class="el" href="../../d2/d4b/classCFunctionParameter.html#a1b8ae9a02716b85cb04c2c1979e87286">CFunctionParameter::getUsage()</a>, <a class="el" href="../../df/d80/classCSBMLExporter.html#a2ed7dc522ad9ad1a743a7c02d976f519">isDividedByVolume()</a>, <a class="el" href="../../d4/dcf/classCReaction.html#a67d6e12d9e96c318132e309ad1fd1b2a">CReaction::isLocalParameter()</a>, <a class="el" href="../../d9/d86/classCFunction.html#a77f5a02ec50b4a83ce014aebe52bb924">CFunction::isReversible()</a>, <a class="el" href="../../df/d80/classCSBMLExporter.html#a2dbac4a8c7a2aa7a6a462b184c5430bf">mParameterReplacementMap</a>, <a class="el" href="../../df/d80/classCSBMLExporter.html#a1541a69b36b8e864883e49f0de244f81">mpSBMLDocument</a>, <a class="el" href="../../df/d80/classCSBMLExporter.html#aba959efc152f63f1709d5de60e97a651">mSBMLLevel</a>, <a class="el" href="../../d2/d4b/classCFunctionParameter.html#ab0b7b0afa5fb363d6000f102b8590a1babe45d3446d5eecf154656899eb0e8de1">CFunctionParameter::PARAMETER</a>, <a class="el" href="../../df/d80/classCSBMLExporter.html#a030225cc274a7c545f010ba2ba7f13c3">replaceSpeciesReferences()</a>, <a class="el" href="../../df/d80/classCSBMLExporter.html#aeb99c1d4aabfd00e1d65eac1992e4b97">restore_local_parameters()</a>, <a class="el" href="../../d0/d1f/classCFunctionParameters.html#a25eebb18490f1fd552a39faae2120453">CFunctionParameters::size()</a>, <a class="el" href="../../d8/d2c/classCCopasiVector.html#ab7e0e37022783eddfe85abf9339b05c0">CCopasiVector&lt; T &gt;::size()</a>, <a class="el" href="../../dc/df8/copasi_8h.html#a4cd90bcaf1a35317678ec47713b5f629a358d04006ba010a4e9258117031fb00c">TriUnspecified</a>, and <a class="el" href="../../d2/d4b/classCFunctionParameter.html#ab0b7b0afa5fb363d6000f102b8590a1ba3ae891357cbcf064f1bde6174a6e75eb">CFunctionParameter::VARIABLE</a>.</p>

<p>Referenced by <a class="el" href="../../df/d80/classCSBMLExporter.html#a9a2740279f7cccf5ae7b404b995ec9fa">createReaction()</a>.</p>
<div class="fragment"><div class="line"><a name="l04585"></a><span class="lineno"> 4585</span>&#160;{</div>
<div class="line"><a name="l04586"></a><span class="lineno"> 4586</span>&#160;  KineticLaw* pKLaw = NULL;</div>
<div class="line"><a name="l04587"></a><span class="lineno"> 4587</span>&#160;</div>
<div class="line"><a name="l04588"></a><span class="lineno"> 4588</span>&#160;  <span class="keywordflow">if</span> (!pKLaw)</div>
<div class="line"><a name="l04589"></a><span class="lineno"> 4589</span>&#160;    {</div>
<div class="line"><a name="l04590"></a><span class="lineno"> 4590</span>&#160;      <span class="comment">/* create a new KineticLaw */</span></div>
<div class="line"><a name="l04591"></a><span class="lineno"> 4591</span>&#160;      pKLaw = <span class="keyword">new</span> KineticLaw(level, version);</div>
<div class="line"><a name="l04592"></a><span class="lineno"> 4592</span>&#160;    }</div>
<div class="line"><a name="l04593"></a><span class="lineno"> 4593</span>&#160;</div>
<div class="line"><a name="l04594"></a><span class="lineno"> 4594</span>&#160;  <span class="comment">// create the local parameters</span></div>
<div class="line"><a name="l04595"></a><span class="lineno"> 4595</span>&#160;  <span class="keywordtype">size_t</span> i, iMax = reaction.<a class="code" href="../../d4/dcf/classCReaction.html#a20ee692b525e72782f4e26ec17e1bb66">getFunctionParameters</a>().<a class="code" href="../../d0/d1f/classCFunctionParameters.html#a25eebb18490f1fd552a39faae2120453">size</a>();</div>
<div class="line"><a name="l04596"></a><span class="lineno"> 4596</span>&#160;</div>
<div class="line"><a name="l04597"></a><span class="lineno"> 4597</span>&#160;  <span class="keywordflow">for</span> (i = 0; i &lt; iMax; ++i)</div>
<div class="line"><a name="l04598"></a><span class="lineno"> 4598</span>&#160;    {</div>
<div class="line"><a name="l04599"></a><span class="lineno"> 4599</span>&#160;      <span class="keyword">const</span> <a class="code" href="../../d2/d4b/classCFunctionParameter.html">CFunctionParameter</a>* pPara = reaction.<a class="code" href="../../d4/dcf/classCReaction.html#a20ee692b525e72782f4e26ec17e1bb66">getFunctionParameters</a>()[i];</div>
<div class="line"><a name="l04600"></a><span class="lineno"> 4600</span>&#160;      <span class="comment">// if the reaction calls a general function, all call parameters have a usage of VARIABLE</span></div>
<div class="line"><a name="l04601"></a><span class="lineno"> 4601</span>&#160;      <span class="comment">// So local parameters will also have a usage of VARIABLE instead of PARAMETER</span></div>
<div class="line"><a name="l04602"></a><span class="lineno"> 4602</span>&#160;</div>
<div class="line"><a name="l04603"></a><span class="lineno"> 4603</span>&#160;      <span class="keywordflow">if</span> (pPara-&gt;<a class="code" href="../../d2/d4b/classCFunctionParameter.html#a1b8ae9a02716b85cb04c2c1979e87286">getUsage</a>() == <a class="code" href="../../d2/d4b/classCFunctionParameter.html#ab0b7b0afa5fb363d6000f102b8590a1babe45d3446d5eecf154656899eb0e8de1">CFunctionParameter::PARAMETER</a> ||</div>
<div class="line"><a name="l04604"></a><span class="lineno"> 4604</span>&#160;          (reaction.<a class="code" href="../../d4/dcf/classCReaction.html#a5028bbc1b79e8a72071c7222cfeef9a2">getFunction</a>() != NULL &amp;&amp;</div>
<div class="line"><a name="l04605"></a><span class="lineno"> 4605</span>&#160;           reaction.<a class="code" href="../../d4/dcf/classCReaction.html#a5028bbc1b79e8a72071c7222cfeef9a2">getFunction</a>()-&gt;<a class="code" href="../../d9/d86/classCFunction.html#a77f5a02ec50b4a83ce014aebe52bb924">isReversible</a>() == <a class="code" href="../../dc/df8/copasi_8h.html#a4cd90bcaf1a35317678ec47713b5f629a358d04006ba010a4e9258117031fb00c">TriUnspecified</a> &amp;&amp;</div>
<div class="line"><a name="l04606"></a><span class="lineno"> 4606</span>&#160;           pPara-&gt;<a class="code" href="../../d2/d4b/classCFunctionParameter.html#a1b8ae9a02716b85cb04c2c1979e87286">getUsage</a>() == <a class="code" href="../../d2/d4b/classCFunctionParameter.html#ab0b7b0afa5fb363d6000f102b8590a1ba3ae891357cbcf064f1bde6174a6e75eb">CFunctionParameter::VARIABLE</a>))</div>
<div class="line"><a name="l04607"></a><span class="lineno"> 4607</span>&#160;        {</div>
<div class="line"><a name="l04608"></a><span class="lineno"> 4608</span>&#160;          <span class="comment">// only create a parameter if it is a local parameter,</span></div>
<div class="line"><a name="l04609"></a><span class="lineno"> 4609</span>&#160;          <span class="comment">// and if it is not in the replacement map</span></div>
<div class="line"><a name="l04610"></a><span class="lineno"> 4610</span>&#160;          <span class="comment">// otherwise the parameter already has been created</span></div>
<div class="line"><a name="l04611"></a><span class="lineno"> 4611</span>&#160;          <span class="keywordflow">if</span> (reaction.<a class="code" href="../../d4/dcf/classCReaction.html#a67d6e12d9e96c318132e309ad1fd1b2a">isLocalParameter</a>(i))</div>
<div class="line"><a name="l04612"></a><span class="lineno"> 4612</span>&#160;            {</div>
<div class="line"><a name="l04613"></a><span class="lineno"> 4613</span>&#160;              std::vector&lt;std::string&gt; v = reaction.<a class="code" href="../../d4/dcf/classCReaction.html#a01dfa1503da893c56b664b63f5b82efd">getParameterMapping</a>(pPara-&gt;<a class="code" href="../../d4/da8/classCCopasiObject.html#a879d6756b51f6b58d307940e1343bd10">getObjectName</a>());</div>
<div class="line"><a name="l04614"></a><span class="lineno"> 4614</span>&#160;              assert(v.size() == 1);</div>
<div class="line"><a name="l04615"></a><span class="lineno"> 4615</span>&#160;              <a class="code" href="../../d4/da8/classCCopasiObject.html">CCopasiObject</a>* pTmpObject = <a class="code" href="../../d3/db1/classCCopasiRootContainer.html#acfd634e031d3fb4358b24bfcdd26830e">CCopasiRootContainer::getKeyFactory</a>()-&gt;<a class="code" href="../../d8/d5c/classCKeyFactory.html#a49fdca380d37f99f3195103465ba4c0f">get</a>(v[0]);</div>
<div class="line"><a name="l04616"></a><span class="lineno"> 4616</span>&#160;              assert(pTmpObject != NULL);</div>
<div class="line"><a name="l04617"></a><span class="lineno"> 4617</span>&#160;              <a class="code" href="../../d5/db6/classCCopasiParameter.html">CCopasiParameter</a>* pLocalParameter = <span class="keyword">dynamic_cast&lt;</span><a class="code" href="../../d5/db6/classCCopasiParameter.html">CCopasiParameter</a>*<span class="keyword">&gt;</span>(pTmpObject);</div>
<div class="line"><a name="l04618"></a><span class="lineno"> 4618</span>&#160;              assert(pLocalParameter != NULL);</div>
<div class="line"><a name="l04619"></a><span class="lineno"> 4619</span>&#160;</div>
<div class="line"><a name="l04620"></a><span class="lineno"> 4620</span>&#160;              <span class="keywordflow">if</span> (this-&gt;<a class="code" href="../../df/d80/classCSBMLExporter.html#a2dbac4a8c7a2aa7a6a462b184c5430bf">mParameterReplacementMap</a>.find(pLocalParameter-&gt;<a class="code" href="../../d5/db6/classCCopasiParameter.html#acb7d9fc7eca10f6fa48542576e8c4aaa">getCN</a>()) == this-&gt;<a class="code" href="../../df/d80/classCSBMLExporter.html#a2dbac4a8c7a2aa7a6a462b184c5430bf">mParameterReplacementMap</a>.end())</div>
<div class="line"><a name="l04621"></a><span class="lineno"> 4621</span>&#160;                {</div>
<div class="line"><a name="l04622"></a><span class="lineno"> 4622</span>&#160;                  <span class="comment">// starting with SBML Level 3, the parameters of a kinetic law are expressed in</span></div>
<div class="line"><a name="l04623"></a><span class="lineno"> 4623</span>&#160;                  <span class="comment">// libsbml 4.1 does not handle this in a nice way,</span></div>
<div class="line"><a name="l04624"></a><span class="lineno"> 4624</span>&#160;                  <span class="comment">// so way have to distinguish between the levels we export</span></div>
<div class="line"><a name="l04625"></a><span class="lineno"> 4625</span>&#160;                  <span class="comment">// Actually here we could probably have gotten away with the old code, but</span></div>
<div class="line"><a name="l04626"></a><span class="lineno"> 4626</span>&#160;                  <span class="comment">// better safe than sorry</span></div>
<div class="line"><a name="l04627"></a><span class="lineno"> 4627</span>&#160;                  Parameter* pSBMLPara = NULL;</div>
<div class="line"><a name="l04628"></a><span class="lineno"> 4628</span>&#160;<span class="preprocessor">#if LIBSBML_VERSION &gt;= 40100</span></div>
<div class="line"><a name="l04629"></a><span class="lineno"> 4629</span>&#160;<span class="preprocessor"></span></div>
<div class="line"><a name="l04630"></a><span class="lineno"> 4630</span>&#160;                  <span class="keywordflow">if</span> (this-&gt;<a class="code" href="../../df/d80/classCSBMLExporter.html#aba959efc152f63f1709d5de60e97a651">mSBMLLevel</a> &gt; 2)</div>
<div class="line"><a name="l04631"></a><span class="lineno"> 4631</span>&#160;                    {</div>
<div class="line"><a name="l04632"></a><span class="lineno"> 4632</span>&#160;                      pSBMLPara = pKLaw-&gt;createLocalParameter();</div>
<div class="line"><a name="l04633"></a><span class="lineno"> 4633</span>&#160;                    }</div>
<div class="line"><a name="l04634"></a><span class="lineno"> 4634</span>&#160;                  <span class="keywordflow">else</span></div>
<div class="line"><a name="l04635"></a><span class="lineno"> 4635</span>&#160;                    {</div>
<div class="line"><a name="l04636"></a><span class="lineno"> 4636</span>&#160;<span class="preprocessor">#endif // LIBSBML_VERSION</span></div>
<div class="line"><a name="l04637"></a><span class="lineno"> 4637</span>&#160;<span class="preprocessor"></span>                      pSBMLPara = pKLaw-&gt;createParameter();</div>
<div class="line"><a name="l04638"></a><span class="lineno"> 4638</span>&#160;<span class="preprocessor">#if LIBSBML_VERSION &gt;= 40100</span></div>
<div class="line"><a name="l04639"></a><span class="lineno"> 4639</span>&#160;<span class="preprocessor"></span>                    }</div>
<div class="line"><a name="l04640"></a><span class="lineno"> 4640</span>&#160;</div>
<div class="line"><a name="l04641"></a><span class="lineno"> 4641</span>&#160;                  pSBMLPara-&gt;setId(pPara-&gt;<a class="code" href="../../d4/da8/classCCopasiObject.html#a879d6756b51f6b58d307940e1343bd10">getObjectName</a>().c_str());</div>
<div class="line"><a name="l04642"></a><span class="lineno"> 4642</span>&#160;<span class="preprocessor">#endif // LIBSBML_VERSION</span></div>
<div class="line"><a name="l04643"></a><span class="lineno"> 4643</span>&#160;<span class="preprocessor"></span></div>
<div class="line"><a name="l04644"></a><span class="lineno"> 4644</span>&#160;                  <span class="comment">// don&#39;t call setName on level 1 objects because this will also</span></div>
<div class="line"><a name="l04645"></a><span class="lineno"> 4645</span>&#160;                  <span class="comment">// change the id</span></div>
<div class="line"><a name="l04646"></a><span class="lineno"> 4646</span>&#160;                  <span class="keywordflow">if</span> (this-&gt;<a class="code" href="../../df/d80/classCSBMLExporter.html#a1541a69b36b8e864883e49f0de244f81">mpSBMLDocument</a>-&gt;getLevel() &gt; 1)</div>
<div class="line"><a name="l04647"></a><span class="lineno"> 4647</span>&#160;                    {</div>
<div class="line"><a name="l04648"></a><span class="lineno"> 4648</span>&#160;                      pSBMLPara-&gt;setName(pPara-&gt;<a class="code" href="../../d4/da8/classCCopasiObject.html#a879d6756b51f6b58d307940e1343bd10">getObjectName</a>().c_str());</div>
<div class="line"><a name="l04649"></a><span class="lineno"> 4649</span>&#160;                    }</div>
<div class="line"><a name="l04650"></a><span class="lineno"> 4650</span>&#160;</div>
<div class="line"><a name="l04651"></a><span class="lineno"> 4651</span>&#160;                  <span class="keywordtype">double</span> value = reaction.<a class="code" href="../../d4/dcf/classCReaction.html#abf0fcd06c00d7a110472ce75df58a7fb">getParameterValue</a>(pPara-&gt;<a class="code" href="../../d4/da8/classCCopasiObject.html#a879d6756b51f6b58d307940e1343bd10">getObjectName</a>());</div>
<div class="line"><a name="l04652"></a><span class="lineno"> 4652</span>&#160;</div>
<div class="line"><a name="l04653"></a><span class="lineno"> 4653</span>&#160;                  <span class="comment">// if the value is NaN, leave the parameter value unset.</span></div>
<div class="line"><a name="l04654"></a><span class="lineno"> 4654</span>&#160;                  <span class="keywordflow">if</span> (!isnan(value))</div>
<div class="line"><a name="l04655"></a><span class="lineno"> 4655</span>&#160;                    {</div>
<div class="line"><a name="l04656"></a><span class="lineno"> 4656</span>&#160;                      pSBMLPara-&gt;setValue(value);</div>
<div class="line"><a name="l04657"></a><span class="lineno"> 4657</span>&#160;                    }</div>
<div class="line"><a name="l04658"></a><span class="lineno"> 4658</span>&#160;                }</div>
<div class="line"><a name="l04659"></a><span class="lineno"> 4659</span>&#160;            }</div>
<div class="line"><a name="l04660"></a><span class="lineno"> 4660</span>&#160;        }</div>
<div class="line"><a name="l04661"></a><span class="lineno"> 4661</span>&#160;    }</div>
<div class="line"><a name="l04662"></a><span class="lineno"> 4662</span>&#160;</div>
<div class="line"><a name="l04663"></a><span class="lineno"> 4663</span>&#160;  <span class="comment">// the next few lines replace references to species depending on whether</span></div>
<div class="line"><a name="l04664"></a><span class="lineno"> 4664</span>&#160;  <span class="comment">// it is a reference to an amount or a reference to a concentration.</span></div>
<div class="line"><a name="l04665"></a><span class="lineno"> 4665</span>&#160;  <span class="comment">// Other factors that influence this replacement are if the model</span></div>
<div class="line"><a name="l04666"></a><span class="lineno"> 4666</span>&#160;  <span class="comment">// contains variable volumes or if the quantity units are set to CModel::number</span></div>
<div class="line"><a name="l04667"></a><span class="lineno"> 4667</span>&#160;  <a class="code" href="../../d8/d9f/classCEvaluationNode.html">CEvaluationNode</a>* pExpression = <a class="code" href="../../df/d80/classCSBMLExporter.html#a6f2f5bc62cdf7e13aa17508771260ac3">CSBMLExporter::createKineticExpression</a>(const_cast&lt;CFunction*&gt;(reaction.<a class="code" href="../../d4/dcf/classCReaction.html#a5028bbc1b79e8a72071c7222cfeef9a2">getFunction</a>()), reaction.<a class="code" href="../../d4/dcf/classCReaction.html#a875f55a9dd2d75a62c25d9415c7472a2">getParameterMappings</a>());</div>
<div class="line"><a name="l04668"></a><span class="lineno"> 4668</span>&#160;</div>
<div class="line"><a name="l04669"></a><span class="lineno"> 4669</span>&#160;  <span class="keywordflow">if</span> (pExpression == NULL)</div>
<div class="line"><a name="l04670"></a><span class="lineno"> 4670</span>&#160;    {</div>
<div class="line"><a name="l04671"></a><span class="lineno"> 4671</span>&#160;      <span class="keyword">delete</span> pKLaw;</div>
<div class="line"><a name="l04672"></a><span class="lineno"> 4672</span>&#160;      pKLaw = NULL;</div>
<div class="line"><a name="l04673"></a><span class="lineno"> 4673</span>&#160;    }</div>
<div class="line"><a name="l04674"></a><span class="lineno"> 4674</span>&#160;  <span class="keywordflow">else</span></div>
<div class="line"><a name="l04675"></a><span class="lineno"> 4675</span>&#160;    {</div>
<div class="line"><a name="l04676"></a><span class="lineno"> 4676</span>&#160;      <span class="comment">/*</span></div>
<div class="line"><a name="l04677"></a><span class="lineno"> 4677</span>&#160;<span class="comment">      ** If the reaction takes place in a single compartment, the rate law has</span></div>
<div class="line"><a name="l04678"></a><span class="lineno"> 4678</span>&#160;<span class="comment">      ** to be converted from concentration/time to substance/time by</span></div>
<div class="line"><a name="l04679"></a><span class="lineno"> 4679</span>&#160;<span class="comment">      ** multiplying the rate law with the volume of the compartment.</span></div>
<div class="line"><a name="l04680"></a><span class="lineno"> 4680</span>&#160;<span class="comment">      */</span></div>
<div class="line"><a name="l04681"></a><span class="lineno"> 4681</span>&#160;      <a class="code" href="../../d8/d9f/classCEvaluationNode.html">CEvaluationNode</a>* pOrigNode = this-&gt;<a class="code" href="../../df/d80/classCSBMLExporter.html#a030225cc274a7c545f010ba2ba7f13c3">replaceSpeciesReferences</a>(pExpression, dataModel);</div>
<div class="line"><a name="l04682"></a><span class="lineno"> 4682</span>&#160;      <span class="keyword">delete</span> pExpression;</div>
<div class="line"><a name="l04683"></a><span class="lineno"> 4683</span>&#160;      assert(pOrigNode != NULL);</div>
<div class="line"><a name="l04684"></a><span class="lineno"> 4684</span>&#160;      ASTNode* pNode = this-&gt;<a class="code" href="../../df/d80/classCSBMLExporter.html#ac61681ecd68ba2288e21ff1584ad20af">convertToASTNode</a>(pOrigNode, dataModel);</div>
<div class="line"><a name="l04685"></a><span class="lineno"> 4685</span>&#160;      <span class="comment">// since toAST in CEvaluationNodeObject sets the CN of local parameters</span></div>
<div class="line"><a name="l04686"></a><span class="lineno"> 4686</span>&#160;      <span class="comment">// as the name of the node, we have to go and replace all node names</span></div>
<div class="line"><a name="l04687"></a><span class="lineno"> 4687</span>&#160;      <span class="comment">// that have a common name that is the CN of a local parameter</span></div>
<div class="line"><a name="l04688"></a><span class="lineno"> 4688</span>&#160;      this-&gt;<a class="code" href="../../df/d80/classCSBMLExporter.html#aeb99c1d4aabfd00e1d65eac1992e4b97">restore_local_parameters</a>(pNode, dataModel);</div>
<div class="line"><a name="l04689"></a><span class="lineno"> 4689</span>&#160;      <span class="keyword">delete</span> pOrigNode;</div>
<div class="line"><a name="l04690"></a><span class="lineno"> 4690</span>&#160;      assert(pNode != NULL);</div>
<div class="line"><a name="l04691"></a><span class="lineno"> 4691</span>&#160;</div>
<div class="line"><a name="l04692"></a><span class="lineno"> 4692</span>&#160;      <span class="keywordflow">if</span> (reaction.<a class="code" href="../../d4/dcf/classCReaction.html#aef23a5812d844679f24d78e3a8db433e">getCompartmentNumber</a>() == 1)</div>
<div class="line"><a name="l04693"></a><span class="lineno"> 4693</span>&#160;        {</div>
<div class="line"><a name="l04694"></a><span class="lineno"> 4694</span>&#160;          <span class="keyword">const</span> <a class="code" href="../../d4/dd4/classCCompartment.html">CCompartment</a>&amp; compartment = (reaction.<a class="code" href="../../d4/dcf/classCReaction.html#ade6a66098c2f04f6e91d916029fe23e2">getChemEq</a>().<a class="code" href="../../d1/dc0/classCChemEq.html#abbcd10e89a632f5a7c225fee6975c6d9">getSubstrates</a>().<a class="code" href="../../d8/d2c/classCCopasiVector.html#ab7e0e37022783eddfe85abf9339b05c0">size</a>() != 0) ? (*reaction.<a class="code" href="../../d4/dcf/classCReaction.html#ade6a66098c2f04f6e91d916029fe23e2">getChemEq</a>().<a class="code" href="../../d1/dc0/classCChemEq.html#abbcd10e89a632f5a7c225fee6975c6d9">getSubstrates</a>()[0]-&gt;getMetabolite()-&gt;getCompartment()) : (*reaction.<a class="code" href="../../d4/dcf/classCReaction.html#ade6a66098c2f04f6e91d916029fe23e2">getChemEq</a>().<a class="code" href="../../d1/dc0/classCChemEq.html#ac7001192479e074d3696734187ec50d8">getProducts</a>()[0]-&gt;getMetabolite()-&gt;getCompartment());</div>
<div class="line"><a name="l04695"></a><span class="lineno"> 4695</span>&#160;</div>
<div class="line"><a name="l04696"></a><span class="lineno"> 4696</span>&#160;          <span class="keywordflow">if</span> (compartment.<a class="code" href="../../d4/dd4/classCCompartment.html#a977268782cb7d6cd7a01cab642b45c09">getDimensionality</a>() != 0)</div>
<div class="line"><a name="l04697"></a><span class="lineno"> 4697</span>&#160;            {</div>
<div class="line"><a name="l04698"></a><span class="lineno"> 4698</span>&#160;              <span class="comment">// check if the importer has added a division by the volume</span></div>
<div class="line"><a name="l04699"></a><span class="lineno"> 4699</span>&#160;              <span class="comment">// if so remove it instead of multiplying again</span></div>
<div class="line"><a name="l04700"></a><span class="lineno"> 4700</span>&#160;              ASTNode* pTNode = <a class="code" href="../../df/d80/classCSBMLExporter.html#a2ed7dc522ad9ad1a743a7c02d976f519">CSBMLExporter::isDividedByVolume</a>(pNode, compartment.<a class="code" href="../../d0/da0/classCModelEntity.html#a5c8d403c6027f59d1cc3e1ccc2d9efac">getSBMLId</a>());</div>
<div class="line"><a name="l04701"></a><span class="lineno"> 4701</span>&#160;</div>
<div class="line"><a name="l04702"></a><span class="lineno"> 4702</span>&#160;              <span class="keywordflow">if</span> (pTNode)</div>
<div class="line"><a name="l04703"></a><span class="lineno"> 4703</span>&#160;                {</div>
<div class="line"><a name="l04704"></a><span class="lineno"> 4704</span>&#160;                  <span class="keywordflow">if</span> (pTNode-&gt;getNumChildren() == 0)</div>
<div class="line"><a name="l04705"></a><span class="lineno"> 4705</span>&#160;                    {</div>
<div class="line"><a name="l04706"></a><span class="lineno"> 4706</span>&#160;                      <a class="code" href="../../d9/d2d/CCopasiMessage_8h.html#a1e835c01335d6f956a78adf106ed1b15">fatalError</a>();</div>
<div class="line"><a name="l04707"></a><span class="lineno"> 4707</span>&#160;                    }</div>
<div class="line"><a name="l04708"></a><span class="lineno"> 4708</span>&#160;</div>
<div class="line"><a name="l04709"></a><span class="lineno"> 4709</span>&#160;                  <span class="keywordflow">if</span> (pTNode-&gt;getNumChildren() == 1)</div>
<div class="line"><a name="l04710"></a><span class="lineno"> 4710</span>&#160;                    {</div>
<div class="line"><a name="l04711"></a><span class="lineno"> 4711</span>&#160;                      ASTNode* pTmp = <span class="keyword">static_cast&lt;</span><a class="code" href="../../d5/dcc/classConverterASTNode.html">ConverterASTNode</a>*<span class="keyword">&gt;</span>(pTNode)-&gt;removeChild(0);</div>
<div class="line"><a name="l04712"></a><span class="lineno"> 4712</span>&#160;                      <span class="keyword">delete</span> pTNode;</div>
<div class="line"><a name="l04713"></a><span class="lineno"> 4713</span>&#160;                      pTNode = pTmp;</div>
<div class="line"><a name="l04714"></a><span class="lineno"> 4714</span>&#160;                    }</div>
<div class="line"><a name="l04715"></a><span class="lineno"> 4715</span>&#160;</div>
<div class="line"><a name="l04716"></a><span class="lineno"> 4716</span>&#160;                  <span class="keyword">delete</span> pNode;</div>
<div class="line"><a name="l04717"></a><span class="lineno"> 4717</span>&#160;                  pNode = pTNode;</div>
<div class="line"><a name="l04718"></a><span class="lineno"> 4718</span>&#160;                }</div>
<div class="line"><a name="l04719"></a><span class="lineno"> 4719</span>&#160;              <span class="keywordflow">else</span></div>
<div class="line"><a name="l04720"></a><span class="lineno"> 4720</span>&#160;                {</div>
<div class="line"><a name="l04721"></a><span class="lineno"> 4721</span>&#160;                  pTNode = <span class="keyword">new</span> ASTNode(AST_TIMES);</div>
<div class="line"><a name="l04722"></a><span class="lineno"> 4722</span>&#160;                  ASTNode* pVNode = <span class="keyword">new</span> ASTNode(AST_NAME);</div>
<div class="line"><a name="l04723"></a><span class="lineno"> 4723</span>&#160;                  pVNode-&gt;setName(compartment.<a class="code" href="../../d0/da0/classCModelEntity.html#a5c8d403c6027f59d1cc3e1ccc2d9efac">getSBMLId</a>().c_str());</div>
<div class="line"><a name="l04724"></a><span class="lineno"> 4724</span>&#160;                  pTNode-&gt;addChild(pVNode);</div>
<div class="line"><a name="l04725"></a><span class="lineno"> 4725</span>&#160;                  pTNode-&gt;addChild(pNode);</div>
<div class="line"><a name="l04726"></a><span class="lineno"> 4726</span>&#160;                  pNode = pTNode;</div>
<div class="line"><a name="l04727"></a><span class="lineno"> 4727</span>&#160;                }</div>
<div class="line"><a name="l04728"></a><span class="lineno"> 4728</span>&#160;            }</div>
<div class="line"><a name="l04729"></a><span class="lineno"> 4729</span>&#160;        }</div>
<div class="line"><a name="l04730"></a><span class="lineno"> 4730</span>&#160;</div>
<div class="line"><a name="l04731"></a><span class="lineno"> 4731</span>&#160;      pKLaw-&gt;setMath(pNode);</div>
<div class="line"><a name="l04732"></a><span class="lineno"> 4732</span>&#160;      <span class="keyword">delete</span> pNode;</div>
<div class="line"><a name="l04733"></a><span class="lineno"> 4733</span>&#160;    }</div>
<div class="line"><a name="l04734"></a><span class="lineno"> 4734</span>&#160;</div>
<div class="line"><a name="l04735"></a><span class="lineno"> 4735</span>&#160;  <span class="keywordflow">return</span> pKLaw;</div>
<div class="line"><a name="l04736"></a><span class="lineno"> 4736</span>&#160;}</div>
<div class="ttc" id="classCFunctionParameters_html_a25eebb18490f1fd552a39faae2120453"><div class="ttname"><a href="../../d0/d1f/classCFunctionParameters.html#a25eebb18490f1fd552a39faae2120453">CFunctionParameters::size</a></div><div class="ttdeci">size_t size() const </div><div class="ttdef"><b>Definition:</b> <a href="../../d5/db1/CFunctionParameters_8cpp_source.html#l00100">CFunctionParameters.cpp:100</a></div></div>
<div class="ttc" id="classCSBMLExporter_html_aba959efc152f63f1709d5de60e97a651"><div class="ttname"><a href="../../df/d80/classCSBMLExporter.html#aba959efc152f63f1709d5de60e97a651">CSBMLExporter::mSBMLLevel</a></div><div class="ttdeci">unsigned int mSBMLLevel</div><div class="ttdef"><b>Definition:</b> <a href="../../da/d7f/CSBMLExporter_8h_source.html#l00056">CSBMLExporter.h:56</a></div></div>
<div class="ttc" id="classConverterASTNode_html"><div class="ttname"><a href="../../d5/dcc/classConverterASTNode.html">ConverterASTNode</a></div><div class="ttdef"><b>Definition:</b> <a href="../../de/d6b/ConverterASTNode_8h_source.html#l00023">ConverterASTNode.h:23</a></div></div>
<div class="ttc" id="classCSBMLExporter_html_a1541a69b36b8e864883e49f0de244f81"><div class="ttname"><a href="../../df/d80/classCSBMLExporter.html#a1541a69b36b8e864883e49f0de244f81">CSBMLExporter::mpSBMLDocument</a></div><div class="ttdeci">SBMLDocument * mpSBMLDocument</div><div class="ttdef"><b>Definition:</b> <a href="../../da/d7f/CSBMLExporter_8h_source.html#l00055">CSBMLExporter.h:55</a></div></div>
<div class="ttc" id="classCModelEntity_html_a5c8d403c6027f59d1cc3e1ccc2d9efac"><div class="ttname"><a href="../../d0/da0/classCModelEntity.html#a5c8d403c6027f59d1cc3e1ccc2d9efac">CModelEntity::getSBMLId</a></div><div class="ttdeci">const std::string &amp; getSBMLId() const </div><div class="ttdef"><b>Definition:</b> <a href="../../d8/da3/CModelValue_8cpp_source.html#l00637">CModelValue.cpp:637</a></div></div>
<div class="ttc" id="classCCopasiObject_html_a879d6756b51f6b58d307940e1343bd10"><div class="ttname"><a href="../../d4/da8/classCCopasiObject.html#a879d6756b51f6b58d307940e1343bd10">CCopasiObject::getObjectName</a></div><div class="ttdeci">const std::string &amp; getObjectName() const </div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d22/CCopasiObject_8cpp_source.html#l00258">CCopasiObject.cpp:258</a></div></div>
<div class="ttc" id="classCSBMLExporter_html_a2dbac4a8c7a2aa7a6a462b184c5430bf"><div class="ttname"><a href="../../df/d80/classCSBMLExporter.html#a2dbac4a8c7a2aa7a6a462b184c5430bf">CSBMLExporter::mParameterReplacementMap</a></div><div class="ttdeci">std::map&lt; std::string, Parameter * &gt; mParameterReplacementMap</div><div class="ttdef"><b>Definition:</b> <a href="../../da/d7f/CSBMLExporter_8h_source.html#l00075">CSBMLExporter.h:75</a></div></div>
<div class="ttc" id="classCCompartment_html_a977268782cb7d6cd7a01cab642b45c09"><div class="ttname"><a href="../../d4/dd4/classCCompartment.html#a977268782cb7d6cd7a01cab642b45c09">CCompartment::getDimensionality</a></div><div class="ttdeci">unsigned C_INT32 getDimensionality() const </div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d2d/CCompartment_8cpp_source.html#l00204">CCompartment.cpp:204</a></div></div>
<div class="ttc" id="classCCopasiVector_html_ab7e0e37022783eddfe85abf9339b05c0"><div class="ttname"><a href="../../d8/d2c/classCCopasiVector.html#ab7e0e37022783eddfe85abf9339b05c0">CCopasiVector::size</a></div><div class="ttdeci">virtual size_t size() const </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d51/CCopasiVector_8h_source.html#l00386">CCopasiVector.h:386</a></div></div>
<div class="ttc" id="classCKeyFactory_html_a49fdca380d37f99f3195103465ba4c0f"><div class="ttname"><a href="../../d8/d5c/classCKeyFactory.html#a49fdca380d37f99f3195103465ba4c0f">CKeyFactory::get</a></div><div class="ttdeci">CCopasiObject * get(const std::string &amp;key)</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dc8/CKeyFactory_8cpp_source.html#l00235">CKeyFactory.cpp:235</a></div></div>
<div class="ttc" id="classCFunctionParameter_html_ab0b7b0afa5fb363d6000f102b8590a1ba3ae891357cbcf064f1bde6174a6e75eb"><div class="ttname"><a href="../../d2/d4b/classCFunctionParameter.html#ab0b7b0afa5fb363d6000f102b8590a1ba3ae891357cbcf064f1bde6174a6e75eb">CFunctionParameter::VARIABLE</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d59/CFunctionParameter_8h_source.html#l00050">CFunctionParameter.h:50</a></div></div>
<div class="ttc" id="CCopasiMessage_8h_html_a1e835c01335d6f956a78adf106ed1b15"><div class="ttname"><a href="../../d9/d2d/CCopasiMessage_8h.html#a1e835c01335d6f956a78adf106ed1b15">fatalError</a></div><div class="ttdeci">#define fatalError()</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d2d/CCopasiMessage_8h_source.html#l00074">CCopasiMessage.h:74</a></div></div>
<div class="ttc" id="classCReaction_html_a67d6e12d9e96c318132e309ad1fd1b2a"><div class="ttname"><a href="../../d4/dcf/classCReaction.html#a67d6e12d9e96c318132e309ad1fd1b2a">CReaction::isLocalParameter</a></div><div class="ttdeci">bool isLocalParameter(const size_t &amp;index) const </div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d77/CReaction_8cpp_source.html#l00449">CReaction.cpp:449</a></div></div>
<div class="ttc" id="classCCopasiObject_html"><div class="ttname"><a href="../../d4/da8/classCCopasiObject.html">CCopasiObject</a></div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d9f/CCopasiObject_8h_source.html#l00216">CCopasiObject.h:216</a></div></div>
<div class="ttc" id="classCCopasiParameter_html"><div class="ttname"><a href="../../d5/db6/classCCopasiParameter.html">CCopasiParameter</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d9/df7/CCopasiParameter_8h_source.html#l00035">CCopasiParameter.h:35</a></div></div>
<div class="ttc" id="classCChemEq_html_ac7001192479e074d3696734187ec50d8"><div class="ttname"><a href="../../d1/dc0/classCChemEq.html#ac7001192479e074d3696734187ec50d8">CChemEq::getProducts</a></div><div class="ttdeci">const CCopasiVector&lt; CChemEqElement &gt; &amp; getProducts() const </div><div class="ttdef"><b>Definition:</b> <a href="../../de/d08/CChemEq_8cpp_source.html#l00063">CChemEq.cpp:63</a></div></div>
<div class="ttc" id="classCReaction_html_a5028bbc1b79e8a72071c7222cfeef9a2"><div class="ttname"><a href="../../d4/dcf/classCReaction.html#a5028bbc1b79e8a72071c7222cfeef9a2">CReaction::getFunction</a></div><div class="ttdeci">const CFunction * getFunction() const </div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d77/CReaction_8cpp_source.html#l00252">CReaction.cpp:252</a></div></div>
<div class="ttc" id="classCReaction_html_a20ee692b525e72782f4e26ec17e1bb66"><div class="ttname"><a href="../../d4/dcf/classCReaction.html#a20ee692b525e72782f4e26ec17e1bb66">CReaction::getFunctionParameters</a></div><div class="ttdeci">const CFunctionParameters &amp; getFunctionParameters() const </div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d77/CReaction_8cpp_source.html#l00576">CReaction.cpp:576</a></div></div>
<div class="ttc" id="classCFunction_html_a77f5a02ec50b4a83ce014aebe52bb924"><div class="ttname"><a href="../../d9/d86/classCFunction.html#a77f5a02ec50b4a83ce014aebe52bb924">CFunction::isReversible</a></div><div class="ttdeci">const TriLogic &amp; isReversible() const </div><div class="ttdef"><b>Definition:</b> <a href="../../d6/db0/CFunction_8cpp_source.html#l00145">CFunction.cpp:145</a></div></div>
<div class="ttc" id="classCSBMLExporter_html_a2ed7dc522ad9ad1a743a7c02d976f519"><div class="ttname"><a href="../../df/d80/classCSBMLExporter.html#a2ed7dc522ad9ad1a743a7c02d976f519">CSBMLExporter::isDividedByVolume</a></div><div class="ttdeci">static ASTNode * isDividedByVolume(const ASTNode *pRootNode, const std::string &amp;compartmentId)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d2f/CSBMLExporter_8cpp_source.html#l04738">CSBMLExporter.cpp:4738</a></div></div>
<div class="ttc" id="classCChemEq_html_abbcd10e89a632f5a7c225fee6975c6d9"><div class="ttname"><a href="../../d1/dc0/classCChemEq.html#abbcd10e89a632f5a7c225fee6975c6d9">CChemEq::getSubstrates</a></div><div class="ttdeci">const CCopasiVector&lt; CChemEqElement &gt; &amp; getSubstrates() const </div><div class="ttdef"><b>Definition:</b> <a href="../../de/d08/CChemEq_8cpp_source.html#l00060">CChemEq.cpp:60</a></div></div>
<div class="ttc" id="copasi_8h_html_a4cd90bcaf1a35317678ec47713b5f629a358d04006ba010a4e9258117031fb00c"><div class="ttname"><a href="../../dc/df8/copasi_8h.html#a4cd90bcaf1a35317678ec47713b5f629a358d04006ba010a4e9258117031fb00c">TriUnspecified</a></div><div class="ttdef"><b>Definition:</b> <a href="../../dc/df8/copasi_8h_source.html#l00127">copasi.h:127</a></div></div>
<div class="ttc" id="classCCompartment_html"><div class="ttname"><a href="../../d4/dd4/classCCompartment.html">CCompartment</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d59/CCompartment_8h_source.html#l00037">CCompartment.h:37</a></div></div>
<div class="ttc" id="classCFunctionParameter_html"><div class="ttname"><a href="../../d2/d4b/classCFunctionParameter.html">CFunctionParameter</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d59/CFunctionParameter_8h_source.html#l00034">CFunctionParameter.h:34</a></div></div>
<div class="ttc" id="classCEvaluationNode_html"><div class="ttname"><a href="../../d8/d9f/classCEvaluationNode.html">CEvaluationNode</a></div><div class="ttdef"><b>Definition:</b> <a href="../../de/dfa/CEvaluationNode_8h_source.html#l00033">CEvaluationNode.h:33</a></div></div>
<div class="ttc" id="classCCopasiParameter_html_acb7d9fc7eca10f6fa48542576e8c4aaa"><div class="ttname"><a href="../../d5/db6/classCCopasiParameter.html#acb7d9fc7eca10f6fa48542576e8c4aaa">CCopasiParameter::getCN</a></div><div class="ttdeci">virtual CCopasiObjectName getCN() const </div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d99/CCopasiParameter_8cpp_source.html#l00412">CCopasiParameter.cpp:412</a></div></div>
<div class="ttc" id="classCCopasiRootContainer_html_acfd634e031d3fb4358b24bfcdd26830e"><div class="ttname"><a href="../../d3/db1/classCCopasiRootContainer.html#acfd634e031d3fb4358b24bfcdd26830e">CCopasiRootContainer::getKeyFactory</a></div><div class="ttdeci">static CKeyFactory * getKeyFactory()</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/d4b/CCopasiRootContainer_8cpp_source.html#l00163">CCopasiRootContainer.cpp:163</a></div></div>
<div class="ttc" id="classCSBMLExporter_html_ac61681ecd68ba2288e21ff1584ad20af"><div class="ttname"><a href="../../df/d80/classCSBMLExporter.html#ac61681ecd68ba2288e21ff1584ad20af">CSBMLExporter::convertToASTNode</a></div><div class="ttdeci">ASTNode * convertToASTNode(const CEvaluationNode *pOrig, CCopasiDataModel &amp;dataModel)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d2f/CSBMLExporter_8cpp_source.html#l07078">CSBMLExporter.cpp:7078</a></div></div>
<div class="ttc" id="classCSBMLExporter_html_aeb99c1d4aabfd00e1d65eac1992e4b97"><div class="ttname"><a href="../../df/d80/classCSBMLExporter.html#aeb99c1d4aabfd00e1d65eac1992e4b97">CSBMLExporter::restore_local_parameters</a></div><div class="ttdeci">void restore_local_parameters(ASTNode *pOrigNode, const CCopasiDataModel &amp;dataModel)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d2f/CSBMLExporter_8cpp_source.html#l07414">CSBMLExporter.cpp:7414</a></div></div>
<div class="ttc" id="classCReaction_html_aef23a5812d844679f24d78e3a8db433e"><div class="ttname"><a href="../../d4/dcf/classCReaction.html#aef23a5812d844679f24d78e3a8db433e">CReaction::getCompartmentNumber</a></div><div class="ttdeci">size_t getCompartmentNumber() const </div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d77/CReaction_8cpp_source.html#l00873">CReaction.cpp:873</a></div></div>
<div class="ttc" id="classCSBMLExporter_html_a030225cc274a7c545f010ba2ba7f13c3"><div class="ttname"><a href="../../df/d80/classCSBMLExporter.html#a030225cc274a7c545f010ba2ba7f13c3">CSBMLExporter::replaceSpeciesReferences</a></div><div class="ttdeci">CEvaluationNode * replaceSpeciesReferences(const CEvaluationNode *pOrigNode, const CCopasiDataModel &amp;dataModel)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d2f/CSBMLExporter_8cpp_source.html#l06066">CSBMLExporter.cpp:6066</a></div></div>
<div class="ttc" id="classCSBMLExporter_html_a6f2f5bc62cdf7e13aa17508771260ac3"><div class="ttname"><a href="../../df/d80/classCSBMLExporter.html#a6f2f5bc62cdf7e13aa17508771260ac3">CSBMLExporter::createKineticExpression</a></div><div class="ttdeci">CEvaluationNode * createKineticExpression(CFunction *pFun, const std::vector&lt; std::vector&lt; std::string &gt; &gt; &amp;arguments)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d2f/CSBMLExporter_8cpp_source.html#l04802">CSBMLExporter.cpp:4802</a></div></div>
<div class="ttc" id="classCFunctionParameter_html_ab0b7b0afa5fb363d6000f102b8590a1babe45d3446d5eecf154656899eb0e8de1"><div class="ttname"><a href="../../d2/d4b/classCFunctionParameter.html#ab0b7b0afa5fb363d6000f102b8590a1babe45d3446d5eecf154656899eb0e8de1">CFunctionParameter::PARAMETER</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d59/CFunctionParameter_8h_source.html#l00047">CFunctionParameter.h:47</a></div></div>
<div class="ttc" id="classCReaction_html_a875f55a9dd2d75a62c25d9415c7472a2"><div class="ttname"><a href="../../d4/dcf/classCReaction.html#a875f55a9dd2d75a62c25d9415c7472a2">CReaction::getParameterMappings</a></div><div class="ttdeci">const std::vector&lt; std::vector&lt; std::string &gt; &gt; &amp; getParameterMappings() const </div><div class="ttdef"><b>Definition:</b> <a href="../../db/dc3/CReaction_8h_source.html#l00285">CReaction.h:285</a></div></div>
<div class="ttc" id="classCReaction_html_ade6a66098c2f04f6e91d916029fe23e2"><div class="ttname"><a href="../../d4/dcf/classCReaction.html#ade6a66098c2f04f6e91d916029fe23e2">CReaction::getChemEq</a></div><div class="ttdeci">const CChemEq &amp; getChemEq() const </div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d77/CReaction_8cpp_source.html#l00223">CReaction.cpp:223</a></div></div>
<div class="ttc" id="classCReaction_html_abf0fcd06c00d7a110472ce75df58a7fb"><div class="ttname"><a href="../../d4/dcf/classCReaction.html#abf0fcd06c00d7a110472ce75df58a7fb">CReaction::getParameterValue</a></div><div class="ttdeci">const C_FLOAT64 &amp; getParameterValue(const std::string &amp;parameterName) const </div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d77/CReaction_8cpp_source.html#l00326">CReaction.cpp:326</a></div></div>
<div class="ttc" id="classCReaction_html_a01dfa1503da893c56b664b63f5b82efd"><div class="ttname"><a href="../../d4/dcf/classCReaction.html#a01dfa1503da893c56b664b63f5b82efd">CReaction::getParameterMapping</a></div><div class="ttdeci">const std::vector&lt; std::string &gt; &amp; getParameterMapping(const size_t &amp;index) const </div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d77/CReaction_8cpp_source.html#l00432">CReaction.cpp:432</a></div></div>
<div class="ttc" id="classCFunctionParameter_html_a1b8ae9a02716b85cb04c2c1979e87286"><div class="ttname"><a href="../../d2/d4b/classCFunctionParameter.html#a1b8ae9a02716b85cb04c2c1979e87286">CFunctionParameter::getUsage</a></div><div class="ttdeci">Role getUsage() const </div><div class="ttdef"><b>Definition:</b> <a href="../../d2/dcb/CFunctionParameter_8cpp_source.html#l00106">CFunctionParameter.cpp:106</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a5503f23206b28472e35929c4904c79f9"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d3/d05/CChemEqParser__yacc_8cpp.html#aa76fec002b4ba91adc88f68d56ba730c">void</a> CSBMLExporter::createLengthUnit </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="../../d4/d18/classCCopasiDataModel.html">CCopasiDataModel</a> &amp;&#160;</td>
          <td class="paramname"><em>dataModel</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Creates the volume unit for the SBML model.</p>
<p>Creates the length unit for the SBML model. </p>

<p>Definition at line <a class="el" href="../../d5/d2f/CSBMLExporter_8cpp_source.html#l00689">689</a> of file <a class="el" href="../../d5/d2f/CSBMLExporter_8cpp_source.html">CSBMLExporter.cpp</a>.</p>

<p>References <a class="el" href="../../d7/d6d/classSBMLImporter.html#a61d10c15681b398f297bee71eaa75dbe">SBMLImporter::areSBMLUnitDefinitionsIdentical()</a>, <a class="el" href="../../d4/d04/classCModel.html#a135194aaa96d335b89fbd59a81bff22ca10f5a86ce5ab09b9271ed58fada9a39e">CModel::cm</a>, <a class="el" href="../../d4/d04/classCModel.html#a135194aaa96d335b89fbd59a81bff22ca70b8ea66d8daf842df307ade4b829a4a">CModel::dimensionlessLength</a>, <a class="el" href="../../d4/d04/classCModel.html#a135194aaa96d335b89fbd59a81bff22ca0a709ed13081b1ced10e5c0ba2d7498d">CModel::dm</a>, <a class="el" href="../../d2/df0/classCCopasiMessage.html#a2ea1ed32494ff5c8d84353efcec7a5e4a568f885d73f0ea36bedfe92f6e533071">CCopasiMessage::EXCEPTION</a>, <a class="el" href="../../d4/d04/classCModel.html#a135194aaa96d335b89fbd59a81bff22ca56d01266744ab991bb08454bac760459">CModel::fm</a>, <a class="el" href="../../d4/d04/classCModel.html#af244a42f3cd5f89d03b826edb9b2effa">CModel::getLengthUnitEnum()</a>, <a class="el" href="../../d4/d18/classCCopasiDataModel.html#a2e65952e0caf0b2709d381cf949fec69">CCopasiDataModel::getModel()</a>, <a class="el" href="../../d5/d2f/CSBMLExporter_8cpp.html#a6c9f65aeea9a7ce079171b3a9a5b2673">INIT_DEFAULTS</a>, <a class="el" href="../../d4/d04/classCModel.html#a135194aaa96d335b89fbd59a81bff22ca4a35e788ac8194d4f2d1569516ea925d">CModel::m</a>, <a class="el" href="../../d4/d04/classCModel.html#a135194aaa96d335b89fbd59a81bff22ca5346ded51c1ef43bdc73a91cb3eea3a8">CModel::microm</a>, <a class="el" href="../../d4/d04/classCModel.html#a135194aaa96d335b89fbd59a81bff22ca70ff41c7addc0c115b28d2da5fa8d483">CModel::mm</a>, <a class="el" href="../../df/d80/classCSBMLExporter.html#a1541a69b36b8e864883e49f0de244f81">mpSBMLDocument</a>, <a class="el" href="../../df/d80/classCSBMLExporter.html#aba959efc152f63f1709d5de60e97a651">mSBMLLevel</a>, <a class="el" href="../../df/d80/classCSBMLExporter.html#af1bc50a307a46adcce8aa8abde6dab96">mSBMLVersion</a>, <a class="el" href="../../d4/d04/classCModel.html#a135194aaa96d335b89fbd59a81bff22ca4dba8de9df14c56def3876c2271b4e1e">CModel::nm</a>, and <a class="el" href="../../d4/d04/classCModel.html#a135194aaa96d335b89fbd59a81bff22caf7debf327739246370f137fd5f456d63">CModel::pm</a>.</p>

<p>Referenced by <a class="el" href="../../df/d80/classCSBMLExporter.html#aa26105735e02cd59de9932914b4c2505">createUnits()</a>.</p>
<div class="fragment"><div class="line"><a name="l00690"></a><span class="lineno">  690</span>&#160;{</div>
<div class="line"><a name="l00691"></a><span class="lineno">  691</span>&#160;  <span class="keywordflow">if</span> (dataModel.<a class="code" href="../../d4/d18/classCCopasiDataModel.html#a2e65952e0caf0b2709d381cf949fec69">getModel</a>() == NULL || this-&gt;<a class="code" href="../../df/d80/classCSBMLExporter.html#a1541a69b36b8e864883e49f0de244f81">mpSBMLDocument</a> == NULL || this-&gt;<a class="code" href="../../df/d80/classCSBMLExporter.html#a1541a69b36b8e864883e49f0de244f81">mpSBMLDocument</a>-&gt;getModel() == NULL) <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00692"></a><span class="lineno">  692</span>&#160;</div>
<div class="line"><a name="l00693"></a><span class="lineno">  693</span>&#160;  UnitDefinition uDef(this-&gt;<a class="code" href="../../df/d80/classCSBMLExporter.html#aba959efc152f63f1709d5de60e97a651">mSBMLLevel</a>, this-&gt;<a class="code" href="../../df/d80/classCSBMLExporter.html#af1bc50a307a46adcce8aa8abde6dab96">mSBMLVersion</a>);</div>
<div class="line"><a name="l00694"></a><span class="lineno">  694</span>&#160;  uDef.setName(<span class="stringliteral">&quot;length&quot;</span>);</div>
<div class="line"><a name="l00695"></a><span class="lineno">  695</span>&#160;  uDef.setId(<span class="stringliteral">&quot;length&quot;</span>);</div>
<div class="line"><a name="l00696"></a><span class="lineno">  696</span>&#160;  Unit unit(this-&gt;<a class="code" href="../../df/d80/classCSBMLExporter.html#aba959efc152f63f1709d5de60e97a651">mSBMLLevel</a>, this-&gt;<a class="code" href="../../df/d80/classCSBMLExporter.html#af1bc50a307a46adcce8aa8abde6dab96">mSBMLVersion</a>);</div>
<div class="line"><a name="l00697"></a><span class="lineno">  697</span>&#160;  <a class="code" href="../../d5/d2f/CSBMLExporter_8cpp.html#a6c9f65aeea9a7ce079171b3a9a5b2673">INIT_DEFAULTS</a>(unit);</div>
<div class="line"><a name="l00698"></a><span class="lineno">  698</span>&#160;</div>
<div class="line"><a name="l00699"></a><span class="lineno">  699</span>&#160;  <span class="keywordflow">switch</span> (dataModel.<a class="code" href="../../d4/d18/classCCopasiDataModel.html#a2e65952e0caf0b2709d381cf949fec69">getModel</a>()-&gt;<a class="code" href="../../d4/d04/classCModel.html#af244a42f3cd5f89d03b826edb9b2effa">getLengthUnitEnum</a>())</div>
<div class="line"><a name="l00700"></a><span class="lineno">  700</span>&#160;    {</div>
<div class="line"><a name="l00701"></a><span class="lineno">  701</span>&#160;      <span class="keywordflow">case</span> <a class="code" href="../../d4/d04/classCModel.html#a135194aaa96d335b89fbd59a81bff22ca4a35e788ac8194d4f2d1569516ea925d">CModel::m</a>:</div>
<div class="line"><a name="l00702"></a><span class="lineno">  702</span>&#160;        unit.setKind(UNIT_KIND_METRE);</div>
<div class="line"><a name="l00703"></a><span class="lineno">  703</span>&#160;        unit.setExponent(1);</div>
<div class="line"><a name="l00704"></a><span class="lineno">  704</span>&#160;        unit.setScale(0);</div>
<div class="line"><a name="l00705"></a><span class="lineno">  705</span>&#160;        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00706"></a><span class="lineno">  706</span>&#160;</div>
<div class="line"><a name="l00707"></a><span class="lineno">  707</span>&#160;      <span class="keywordflow">case</span> <a class="code" href="../../d4/d04/classCModel.html#a135194aaa96d335b89fbd59a81bff22ca0a709ed13081b1ced10e5c0ba2d7498d">CModel::dm</a>:</div>
<div class="line"><a name="l00708"></a><span class="lineno">  708</span>&#160;        unit.setKind(UNIT_KIND_METRE);</div>
<div class="line"><a name="l00709"></a><span class="lineno">  709</span>&#160;        unit.setExponent(1);</div>
<div class="line"><a name="l00710"></a><span class="lineno">  710</span>&#160;        unit.setScale(-1);</div>
<div class="line"><a name="l00711"></a><span class="lineno">  711</span>&#160;        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00712"></a><span class="lineno">  712</span>&#160;</div>
<div class="line"><a name="l00713"></a><span class="lineno">  713</span>&#160;      <span class="keywordflow">case</span> <a class="code" href="../../d4/d04/classCModel.html#a135194aaa96d335b89fbd59a81bff22ca10f5a86ce5ab09b9271ed58fada9a39e">CModel::cm</a>:</div>
<div class="line"><a name="l00714"></a><span class="lineno">  714</span>&#160;        unit.setKind(UNIT_KIND_METRE);</div>
<div class="line"><a name="l00715"></a><span class="lineno">  715</span>&#160;        unit.setExponent(1);</div>
<div class="line"><a name="l00716"></a><span class="lineno">  716</span>&#160;        unit.setScale(-2);</div>
<div class="line"><a name="l00717"></a><span class="lineno">  717</span>&#160;        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00718"></a><span class="lineno">  718</span>&#160;</div>
<div class="line"><a name="l00719"></a><span class="lineno">  719</span>&#160;      <span class="keywordflow">case</span> <a class="code" href="../../d4/d04/classCModel.html#a135194aaa96d335b89fbd59a81bff22ca70ff41c7addc0c115b28d2da5fa8d483">CModel::mm</a>:</div>
<div class="line"><a name="l00720"></a><span class="lineno">  720</span>&#160;        unit.setKind(UNIT_KIND_METRE);</div>
<div class="line"><a name="l00721"></a><span class="lineno">  721</span>&#160;        unit.setExponent(1);</div>
<div class="line"><a name="l00722"></a><span class="lineno">  722</span>&#160;        unit.setScale(-3);</div>
<div class="line"><a name="l00723"></a><span class="lineno">  723</span>&#160;        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00724"></a><span class="lineno">  724</span>&#160;</div>
<div class="line"><a name="l00725"></a><span class="lineno">  725</span>&#160;      <span class="keywordflow">case</span> <a class="code" href="../../d4/d04/classCModel.html#a135194aaa96d335b89fbd59a81bff22ca5346ded51c1ef43bdc73a91cb3eea3a8">CModel::microm</a>:</div>
<div class="line"><a name="l00726"></a><span class="lineno">  726</span>&#160;        unit.setKind(UNIT_KIND_METRE);</div>
<div class="line"><a name="l00727"></a><span class="lineno">  727</span>&#160;        unit.setExponent(1);</div>
<div class="line"><a name="l00728"></a><span class="lineno">  728</span>&#160;        unit.setScale(-6);</div>
<div class="line"><a name="l00729"></a><span class="lineno">  729</span>&#160;        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00730"></a><span class="lineno">  730</span>&#160;</div>
<div class="line"><a name="l00731"></a><span class="lineno">  731</span>&#160;      <span class="keywordflow">case</span> <a class="code" href="../../d4/d04/classCModel.html#a135194aaa96d335b89fbd59a81bff22ca4dba8de9df14c56def3876c2271b4e1e">CModel::nm</a>:</div>
<div class="line"><a name="l00732"></a><span class="lineno">  732</span>&#160;        unit.setKind(UNIT_KIND_METRE);</div>
<div class="line"><a name="l00733"></a><span class="lineno">  733</span>&#160;        unit.setExponent(1);</div>
<div class="line"><a name="l00734"></a><span class="lineno">  734</span>&#160;        unit.setScale(-9);</div>
<div class="line"><a name="l00735"></a><span class="lineno">  735</span>&#160;        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00736"></a><span class="lineno">  736</span>&#160;</div>
<div class="line"><a name="l00737"></a><span class="lineno">  737</span>&#160;      <span class="keywordflow">case</span> <a class="code" href="../../d4/d04/classCModel.html#a135194aaa96d335b89fbd59a81bff22caf7debf327739246370f137fd5f456d63">CModel::pm</a>:</div>
<div class="line"><a name="l00738"></a><span class="lineno">  738</span>&#160;        unit.setKind(UNIT_KIND_METRE);</div>
<div class="line"><a name="l00739"></a><span class="lineno">  739</span>&#160;        unit.setExponent(1);</div>
<div class="line"><a name="l00740"></a><span class="lineno">  740</span>&#160;        unit.setScale(-12);</div>
<div class="line"><a name="l00741"></a><span class="lineno">  741</span>&#160;        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00742"></a><span class="lineno">  742</span>&#160;</div>
<div class="line"><a name="l00743"></a><span class="lineno">  743</span>&#160;      <span class="keywordflow">case</span> <a class="code" href="../../d4/d04/classCModel.html#a135194aaa96d335b89fbd59a81bff22ca56d01266744ab991bb08454bac760459">CModel::fm</a>:</div>
<div class="line"><a name="l00744"></a><span class="lineno">  744</span>&#160;        unit.setKind(UNIT_KIND_METRE);</div>
<div class="line"><a name="l00745"></a><span class="lineno">  745</span>&#160;        unit.setExponent(1);</div>
<div class="line"><a name="l00746"></a><span class="lineno">  746</span>&#160;        unit.setScale(-15);</div>
<div class="line"><a name="l00747"></a><span class="lineno">  747</span>&#160;        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00748"></a><span class="lineno">  748</span>&#160;</div>
<div class="line"><a name="l00749"></a><span class="lineno">  749</span>&#160;      <span class="keywordflow">case</span> <a class="code" href="../../d4/d04/classCModel.html#a135194aaa96d335b89fbd59a81bff22ca70b8ea66d8daf842df307ade4b829a4a">CModel::dimensionlessLength</a>:</div>
<div class="line"><a name="l00750"></a><span class="lineno">  750</span>&#160;        unit.setKind(UNIT_KIND_DIMENSIONLESS);</div>
<div class="line"><a name="l00751"></a><span class="lineno">  751</span>&#160;        unit.setExponent(1);</div>
<div class="line"><a name="l00752"></a><span class="lineno">  752</span>&#160;        unit.setScale(0);</div>
<div class="line"><a name="l00753"></a><span class="lineno">  753</span>&#160;        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00754"></a><span class="lineno">  754</span>&#160;</div>
<div class="line"><a name="l00755"></a><span class="lineno">  755</span>&#160;      <span class="keywordflow">default</span>:</div>
<div class="line"><a name="l00756"></a><span class="lineno">  756</span>&#160;        <a class="code" href="../../d2/df0/classCCopasiMessage.html">CCopasiMessage</a>(<a class="code" href="../../d2/df0/classCCopasiMessage.html#a2ea1ed32494ff5c8d84353efcec7a5e4a568f885d73f0ea36bedfe92f6e533071">CCopasiMessage::EXCEPTION</a>, <span class="stringliteral">&quot;SBMLExporter Error: Unknown copasi length unit.&quot;</span>);</div>
<div class="line"><a name="l00757"></a><span class="lineno">  757</span>&#160;        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00758"></a><span class="lineno">  758</span>&#160;    }</div>
<div class="line"><a name="l00759"></a><span class="lineno">  759</span>&#160;</div>
<div class="line"><a name="l00760"></a><span class="lineno">  760</span>&#160;  unit.setMultiplier(1.0);</div>
<div class="line"><a name="l00761"></a><span class="lineno">  761</span>&#160;  uDef.addUnit(&amp;unit);</div>
<div class="line"><a name="l00762"></a><span class="lineno">  762</span>&#160;  Model* pSBMLModel = this-&gt;<a class="code" href="../../df/d80/classCSBMLExporter.html#a1541a69b36b8e864883e49f0de244f81">mpSBMLDocument</a>-&gt;getModel();</div>
<div class="line"><a name="l00763"></a><span class="lineno">  763</span>&#160;  UnitDefinition* pUdef = pSBMLModel-&gt;getUnitDefinition(<span class="stringliteral">&quot;length&quot;</span>);</div>
<div class="line"><a name="l00764"></a><span class="lineno">  764</span>&#160;</div>
<div class="line"><a name="l00765"></a><span class="lineno">  765</span>&#160;  <span class="keywordflow">if</span> (pUdef != NULL)</div>
<div class="line"><a name="l00766"></a><span class="lineno">  766</span>&#160;    {</div>
<div class="line"><a name="l00767"></a><span class="lineno">  767</span>&#160;      <span class="comment">// check if it is the same unit as the existing one if there is one</span></div>
<div class="line"><a name="l00768"></a><span class="lineno">  768</span>&#160;      <span class="comment">// if yes, return, else replace the existing one</span></div>
<div class="line"><a name="l00769"></a><span class="lineno">  769</span>&#160;      <span class="keywordflow">if</span> (!<a class="code" href="../../d7/d6d/classSBMLImporter.html#a61d10c15681b398f297bee71eaa75dbe">SBMLImporter::areSBMLUnitDefinitionsIdentical</a>(pUdef, &amp;uDef))</div>
<div class="line"><a name="l00770"></a><span class="lineno">  770</span>&#160;        {</div>
<div class="line"><a name="l00771"></a><span class="lineno">  771</span>&#160;          (*pUdef) = uDef;</div>
<div class="line"><a name="l00772"></a><span class="lineno">  772</span>&#160;        }</div>
<div class="line"><a name="l00773"></a><span class="lineno">  773</span>&#160;    }</div>
<div class="line"><a name="l00774"></a><span class="lineno">  774</span>&#160;  <span class="keywordflow">else</span></div>
<div class="line"><a name="l00775"></a><span class="lineno">  775</span>&#160;    {</div>
<div class="line"><a name="l00776"></a><span class="lineno">  776</span>&#160;      <span class="comment">// only add it if it is not the default unit definition anyway</span></div>
<div class="line"><a name="l00777"></a><span class="lineno">  777</span>&#160;      <span class="keywordflow">if</span> (this-&gt;<a class="code" href="../../df/d80/classCSBMLExporter.html#aba959efc152f63f1709d5de60e97a651">mSBMLLevel</a> &gt; 2 || unit.getKind() != UNIT_KIND_METRE || unit.getScale() != 0 || unit.getExponent() != 1 || unit.getMultiplier() != 1.0)</div>
<div class="line"><a name="l00778"></a><span class="lineno">  778</span>&#160;        {</div>
<div class="line"><a name="l00779"></a><span class="lineno">  779</span>&#160;          <span class="comment">// set the unit definition</span></div>
<div class="line"><a name="l00780"></a><span class="lineno">  780</span>&#160;          pSBMLModel-&gt;addUnitDefinition(&amp;uDef);</div>
<div class="line"><a name="l00781"></a><span class="lineno">  781</span>&#160;        }</div>
<div class="line"><a name="l00782"></a><span class="lineno">  782</span>&#160;    }</div>
<div class="line"><a name="l00783"></a><span class="lineno">  783</span>&#160;</div>
<div class="line"><a name="l00784"></a><span class="lineno">  784</span>&#160;<span class="comment">// if we write an SBML L3 document, we have to explicitely set the units on the model</span></div>
<div class="line"><a name="l00785"></a><span class="lineno">  785</span>&#160;<span class="preprocessor">#if LIBSBML_VERSION &gt;= 40100</span></div>
<div class="line"><a name="l00786"></a><span class="lineno">  786</span>&#160;<span class="preprocessor"></span></div>
<div class="line"><a name="l00787"></a><span class="lineno">  787</span>&#160;  <span class="keywordflow">if</span> (this-&gt;<a class="code" href="../../df/d80/classCSBMLExporter.html#aba959efc152f63f1709d5de60e97a651">mSBMLLevel</a> &gt; 2)</div>
<div class="line"><a name="l00788"></a><span class="lineno">  788</span>&#160;    {</div>
<div class="line"><a name="l00789"></a><span class="lineno">  789</span>&#160;      pSBMLModel-&gt;setLengthUnits(uDef.getId());</div>
<div class="line"><a name="l00790"></a><span class="lineno">  790</span>&#160;    }</div>
<div class="line"><a name="l00791"></a><span class="lineno">  791</span>&#160;</div>
<div class="line"><a name="l00792"></a><span class="lineno">  792</span>&#160;<span class="preprocessor">#endif // LIBSBML_VERSION</span></div>
<div class="line"><a name="l00793"></a><span class="lineno">  793</span>&#160;<span class="preprocessor"></span>}</div>
<div class="ttc" id="classCSBMLExporter_html_aba959efc152f63f1709d5de60e97a651"><div class="ttname"><a href="../../df/d80/classCSBMLExporter.html#aba959efc152f63f1709d5de60e97a651">CSBMLExporter::mSBMLLevel</a></div><div class="ttdeci">unsigned int mSBMLLevel</div><div class="ttdef"><b>Definition:</b> <a href="../../da/d7f/CSBMLExporter_8h_source.html#l00056">CSBMLExporter.h:56</a></div></div>
<div class="ttc" id="classCSBMLExporter_html_a1541a69b36b8e864883e49f0de244f81"><div class="ttname"><a href="../../df/d80/classCSBMLExporter.html#a1541a69b36b8e864883e49f0de244f81">CSBMLExporter::mpSBMLDocument</a></div><div class="ttdeci">SBMLDocument * mpSBMLDocument</div><div class="ttdef"><b>Definition:</b> <a href="../../da/d7f/CSBMLExporter_8h_source.html#l00055">CSBMLExporter.h:55</a></div></div>
<div class="ttc" id="classCCopasiDataModel_html_a2e65952e0caf0b2709d381cf949fec69"><div class="ttname"><a href="../../d4/d18/classCCopasiDataModel.html#a2e65952e0caf0b2709d381cf949fec69">CCopasiDataModel::getModel</a></div><div class="ttdeci">CModel * getModel()</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d38/CCopasiDataModel_8cpp_source.html#l01407">CCopasiDataModel.cpp:1407</a></div></div>
<div class="ttc" id="classCModel_html_a135194aaa96d335b89fbd59a81bff22ca70b8ea66d8daf842df307ade4b829a4a"><div class="ttname"><a href="../../d4/d04/classCModel.html#a135194aaa96d335b89fbd59a81bff22ca70b8ea66d8daf842df307ade4b829a4a">CModel::dimensionlessLength</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d90/CModel_8h_source.html#l00076">CModel.h:76</a></div></div>
<div class="ttc" id="classCModel_html_a135194aaa96d335b89fbd59a81bff22ca5346ded51c1ef43bdc73a91cb3eea3a8"><div class="ttname"><a href="../../d4/d04/classCModel.html#a135194aaa96d335b89fbd59a81bff22ca5346ded51c1ef43bdc73a91cb3eea3a8">CModel::microm</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d90/CModel_8h_source.html#l00076">CModel.h:76</a></div></div>
<div class="ttc" id="classCModel_html_a135194aaa96d335b89fbd59a81bff22ca0a709ed13081b1ced10e5c0ba2d7498d"><div class="ttname"><a href="../../d4/d04/classCModel.html#a135194aaa96d335b89fbd59a81bff22ca0a709ed13081b1ced10e5c0ba2d7498d">CModel::dm</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d90/CModel_8h_source.html#l00076">CModel.h:76</a></div></div>
<div class="ttc" id="classCModel_html_a135194aaa96d335b89fbd59a81bff22caf7debf327739246370f137fd5f456d63"><div class="ttname"><a href="../../d4/d04/classCModel.html#a135194aaa96d335b89fbd59a81bff22caf7debf327739246370f137fd5f456d63">CModel::pm</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d90/CModel_8h_source.html#l00076">CModel.h:76</a></div></div>
<div class="ttc" id="classCCopasiMessage_html_a2ea1ed32494ff5c8d84353efcec7a5e4a568f885d73f0ea36bedfe92f6e533071"><div class="ttname"><a href="../../d2/df0/classCCopasiMessage.html#a2ea1ed32494ff5c8d84353efcec7a5e4a568f885d73f0ea36bedfe92f6e533071">CCopasiMessage::EXCEPTION</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d2d/CCopasiMessage_8h_source.html#l00093">CCopasiMessage.h:93</a></div></div>
<div class="ttc" id="classCSBMLExporter_html_af1bc50a307a46adcce8aa8abde6dab96"><div class="ttname"><a href="../../df/d80/classCSBMLExporter.html#af1bc50a307a46adcce8aa8abde6dab96">CSBMLExporter::mSBMLVersion</a></div><div class="ttdeci">unsigned int mSBMLVersion</div><div class="ttdef"><b>Definition:</b> <a href="../../da/d7f/CSBMLExporter_8h_source.html#l00057">CSBMLExporter.h:57</a></div></div>
<div class="ttc" id="classCModel_html_af244a42f3cd5f89d03b826edb9b2effa"><div class="ttname"><a href="../../d4/d04/classCModel.html#af244a42f3cd5f89d03b826edb9b2effa">CModel::getLengthUnitEnum</a></div><div class="ttdeci">CModel::LengthUnit getLengthUnitEnum() const </div><div class="ttdef"><b>Definition:</b> <a href="../../df/d08/CModel_8cpp_source.html#l02220">CModel.cpp:2220</a></div></div>
<div class="ttc" id="classCModel_html_a135194aaa96d335b89fbd59a81bff22ca10f5a86ce5ab09b9271ed58fada9a39e"><div class="ttname"><a href="../../d4/d04/classCModel.html#a135194aaa96d335b89fbd59a81bff22ca10f5a86ce5ab09b9271ed58fada9a39e">CModel::cm</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d90/CModel_8h_source.html#l00076">CModel.h:76</a></div></div>
<div class="ttc" id="classCModel_html_a135194aaa96d335b89fbd59a81bff22ca4dba8de9df14c56def3876c2271b4e1e"><div class="ttname"><a href="../../d4/d04/classCModel.html#a135194aaa96d335b89fbd59a81bff22ca4dba8de9df14c56def3876c2271b4e1e">CModel::nm</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d90/CModel_8h_source.html#l00076">CModel.h:76</a></div></div>
<div class="ttc" id="classCCopasiMessage_html"><div class="ttname"><a href="../../d2/df0/classCCopasiMessage.html">CCopasiMessage</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d2d/CCopasiMessage_8h_source.html#l00078">CCopasiMessage.h:78</a></div></div>
<div class="ttc" id="classCModel_html_a135194aaa96d335b89fbd59a81bff22ca4a35e788ac8194d4f2d1569516ea925d"><div class="ttname"><a href="../../d4/d04/classCModel.html#a135194aaa96d335b89fbd59a81bff22ca4a35e788ac8194d4f2d1569516ea925d">CModel::m</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d90/CModel_8h_source.html#l00076">CModel.h:76</a></div></div>
<div class="ttc" id="classCModel_html_a135194aaa96d335b89fbd59a81bff22ca56d01266744ab991bb08454bac760459"><div class="ttname"><a href="../../d4/d04/classCModel.html#a135194aaa96d335b89fbd59a81bff22ca56d01266744ab991bb08454bac760459">CModel::fm</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d90/CModel_8h_source.html#l00076">CModel.h:76</a></div></div>
<div class="ttc" id="CSBMLExporter_8cpp_html_a6c9f65aeea9a7ce079171b3a9a5b2673"><div class="ttname"><a href="../../d5/d2f/CSBMLExporter_8cpp.html#a6c9f65aeea9a7ce079171b3a9a5b2673">INIT_DEFAULTS</a></div><div class="ttdeci">#define INIT_DEFAULTS(element)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d2f/CSBMLExporter_8cpp_source.html#l00048">CSBMLExporter.cpp:48</a></div></div>
<div class="ttc" id="classCModel_html_a135194aaa96d335b89fbd59a81bff22ca70ff41c7addc0c115b28d2da5fa8d483"><div class="ttname"><a href="../../d4/d04/classCModel.html#a135194aaa96d335b89fbd59a81bff22ca70ff41c7addc0c115b28d2da5fa8d483">CModel::mm</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d90/CModel_8h_source.html#l00076">CModel.h:76</a></div></div>
<div class="ttc" id="classSBMLImporter_html_a61d10c15681b398f297bee71eaa75dbe"><div class="ttname"><a href="../../d7/d6d/classSBMLImporter.html#a61d10c15681b398f297bee71eaa75dbe">SBMLImporter::areSBMLUnitDefinitionsIdentical</a></div><div class="ttdeci">static bool areSBMLUnitDefinitionsIdentical(const UnitDefinition *pUdef1, const UnitDefinition *pUdef2)</div><div class="ttdef"><b>Definition:</b> <a href="../../df/dfd/SBMLImporter_8cpp_source.html#l08297">SBMLImporter.cpp:8297</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a6aad2107b13073b09b9ca92aa465e094"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d8/d9f/classCEvaluationNode.html">CEvaluationNode</a> * CSBMLExporter::createMassActionExpression </td>
          <td>(</td>
          <td class="paramtype">const std::vector&lt; std::vector&lt; std::string &gt; &gt; &amp;&#160;</td>
          <td class="paramname"><em>arguments</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>isReversible</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>This method creates the <a class="el" href="../../d8/d9f/classCEvaluationNode.html">CEvaluationNode</a> based tree for a reversible or irreversible Mass Action call. The first parameter contains the arguments from the COPASI reaction. The second argument determines whether it is reversible or irreversible mass action. </p>

<p>Definition at line <a class="el" href="../../d5/d2f/CSBMLExporter_8cpp_source.html#l05907">5907</a> of file <a class="el" href="../../d5/d2f/CSBMLExporter_8cpp_source.html">CSBMLExporter.cpp</a>.</p>

<p>References <a class="el" href="../../d9/d9d/classCCopasiNode.html#a76b012dfe6d52644d19808875a71db4e">CCopasiNode&lt; _Data &gt;::addChild()</a>, <a class="el" href="../../d8/d28/classCEvaluationNodeObject.html#ac395d4a167d9c1848c3872ee94074d86af646af56f5c9953bce5ba78b399fee72">CEvaluationNodeObject::CN</a>, <a class="el" href="../../d3/d2a/classCEvaluationNodeNumber.html#a82abcf0fd7082e54feab9739b3258948a93ffe20de6f762c274a3575679cfb7a4">CEvaluationNodeNumber::DOUBLE</a>, <a class="el" href="../../d8/d5c/classCKeyFactory.html#a49fdca380d37f99f3195103465ba4c0f">CKeyFactory::get()</a>, <a class="el" href="../../d4/da8/classCCopasiObject.html#a1f5e2625716c1ac192561974bd17b3cb">CCopasiObject::getCN()</a>, <a class="el" href="../../d3/db1/classCCopasiRootContainer.html#acfd634e031d3fb4358b24bfcdd26830e">CCopasiRootContainer::getKeyFactory()</a>, <a class="el" href="../../d5/de4/classCEvaluationNodeOperator.html#a39e738b7acfcf431f7c72e76b68ffa98ac08f19645f20aa1db61f3907975816e7">CEvaluationNodeOperator::MINUS</a>, <a class="el" href="../../d5/de4/classCEvaluationNodeOperator.html#a39e738b7acfcf431f7c72e76b68ffa98af9d4b686c9ae4f20ca8f1cd707fbe6a0">CEvaluationNodeOperator::MULTIPLY</a>, <a class="el" href="../../d5/de4/classCEvaluationNodeOperator.html#a39e738b7acfcf431f7c72e76b68ffa98a5d32e83a5fb1029cbd80991bc2291e14">CEvaluationNodeOperator::POWER</a>, and <a class="el" href="../../d7/de4/CQTSSAResultSubWidget_8cpp.html#a015b908fb74f75922e0bc448af09d9d1">pResult</a>.</p>

<p>Referenced by <a class="el" href="../../df/d80/classCSBMLExporter.html#a6f2f5bc62cdf7e13aa17508771260ac3">createKineticExpression()</a>.</p>
<div class="fragment"><div class="line"><a name="l05908"></a><span class="lineno"> 5908</span>&#160;{</div>
<div class="line"><a name="l05909"></a><span class="lineno"> 5909</span>&#160;  assert((isReversible &amp;&amp; arguments.size() == 4) || arguments.size() == 2);</div>
<div class="line"><a name="l05910"></a><span class="lineno"> 5910</span>&#160;  assert(arguments[0].size() == 1 &amp;&amp; arguments[1].size() &gt; 0);</div>
<div class="line"><a name="l05911"></a><span class="lineno"> 5911</span>&#160;  <span class="comment">// create a multiplication of all items in arguments[1] and multiply that</span></div>
<div class="line"><a name="l05912"></a><span class="lineno"> 5912</span>&#160;  <span class="comment">// with item arguments[0][0]</span></div>
<div class="line"><a name="l05913"></a><span class="lineno"> 5913</span>&#160;  std::set&lt;std::string&gt; finishedElements;</div>
<div class="line"><a name="l05914"></a><span class="lineno"> 5914</span>&#160;  std::vector&lt;CEvaluationNode*&gt; multiplicants;</div>
<div class="line"><a name="l05915"></a><span class="lineno"> 5915</span>&#160;  <span class="keyword">const</span> <a class="code" href="../../d4/da8/classCCopasiObject.html">CCopasiObject</a>* pObject = <a class="code" href="../../d3/db1/classCCopasiRootContainer.html#acfd634e031d3fb4358b24bfcdd26830e">CCopasiRootContainer::getKeyFactory</a>()-&gt;<a class="code" href="../../d8/d5c/classCKeyFactory.html#a49fdca380d37f99f3195103465ba4c0f">get</a>(arguments[0][0]);</div>
<div class="line"><a name="l05916"></a><span class="lineno"> 5916</span>&#160;  assert(pObject != NULL);</div>
<div class="line"><a name="l05917"></a><span class="lineno"> 5917</span>&#160;  multiplicants.push_back(<span class="keyword">new</span> <a class="code" href="../../d8/d28/classCEvaluationNodeObject.html">CEvaluationNodeObject</a>(<a class="code" href="../../d8/d28/classCEvaluationNodeObject.html#ac395d4a167d9c1848c3872ee94074d86af646af56f5c9953bce5ba78b399fee72">CEvaluationNodeObject::CN</a>, <span class="stringliteral">&quot;&lt;&quot;</span> + pObject-&gt;<a class="code" href="../../d4/da8/classCCopasiObject.html#a1f5e2625716c1ac192561974bd17b3cb">getCN</a>() + <span class="stringliteral">&quot;,Reference=Value&gt;&quot;</span>));</div>
<div class="line"><a name="l05918"></a><span class="lineno"> 5918</span>&#160;  std::vector&lt;std::string&gt;::const_iterator it = arguments[1].begin(), endit = arguments[1].end();</div>
<div class="line"><a name="l05919"></a><span class="lineno"> 5919</span>&#160;</div>
<div class="line"><a name="l05920"></a><span class="lineno"> 5920</span>&#160;  <span class="keywordflow">while</span> (it != endit)</div>
<div class="line"><a name="l05921"></a><span class="lineno"> 5921</span>&#160;    {</div>
<div class="line"><a name="l05922"></a><span class="lineno"> 5922</span>&#160;      <span class="keywordflow">if</span> (finishedElements.find(*it) == finishedElements.end())</div>
<div class="line"><a name="l05923"></a><span class="lineno"> 5923</span>&#160;        {</div>
<div class="line"><a name="l05924"></a><span class="lineno"> 5924</span>&#160;<span class="preprocessor">#ifdef __SUNPRO_CC</span></div>
<div class="line"><a name="l05925"></a><span class="lineno"> 5925</span>&#160;<span class="preprocessor"></span>          <span class="comment">// replaced count call with  &quot;old&quot; count call</span></div>
<div class="line"><a name="l05926"></a><span class="lineno"> 5926</span>&#160;          <span class="comment">// to compile on Sun Compiler</span></div>
<div class="line"><a name="l05927"></a><span class="lineno"> 5927</span>&#160;          <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> num = 0;</div>
<div class="line"><a name="l05928"></a><span class="lineno"> 5928</span>&#160;          std::count(arguments[1].begin(), arguments[1].end(), *it, num);</div>
<div class="line"><a name="l05929"></a><span class="lineno"> 5929</span>&#160;<span class="preprocessor">#else</span></div>
<div class="line"><a name="l05930"></a><span class="lineno"> 5930</span>&#160;<span class="preprocessor"></span>          <span class="keywordtype">size_t</span> num = std::count(arguments[1].begin(), arguments[1].end(), *it);</div>
<div class="line"><a name="l05931"></a><span class="lineno"> 5931</span>&#160;<span class="preprocessor">#endif  // __SUNPRO_CC</span></div>
<div class="line"><a name="l05932"></a><span class="lineno"> 5932</span>&#160;<span class="preprocessor"></span>          assert(num != 0);</div>
<div class="line"><a name="l05933"></a><span class="lineno"> 5933</span>&#160;          finishedElements.insert(*it);</div>
<div class="line"><a name="l05934"></a><span class="lineno"> 5934</span>&#160;          pObject = <a class="code" href="../../d3/db1/classCCopasiRootContainer.html#acfd634e031d3fb4358b24bfcdd26830e">CCopasiRootContainer::getKeyFactory</a>()-&gt;<a class="code" href="../../d8/d5c/classCKeyFactory.html#a49fdca380d37f99f3195103465ba4c0f">get</a>(*it);</div>
<div class="line"><a name="l05935"></a><span class="lineno"> 5935</span>&#160;          assert(pObject != NULL);</div>
<div class="line"><a name="l05936"></a><span class="lineno"> 5936</span>&#160;</div>
<div class="line"><a name="l05937"></a><span class="lineno"> 5937</span>&#160;          <span class="keywordflow">if</span> (num == 1)</div>
<div class="line"><a name="l05938"></a><span class="lineno"> 5938</span>&#160;            {</div>
<div class="line"><a name="l05939"></a><span class="lineno"> 5939</span>&#160;              multiplicants.push_back(<span class="keyword">new</span> <a class="code" href="../../d8/d28/classCEvaluationNodeObject.html">CEvaluationNodeObject</a>(<a class="code" href="../../d8/d28/classCEvaluationNodeObject.html#ac395d4a167d9c1848c3872ee94074d86af646af56f5c9953bce5ba78b399fee72">CEvaluationNodeObject::CN</a>, <span class="stringliteral">&quot;&lt;&quot;</span> + pObject-&gt;<a class="code" href="../../d4/da8/classCCopasiObject.html#a1f5e2625716c1ac192561974bd17b3cb">getCN</a>() + <span class="stringliteral">&quot;,Reference=Concentration&gt;&quot;</span>));</div>
<div class="line"><a name="l05940"></a><span class="lineno"> 5940</span>&#160;            }</div>
<div class="line"><a name="l05941"></a><span class="lineno"> 5941</span>&#160;          <span class="keywordflow">else</span></div>
<div class="line"><a name="l05942"></a><span class="lineno"> 5942</span>&#160;            {</div>
<div class="line"><a name="l05943"></a><span class="lineno"> 5943</span>&#160;              std::ostringstream os;</div>
<div class="line"><a name="l05944"></a><span class="lineno"> 5944</span>&#160;              os &lt;&lt; num;</div>
<div class="line"><a name="l05945"></a><span class="lineno"> 5945</span>&#160;              <a class="code" href="../../d5/de4/classCEvaluationNodeOperator.html">CEvaluationNodeOperator</a>* pOperator = <span class="keyword">new</span> <a class="code" href="../../d5/de4/classCEvaluationNodeOperator.html">CEvaluationNodeOperator</a>(<a class="code" href="../../d5/de4/classCEvaluationNodeOperator.html#a39e738b7acfcf431f7c72e76b68ffa98a5d32e83a5fb1029cbd80991bc2291e14">CEvaluationNodeOperator::POWER</a>, <span class="stringliteral">&quot;^&quot;</span>);</div>
<div class="line"><a name="l05946"></a><span class="lineno"> 5946</span>&#160;              pOperator-&gt;<a class="code" href="../../d9/d9d/classCCopasiNode.html#a76b012dfe6d52644d19808875a71db4e">addChild</a>(<span class="keyword">new</span> <a class="code" href="../../d8/d28/classCEvaluationNodeObject.html">CEvaluationNodeObject</a>(<a class="code" href="../../d8/d28/classCEvaluationNodeObject.html#ac395d4a167d9c1848c3872ee94074d86af646af56f5c9953bce5ba78b399fee72">CEvaluationNodeObject::CN</a>, <span class="stringliteral">&quot;&lt;&quot;</span> + pObject-&gt;<a class="code" href="../../d4/da8/classCCopasiObject.html#a1f5e2625716c1ac192561974bd17b3cb">getCN</a>() + <span class="stringliteral">&quot;,Reference=Concentration&gt;&quot;</span>));</div>
<div class="line"><a name="l05947"></a><span class="lineno"> 5947</span>&#160;              pOperator-&gt;<a class="code" href="../../d9/d9d/classCCopasiNode.html#a76b012dfe6d52644d19808875a71db4e">addChild</a>(<span class="keyword">new</span> <a class="code" href="../../d3/d2a/classCEvaluationNodeNumber.html">CEvaluationNodeNumber</a>(<a class="code" href="../../d3/d2a/classCEvaluationNodeNumber.html#a82abcf0fd7082e54feab9739b3258948a93ffe20de6f762c274a3575679cfb7a4">CEvaluationNodeNumber::DOUBLE</a>, os.str()));</div>
<div class="line"><a name="l05948"></a><span class="lineno"> 5948</span>&#160;              multiplicants.push_back(pOperator);</div>
<div class="line"><a name="l05949"></a><span class="lineno"> 5949</span>&#160;            }</div>
<div class="line"><a name="l05950"></a><span class="lineno"> 5950</span>&#160;        }</div>
<div class="line"><a name="l05951"></a><span class="lineno"> 5951</span>&#160;</div>
<div class="line"><a name="l05952"></a><span class="lineno"> 5952</span>&#160;      ++it;</div>
<div class="line"><a name="l05953"></a><span class="lineno"> 5953</span>&#160;    }</div>
<div class="line"><a name="l05954"></a><span class="lineno"> 5954</span>&#160;</div>
<div class="line"><a name="l05955"></a><span class="lineno"> 5955</span>&#160;  std::vector&lt;CEvaluationNode*&gt;::reverse_iterator rIt = multiplicants.rbegin(), rEndit = multiplicants.rend();</div>
<div class="line"><a name="l05956"></a><span class="lineno"> 5956</span>&#160;  <a class="code" href="../../d8/d9f/classCEvaluationNode.html">CEvaluationNode</a>* <a class="code" href="../../d7/de4/CQTSSAResultSubWidget_8cpp.html#a015b908fb74f75922e0bc448af09d9d1">pResult</a> = *rIt;</div>
<div class="line"><a name="l05957"></a><span class="lineno"> 5957</span>&#160;  ++rIt;</div>
<div class="line"><a name="l05958"></a><span class="lineno"> 5958</span>&#160;  <a class="code" href="../../d8/d9f/classCEvaluationNode.html">CEvaluationNode</a>* pTmpNode = NULL;</div>
<div class="line"><a name="l05959"></a><span class="lineno"> 5959</span>&#160;</div>
<div class="line"><a name="l05960"></a><span class="lineno"> 5960</span>&#160;  <span class="keywordflow">if</span> (rIt != rEndit)</div>
<div class="line"><a name="l05961"></a><span class="lineno"> 5961</span>&#160;    {</div>
<div class="line"><a name="l05962"></a><span class="lineno"> 5962</span>&#160;      --rEndit;</div>
<div class="line"><a name="l05963"></a><span class="lineno"> 5963</span>&#160;</div>
<div class="line"><a name="l05964"></a><span class="lineno"> 5964</span>&#160;      <span class="keywordflow">while</span> (rIt != rEndit)</div>
<div class="line"><a name="l05965"></a><span class="lineno"> 5965</span>&#160;        {</div>
<div class="line"><a name="l05966"></a><span class="lineno"> 5966</span>&#160;          pTmpNode = <span class="keyword">new</span> <a class="code" href="../../d5/de4/classCEvaluationNodeOperator.html">CEvaluationNodeOperator</a>(<a class="code" href="../../d5/de4/classCEvaluationNodeOperator.html#a39e738b7acfcf431f7c72e76b68ffa98af9d4b686c9ae4f20ca8f1cd707fbe6a0">CEvaluationNodeOperator::MULTIPLY</a>, <span class="stringliteral">&quot;*&quot;</span>);</div>
<div class="line"><a name="l05967"></a><span class="lineno"> 5967</span>&#160;          pTmpNode-&gt;<a class="code" href="../../d9/d9d/classCCopasiNode.html#a76b012dfe6d52644d19808875a71db4e">addChild</a>(*rIt);</div>
<div class="line"><a name="l05968"></a><span class="lineno"> 5968</span>&#160;          pTmpNode-&gt;<a class="code" href="../../d9/d9d/classCCopasiNode.html#a76b012dfe6d52644d19808875a71db4e">addChild</a>(pResult);</div>
<div class="line"><a name="l05969"></a><span class="lineno"> 5969</span>&#160;          pResult = pTmpNode;</div>
<div class="line"><a name="l05970"></a><span class="lineno"> 5970</span>&#160;          ++rIt;</div>
<div class="line"><a name="l05971"></a><span class="lineno"> 5971</span>&#160;        }</div>
<div class="line"><a name="l05972"></a><span class="lineno"> 5972</span>&#160;    }</div>
<div class="line"><a name="l05973"></a><span class="lineno"> 5973</span>&#160;</div>
<div class="line"><a name="l05974"></a><span class="lineno"> 5974</span>&#160;  pTmpNode = <span class="keyword">new</span> <a class="code" href="../../d5/de4/classCEvaluationNodeOperator.html">CEvaluationNodeOperator</a>(<a class="code" href="../../d5/de4/classCEvaluationNodeOperator.html#a39e738b7acfcf431f7c72e76b68ffa98af9d4b686c9ae4f20ca8f1cd707fbe6a0">CEvaluationNodeOperator::MULTIPLY</a>, <span class="stringliteral">&quot;*&quot;</span>);</div>
<div class="line"><a name="l05975"></a><span class="lineno"> 5975</span>&#160;  pTmpNode-&gt;<a class="code" href="../../d9/d9d/classCCopasiNode.html#a76b012dfe6d52644d19808875a71db4e">addChild</a>(*rIt);</div>
<div class="line"><a name="l05976"></a><span class="lineno"> 5976</span>&#160;  pTmpNode-&gt;<a class="code" href="../../d9/d9d/classCCopasiNode.html#a76b012dfe6d52644d19808875a71db4e">addChild</a>(pResult);</div>
<div class="line"><a name="l05977"></a><span class="lineno"> 5977</span>&#160;  pResult = pTmpNode;</div>
<div class="line"><a name="l05978"></a><span class="lineno"> 5978</span>&#160;</div>
<div class="line"><a name="l05979"></a><span class="lineno"> 5979</span>&#160;  <span class="keywordflow">if</span> (isReversible)</div>
<div class="line"><a name="l05980"></a><span class="lineno"> 5980</span>&#160;    {</div>
<div class="line"><a name="l05981"></a><span class="lineno"> 5981</span>&#160;      std::vector&lt;std::vector&lt;std::string&gt; &gt; tmpV;</div>
<div class="line"><a name="l05982"></a><span class="lineno"> 5982</span>&#160;      tmpV.push_back(arguments[2]);</div>
<div class="line"><a name="l05983"></a><span class="lineno"> 5983</span>&#160;      tmpV.push_back(arguments[3]);</div>
<div class="line"><a name="l05984"></a><span class="lineno"> 5984</span>&#160;      pTmpNode = <span class="keyword">new</span> <a class="code" href="../../d5/de4/classCEvaluationNodeOperator.html">CEvaluationNodeOperator</a>(<a class="code" href="../../d5/de4/classCEvaluationNodeOperator.html#a39e738b7acfcf431f7c72e76b68ffa98ac08f19645f20aa1db61f3907975816e7">CEvaluationNodeOperator::MINUS</a>, <span class="stringliteral">&quot;-&quot;</span>);</div>
<div class="line"><a name="l05985"></a><span class="lineno"> 5985</span>&#160;      pTmpNode-&gt;<a class="code" href="../../d9/d9d/classCCopasiNode.html#a76b012dfe6d52644d19808875a71db4e">addChild</a>(pResult);</div>
<div class="line"><a name="l05986"></a><span class="lineno"> 5986</span>&#160;      pTmpNode-&gt;<a class="code" href="../../d9/d9d/classCCopasiNode.html#a76b012dfe6d52644d19808875a71db4e">addChild</a>(<a class="code" href="../../df/d80/classCSBMLExporter.html#a6aad2107b13073b09b9ca92aa465e094">CSBMLExporter::createMassActionExpression</a>(tmpV, <span class="keyword">false</span>));</div>
<div class="line"><a name="l05987"></a><span class="lineno"> 5987</span>&#160;      pResult = pTmpNode;</div>
<div class="line"><a name="l05988"></a><span class="lineno"> 5988</span>&#160;    }</div>
<div class="line"><a name="l05989"></a><span class="lineno"> 5989</span>&#160;</div>
<div class="line"><a name="l05990"></a><span class="lineno"> 5990</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="../../d7/de4/CQTSSAResultSubWidget_8cpp.html#a015b908fb74f75922e0bc448af09d9d1">pResult</a>;</div>
<div class="line"><a name="l05991"></a><span class="lineno"> 5991</span>&#160;}</div>
<div class="ttc" id="classCEvaluationNodeOperator_html_a39e738b7acfcf431f7c72e76b68ffa98a5d32e83a5fb1029cbd80991bc2291e14"><div class="ttname"><a href="../../d5/de4/classCEvaluationNodeOperator.html#a39e738b7acfcf431f7c72e76b68ffa98a5d32e83a5fb1029cbd80991bc2291e14">CEvaluationNodeOperator::POWER</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d39/CEvaluationNodeOperator_8h_source.html#l00041">CEvaluationNodeOperator.h:41</a></div></div>
<div class="ttc" id="classCCopasiObject_html_a1f5e2625716c1ac192561974bd17b3cb"><div class="ttname"><a href="../../d4/da8/classCCopasiObject.html#a1f5e2625716c1ac192561974bd17b3cb">CCopasiObject::getCN</a></div><div class="ttdeci">virtual CCopasiObjectName getCN() const </div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d22/CCopasiObject_8cpp_source.html#l00103">CCopasiObject.cpp:103</a></div></div>
<div class="ttc" id="classCKeyFactory_html_a49fdca380d37f99f3195103465ba4c0f"><div class="ttname"><a href="../../d8/d5c/classCKeyFactory.html#a49fdca380d37f99f3195103465ba4c0f">CKeyFactory::get</a></div><div class="ttdeci">CCopasiObject * get(const std::string &amp;key)</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dc8/CKeyFactory_8cpp_source.html#l00235">CKeyFactory.cpp:235</a></div></div>
<div class="ttc" id="classCEvaluationNodeNumber_html_a82abcf0fd7082e54feab9739b3258948a93ffe20de6f762c274a3575679cfb7a4"><div class="ttname"><a href="../../d3/d2a/classCEvaluationNodeNumber.html#a82abcf0fd7082e54feab9739b3258948a93ffe20de6f762c274a3575679cfb7a4">CEvaluationNodeNumber::DOUBLE</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d6d/CEvaluationNodeNumber_8h_source.html#l00032">CEvaluationNodeNumber.h:32</a></div></div>
<div class="ttc" id="classCCopasiObject_html"><div class="ttname"><a href="../../d4/da8/classCCopasiObject.html">CCopasiObject</a></div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d9f/CCopasiObject_8h_source.html#l00216">CCopasiObject.h:216</a></div></div>
<div class="ttc" id="classCEvaluationNodeOperator_html_a39e738b7acfcf431f7c72e76b68ffa98af9d4b686c9ae4f20ca8f1cd707fbe6a0"><div class="ttname"><a href="../../d5/de4/classCEvaluationNodeOperator.html#a39e738b7acfcf431f7c72e76b68ffa98af9d4b686c9ae4f20ca8f1cd707fbe6a0">CEvaluationNodeOperator::MULTIPLY</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d39/CEvaluationNodeOperator_8h_source.html#l00042">CEvaluationNodeOperator.h:42</a></div></div>
<div class="ttc" id="classCEvaluationNodeNumber_html"><div class="ttname"><a href="../../d3/d2a/classCEvaluationNodeNumber.html">CEvaluationNodeNumber</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d6d/CEvaluationNodeNumber_8h_source.html#l00023">CEvaluationNodeNumber.h:23</a></div></div>
<div class="ttc" id="classCEvaluationNodeObject_html_ac395d4a167d9c1848c3872ee94074d86af646af56f5c9953bce5ba78b399fee72"><div class="ttname"><a href="../../d8/d28/classCEvaluationNodeObject.html#ac395d4a167d9c1848c3872ee94074d86af646af56f5c9953bce5ba78b399fee72">CEvaluationNodeObject::CN</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d59/CEvaluationNodeObject_8h_source.html#l00044">CEvaluationNodeObject.h:44</a></div></div>
<div class="ttc" id="classCEvaluationNodeOperator_html_a39e738b7acfcf431f7c72e76b68ffa98ac08f19645f20aa1db61f3907975816e7"><div class="ttname"><a href="../../d5/de4/classCEvaluationNodeOperator.html#a39e738b7acfcf431f7c72e76b68ffa98ac08f19645f20aa1db61f3907975816e7">CEvaluationNodeOperator::MINUS</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d39/CEvaluationNodeOperator_8h_source.html#l00046">CEvaluationNodeOperator.h:46</a></div></div>
<div class="ttc" id="classCCopasiNode_html_a76b012dfe6d52644d19808875a71db4e"><div class="ttname"><a href="../../d9/d9d/classCCopasiNode.html#a76b012dfe6d52644d19808875a71db4e">CCopasiNode::addChild</a></div><div class="ttdeci">virtual bool addChild(CCopasiNode&lt; Data &gt; *pChild, CCopasiNode&lt; Data &gt; *pAfter=NULL)</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d24/CCopasiNode_8h_source.html#l00156">CCopasiNode.h:156</a></div></div>
<div class="ttc" id="CQTSSAResultSubWidget_8cpp_html_a015b908fb74f75922e0bc448af09d9d1"><div class="ttname"><a href="../../d7/de4/CQTSSAResultSubWidget_8cpp.html#a015b908fb74f75922e0bc448af09d9d1">pResult</a></div><div class="ttdeci">const CArrayAnnotation * pResult</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/de4/CQTSSAResultSubWidget_8cpp_source.html#l00028">CQTSSAResultSubWidget.cpp:28</a></div></div>
<div class="ttc" id="classCEvaluationNode_html"><div class="ttname"><a href="../../d8/d9f/classCEvaluationNode.html">CEvaluationNode</a></div><div class="ttdef"><b>Definition:</b> <a href="../../de/dfa/CEvaluationNode_8h_source.html#l00033">CEvaluationNode.h:33</a></div></div>
<div class="ttc" id="classCCopasiRootContainer_html_acfd634e031d3fb4358b24bfcdd26830e"><div class="ttname"><a href="../../d3/db1/classCCopasiRootContainer.html#acfd634e031d3fb4358b24bfcdd26830e">CCopasiRootContainer::getKeyFactory</a></div><div class="ttdeci">static CKeyFactory * getKeyFactory()</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/d4b/CCopasiRootContainer_8cpp_source.html#l00163">CCopasiRootContainer.cpp:163</a></div></div>
<div class="ttc" id="classCSBMLExporter_html_a6aad2107b13073b09b9ca92aa465e094"><div class="ttname"><a href="../../df/d80/classCSBMLExporter.html#a6aad2107b13073b09b9ca92aa465e094">CSBMLExporter::createMassActionExpression</a></div><div class="ttdeci">static CEvaluationNode * createMassActionExpression(const std::vector&lt; std::vector&lt; std::string &gt; &gt; &amp;arguments, bool isReversible)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d2f/CSBMLExporter_8cpp_source.html#l05907">CSBMLExporter.cpp:5907</a></div></div>
<div class="ttc" id="classCEvaluationNodeObject_html"><div class="ttname"><a href="../../d8/d28/classCEvaluationNodeObject.html">CEvaluationNodeObject</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d59/CEvaluationNodeObject_8h_source.html#l00034">CEvaluationNodeObject.h:34</a></div></div>
<div class="ttc" id="classCEvaluationNodeOperator_html"><div class="ttname"><a href="../../d5/de4/classCEvaluationNodeOperator.html">CEvaluationNodeOperator</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d39/CEvaluationNodeOperator_8h_source.html#l00032">CEvaluationNodeOperator.h:32</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a79fe24bce02d84048709c9e851d4ce1b"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d3/d05/CChemEqParser__yacc_8cpp.html#aa76fec002b4ba91adc88f68d56ba730c">void</a> CSBMLExporter::createMetabolite </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../dc/d44/classCMetab.html">CMetab</a> &amp;&#160;</td>
          <td class="paramname"><em>metab</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Creates the species for the given COPASI metabolite. </p>

<p>Definition at line <a class="el" href="../../d5/d2f/CSBMLExporter_8cpp_source.html#l01105">1105</a> of file <a class="el" href="../../d5/d2f/CSBMLExporter_8cpp_source.html">CSBMLExporter.cpp</a>.</p>

<p>References <a class="el" href="../../d0/da0/classCModelEntity.html#a86cb8e66e255d66db258324064efc78aa3bfd50e7d8e4dd09716a51e0ca62dedb">CModelEntity::ASSIGNMENT</a>, <a class="el" href="../../df/d80/classCSBMLExporter.html#ab4d7f9c3d22b8225d1a4d9e3a98b855e">createUniqueId()</a>, <a class="el" href="../../d0/da0/classCModelEntity.html#a86cb8e66e255d66db258324064efc78aa8751c35af95ea9346908d9835a1b0570">CModelEntity::FIXED</a>, <a class="el" href="../../dc/d44/classCMetab.html#a9774853fea3fd6c9b15ecd26df7ab349">CMetab::getCompartment()</a>, <a class="el" href="../../dc/d44/classCMetab.html#abf91c5adf022ad042eb0b020247ac312">CMetab::getInitialConcentration()</a>, <a class="el" href="../../d0/da0/classCModelEntity.html#a81da1db2a961ac206f9651f56f63138e">CModelEntity::getInitialExpression()</a>, <a class="el" href="../../d0/da0/classCModelEntity.html#a9358b19dd65bd1e1ef1e97fca55708b9">CModelEntity::getInitialValue()</a>, <a class="el" href="../../dc/d44/classCMetab.html#a4cad8b03e8bb72ee4723c816cb2764eb">CMetab::getObjectDisplayName()</a>, <a class="el" href="../../d4/da8/classCCopasiObject.html#a879d6756b51f6b58d307940e1343bd10">CCopasiObject::getObjectName()</a>, <a class="el" href="../../d0/da0/classCModelEntity.html#a5c8d403c6027f59d1cc3e1ccc2d9efac">CModelEntity::getSBMLId()</a>, <a class="el" href="../../d0/da0/classCModelEntity.html#ad6bdcaa2e8887271f61fc363262cc9ed">CModelEntity::getStatus()</a>, <a class="el" href="../../d5/d2f/CSBMLExporter_8cpp.html#a6c9f65aeea9a7ce079171b3a9a5b2673">INIT_DEFAULTS</a>, <a class="el" href="../../df/d80/classCSBMLExporter.html#ae2467a5206a20eae7445885970958380">mAssignmentVector</a>, <a class="el" href="../../df/d80/classCSBMLExporter.html#aeb19f9866a1735848770125dad2aebad">mCOPASI2SBMLMap</a>, <a class="el" href="../../df/d80/classCSBMLExporter.html#ae5ae5ec70c912323abe9c31b58de2652">mHandledSBMLObjects</a>, <a class="el" href="../../df/d80/classCSBMLExporter.html#a60ab409a11b90a1ca965d7702828af74">mIdMap</a>, <a class="el" href="../../df/d80/classCSBMLExporter.html#a1b30687327c5f035db028165254de116">mInitialAssignmentVector</a>, <a class="el" href="../../df/d80/classCSBMLExporter.html#aa2e61de10e2d26eee4c7310beb099b13">mMetaIdMap</a>, <a class="el" href="../../df/d80/classCSBMLExporter.html#a0e510c0403f40240d781206e3b224b69">mODEVector</a>, <a class="el" href="../../df/d80/classCSBMLExporter.html#a1541a69b36b8e864883e49f0de244f81">mpSBMLDocument</a>, <a class="el" href="../../df/d80/classCSBMLExporter.html#aba959efc152f63f1709d5de60e97a651">mSBMLLevel</a>, <a class="el" href="../../df/d80/classCSBMLExporter.html#af1bc50a307a46adcce8aa8abde6dab96">mSBMLVersion</a>, <a class="el" href="../../df/d80/classCSBMLExporter.html#add70567bab44bdd83557d9cc1ca89b74">mSpatialSizeUnitsSpecies</a>, <a class="el" href="../../df/d80/classCSBMLExporter.html#a64ec2c4a41a2fa37f21875281f5948d5">mVariableVolumes</a>, <a class="el" href="../../d0/da0/classCModelEntity.html#a86cb8e66e255d66db258324064efc78aa3c62c1c3a449e106a5f1eb2f4ff01ec3">CModelEntity::ODE</a>, <a class="el" href="../../d0/da0/classCModelEntity.html#a86cb8e66e255d66db258324064efc78aab0a74c011c2515f5eb7b06d4be05fe22">CModelEntity::REACTIONS</a>, <a class="el" href="../../df/d80/classCSBMLExporter.html#a9e7e580cffcbce270b84905e94bbb854">removeInitialAssignment()</a>, <a class="el" href="../../df/d80/classCSBMLExporter.html#a836063c67a8c63decd58706b6036efd0">removeRule()</a>, <a class="el" href="../../d0/da0/classCModelEntity.html#a9bfa78ba4485c77792c9cac3dfb3ac2e">CModelEntity::setSBMLId()</a>, <a class="el" href="../../df/d80/classCSBMLExporter.html#a166bed353f341e4e617bff6f40ff12c4">setSBMLNotes()</a>, and <a class="el" href="../../df/d80/classCSBMLExporter.html#aba8216eaf4931e0adf484832882fbe67">updateMIRIAMAnnotation()</a>.</p>

<p>Referenced by <a class="el" href="../../df/d80/classCSBMLExporter.html#ace48aaa532a60b2651d42618b5484b36">createMetabolites()</a>.</p>
<div class="fragment"><div class="line"><a name="l01106"></a><span class="lineno"> 1106</span>&#160;{</div>
<div class="line"><a name="l01107"></a><span class="lineno"> 1107</span>&#160;  Species* pSBMLSpecies = NULL;</div>
<div class="line"><a name="l01108"></a><span class="lineno"> 1108</span>&#160;  std::string sbmlId = metab.<a class="code" href="../../d0/da0/classCModelEntity.html#a5c8d403c6027f59d1cc3e1ccc2d9efac">getSBMLId</a>();</div>
<div class="line"><a name="l01109"></a><span class="lineno"> 1109</span>&#160;</div>
<div class="line"><a name="l01110"></a><span class="lineno"> 1110</span>&#160;  <span class="keywordflow">if</span> (!sbmlId.empty())</div>
<div class="line"><a name="l01111"></a><span class="lineno"> 1111</span>&#160;    {</div>
<div class="line"><a name="l01112"></a><span class="lineno"> 1112</span>&#160;      pSBMLSpecies = this-&gt;<a class="code" href="../../df/d80/classCSBMLExporter.html#a1541a69b36b8e864883e49f0de244f81">mpSBMLDocument</a>-&gt;getModel()-&gt;getSpecies(sbmlId);</div>
<div class="line"><a name="l01113"></a><span class="lineno"> 1113</span>&#160;</div>
<div class="line"><a name="l01114"></a><span class="lineno"> 1114</span>&#160;      <span class="keywordflow">if</span> (pSBMLSpecies == NULL)</div>
<div class="line"><a name="l01115"></a><span class="lineno"> 1115</span>&#160;        {</div>
<div class="line"><a name="l01116"></a><span class="lineno"> 1116</span>&#160;          pSBMLSpecies = this-&gt;<a class="code" href="../../df/d80/classCSBMLExporter.html#a1541a69b36b8e864883e49f0de244f81">mpSBMLDocument</a>-&gt;getModel()-&gt;createSpecies();</div>
<div class="line"><a name="l01117"></a><span class="lineno"> 1117</span>&#160;          this-&gt;<a class="code" href="../../df/d80/classCSBMLExporter.html#aeb19f9866a1735848770125dad2aebad">mCOPASI2SBMLMap</a>[&amp;metab] = pSBMLSpecies;</div>
<div class="line"><a name="l01118"></a><span class="lineno"> 1118</span>&#160;          pSBMLSpecies-&gt;setId(sbmlId);</div>
<div class="line"><a name="l01119"></a><span class="lineno"> 1119</span>&#160;        }</div>
<div class="line"><a name="l01120"></a><span class="lineno"> 1120</span>&#160;      <span class="keywordflow">else</span></div>
<div class="line"><a name="l01121"></a><span class="lineno"> 1121</span>&#160;        {</div>
<div class="line"><a name="l01122"></a><span class="lineno"> 1122</span>&#160;<span class="preprocessor">#if LIBSBML_VERSION &gt;= 40100</span></div>
<div class="line"><a name="l01123"></a><span class="lineno"> 1123</span>&#160;<span class="preprocessor"></span></div>
<div class="line"><a name="l01124"></a><span class="lineno"> 1124</span>&#160;          <span class="keywordflow">if</span> (this-&gt;<a class="code" href="../../df/d80/classCSBMLExporter.html#aba959efc152f63f1709d5de60e97a651">mSBMLLevel</a> &gt; 2)</div>
<div class="line"><a name="l01125"></a><span class="lineno"> 1125</span>&#160;            {</div>
<div class="line"><a name="l01126"></a><span class="lineno"> 1126</span>&#160;              pSBMLSpecies-&gt;unsetConversionFactor();</div>
<div class="line"><a name="l01127"></a><span class="lineno"> 1127</span>&#160;              <span class="comment">// we have to remove the conversionFactor because on import we multiplied the stoichiometries</span></div>
<div class="line"><a name="l01128"></a><span class="lineno"> 1128</span>&#160;              <span class="comment">// with this factor</span></div>
<div class="line"><a name="l01129"></a><span class="lineno"> 1129</span>&#160;            }</div>
<div class="line"><a name="l01130"></a><span class="lineno"> 1130</span>&#160;</div>
<div class="line"><a name="l01131"></a><span class="lineno"> 1131</span>&#160;<span class="preprocessor">#endif // LIBSBML_VERSION</span></div>
<div class="line"><a name="l01132"></a><span class="lineno"> 1132</span>&#160;<span class="preprocessor"></span></div>
<div class="line"><a name="l01133"></a><span class="lineno"> 1133</span>&#160;          <span class="comment">// clear the spatialSizeUnits attribute if there is any</span></div>
<div class="line"><a name="l01134"></a><span class="lineno"> 1134</span>&#160;          <span class="keywordflow">if</span> (this-&gt;<a class="code" href="../../df/d80/classCSBMLExporter.html#aba959efc152f63f1709d5de60e97a651">mSBMLLevel</a> &gt; 2 || (this-&gt;<a class="code" href="../../df/d80/classCSBMLExporter.html#aba959efc152f63f1709d5de60e97a651">mSBMLLevel</a> == 2 &amp;&amp; this-&gt;<a class="code" href="../../df/d80/classCSBMLExporter.html#af1bc50a307a46adcce8aa8abde6dab96">mSBMLVersion</a> &gt;= 3))</div>
<div class="line"><a name="l01135"></a><span class="lineno"> 1135</span>&#160;            {</div>
<div class="line"><a name="l01136"></a><span class="lineno"> 1136</span>&#160;              <span class="keywordflow">if</span> (pSBMLSpecies-&gt;isSetSpatialSizeUnits())</div>
<div class="line"><a name="l01137"></a><span class="lineno"> 1137</span>&#160;                {</div>
<div class="line"><a name="l01138"></a><span class="lineno"> 1138</span>&#160;                  pSBMLSpecies-&gt;unsetSpatialSizeUnits();</div>
<div class="line"><a name="l01139"></a><span class="lineno"> 1139</span>&#160;                  this-&gt;<a class="code" href="../../df/d80/classCSBMLExporter.html#add70567bab44bdd83557d9cc1ca89b74">mSpatialSizeUnitsSpecies</a>.insert(pSBMLSpecies-&gt;getId());</div>
<div class="line"><a name="l01140"></a><span class="lineno"> 1140</span>&#160;                }</div>
<div class="line"><a name="l01141"></a><span class="lineno"> 1141</span>&#160;            }</div>
<div class="line"><a name="l01142"></a><span class="lineno"> 1142</span>&#160;        }</div>
<div class="line"><a name="l01143"></a><span class="lineno"> 1143</span>&#160;    }</div>
<div class="line"><a name="l01144"></a><span class="lineno"> 1144</span>&#160;  <span class="keywordflow">else</span></div>
<div class="line"><a name="l01145"></a><span class="lineno"> 1145</span>&#160;    {</div>
<div class="line"><a name="l01146"></a><span class="lineno"> 1146</span>&#160;      pSBMLSpecies = this-&gt;<a class="code" href="../../df/d80/classCSBMLExporter.html#a1541a69b36b8e864883e49f0de244f81">mpSBMLDocument</a>-&gt;getModel()-&gt;createSpecies();</div>
<div class="line"><a name="l01147"></a><span class="lineno"> 1147</span>&#160;      this-&gt;<a class="code" href="../../df/d80/classCSBMLExporter.html#aeb19f9866a1735848770125dad2aebad">mCOPASI2SBMLMap</a>[&amp;metab] = pSBMLSpecies;</div>
<div class="line"><a name="l01148"></a><span class="lineno"> 1148</span>&#160;      sbmlId = <a class="code" href="../../df/d80/classCSBMLExporter.html#ab4d7f9c3d22b8225d1a4d9e3a98b855e">CSBMLExporter::createUniqueId</a>(this-&gt;<a class="code" href="../../df/d80/classCSBMLExporter.html#a60ab409a11b90a1ca965d7702828af74">mIdMap</a>, metab.<a class="code" href="../../dc/d44/classCMetab.html#a4cad8b03e8bb72ee4723c816cb2764eb">getObjectDisplayName</a>(), <span class="keyword">false</span>);</div>
<div class="line"><a name="l01149"></a><span class="lineno"> 1149</span>&#160;      metab.<a class="code" href="../../d0/da0/classCModelEntity.html#a9bfa78ba4485c77792c9cac3dfb3ac2e">setSBMLId</a>(sbmlId);</div>
<div class="line"><a name="l01150"></a><span class="lineno"> 1150</span>&#160;      pSBMLSpecies-&gt;setId(sbmlId);</div>
<div class="line"><a name="l01151"></a><span class="lineno"> 1151</span>&#160;    }</div>
<div class="line"><a name="l01152"></a><span class="lineno"> 1152</span>&#160;</div>
<div class="line"><a name="l01153"></a><span class="lineno"> 1153</span>&#160;  <a class="code" href="../../d5/d2f/CSBMLExporter_8cpp.html#a6c9f65aeea9a7ce079171b3a9a5b2673">INIT_DEFAULTS</a>((*pSBMLSpecies));</div>
<div class="line"><a name="l01154"></a><span class="lineno"> 1154</span>&#160;</div>
<div class="line"><a name="l01155"></a><span class="lineno"> 1155</span>&#160;  this-&gt;<a class="code" href="../../df/d80/classCSBMLExporter.html#a60ab409a11b90a1ca965d7702828af74">mIdMap</a>.insert(std::pair&lt;const std::string, const SBase*&gt;(sbmlId, pSBMLSpecies));</div>
<div class="line"><a name="l01156"></a><span class="lineno"> 1156</span>&#160;  this-&gt;<a class="code" href="../../df/d80/classCSBMLExporter.html#ae5ae5ec70c912323abe9c31b58de2652">mHandledSBMLObjects</a>.insert(pSBMLSpecies);</div>
<div class="line"><a name="l01157"></a><span class="lineno"> 1157</span>&#160;</div>
<div class="line"><a name="l01158"></a><span class="lineno"> 1158</span>&#160;  <span class="comment">// don&#39;t call setName on level 1 objects because this will also</span></div>
<div class="line"><a name="l01159"></a><span class="lineno"> 1159</span>&#160;  <span class="comment">// change the id</span></div>
<div class="line"><a name="l01160"></a><span class="lineno"> 1160</span>&#160;  <span class="keywordflow">if</span> (this-&gt;<a class="code" href="../../df/d80/classCSBMLExporter.html#a1541a69b36b8e864883e49f0de244f81">mpSBMLDocument</a>-&gt;getLevel() &gt; 1)</div>
<div class="line"><a name="l01161"></a><span class="lineno"> 1161</span>&#160;    {</div>
<div class="line"><a name="l01162"></a><span class="lineno"> 1162</span>&#160;      pSBMLSpecies-&gt;setName(metab.<a class="code" href="../../d4/da8/classCCopasiObject.html#a879d6756b51f6b58d307940e1343bd10">getObjectName</a>().c_str());</div>
<div class="line"><a name="l01163"></a><span class="lineno"> 1163</span>&#160;    }</div>
<div class="line"><a name="l01164"></a><span class="lineno"> 1164</span>&#160;</div>
<div class="line"><a name="l01165"></a><span class="lineno"> 1165</span>&#160;  <span class="comment">//const Compartment* pSBMLCompartment = dynamic_cast&lt;const Compartment*&gt;(this-&gt;mCOPASI2SBMLMap[const_cast&lt;CCompartment*&gt;(metab.getCompartment())]);</span></div>
<div class="line"><a name="l01166"></a><span class="lineno"> 1166</span>&#160;  <span class="keyword">const</span> Compartment* pSBMLCompartment = this-&gt;<a class="code" href="../../df/d80/classCSBMLExporter.html#a1541a69b36b8e864883e49f0de244f81">mpSBMLDocument</a>-&gt;getModel()-&gt;getCompartment(metab.<a class="code" href="../../dc/d44/classCMetab.html#a9774853fea3fd6c9b15ecd26df7ab349">getCompartment</a>()-&gt;<a class="code" href="../../d0/da0/classCModelEntity.html#a5c8d403c6027f59d1cc3e1ccc2d9efac">getSBMLId</a>());</div>
<div class="line"><a name="l01167"></a><span class="lineno"> 1167</span>&#160;  assert(pSBMLCompartment);</div>
<div class="line"><a name="l01168"></a><span class="lineno"> 1168</span>&#160;  pSBMLSpecies-&gt;setCompartment(pSBMLCompartment-&gt;getId());</div>
<div class="line"><a name="l01169"></a><span class="lineno"> 1169</span>&#160;</div>
<div class="line"><a name="l01170"></a><span class="lineno"> 1170</span>&#160;  <span class="keywordflow">if</span> (this-&gt;<a class="code" href="../../df/d80/classCSBMLExporter.html#a64ec2c4a41a2fa37f21875281f5948d5">mVariableVolumes</a> == <span class="keyword">true</span>)</div>
<div class="line"><a name="l01171"></a><span class="lineno"> 1171</span>&#160;    {</div>
<div class="line"><a name="l01172"></a><span class="lineno"> 1172</span>&#160;      pSBMLSpecies-&gt;setHasOnlySubstanceUnits(<span class="keyword">true</span>);</div>
<div class="line"><a name="l01173"></a><span class="lineno"> 1173</span>&#160;    }</div>
<div class="line"><a name="l01174"></a><span class="lineno"> 1174</span>&#160;</div>
<div class="line"><a name="l01175"></a><span class="lineno"> 1175</span>&#160;  <span class="keywordtype">double</span> value = metab.<a class="code" href="../../dc/d44/classCMetab.html#abf91c5adf022ad042eb0b020247ac312">getInitialConcentration</a>();</div>
<div class="line"><a name="l01176"></a><span class="lineno"> 1176</span>&#160;</div>
<div class="line"><a name="l01177"></a><span class="lineno"> 1177</span>&#160;  <span class="comment">// if the value is NaN, unset the initial amount</span></div>
<div class="line"><a name="l01178"></a><span class="lineno"> 1178</span>&#160;  <span class="keywordflow">if</span> (!isnan(value))</div>
<div class="line"><a name="l01179"></a><span class="lineno"> 1179</span>&#160;    {</div>
<div class="line"><a name="l01180"></a><span class="lineno"> 1180</span>&#160;      <span class="comment">// if we set the concentration on a species that had the amount</span></div>
<div class="line"><a name="l01181"></a><span class="lineno"> 1181</span>&#160;      <span class="comment">// set, the meaning of the model is different when the user changed</span></div>
<div class="line"><a name="l01182"></a><span class="lineno"> 1182</span>&#160;      <span class="comment">// to size of the corresponding compartment</span></div>
<div class="line"><a name="l01183"></a><span class="lineno"> 1183</span>&#160;      <span class="comment">// So if the amount had been set, we try to keep this.</span></div>
<div class="line"><a name="l01184"></a><span class="lineno"> 1184</span>&#160;      <span class="comment">// we also have to set the initial amount if the model has variable</span></div>
<div class="line"><a name="l01185"></a><span class="lineno"> 1185</span>&#160;      <span class="comment">// volumes since those models export all species with the</span></div>
<div class="line"><a name="l01186"></a><span class="lineno"> 1186</span>&#160;      <span class="comment">// hasOnlySubstanceUnits flag set to true</span></div>
<div class="line"><a name="l01187"></a><span class="lineno"> 1187</span>&#160;      <span class="comment">//</span></div>
<div class="line"><a name="l01188"></a><span class="lineno"> 1188</span>&#160;      <span class="comment">// libsbml 4 does not set the initial concentration on a species any more</span></div>
<div class="line"><a name="l01189"></a><span class="lineno"> 1189</span>&#160;      <span class="comment">// so we also have to set the initial amount</span></div>
<div class="line"><a name="l01190"></a><span class="lineno"> 1190</span>&#160;      <span class="keywordflow">if</span> (pSBMLSpecies-&gt;isSetInitialAmount() || this-&gt;<a class="code" href="../../df/d80/classCSBMLExporter.html#a64ec2c4a41a2fa37f21875281f5948d5">mVariableVolumes</a> == <span class="keyword">true</span> || pSBMLSpecies-&gt;getLevel() == 1)</div>
<div class="line"><a name="l01191"></a><span class="lineno"> 1191</span>&#160;        {</div>
<div class="line"><a name="l01192"></a><span class="lineno"> 1192</span>&#160;          pSBMLSpecies-&gt;setInitialAmount(value * metab.<a class="code" href="../../dc/d44/classCMetab.html#a9774853fea3fd6c9b15ecd26df7ab349">getCompartment</a>()-&gt;<a class="code" href="../../d0/da0/classCModelEntity.html#a9358b19dd65bd1e1ef1e97fca55708b9">getInitialValue</a>());</div>
<div class="line"><a name="l01193"></a><span class="lineno"> 1193</span>&#160;        }</div>
<div class="line"><a name="l01194"></a><span class="lineno"> 1194</span>&#160;      <span class="keywordflow">else</span></div>
<div class="line"><a name="l01195"></a><span class="lineno"> 1195</span>&#160;        {</div>
<div class="line"><a name="l01196"></a><span class="lineno"> 1196</span>&#160;          pSBMLSpecies-&gt;setInitialConcentration(value);</div>
<div class="line"><a name="l01197"></a><span class="lineno"> 1197</span>&#160;        }</div>
<div class="line"><a name="l01198"></a><span class="lineno"> 1198</span>&#160;    }</div>
<div class="line"><a name="l01199"></a><span class="lineno"> 1199</span>&#160;  <span class="keywordflow">else</span></div>
<div class="line"><a name="l01200"></a><span class="lineno"> 1200</span>&#160;    {</div>
<div class="line"><a name="l01201"></a><span class="lineno"> 1201</span>&#160;      pSBMLSpecies-&gt;unsetInitialConcentration();</div>
<div class="line"><a name="l01202"></a><span class="lineno"> 1202</span>&#160;      pSBMLSpecies-&gt;unsetInitialAmount();</div>
<div class="line"><a name="l01203"></a><span class="lineno"> 1203</span>&#160;    }</div>
<div class="line"><a name="l01204"></a><span class="lineno"> 1204</span>&#160;</div>
<div class="line"><a name="l01205"></a><span class="lineno"> 1205</span>&#160;  <a class="code" href="../../d0/da0/classCModelEntity.html#a86cb8e66e255d66db258324064efc78a">CModelEntity::Status</a> status = metab.<a class="code" href="../../d0/da0/classCModelEntity.html#ad6bdcaa2e8887271f61fc363262cc9ed">getStatus</a>();</div>
<div class="line"><a name="l01206"></a><span class="lineno"> 1206</span>&#160;</div>
<div class="line"><a name="l01207"></a><span class="lineno"> 1207</span>&#160;  <span class="comment">// a species can either have an assignment or an initial assignment but not</span></div>
<div class="line"><a name="l01208"></a><span class="lineno"> 1208</span>&#160;  <span class="comment">// both</span></div>
<div class="line"><a name="l01209"></a><span class="lineno"> 1209</span>&#160;  <span class="keywordflow">if</span> (status == <a class="code" href="../../d0/da0/classCModelEntity.html#a86cb8e66e255d66db258324064efc78aa3bfd50e7d8e4dd09716a51e0ca62dedb">CModelEntity::ASSIGNMENT</a>)</div>
<div class="line"><a name="l01210"></a><span class="lineno"> 1210</span>&#160;    {</div>
<div class="line"><a name="l01211"></a><span class="lineno"> 1211</span>&#160;      this-&gt;<a class="code" href="../../df/d80/classCSBMLExporter.html#ae2467a5206a20eae7445885970958380">mAssignmentVector</a>.push_back(&amp;metab);</div>
<div class="line"><a name="l01212"></a><span class="lineno"> 1212</span>&#160;      pSBMLSpecies-&gt;setConstant(<span class="keyword">false</span>);</div>
<div class="line"><a name="l01213"></a><span class="lineno"> 1213</span>&#160;      pSBMLSpecies-&gt;setBoundaryCondition(<span class="keyword">true</span>);</div>
<div class="line"><a name="l01214"></a><span class="lineno"> 1214</span>&#160;      <a class="code" href="../../df/d80/classCSBMLExporter.html#a9e7e580cffcbce270b84905e94bbb854">removeInitialAssignment</a>(pSBMLSpecies-&gt;getId());</div>
<div class="line"><a name="l01215"></a><span class="lineno"> 1215</span>&#160;    }</div>
<div class="line"><a name="l01216"></a><span class="lineno"> 1216</span>&#160;  <span class="keywordflow">else</span> <span class="keywordflow">if</span> (status == <a class="code" href="../../d0/da0/classCModelEntity.html#a86cb8e66e255d66db258324064efc78aa3c62c1c3a449e106a5f1eb2f4ff01ec3">CModelEntity::ODE</a>)</div>
<div class="line"><a name="l01217"></a><span class="lineno"> 1217</span>&#160;    {</div>
<div class="line"><a name="l01218"></a><span class="lineno"> 1218</span>&#160;      this-&gt;<a class="code" href="../../df/d80/classCSBMLExporter.html#a0e510c0403f40240d781206e3b224b69">mODEVector</a>.push_back(&amp;metab);</div>
<div class="line"><a name="l01219"></a><span class="lineno"> 1219</span>&#160;      pSBMLSpecies-&gt;setConstant(<span class="keyword">false</span>);</div>
<div class="line"><a name="l01220"></a><span class="lineno"> 1220</span>&#160;      pSBMLSpecies-&gt;setBoundaryCondition(<span class="keyword">true</span>);</div>
<div class="line"><a name="l01221"></a><span class="lineno"> 1221</span>&#160;</div>
<div class="line"><a name="l01222"></a><span class="lineno"> 1222</span>&#160;      <span class="keywordflow">if</span> (metab.<a class="code" href="../../d0/da0/classCModelEntity.html#a81da1db2a961ac206f9651f56f63138e">getInitialExpression</a>() != <span class="stringliteral">&quot;&quot;</span>)</div>
<div class="line"><a name="l01223"></a><span class="lineno"> 1223</span>&#160;        {</div>
<div class="line"><a name="l01224"></a><span class="lineno"> 1224</span>&#160;          this-&gt;<a class="code" href="../../df/d80/classCSBMLExporter.html#a1b30687327c5f035db028165254de116">mInitialAssignmentVector</a>.push_back(&amp;metab);</div>
<div class="line"><a name="l01225"></a><span class="lineno"> 1225</span>&#160;        }</div>
<div class="line"><a name="l01226"></a><span class="lineno"> 1226</span>&#160;      <span class="keywordflow">else</span></div>
<div class="line"><a name="l01227"></a><span class="lineno"> 1227</span>&#160;        {</div>
<div class="line"><a name="l01228"></a><span class="lineno"> 1228</span>&#160;          <a class="code" href="../../df/d80/classCSBMLExporter.html#a9e7e580cffcbce270b84905e94bbb854">removeInitialAssignment</a>(pSBMLSpecies-&gt;getId());</div>
<div class="line"><a name="l01229"></a><span class="lineno"> 1229</span>&#160;        }</div>
<div class="line"><a name="l01230"></a><span class="lineno"> 1230</span>&#160;    }</div>
<div class="line"><a name="l01231"></a><span class="lineno"> 1231</span>&#160;  <span class="keywordflow">else</span> <span class="keywordflow">if</span> (status == <a class="code" href="../../d0/da0/classCModelEntity.html#a86cb8e66e255d66db258324064efc78aa8751c35af95ea9346908d9835a1b0570">CModelEntity::FIXED</a>)</div>
<div class="line"><a name="l01232"></a><span class="lineno"> 1232</span>&#160;    {</div>
<div class="line"><a name="l01233"></a><span class="lineno"> 1233</span>&#160;      <span class="comment">// do this explicitly since we might handle an existing object from an</span></div>
<div class="line"><a name="l01234"></a><span class="lineno"> 1234</span>&#160;      <span class="comment">// earlier import that had it attribute set already</span></div>
<div class="line"><a name="l01235"></a><span class="lineno"> 1235</span>&#160;      <span class="keywordflow">if</span> (this-&gt;<a class="code" href="../../df/d80/classCSBMLExporter.html#aba959efc152f63f1709d5de60e97a651">mSBMLLevel</a> != 1)</div>
<div class="line"><a name="l01236"></a><span class="lineno"> 1236</span>&#160;        {</div>
<div class="line"><a name="l01237"></a><span class="lineno"> 1237</span>&#160;          pSBMLSpecies-&gt;setConstant(<span class="keyword">true</span>);</div>
<div class="line"><a name="l01238"></a><span class="lineno"> 1238</span>&#160;        }</div>
<div class="line"><a name="l01239"></a><span class="lineno"> 1239</span>&#160;      <span class="keywordflow">else</span></div>
<div class="line"><a name="l01240"></a><span class="lineno"> 1240</span>&#160;        {</div>
<div class="line"><a name="l01241"></a><span class="lineno"> 1241</span>&#160;          <span class="comment">// Level 1 doesn&#39;t have the constant attribute and libSBML 3.2.0 does</span></div>
<div class="line"><a name="l01242"></a><span class="lineno"> 1242</span>&#160;          <span class="comment">// not drop it automatically</span></div>
<div class="line"><a name="l01243"></a><span class="lineno"> 1243</span>&#160;          pSBMLSpecies-&gt;setConstant(<span class="keyword">false</span>);</div>
<div class="line"><a name="l01244"></a><span class="lineno"> 1244</span>&#160;        }</div>
<div class="line"><a name="l01245"></a><span class="lineno"> 1245</span>&#160;</div>
<div class="line"><a name="l01246"></a><span class="lineno"> 1246</span>&#160;      pSBMLSpecies-&gt;setBoundaryCondition(<span class="keyword">true</span>);</div>
<div class="line"><a name="l01247"></a><span class="lineno"> 1247</span>&#160;      <a class="code" href="../../df/d80/classCSBMLExporter.html#a836063c67a8c63decd58706b6036efd0">removeRule</a>(pSBMLSpecies-&gt;getId());</div>
<div class="line"><a name="l01248"></a><span class="lineno"> 1248</span>&#160;</div>
<div class="line"><a name="l01249"></a><span class="lineno"> 1249</span>&#160;      <span class="comment">// fill initial assignment set</span></div>
<div class="line"><a name="l01250"></a><span class="lineno"> 1250</span>&#160;      <span class="keywordflow">if</span> (metab.<a class="code" href="../../d0/da0/classCModelEntity.html#a81da1db2a961ac206f9651f56f63138e">getInitialExpression</a>() != <span class="stringliteral">&quot;&quot;</span>)</div>
<div class="line"><a name="l01251"></a><span class="lineno"> 1251</span>&#160;        {</div>
<div class="line"><a name="l01252"></a><span class="lineno"> 1252</span>&#160;          this-&gt;<a class="code" href="../../df/d80/classCSBMLExporter.html#a1b30687327c5f035db028165254de116">mInitialAssignmentVector</a>.push_back(&amp;metab);</div>
<div class="line"><a name="l01253"></a><span class="lineno"> 1253</span>&#160;        }</div>
<div class="line"><a name="l01254"></a><span class="lineno"> 1254</span>&#160;      <span class="keywordflow">else</span></div>
<div class="line"><a name="l01255"></a><span class="lineno"> 1255</span>&#160;        {</div>
<div class="line"><a name="l01256"></a><span class="lineno"> 1256</span>&#160;          <a class="code" href="../../df/d80/classCSBMLExporter.html#a9e7e580cffcbce270b84905e94bbb854">removeInitialAssignment</a>(pSBMLSpecies-&gt;getId());</div>
<div class="line"><a name="l01257"></a><span class="lineno"> 1257</span>&#160;        }</div>
<div class="line"><a name="l01258"></a><span class="lineno"> 1258</span>&#160;    }</div>
<div class="line"><a name="l01259"></a><span class="lineno"> 1259</span>&#160;  <span class="keywordflow">else</span> <span class="keywordflow">if</span> (status == <a class="code" href="../../d0/da0/classCModelEntity.html#a86cb8e66e255d66db258324064efc78aab0a74c011c2515f5eb7b06d4be05fe22">CModelEntity::REACTIONS</a>)</div>
<div class="line"><a name="l01260"></a><span class="lineno"> 1260</span>&#160;    {</div>
<div class="line"><a name="l01261"></a><span class="lineno"> 1261</span>&#160;      pSBMLSpecies-&gt;setConstant(<span class="keyword">false</span>);</div>
<div class="line"><a name="l01262"></a><span class="lineno"> 1262</span>&#160;      pSBMLSpecies-&gt;setBoundaryCondition(<span class="keyword">false</span>);</div>
<div class="line"><a name="l01263"></a><span class="lineno"> 1263</span>&#160;</div>
<div class="line"><a name="l01264"></a><span class="lineno"> 1264</span>&#160;      <span class="keywordflow">if</span> (metab.<a class="code" href="../../d0/da0/classCModelEntity.html#a81da1db2a961ac206f9651f56f63138e">getInitialExpression</a>() != <span class="stringliteral">&quot;&quot;</span>)</div>
<div class="line"><a name="l01265"></a><span class="lineno"> 1265</span>&#160;        {</div>
<div class="line"><a name="l01266"></a><span class="lineno"> 1266</span>&#160;          this-&gt;<a class="code" href="../../df/d80/classCSBMLExporter.html#a1b30687327c5f035db028165254de116">mInitialAssignmentVector</a>.push_back(&amp;metab);</div>
<div class="line"><a name="l01267"></a><span class="lineno"> 1267</span>&#160;        }</div>
<div class="line"><a name="l01268"></a><span class="lineno"> 1268</span>&#160;    }</div>
<div class="line"><a name="l01269"></a><span class="lineno"> 1269</span>&#160;</div>
<div class="line"><a name="l01270"></a><span class="lineno"> 1270</span>&#160;  <span class="keywordflow">if</span> (pSBMLSpecies != NULL)</div>
<div class="line"><a name="l01271"></a><span class="lineno"> 1271</span>&#160;    {</div>
<div class="line"><a name="l01272"></a><span class="lineno"> 1272</span>&#160;      <a class="code" href="../../df/d80/classCSBMLExporter.html#a166bed353f341e4e617bff6f40ff12c4">CSBMLExporter::setSBMLNotes</a>(pSBMLSpecies, &amp;metab);</div>
<div class="line"><a name="l01273"></a><span class="lineno"> 1273</span>&#160;    }</div>
<div class="line"><a name="l01274"></a><span class="lineno"> 1274</span>&#160;</div>
<div class="line"><a name="l01275"></a><span class="lineno"> 1275</span>&#160;  <span class="keywordflow">if</span> (pSBMLSpecies != NULL &amp;&amp; <a class="code" href="../../df/d80/classCSBMLExporter.html#aba959efc152f63f1709d5de60e97a651">mSBMLLevel</a> == 3)</div>
<div class="line"><a name="l01276"></a><span class="lineno"> 1276</span>&#160;    {</div>
<div class="line"><a name="l01277"></a><span class="lineno"> 1277</span>&#160;      <span class="comment">// for l3 the unit needs to be set explicitly to substance,</span></div>
<div class="line"><a name="l01278"></a><span class="lineno"> 1278</span>&#160;      pSBMLSpecies-&gt;setSubstanceUnits(<span class="stringliteral">&quot;substance&quot;</span>);</div>
<div class="line"><a name="l01279"></a><span class="lineno"> 1279</span>&#160;    }</div>
<div class="line"><a name="l01280"></a><span class="lineno"> 1280</span>&#160;</div>
<div class="line"><a name="l01281"></a><span class="lineno"> 1281</span>&#160;  <a class="code" href="../../df/d80/classCSBMLExporter.html#aba8216eaf4931e0adf484832882fbe67">CSBMLExporter::updateMIRIAMAnnotation</a>(&amp;metab, pSBMLSpecies, this-&gt;<a class="code" href="../../df/d80/classCSBMLExporter.html#aa2e61de10e2d26eee4c7310beb099b13">mMetaIdMap</a>);</div>
<div class="line"><a name="l01282"></a><span class="lineno"> 1282</span>&#160;}</div>
<div class="ttc" id="classCSBMLExporter_html_aba959efc152f63f1709d5de60e97a651"><div class="ttname"><a href="../../df/d80/classCSBMLExporter.html#aba959efc152f63f1709d5de60e97a651">CSBMLExporter::mSBMLLevel</a></div><div class="ttdeci">unsigned int mSBMLLevel</div><div class="ttdef"><b>Definition:</b> <a href="../../da/d7f/CSBMLExporter_8h_source.html#l00056">CSBMLExporter.h:56</a></div></div>
<div class="ttc" id="classCSBMLExporter_html_a1541a69b36b8e864883e49f0de244f81"><div class="ttname"><a href="../../df/d80/classCSBMLExporter.html#a1541a69b36b8e864883e49f0de244f81">CSBMLExporter::mpSBMLDocument</a></div><div class="ttdeci">SBMLDocument * mpSBMLDocument</div><div class="ttdef"><b>Definition:</b> <a href="../../da/d7f/CSBMLExporter_8h_source.html#l00055">CSBMLExporter.h:55</a></div></div>
<div class="ttc" id="classCModelEntity_html_a5c8d403c6027f59d1cc3e1ccc2d9efac"><div class="ttname"><a href="../../d0/da0/classCModelEntity.html#a5c8d403c6027f59d1cc3e1ccc2d9efac">CModelEntity::getSBMLId</a></div><div class="ttdeci">const std::string &amp; getSBMLId() const </div><div class="ttdef"><b>Definition:</b> <a href="../../d8/da3/CModelValue_8cpp_source.html#l00637">CModelValue.cpp:637</a></div></div>
<div class="ttc" id="classCCopasiObject_html_a879d6756b51f6b58d307940e1343bd10"><div class="ttname"><a href="../../d4/da8/classCCopasiObject.html#a879d6756b51f6b58d307940e1343bd10">CCopasiObject::getObjectName</a></div><div class="ttdeci">const std::string &amp; getObjectName() const </div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d22/CCopasiObject_8cpp_source.html#l00258">CCopasiObject.cpp:258</a></div></div>
<div class="ttc" id="classCMetab_html_abf91c5adf022ad042eb0b020247ac312"><div class="ttname"><a href="../../dc/d44/classCMetab.html#abf91c5adf022ad042eb0b020247ac312">CMetab::getInitialConcentration</a></div><div class="ttdeci">const C_FLOAT64 &amp; getInitialConcentration() const </div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d70/CMetab_8cpp_source.html#l00220">CMetab.cpp:220</a></div></div>
<div class="ttc" id="classCMetab_html_a4cad8b03e8bb72ee4723c816cb2764eb"><div class="ttname"><a href="../../dc/d44/classCMetab.html#a4cad8b03e8bb72ee4723c816cb2764eb">CMetab::getObjectDisplayName</a></div><div class="ttdeci">virtual std::string getObjectDisplayName(bool regular=true, bool richtext=false) const </div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d70/CMetab_8cpp_source.html#l00974">CMetab.cpp:974</a></div></div>
<div class="ttc" id="classCSBMLExporter_html_ae2467a5206a20eae7445885970958380"><div class="ttname"><a href="../../df/d80/classCSBMLExporter.html#ae2467a5206a20eae7445885970958380">CSBMLExporter::mAssignmentVector</a></div><div class="ttdeci">std::vector&lt; CModelEntity * &gt; mAssignmentVector</div><div class="ttdef"><b>Definition:</b> <a href="../../da/d7f/CSBMLExporter_8h_source.html#l00058">CSBMLExporter.h:58</a></div></div>
<div class="ttc" id="classCModelEntity_html_a86cb8e66e255d66db258324064efc78aa3bfd50e7d8e4dd09716a51e0ca62dedb"><div class="ttname"><a href="../../d0/da0/classCModelEntity.html#a86cb8e66e255d66db258324064efc78aa3bfd50e7d8e4dd09716a51e0ca62dedb">CModelEntity::ASSIGNMENT</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d1/da3/CModelValue_8h_source.html#l00056">CModelValue.h:56</a></div></div>
<div class="ttc" id="classCSBMLExporter_html_a60ab409a11b90a1ca965d7702828af74"><div class="ttname"><a href="../../df/d80/classCSBMLExporter.html#a60ab409a11b90a1ca965d7702828af74">CSBMLExporter::mIdMap</a></div><div class="ttdeci">std::map&lt; std::string, const SBase * &gt; mIdMap</div><div class="ttdef"><b>Definition:</b> <a href="../../da/d7f/CSBMLExporter_8h_source.html#l00064">CSBMLExporter.h:64</a></div></div>
<div class="ttc" id="classCSBMLExporter_html_a166bed353f341e4e617bff6f40ff12c4"><div class="ttname"><a href="../../df/d80/classCSBMLExporter.html#a166bed353f341e4e617bff6f40ff12c4">CSBMLExporter::setSBMLNotes</a></div><div class="ttdeci">static bool setSBMLNotes(SBase *pSBase, const CAnnotation *pAnno)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d2f/CSBMLExporter_8cpp_source.html#l07697">CSBMLExporter.cpp:7697</a></div></div>
<div class="ttc" id="classCSBMLExporter_html_ab4d7f9c3d22b8225d1a4d9e3a98b855e"><div class="ttname"><a href="../../df/d80/classCSBMLExporter.html#ab4d7f9c3d22b8225d1a4d9e3a98b855e">CSBMLExporter::createUniqueId</a></div><div class="ttdeci">static const std::string createUniqueId(const std::map&lt; std::string, const SBase * &gt; &amp;idMap, const std::string &amp;prefix, bool addIndexForFirst, const std::string &amp;separator=&quot;_&quot;)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d2f/CSBMLExporter_8cpp_source.html#l02252">CSBMLExporter.cpp:2252</a></div></div>
<div class="ttc" id="classCSBMLExporter_html_add70567bab44bdd83557d9cc1ca89b74"><div class="ttname"><a href="../../df/d80/classCSBMLExporter.html#add70567bab44bdd83557d9cc1ca89b74">CSBMLExporter::mSpatialSizeUnitsSpecies</a></div><div class="ttdeci">std::set&lt; std::string &gt; mSpatialSizeUnitsSpecies</div><div class="ttdef"><b>Definition:</b> <a href="../../da/d7f/CSBMLExporter_8h_source.html#l00076">CSBMLExporter.h:76</a></div></div>
<div class="ttc" id="classCModelEntity_html_a9358b19dd65bd1e1ef1e97fca55708b9"><div class="ttname"><a href="../../d0/da0/classCModelEntity.html#a9358b19dd65bd1e1ef1e97fca55708b9">CModelEntity::getInitialValue</a></div><div class="ttdeci">const C_FLOAT64 &amp; getInitialValue() const </div><div class="ttdef"><b>Definition:</b> <a href="../../d8/da3/CModelValue_8cpp_source.html#l00138">CModelValue.cpp:138</a></div></div>
<div class="ttc" id="classCSBMLExporter_html_a0e510c0403f40240d781206e3b224b69"><div class="ttname"><a href="../../df/d80/classCSBMLExporter.html#a0e510c0403f40240d781206e3b224b69">CSBMLExporter::mODEVector</a></div><div class="ttdeci">std::vector&lt; CModelEntity * &gt; mODEVector</div><div class="ttdef"><b>Definition:</b> <a href="../../da/d7f/CSBMLExporter_8h_source.html#l00059">CSBMLExporter.h:59</a></div></div>
<div class="ttc" id="classCSBMLExporter_html_af1bc50a307a46adcce8aa8abde6dab96"><div class="ttname"><a href="../../df/d80/classCSBMLExporter.html#af1bc50a307a46adcce8aa8abde6dab96">CSBMLExporter::mSBMLVersion</a></div><div class="ttdeci">unsigned int mSBMLVersion</div><div class="ttdef"><b>Definition:</b> <a href="../../da/d7f/CSBMLExporter_8h_source.html#l00057">CSBMLExporter.h:57</a></div></div>
<div class="ttc" id="classCModelEntity_html_a81da1db2a961ac206f9651f56f63138e"><div class="ttname"><a href="../../d0/da0/classCModelEntity.html#a81da1db2a961ac206f9651f56f63138e">CModelEntity::getInitialExpression</a></div><div class="ttdeci">std::string getInitialExpression() const </div><div class="ttdef"><b>Definition:</b> <a href="../../d8/da3/CModelValue_8cpp_source.html#l00350">CModelValue.cpp:350</a></div></div>
<div class="ttc" id="classCModelEntity_html_a86cb8e66e255d66db258324064efc78aa8751c35af95ea9346908d9835a1b0570"><div class="ttname"><a href="../../d0/da0/classCModelEntity.html#a86cb8e66e255d66db258324064efc78aa8751c35af95ea9346908d9835a1b0570">CModelEntity::FIXED</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d1/da3/CModelValue_8h_source.html#l00055">CModelValue.h:55</a></div></div>
<div class="ttc" id="classCSBMLExporter_html_a9e7e580cffcbce270b84905e94bbb854"><div class="ttname"><a href="../../df/d80/classCSBMLExporter.html#a9e7e580cffcbce270b84905e94bbb854">CSBMLExporter::removeInitialAssignment</a></div><div class="ttdeci">void removeInitialAssignment(const std::string &amp;sbmlId)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d2f/CSBMLExporter_8cpp_source.html#l06021">CSBMLExporter.cpp:6021</a></div></div>
<div class="ttc" id="classCModelEntity_html_a86cb8e66e255d66db258324064efc78a"><div class="ttname"><a href="../../d0/da0/classCModelEntity.html#a86cb8e66e255d66db258324064efc78a">CModelEntity::Status</a></div><div class="ttdeci">Status</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/da3/CModelValue_8h_source.html#l00053">CModelValue.h:53</a></div></div>
<div class="ttc" id="classCSBMLExporter_html_aa2e61de10e2d26eee4c7310beb099b13"><div class="ttname"><a href="../../df/d80/classCSBMLExporter.html#aa2e61de10e2d26eee4c7310beb099b13">CSBMLExporter::mMetaIdMap</a></div><div class="ttdeci">std::map&lt; std::string, const SBase * &gt; mMetaIdMap</div><div class="ttdef"><b>Definition:</b> <a href="../../da/d7f/CSBMLExporter_8h_source.html#l00070">CSBMLExporter.h:70</a></div></div>
<div class="ttc" id="classCSBMLExporter_html_aeb19f9866a1735848770125dad2aebad"><div class="ttname"><a href="../../df/d80/classCSBMLExporter.html#aeb19f9866a1735848770125dad2aebad">CSBMLExporter::mCOPASI2SBMLMap</a></div><div class="ttdeci">std::map&lt; const CCopasiObject *, SBase * &gt; mCOPASI2SBMLMap</div><div class="ttdef"><b>Definition:</b> <a href="../../da/d7f/CSBMLExporter_8h_source.html#l00061">CSBMLExporter.h:61</a></div></div>
<div class="ttc" id="classCModelEntity_html_a86cb8e66e255d66db258324064efc78aab0a74c011c2515f5eb7b06d4be05fe22"><div class="ttname"><a href="../../d0/da0/classCModelEntity.html#a86cb8e66e255d66db258324064efc78aab0a74c011c2515f5eb7b06d4be05fe22">CModelEntity::REACTIONS</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d1/da3/CModelValue_8h_source.html#l00057">CModelValue.h:57</a></div></div>
<div class="ttc" id="classCSBMLExporter_html_aba8216eaf4931e0adf484832882fbe67"><div class="ttname"><a href="../../df/d80/classCSBMLExporter.html#aba8216eaf4931e0adf484832882fbe67">CSBMLExporter::updateMIRIAMAnnotation</a></div><div class="ttdeci">bool updateMIRIAMAnnotation(const CCopasiObject *pCOPASIObject, SBase *pSBMLObject, std::map&lt; std::string, const SBase * &gt; &amp;metaIds)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d2f/CSBMLExporter_8cpp_source.html#l06361">CSBMLExporter.cpp:6361</a></div></div>
<div class="ttc" id="CSBMLExporter_8cpp_html_a6c9f65aeea9a7ce079171b3a9a5b2673"><div class="ttname"><a href="../../d5/d2f/CSBMLExporter_8cpp.html#a6c9f65aeea9a7ce079171b3a9a5b2673">INIT_DEFAULTS</a></div><div class="ttdeci">#define INIT_DEFAULTS(element)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d2f/CSBMLExporter_8cpp_source.html#l00048">CSBMLExporter.cpp:48</a></div></div>
<div class="ttc" id="classCSBMLExporter_html_ae5ae5ec70c912323abe9c31b58de2652"><div class="ttname"><a href="../../df/d80/classCSBMLExporter.html#ae5ae5ec70c912323abe9c31b58de2652">CSBMLExporter::mHandledSBMLObjects</a></div><div class="ttdeci">std::set&lt; SBase * &gt; mHandledSBMLObjects</div><div class="ttdef"><b>Definition:</b> <a href="../../da/d7f/CSBMLExporter_8h_source.html#l00062">CSBMLExporter.h:62</a></div></div>
<div class="ttc" id="classCModelEntity_html_a86cb8e66e255d66db258324064efc78aa3c62c1c3a449e106a5f1eb2f4ff01ec3"><div class="ttname"><a href="../../d0/da0/classCModelEntity.html#a86cb8e66e255d66db258324064efc78aa3c62c1c3a449e106a5f1eb2f4ff01ec3">CModelEntity::ODE</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d1/da3/CModelValue_8h_source.html#l00060">CModelValue.h:60</a></div></div>
<div class="ttc" id="classCModelEntity_html_ad6bdcaa2e8887271f61fc363262cc9ed"><div class="ttname"><a href="../../d0/da0/classCModelEntity.html#ad6bdcaa2e8887271f61fc363262cc9ed">CModelEntity::getStatus</a></div><div class="ttdeci">const CModelEntity::Status &amp; getStatus() const </div><div class="ttdef"><b>Definition:</b> <a href="../../d8/da3/CModelValue_8cpp_source.html#l00141">CModelValue.cpp:141</a></div></div>
<div class="ttc" id="classCSBMLExporter_html_a64ec2c4a41a2fa37f21875281f5948d5"><div class="ttname"><a href="../../df/d80/classCSBMLExporter.html#a64ec2c4a41a2fa37f21875281f5948d5">CSBMLExporter::mVariableVolumes</a></div><div class="ttdeci">bool mVariableVolumes</div><div class="ttdef"><b>Definition:</b> <a href="../../da/d7f/CSBMLExporter_8h_source.html#l00067">CSBMLExporter.h:67</a></div></div>
<div class="ttc" id="classCModelEntity_html_a9bfa78ba4485c77792c9cac3dfb3ac2e"><div class="ttname"><a href="../../d0/da0/classCModelEntity.html#a9bfa78ba4485c77792c9cac3dfb3ac2e">CModelEntity::setSBMLId</a></div><div class="ttdeci">void setSBMLId(const std::string &amp;id)</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/da3/CModelValue_8cpp_source.html#l00632">CModelValue.cpp:632</a></div></div>
<div class="ttc" id="classCMetab_html_a9774853fea3fd6c9b15ecd26df7ab349"><div class="ttname"><a href="../../dc/d44/classCMetab.html#a9774853fea3fd6c9b15ecd26df7ab349">CMetab::getCompartment</a></div><div class="ttdeci">const CCompartment * getCompartment() const </div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d70/CMetab_8cpp_source.html#l00222">CMetab.cpp:222</a></div></div>
<div class="ttc" id="classCSBMLExporter_html_a836063c67a8c63decd58706b6036efd0"><div class="ttname"><a href="../../df/d80/classCSBMLExporter.html#a836063c67a8c63decd58706b6036efd0">CSBMLExporter::removeRule</a></div><div class="ttdeci">void removeRule(const std::string &amp;sbmlId)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d2f/CSBMLExporter_8cpp_source.html#l06042">CSBMLExporter.cpp:6042</a></div></div>
<div class="ttc" id="classCSBMLExporter_html_a1b30687327c5f035db028165254de116"><div class="ttname"><a href="../../df/d80/classCSBMLExporter.html#a1b30687327c5f035db028165254de116">CSBMLExporter::mInitialAssignmentVector</a></div><div class="ttdeci">std::vector&lt; CModelEntity * &gt; mInitialAssignmentVector</div><div class="ttdef"><b>Definition:</b> <a href="../../da/d7f/CSBMLExporter_8h_source.html#l00060">CSBMLExporter.h:60</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="ace48aaa532a60b2651d42618b5484b36"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d3/d05/CChemEqParser__yacc_8cpp.html#aa76fec002b4ba91adc88f68d56ba730c">void</a> CSBMLExporter::createMetabolites </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d4/d18/classCCopasiDataModel.html">CCopasiDataModel</a> &amp;&#160;</td>
          <td class="paramname"><em>dataModel</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Creates the compartments for the model. </p>

<p>Definition at line <a class="el" href="../../d5/d2f/CSBMLExporter_8cpp_source.html#l01068">1068</a> of file <a class="el" href="../../d5/d2f/CSBMLExporter_8cpp_source.html">CSBMLExporter.cpp</a>.</p>

<p>References <a class="el" href="../../d8/d2c/classCCopasiVector.html#acb26711fe72be0d2cb3a37c2fbcc031f">CCopasiVector&lt; T &gt;::begin()</a>, <a class="el" href="../../df/d80/classCSBMLExporter.html#a434c0e84d0593abf69165c1a73760b9e">check_for_spatial_size_units()</a>, <a class="el" href="../../df/d80/classCSBMLExporter.html#a79fe24bce02d84048709c9e851d4ce1b">createMetabolite()</a>, <a class="el" href="../../d8/d2c/classCCopasiVector.html#a44c97a5f614c885495c437f2a8d20954">CCopasiVector&lt; T &gt;::end()</a>, <a class="el" href="../../d4/d04/classCModel.html#a73a8a52c2190b1aae2f1427e4e9eb0e1">CModel::getMetabolites()</a>, <a class="el" href="../../d4/d18/classCCopasiDataModel.html#a2e65952e0caf0b2709d381cf949fec69">CCopasiDataModel::getModel()</a>, <a class="el" href="../../d9/d2d/CCopasiMessage_8h.html#a7f5ce9c8d3812b45cb6f33595fba5789">MCSBML</a>, <a class="el" href="../../df/d80/classCSBMLExporter.html#a5bd855fe9020f8c400a6cab63fb87711">mIncompatibilities</a>, <a class="el" href="../../df/d80/classCSBMLExporter.html#a1541a69b36b8e864883e49f0de244f81">mpSBMLDocument</a>, <a class="el" href="../../df/d80/classCSBMLExporter.html#aba959efc152f63f1709d5de60e97a651">mSBMLLevel</a>, <a class="el" href="../../df/d80/classCSBMLExporter.html#af1bc50a307a46adcce8aa8abde6dab96">mSBMLVersion</a>, <a class="el" href="../../df/d80/classCSBMLExporter.html#add70567bab44bdd83557d9cc1ca89b74">mSpatialSizeUnitsSpecies</a>, and <a class="el" href="../../d2/df0/classCCopasiMessage.html#a2ea1ed32494ff5c8d84353efcec7a5e4ac789e90eead3612a24114b9eae58fdec">CCopasiMessage::WARNING</a>.</p>

<p>Referenced by <a class="el" href="../../df/d80/classCSBMLExporter.html#a2b680d670c11c7c70a45bc12e236b2e8">createSBMLDocument()</a>.</p>
<div class="fragment"><div class="line"><a name="l01069"></a><span class="lineno"> 1069</span>&#160;{</div>
<div class="line"><a name="l01070"></a><span class="lineno"> 1070</span>&#160;  <span class="comment">// make sure the SBML Document already exists and that it has a Model set</span></div>
<div class="line"><a name="l01071"></a><span class="lineno"> 1071</span>&#160;  <span class="keywordflow">if</span> (dataModel.<a class="code" href="../../d4/d18/classCCopasiDataModel.html#a2e65952e0caf0b2709d381cf949fec69">getModel</a>() == NULL || this-&gt;<a class="code" href="../../df/d80/classCSBMLExporter.html#a1541a69b36b8e864883e49f0de244f81">mpSBMLDocument</a> == NULL || this-&gt;<a class="code" href="../../df/d80/classCSBMLExporter.html#a1541a69b36b8e864883e49f0de244f81">mpSBMLDocument</a>-&gt;getModel() == NULL) <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l01072"></a><span class="lineno"> 1072</span>&#160;</div>
<div class="line"><a name="l01073"></a><span class="lineno"> 1073</span>&#160;  <span class="keywordflow">if</span> (this-&gt;<a class="code" href="../../df/d80/classCSBMLExporter.html#aba959efc152f63f1709d5de60e97a651">mSBMLLevel</a> &gt; 2 || (this-&gt;<a class="code" href="../../df/d80/classCSBMLExporter.html#aba959efc152f63f1709d5de60e97a651">mSBMLLevel</a> == 2 &amp;&amp; this-&gt;<a class="code" href="../../df/d80/classCSBMLExporter.html#af1bc50a307a46adcce8aa8abde6dab96">mSBMLVersion</a> &gt;= 3))</div>
<div class="line"><a name="l01074"></a><span class="lineno"> 1074</span>&#160;    {</div>
<div class="line"><a name="l01075"></a><span class="lineno"> 1075</span>&#160;      <a class="code" href="../../df/d80/classCSBMLExporter.html#a434c0e84d0593abf69165c1a73760b9e">check_for_spatial_size_units</a>(dataModel, this-&gt;<a class="code" href="../../df/d80/classCSBMLExporter.html#a5bd855fe9020f8c400a6cab63fb87711">mIncompatibilities</a>);</div>
<div class="line"><a name="l01076"></a><span class="lineno"> 1076</span>&#160;    }</div>
<div class="line"><a name="l01077"></a><span class="lineno"> 1077</span>&#160;</div>
<div class="line"><a name="l01078"></a><span class="lineno"> 1078</span>&#160;  <a class="code" href="../../d8/d2c/classCCopasiVector.html">CCopasiVector&lt;CMetab&gt;::const_iterator</a> it = dataModel.<a class="code" href="../../d4/d18/classCCopasiDataModel.html#a2e65952e0caf0b2709d381cf949fec69">getModel</a>()-&gt;<a class="code" href="../../d4/d04/classCModel.html#a73a8a52c2190b1aae2f1427e4e9eb0e1">getMetabolites</a>().<a class="code" href="../../d8/d2c/classCCopasiVector.html#acb26711fe72be0d2cb3a37c2fbcc031f">begin</a>(), endit = dataModel.<a class="code" href="../../d4/d18/classCCopasiDataModel.html#a2e65952e0caf0b2709d381cf949fec69">getModel</a>()-&gt;<a class="code" href="../../d4/d04/classCModel.html#a73a8a52c2190b1aae2f1427e4e9eb0e1">getMetabolites</a>().<a class="code" href="../../d8/d2c/classCCopasiVector.html#a44c97a5f614c885495c437f2a8d20954">end</a>();</div>
<div class="line"><a name="l01079"></a><span class="lineno"> 1079</span>&#160;  this-&gt;<a class="code" href="../../df/d80/classCSBMLExporter.html#add70567bab44bdd83557d9cc1ca89b74">mSpatialSizeUnitsSpecies</a>.clear();</div>
<div class="line"><a name="l01080"></a><span class="lineno"> 1080</span>&#160;</div>
<div class="line"><a name="l01081"></a><span class="lineno"> 1081</span>&#160;  <span class="keywordflow">while</span> (it != endit)</div>
<div class="line"><a name="l01082"></a><span class="lineno"> 1082</span>&#160;    {</div>
<div class="line"><a name="l01083"></a><span class="lineno"> 1083</span>&#160;      <a class="code" href="../../df/d80/classCSBMLExporter.html#a79fe24bce02d84048709c9e851d4ce1b">createMetabolite</a>(**it);</div>
<div class="line"><a name="l01084"></a><span class="lineno"> 1084</span>&#160;      ++it;</div>
<div class="line"><a name="l01085"></a><span class="lineno"> 1085</span>&#160;    }</div>
<div class="line"><a name="l01086"></a><span class="lineno"> 1086</span>&#160;</div>
<div class="line"><a name="l01087"></a><span class="lineno"> 1087</span>&#160;  <span class="keywordflow">if</span> (!this-&gt;<a class="code" href="../../df/d80/classCSBMLExporter.html#add70567bab44bdd83557d9cc1ca89b74">mSpatialSizeUnitsSpecies</a>.empty())</div>
<div class="line"><a name="l01088"></a><span class="lineno"> 1088</span>&#160;    {</div>
<div class="line"><a name="l01089"></a><span class="lineno"> 1089</span>&#160;      std::ostringstream os;</div>
<div class="line"><a name="l01090"></a><span class="lineno"> 1090</span>&#160;      std::set&lt;std::string&gt;::const_iterator sit = this-&gt;<a class="code" href="../../df/d80/classCSBMLExporter.html#add70567bab44bdd83557d9cc1ca89b74">mSpatialSizeUnitsSpecies</a>.begin(), sendit = this-&gt;<a class="code" href="../../df/d80/classCSBMLExporter.html#add70567bab44bdd83557d9cc1ca89b74">mSpatialSizeUnitsSpecies</a>.end();</div>
<div class="line"><a name="l01091"></a><span class="lineno"> 1091</span>&#160;</div>
<div class="line"><a name="l01092"></a><span class="lineno"> 1092</span>&#160;      <span class="keywordflow">while</span> (sit != sendit)</div>
<div class="line"><a name="l01093"></a><span class="lineno"> 1093</span>&#160;        {</div>
<div class="line"><a name="l01094"></a><span class="lineno"> 1094</span>&#160;          os &lt;&lt; *sit &lt;&lt; <span class="stringliteral">&quot;, &quot;</span>;</div>
<div class="line"><a name="l01095"></a><span class="lineno"> 1095</span>&#160;          ++sit;</div>
<div class="line"><a name="l01096"></a><span class="lineno"> 1096</span>&#160;        }</div>
<div class="line"><a name="l01097"></a><span class="lineno"> 1097</span>&#160;</div>
<div class="line"><a name="l01098"></a><span class="lineno"> 1098</span>&#160;      <a class="code" href="../../d2/df0/classCCopasiMessage.html">CCopasiMessage</a>(<a class="code" href="../../d2/df0/classCCopasiMessage.html#a2ea1ed32494ff5c8d84353efcec7a5e4ac789e90eead3612a24114b9eae58fdec">CCopasiMessage::WARNING</a>, <a class="code" href="../../d9/d2d/CCopasiMessage_8h.html#a7f5ce9c8d3812b45cb6f33595fba5789">MCSBML</a> + 84, os.str().substr(0, os.str().size() - 2).c_str());</div>
<div class="line"><a name="l01099"></a><span class="lineno"> 1099</span>&#160;    }</div>
<div class="line"><a name="l01100"></a><span class="lineno"> 1100</span>&#160;}</div>
<div class="ttc" id="classCSBMLExporter_html_aba959efc152f63f1709d5de60e97a651"><div class="ttname"><a href="../../df/d80/classCSBMLExporter.html#aba959efc152f63f1709d5de60e97a651">CSBMLExporter::mSBMLLevel</a></div><div class="ttdeci">unsigned int mSBMLLevel</div><div class="ttdef"><b>Definition:</b> <a href="../../da/d7f/CSBMLExporter_8h_source.html#l00056">CSBMLExporter.h:56</a></div></div>
<div class="ttc" id="classCSBMLExporter_html_a1541a69b36b8e864883e49f0de244f81"><div class="ttname"><a href="../../df/d80/classCSBMLExporter.html#a1541a69b36b8e864883e49f0de244f81">CSBMLExporter::mpSBMLDocument</a></div><div class="ttdeci">SBMLDocument * mpSBMLDocument</div><div class="ttdef"><b>Definition:</b> <a href="../../da/d7f/CSBMLExporter_8h_source.html#l00055">CSBMLExporter.h:55</a></div></div>
<div class="ttc" id="classCCopasiDataModel_html_a2e65952e0caf0b2709d381cf949fec69"><div class="ttname"><a href="../../d4/d18/classCCopasiDataModel.html#a2e65952e0caf0b2709d381cf949fec69">CCopasiDataModel::getModel</a></div><div class="ttdeci">CModel * getModel()</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d38/CCopasiDataModel_8cpp_source.html#l01407">CCopasiDataModel.cpp:1407</a></div></div>
<div class="ttc" id="classCModel_html_a73a8a52c2190b1aae2f1427e4e9eb0e1"><div class="ttname"><a href="../../d4/d04/classCModel.html#a73a8a52c2190b1aae2f1427e4e9eb0e1">CModel::getMetabolites</a></div><div class="ttdeci">const CCopasiVector&lt; CMetab &gt; &amp; getMetabolites() const </div><div class="ttdef"><b>Definition:</b> <a href="../../df/d08/CModel_8cpp_source.html#l01051">CModel.cpp:1051</a></div></div>
<div class="ttc" id="classCSBMLExporter_html_a79fe24bce02d84048709c9e851d4ce1b"><div class="ttname"><a href="../../df/d80/classCSBMLExporter.html#a79fe24bce02d84048709c9e851d4ce1b">CSBMLExporter::createMetabolite</a></div><div class="ttdeci">void createMetabolite(CMetab &amp;metab)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d2f/CSBMLExporter_8cpp_source.html#l01105">CSBMLExporter.cpp:1105</a></div></div>
<div class="ttc" id="classCCopasiVector_html_acb26711fe72be0d2cb3a37c2fbcc031f"><div class="ttname"><a href="../../d8/d2c/classCCopasiVector.html#acb26711fe72be0d2cb3a37c2fbcc031f">CCopasiVector::begin</a></div><div class="ttdeci">iterator begin()</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d51/CCopasiVector_8h_source.html#l00185">CCopasiVector.h:185</a></div></div>
<div class="ttc" id="classCCopasiMessage_html_a2ea1ed32494ff5c8d84353efcec7a5e4ac789e90eead3612a24114b9eae58fdec"><div class="ttname"><a href="../../d2/df0/classCCopasiMessage.html#a2ea1ed32494ff5c8d84353efcec7a5e4ac789e90eead3612a24114b9eae58fdec">CCopasiMessage::WARNING</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d2d/CCopasiMessage_8h_source.html#l00086">CCopasiMessage.h:86</a></div></div>
<div class="ttc" id="classCSBMLExporter_html_add70567bab44bdd83557d9cc1ca89b74"><div class="ttname"><a href="../../df/d80/classCSBMLExporter.html#add70567bab44bdd83557d9cc1ca89b74">CSBMLExporter::mSpatialSizeUnitsSpecies</a></div><div class="ttdeci">std::set&lt; std::string &gt; mSpatialSizeUnitsSpecies</div><div class="ttdef"><b>Definition:</b> <a href="../../da/d7f/CSBMLExporter_8h_source.html#l00076">CSBMLExporter.h:76</a></div></div>
<div class="ttc" id="CCopasiMessage_8h_html_a7f5ce9c8d3812b45cb6f33595fba5789"><div class="ttname"><a href="../../d9/d2d/CCopasiMessage_8h.html#a7f5ce9c8d3812b45cb6f33595fba5789">MCSBML</a></div><div class="ttdeci">#define MCSBML</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d2d/CCopasiMessage_8h_source.html#l00046">CCopasiMessage.h:46</a></div></div>
<div class="ttc" id="classCCopasiVector_html_a44c97a5f614c885495c437f2a8d20954"><div class="ttname"><a href="../../d8/d2c/classCCopasiVector.html#a44c97a5f614c885495c437f2a8d20954">CCopasiVector::end</a></div><div class="ttdeci">iterator end()</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d51/CCopasiVector_8h_source.html#l00191">CCopasiVector.h:191</a></div></div>
<div class="ttc" id="classCSBMLExporter_html_af1bc50a307a46adcce8aa8abde6dab96"><div class="ttname"><a href="../../df/d80/classCSBMLExporter.html#af1bc50a307a46adcce8aa8abde6dab96">CSBMLExporter::mSBMLVersion</a></div><div class="ttdeci">unsigned int mSBMLVersion</div><div class="ttdef"><b>Definition:</b> <a href="../../da/d7f/CSBMLExporter_8h_source.html#l00057">CSBMLExporter.h:57</a></div></div>
<div class="ttc" id="classCSBMLExporter_html_a434c0e84d0593abf69165c1a73760b9e"><div class="ttname"><a href="../../df/d80/classCSBMLExporter.html#a434c0e84d0593abf69165c1a73760b9e">CSBMLExporter::check_for_spatial_size_units</a></div><div class="ttdeci">static void check_for_spatial_size_units(const CCopasiDataModel &amp;dataModel, std::vector&lt; SBMLIncompatibility &gt; &amp;result)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d2f/CSBMLExporter_8cpp_source.html#l02597">CSBMLExporter.cpp:2597</a></div></div>
<div class="ttc" id="classCSBMLExporter_html_a5bd855fe9020f8c400a6cab63fb87711"><div class="ttname"><a href="../../df/d80/classCSBMLExporter.html#a5bd855fe9020f8c400a6cab63fb87711">CSBMLExporter::mIncompatibilities</a></div><div class="ttdeci">std::vector&lt; SBMLIncompatibility &gt; mIncompatibilities</div><div class="ttdef"><b>Definition:</b> <a href="../../da/d7f/CSBMLExporter_8h_source.html#l00065">CSBMLExporter.h:65</a></div></div>
<div class="ttc" id="classCCopasiMessage_html"><div class="ttname"><a href="../../d2/df0/classCCopasiMessage.html">CCopasiMessage</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d2d/CCopasiMessage_8h_source.html#l00078">CCopasiMessage.h:78</a></div></div>
<div class="ttc" id="classCCopasiVector_html"><div class="ttname"><a href="../../d8/d2c/classCCopasiVector.html">CCopasiVector</a></div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d60/compare__utilities_8h_source.html#l00034">compare_utilities.h:34</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a6ecc3a13cadbc61518786aad102ccf5c"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d3/d05/CChemEqParser__yacc_8cpp.html#aa76fec002b4ba91adc88f68d56ba730c">void</a> CSBMLExporter::createParameter </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d7/dec/classCModelValue.html">CModelValue</a> &amp;&#160;</td>
          <td class="paramname"><em>modelValue</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Creates the parameter for the given COPASI parameter. </p>

<p>Definition at line <a class="el" href="../../d5/d2f/CSBMLExporter_8cpp_source.html#l01304">1304</a> of file <a class="el" href="../../d5/d2f/CSBMLExporter_8cpp_source.html">CSBMLExporter.cpp</a>.</p>

<p>References <a class="el" href="../../d0/da0/classCModelEntity.html#a86cb8e66e255d66db258324064efc78aa3bfd50e7d8e4dd09716a51e0ca62dedb">CModelEntity::ASSIGNMENT</a>, <a class="el" href="../../df/d80/classCSBMLExporter.html#ab4d7f9c3d22b8225d1a4d9e3a98b855e">createUniqueId()</a>, <a class="el" href="../../d0/da0/classCModelEntity.html#a81da1db2a961ac206f9651f56f63138e">CModelEntity::getInitialExpression()</a>, <a class="el" href="../../d0/da0/classCModelEntity.html#a9358b19dd65bd1e1ef1e97fca55708b9">CModelEntity::getInitialValue()</a>, <a class="el" href="../../d4/da8/classCCopasiObject.html#a879d6756b51f6b58d307940e1343bd10">CCopasiObject::getObjectName()</a>, <a class="el" href="../../d0/da0/classCModelEntity.html#a5c8d403c6027f59d1cc3e1ccc2d9efac">CModelEntity::getSBMLId()</a>, <a class="el" href="../../d0/da0/classCModelEntity.html#ad6bdcaa2e8887271f61fc363262cc9ed">CModelEntity::getStatus()</a>, <a class="el" href="../../d5/d2f/CSBMLExporter_8cpp.html#a6c9f65aeea9a7ce079171b3a9a5b2673">INIT_DEFAULTS</a>, <a class="el" href="../../df/d80/classCSBMLExporter.html#ae2467a5206a20eae7445885970958380">mAssignmentVector</a>, <a class="el" href="../../df/d80/classCSBMLExporter.html#aeb19f9866a1735848770125dad2aebad">mCOPASI2SBMLMap</a>, <a class="el" href="../../df/d80/classCSBMLExporter.html#ae5ae5ec70c912323abe9c31b58de2652">mHandledSBMLObjects</a>, <a class="el" href="../../df/d80/classCSBMLExporter.html#a60ab409a11b90a1ca965d7702828af74">mIdMap</a>, <a class="el" href="../../df/d80/classCSBMLExporter.html#a1b30687327c5f035db028165254de116">mInitialAssignmentVector</a>, <a class="el" href="../../df/d80/classCSBMLExporter.html#aa2e61de10e2d26eee4c7310beb099b13">mMetaIdMap</a>, <a class="el" href="../../df/d80/classCSBMLExporter.html#a0e510c0403f40240d781206e3b224b69">mODEVector</a>, <a class="el" href="../../df/d80/classCSBMLExporter.html#a1541a69b36b8e864883e49f0de244f81">mpSBMLDocument</a>, <a class="el" href="../../df/d80/classCSBMLExporter.html#aba959efc152f63f1709d5de60e97a651">mSBMLLevel</a>, <a class="el" href="../../d0/da0/classCModelEntity.html#a86cb8e66e255d66db258324064efc78aa3c62c1c3a449e106a5f1eb2f4ff01ec3">CModelEntity::ODE</a>, <a class="el" href="../../df/d80/classCSBMLExporter.html#a9e7e580cffcbce270b84905e94bbb854">removeInitialAssignment()</a>, <a class="el" href="../../df/d80/classCSBMLExporter.html#a836063c67a8c63decd58706b6036efd0">removeRule()</a>, <a class="el" href="../../d0/da0/classCModelEntity.html#a9bfa78ba4485c77792c9cac3dfb3ac2e">CModelEntity::setSBMLId()</a>, <a class="el" href="../../df/d80/classCSBMLExporter.html#a166bed353f341e4e617bff6f40ff12c4">setSBMLNotes()</a>, and <a class="el" href="../../df/d80/classCSBMLExporter.html#aba8216eaf4931e0adf484832882fbe67">updateMIRIAMAnnotation()</a>.</p>

<p>Referenced by <a class="el" href="../../df/d80/classCSBMLExporter.html#a11ac856283e54271fe2d9c9b849d2c30">createParameters()</a>.</p>
<div class="fragment"><div class="line"><a name="l01305"></a><span class="lineno"> 1305</span>&#160;{</div>
<div class="line"><a name="l01306"></a><span class="lineno"> 1306</span>&#160;  Parameter* pParameter = NULL;</div>
<div class="line"><a name="l01307"></a><span class="lineno"> 1307</span>&#160;  std::string sbmlId = modelValue.<a class="code" href="../../d0/da0/classCModelEntity.html#a5c8d403c6027f59d1cc3e1ccc2d9efac">getSBMLId</a>();</div>
<div class="line"><a name="l01308"></a><span class="lineno"> 1308</span>&#160;</div>
<div class="line"><a name="l01309"></a><span class="lineno"> 1309</span>&#160;  <span class="keywordflow">if</span> (!sbmlId.empty())</div>
<div class="line"><a name="l01310"></a><span class="lineno"> 1310</span>&#160;    {</div>
<div class="line"><a name="l01311"></a><span class="lineno"> 1311</span>&#160;      pParameter = this-&gt;<a class="code" href="../../df/d80/classCSBMLExporter.html#a1541a69b36b8e864883e49f0de244f81">mpSBMLDocument</a>-&gt;getModel()-&gt;getParameter(sbmlId);</div>
<div class="line"><a name="l01312"></a><span class="lineno"> 1312</span>&#160;</div>
<div class="line"><a name="l01313"></a><span class="lineno"> 1313</span>&#160;      <span class="keywordflow">if</span> (pParameter == NULL)</div>
<div class="line"><a name="l01314"></a><span class="lineno"> 1314</span>&#160;        {</div>
<div class="line"><a name="l01315"></a><span class="lineno"> 1315</span>&#160;          pParameter = this-&gt;<a class="code" href="../../df/d80/classCSBMLExporter.html#a1541a69b36b8e864883e49f0de244f81">mpSBMLDocument</a>-&gt;getModel()-&gt;createParameter();</div>
<div class="line"><a name="l01316"></a><span class="lineno"> 1316</span>&#160;          this-&gt;<a class="code" href="../../df/d80/classCSBMLExporter.html#aeb19f9866a1735848770125dad2aebad">mCOPASI2SBMLMap</a>[&amp;modelValue] = pParameter;</div>
<div class="line"><a name="l01317"></a><span class="lineno"> 1317</span>&#160;          pParameter-&gt;setId(sbmlId);</div>
<div class="line"><a name="l01318"></a><span class="lineno"> 1318</span>&#160;        }</div>
<div class="line"><a name="l01319"></a><span class="lineno"> 1319</span>&#160;    }</div>
<div class="line"><a name="l01320"></a><span class="lineno"> 1320</span>&#160;  <span class="keywordflow">else</span></div>
<div class="line"><a name="l01321"></a><span class="lineno"> 1321</span>&#160;    {</div>
<div class="line"><a name="l01322"></a><span class="lineno"> 1322</span>&#160;      pParameter = this-&gt;<a class="code" href="../../df/d80/classCSBMLExporter.html#a1541a69b36b8e864883e49f0de244f81">mpSBMLDocument</a>-&gt;getModel()-&gt;createParameter();</div>
<div class="line"><a name="l01323"></a><span class="lineno"> 1323</span>&#160;      this-&gt;<a class="code" href="../../df/d80/classCSBMLExporter.html#aeb19f9866a1735848770125dad2aebad">mCOPASI2SBMLMap</a>[&amp;modelValue] = pParameter;</div>
<div class="line"><a name="l01324"></a><span class="lineno"> 1324</span>&#160;      sbmlId = <a class="code" href="../../df/d80/classCSBMLExporter.html#ab4d7f9c3d22b8225d1a4d9e3a98b855e">CSBMLExporter::createUniqueId</a>(this-&gt;<a class="code" href="../../df/d80/classCSBMLExporter.html#a60ab409a11b90a1ca965d7702828af74">mIdMap</a>, modelValue.<a class="code" href="../../d4/da8/classCCopasiObject.html#a879d6756b51f6b58d307940e1343bd10">getObjectName</a>(), <span class="keyword">false</span>);</div>
<div class="line"><a name="l01325"></a><span class="lineno"> 1325</span>&#160;      modelValue.<a class="code" href="../../d0/da0/classCModelEntity.html#a9bfa78ba4485c77792c9cac3dfb3ac2e">setSBMLId</a>(sbmlId);</div>
<div class="line"><a name="l01326"></a><span class="lineno"> 1326</span>&#160;      pParameter-&gt;setId(sbmlId);</div>
<div class="line"><a name="l01327"></a><span class="lineno"> 1327</span>&#160;    }</div>
<div class="line"><a name="l01328"></a><span class="lineno"> 1328</span>&#160;</div>
<div class="line"><a name="l01329"></a><span class="lineno"> 1329</span>&#160;  <a class="code" href="../../d5/d2f/CSBMLExporter_8cpp.html#a6c9f65aeea9a7ce079171b3a9a5b2673">INIT_DEFAULTS</a>((*pParameter));</div>
<div class="line"><a name="l01330"></a><span class="lineno"> 1330</span>&#160;</div>
<div class="line"><a name="l01331"></a><span class="lineno"> 1331</span>&#160;  this-&gt;<a class="code" href="../../df/d80/classCSBMLExporter.html#a60ab409a11b90a1ca965d7702828af74">mIdMap</a>.insert(std::pair&lt;const std::string, const SBase*&gt;(sbmlId, pParameter));</div>
<div class="line"><a name="l01332"></a><span class="lineno"> 1332</span>&#160;  this-&gt;<a class="code" href="../../df/d80/classCSBMLExporter.html#ae5ae5ec70c912323abe9c31b58de2652">mHandledSBMLObjects</a>.insert(pParameter);</div>
<div class="line"><a name="l01333"></a><span class="lineno"> 1333</span>&#160;</div>
<div class="line"><a name="l01334"></a><span class="lineno"> 1334</span>&#160;  <span class="comment">// don&#39;t call setName on level 1 objects because this will also</span></div>
<div class="line"><a name="l01335"></a><span class="lineno"> 1335</span>&#160;  <span class="comment">// change the id</span></div>
<div class="line"><a name="l01336"></a><span class="lineno"> 1336</span>&#160;  <span class="keywordflow">if</span> (this-&gt;<a class="code" href="../../df/d80/classCSBMLExporter.html#a1541a69b36b8e864883e49f0de244f81">mpSBMLDocument</a>-&gt;getLevel() &gt; 1)</div>
<div class="line"><a name="l01337"></a><span class="lineno"> 1337</span>&#160;    {</div>
<div class="line"><a name="l01338"></a><span class="lineno"> 1338</span>&#160;      pParameter-&gt;setName(modelValue.<a class="code" href="../../d4/da8/classCCopasiObject.html#a879d6756b51f6b58d307940e1343bd10">getObjectName</a>());</div>
<div class="line"><a name="l01339"></a><span class="lineno"> 1339</span>&#160;    }</div>
<div class="line"><a name="l01340"></a><span class="lineno"> 1340</span>&#160;</div>
<div class="line"><a name="l01341"></a><span class="lineno"> 1341</span>&#160;  <span class="keywordtype">double</span> value = modelValue.<a class="code" href="../../d0/da0/classCModelEntity.html#a9358b19dd65bd1e1ef1e97fca55708b9">getInitialValue</a>();</div>
<div class="line"><a name="l01342"></a><span class="lineno"> 1342</span>&#160;</div>
<div class="line"><a name="l01343"></a><span class="lineno"> 1343</span>&#160;  <span class="comment">// if the value is NaN, unset the parameters value</span></div>
<div class="line"><a name="l01344"></a><span class="lineno"> 1344</span>&#160;  <span class="keywordflow">if</span> (!isnan(value))</div>
<div class="line"><a name="l01345"></a><span class="lineno"> 1345</span>&#160;    {</div>
<div class="line"><a name="l01346"></a><span class="lineno"> 1346</span>&#160;      pParameter-&gt;setValue(value);</div>
<div class="line"><a name="l01347"></a><span class="lineno"> 1347</span>&#160;    }</div>
<div class="line"><a name="l01348"></a><span class="lineno"> 1348</span>&#160;  <span class="keywordflow">else</span></div>
<div class="line"><a name="l01349"></a><span class="lineno"> 1349</span>&#160;    {</div>
<div class="line"><a name="l01350"></a><span class="lineno"> 1350</span>&#160;      pParameter-&gt;unsetValue();</div>
<div class="line"><a name="l01351"></a><span class="lineno"> 1351</span>&#160;    }</div>
<div class="line"><a name="l01352"></a><span class="lineno"> 1352</span>&#160;</div>
<div class="line"><a name="l01353"></a><span class="lineno"> 1353</span>&#160;  <span class="comment">// fill assignment set</span></div>
<div class="line"><a name="l01354"></a><span class="lineno"> 1354</span>&#160;  <span class="comment">// a parameter can either have an assignment or an initial assignment but not</span></div>
<div class="line"><a name="l01355"></a><span class="lineno"> 1355</span>&#160;  <span class="comment">// both</span></div>
<div class="line"><a name="l01356"></a><span class="lineno"> 1356</span>&#160;  <a class="code" href="../../d0/da0/classCModelEntity.html#a86cb8e66e255d66db258324064efc78a">CModelEntity::Status</a> status = modelValue.<a class="code" href="../../d0/da0/classCModelEntity.html#ad6bdcaa2e8887271f61fc363262cc9ed">getStatus</a>();</div>
<div class="line"><a name="l01357"></a><span class="lineno"> 1357</span>&#160;</div>
<div class="line"><a name="l01358"></a><span class="lineno"> 1358</span>&#160;  <span class="keywordflow">if</span> (status == <a class="code" href="../../d0/da0/classCModelEntity.html#a86cb8e66e255d66db258324064efc78aa3bfd50e7d8e4dd09716a51e0ca62dedb">CModelEntity::ASSIGNMENT</a>)</div>
<div class="line"><a name="l01359"></a><span class="lineno"> 1359</span>&#160;    {</div>
<div class="line"><a name="l01360"></a><span class="lineno"> 1360</span>&#160;      this-&gt;<a class="code" href="../../df/d80/classCSBMLExporter.html#ae2467a5206a20eae7445885970958380">mAssignmentVector</a>.push_back(&amp;modelValue);</div>
<div class="line"><a name="l01361"></a><span class="lineno"> 1361</span>&#160;      pParameter-&gt;setConstant(<span class="keyword">false</span>);</div>
<div class="line"><a name="l01362"></a><span class="lineno"> 1362</span>&#160;      <a class="code" href="../../df/d80/classCSBMLExporter.html#a9e7e580cffcbce270b84905e94bbb854">removeInitialAssignment</a>(pParameter-&gt;getId());</div>
<div class="line"><a name="l01363"></a><span class="lineno"> 1363</span>&#160;    }</div>
<div class="line"><a name="l01364"></a><span class="lineno"> 1364</span>&#160;  <span class="keywordflow">else</span> <span class="keywordflow">if</span> (status == <a class="code" href="../../d0/da0/classCModelEntity.html#a86cb8e66e255d66db258324064efc78aa3c62c1c3a449e106a5f1eb2f4ff01ec3">CModelEntity::ODE</a>)</div>
<div class="line"><a name="l01365"></a><span class="lineno"> 1365</span>&#160;    {</div>
<div class="line"><a name="l01366"></a><span class="lineno"> 1366</span>&#160;      this-&gt;<a class="code" href="../../df/d80/classCSBMLExporter.html#a0e510c0403f40240d781206e3b224b69">mODEVector</a>.push_back(&amp;modelValue);</div>
<div class="line"><a name="l01367"></a><span class="lineno"> 1367</span>&#160;      pParameter-&gt;setConstant(<span class="keyword">false</span>);</div>
<div class="line"><a name="l01368"></a><span class="lineno"> 1368</span>&#160;</div>
<div class="line"><a name="l01369"></a><span class="lineno"> 1369</span>&#160;      <span class="keywordflow">if</span> (modelValue.<a class="code" href="../../d0/da0/classCModelEntity.html#a81da1db2a961ac206f9651f56f63138e">getInitialExpression</a>() != <span class="stringliteral">&quot;&quot;</span>)</div>
<div class="line"><a name="l01370"></a><span class="lineno"> 1370</span>&#160;        {</div>
<div class="line"><a name="l01371"></a><span class="lineno"> 1371</span>&#160;          this-&gt;<a class="code" href="../../df/d80/classCSBMLExporter.html#a1b30687327c5f035db028165254de116">mInitialAssignmentVector</a>.push_back(&amp;modelValue);</div>
<div class="line"><a name="l01372"></a><span class="lineno"> 1372</span>&#160;        }</div>
<div class="line"><a name="l01373"></a><span class="lineno"> 1373</span>&#160;      <span class="keywordflow">else</span></div>
<div class="line"><a name="l01374"></a><span class="lineno"> 1374</span>&#160;        {</div>
<div class="line"><a name="l01375"></a><span class="lineno"> 1375</span>&#160;          <a class="code" href="../../df/d80/classCSBMLExporter.html#a9e7e580cffcbce270b84905e94bbb854">removeInitialAssignment</a>(pParameter-&gt;getId());</div>
<div class="line"><a name="l01376"></a><span class="lineno"> 1376</span>&#160;        }</div>
<div class="line"><a name="l01377"></a><span class="lineno"> 1377</span>&#160;    }</div>
<div class="line"><a name="l01378"></a><span class="lineno"> 1378</span>&#160;  <span class="keywordflow">else</span></div>
<div class="line"><a name="l01379"></a><span class="lineno"> 1379</span>&#160;    {</div>
<div class="line"><a name="l01380"></a><span class="lineno"> 1380</span>&#160;      <span class="comment">// do this explicitly since we might handle an existing object from an</span></div>
<div class="line"><a name="l01381"></a><span class="lineno"> 1381</span>&#160;      <span class="comment">// earlier import that had it attribute set already</span></div>
<div class="line"><a name="l01382"></a><span class="lineno"> 1382</span>&#160;      <span class="keywordflow">if</span> (this-&gt;<a class="code" href="../../df/d80/classCSBMLExporter.html#aba959efc152f63f1709d5de60e97a651">mSBMLLevel</a> != 1)</div>
<div class="line"><a name="l01383"></a><span class="lineno"> 1383</span>&#160;        {</div>
<div class="line"><a name="l01384"></a><span class="lineno"> 1384</span>&#160;          pParameter-&gt;setConstant(<span class="keyword">true</span>);</div>
<div class="line"><a name="l01385"></a><span class="lineno"> 1385</span>&#160;        }</div>
<div class="line"><a name="l01386"></a><span class="lineno"> 1386</span>&#160;      <span class="keywordflow">else</span></div>
<div class="line"><a name="l01387"></a><span class="lineno"> 1387</span>&#160;        {</div>
<div class="line"><a name="l01388"></a><span class="lineno"> 1388</span>&#160;          <span class="comment">// Level 1 does not have a constant flag</span></div>
<div class="line"><a name="l01389"></a><span class="lineno"> 1389</span>&#160;          <span class="comment">// and libsbml does not drop it automatically</span></div>
<div class="line"><a name="l01390"></a><span class="lineno"> 1390</span>&#160;          pParameter-&gt;setConstant(<span class="keyword">false</span>);</div>
<div class="line"><a name="l01391"></a><span class="lineno"> 1391</span>&#160;        }</div>
<div class="line"><a name="l01392"></a><span class="lineno"> 1392</span>&#160;</div>
<div class="line"><a name="l01393"></a><span class="lineno"> 1393</span>&#160;      <span class="comment">// fill initial assignment set</span></div>
<div class="line"><a name="l01394"></a><span class="lineno"> 1394</span>&#160;      <a class="code" href="../../df/d80/classCSBMLExporter.html#a836063c67a8c63decd58706b6036efd0">removeRule</a>(pParameter-&gt;getId());</div>
<div class="line"><a name="l01395"></a><span class="lineno"> 1395</span>&#160;</div>
<div class="line"><a name="l01396"></a><span class="lineno"> 1396</span>&#160;      <span class="keywordflow">if</span> (modelValue.<a class="code" href="../../d0/da0/classCModelEntity.html#a81da1db2a961ac206f9651f56f63138e">getInitialExpression</a>() != <span class="stringliteral">&quot;&quot;</span>)</div>
<div class="line"><a name="l01397"></a><span class="lineno"> 1397</span>&#160;        {</div>
<div class="line"><a name="l01398"></a><span class="lineno"> 1398</span>&#160;          this-&gt;<a class="code" href="../../df/d80/classCSBMLExporter.html#a1b30687327c5f035db028165254de116">mInitialAssignmentVector</a>.push_back(&amp;modelValue);</div>
<div class="line"><a name="l01399"></a><span class="lineno"> 1399</span>&#160;        }</div>
<div class="line"><a name="l01400"></a><span class="lineno"> 1400</span>&#160;      <span class="keywordflow">else</span></div>
<div class="line"><a name="l01401"></a><span class="lineno"> 1401</span>&#160;        {</div>
<div class="line"><a name="l01402"></a><span class="lineno"> 1402</span>&#160;          <a class="code" href="../../df/d80/classCSBMLExporter.html#a9e7e580cffcbce270b84905e94bbb854">removeInitialAssignment</a>(pParameter-&gt;getId());</div>
<div class="line"><a name="l01403"></a><span class="lineno"> 1403</span>&#160;        }</div>
<div class="line"><a name="l01404"></a><span class="lineno"> 1404</span>&#160;    }</div>
<div class="line"><a name="l01405"></a><span class="lineno"> 1405</span>&#160;</div>
<div class="line"><a name="l01406"></a><span class="lineno"> 1406</span>&#160;  <span class="keywordflow">if</span> (pParameter != NULL)</div>
<div class="line"><a name="l01407"></a><span class="lineno"> 1407</span>&#160;    {</div>
<div class="line"><a name="l01408"></a><span class="lineno"> 1408</span>&#160;      <a class="code" href="../../df/d80/classCSBMLExporter.html#a166bed353f341e4e617bff6f40ff12c4">CSBMLExporter::setSBMLNotes</a>(pParameter, &amp;modelValue);</div>
<div class="line"><a name="l01409"></a><span class="lineno"> 1409</span>&#160;    }</div>
<div class="line"><a name="l01410"></a><span class="lineno"> 1410</span>&#160;</div>
<div class="line"><a name="l01411"></a><span class="lineno"> 1411</span>&#160;  <a class="code" href="../../df/d80/classCSBMLExporter.html#aba8216eaf4931e0adf484832882fbe67">CSBMLExporter::updateMIRIAMAnnotation</a>(&amp;modelValue, pParameter, this-&gt;<a class="code" href="../../df/d80/classCSBMLExporter.html#aa2e61de10e2d26eee4c7310beb099b13">mMetaIdMap</a>);</div>
<div class="line"><a name="l01412"></a><span class="lineno"> 1412</span>&#160;}</div>
<div class="ttc" id="classCSBMLExporter_html_aba959efc152f63f1709d5de60e97a651"><div class="ttname"><a href="../../df/d80/classCSBMLExporter.html#aba959efc152f63f1709d5de60e97a651">CSBMLExporter::mSBMLLevel</a></div><div class="ttdeci">unsigned int mSBMLLevel</div><div class="ttdef"><b>Definition:</b> <a href="../../da/d7f/CSBMLExporter_8h_source.html#l00056">CSBMLExporter.h:56</a></div></div>
<div class="ttc" id="classCSBMLExporter_html_a1541a69b36b8e864883e49f0de244f81"><div class="ttname"><a href="../../df/d80/classCSBMLExporter.html#a1541a69b36b8e864883e49f0de244f81">CSBMLExporter::mpSBMLDocument</a></div><div class="ttdeci">SBMLDocument * mpSBMLDocument</div><div class="ttdef"><b>Definition:</b> <a href="../../da/d7f/CSBMLExporter_8h_source.html#l00055">CSBMLExporter.h:55</a></div></div>
<div class="ttc" id="classCModelEntity_html_a5c8d403c6027f59d1cc3e1ccc2d9efac"><div class="ttname"><a href="../../d0/da0/classCModelEntity.html#a5c8d403c6027f59d1cc3e1ccc2d9efac">CModelEntity::getSBMLId</a></div><div class="ttdeci">const std::string &amp; getSBMLId() const </div><div class="ttdef"><b>Definition:</b> <a href="../../d8/da3/CModelValue_8cpp_source.html#l00637">CModelValue.cpp:637</a></div></div>
<div class="ttc" id="classCCopasiObject_html_a879d6756b51f6b58d307940e1343bd10"><div class="ttname"><a href="../../d4/da8/classCCopasiObject.html#a879d6756b51f6b58d307940e1343bd10">CCopasiObject::getObjectName</a></div><div class="ttdeci">const std::string &amp; getObjectName() const </div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d22/CCopasiObject_8cpp_source.html#l00258">CCopasiObject.cpp:258</a></div></div>
<div class="ttc" id="classCSBMLExporter_html_ae2467a5206a20eae7445885970958380"><div class="ttname"><a href="../../df/d80/classCSBMLExporter.html#ae2467a5206a20eae7445885970958380">CSBMLExporter::mAssignmentVector</a></div><div class="ttdeci">std::vector&lt; CModelEntity * &gt; mAssignmentVector</div><div class="ttdef"><b>Definition:</b> <a href="../../da/d7f/CSBMLExporter_8h_source.html#l00058">CSBMLExporter.h:58</a></div></div>
<div class="ttc" id="classCModelEntity_html_a86cb8e66e255d66db258324064efc78aa3bfd50e7d8e4dd09716a51e0ca62dedb"><div class="ttname"><a href="../../d0/da0/classCModelEntity.html#a86cb8e66e255d66db258324064efc78aa3bfd50e7d8e4dd09716a51e0ca62dedb">CModelEntity::ASSIGNMENT</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d1/da3/CModelValue_8h_source.html#l00056">CModelValue.h:56</a></div></div>
<div class="ttc" id="classCSBMLExporter_html_a60ab409a11b90a1ca965d7702828af74"><div class="ttname"><a href="../../df/d80/classCSBMLExporter.html#a60ab409a11b90a1ca965d7702828af74">CSBMLExporter::mIdMap</a></div><div class="ttdeci">std::map&lt; std::string, const SBase * &gt; mIdMap</div><div class="ttdef"><b>Definition:</b> <a href="../../da/d7f/CSBMLExporter_8h_source.html#l00064">CSBMLExporter.h:64</a></div></div>
<div class="ttc" id="classCSBMLExporter_html_a166bed353f341e4e617bff6f40ff12c4"><div class="ttname"><a href="../../df/d80/classCSBMLExporter.html#a166bed353f341e4e617bff6f40ff12c4">CSBMLExporter::setSBMLNotes</a></div><div class="ttdeci">static bool setSBMLNotes(SBase *pSBase, const CAnnotation *pAnno)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d2f/CSBMLExporter_8cpp_source.html#l07697">CSBMLExporter.cpp:7697</a></div></div>
<div class="ttc" id="classCSBMLExporter_html_ab4d7f9c3d22b8225d1a4d9e3a98b855e"><div class="ttname"><a href="../../df/d80/classCSBMLExporter.html#ab4d7f9c3d22b8225d1a4d9e3a98b855e">CSBMLExporter::createUniqueId</a></div><div class="ttdeci">static const std::string createUniqueId(const std::map&lt; std::string, const SBase * &gt; &amp;idMap, const std::string &amp;prefix, bool addIndexForFirst, const std::string &amp;separator=&quot;_&quot;)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d2f/CSBMLExporter_8cpp_source.html#l02252">CSBMLExporter.cpp:2252</a></div></div>
<div class="ttc" id="classCModelEntity_html_a9358b19dd65bd1e1ef1e97fca55708b9"><div class="ttname"><a href="../../d0/da0/classCModelEntity.html#a9358b19dd65bd1e1ef1e97fca55708b9">CModelEntity::getInitialValue</a></div><div class="ttdeci">const C_FLOAT64 &amp; getInitialValue() const </div><div class="ttdef"><b>Definition:</b> <a href="../../d8/da3/CModelValue_8cpp_source.html#l00138">CModelValue.cpp:138</a></div></div>
<div class="ttc" id="classCSBMLExporter_html_a0e510c0403f40240d781206e3b224b69"><div class="ttname"><a href="../../df/d80/classCSBMLExporter.html#a0e510c0403f40240d781206e3b224b69">CSBMLExporter::mODEVector</a></div><div class="ttdeci">std::vector&lt; CModelEntity * &gt; mODEVector</div><div class="ttdef"><b>Definition:</b> <a href="../../da/d7f/CSBMLExporter_8h_source.html#l00059">CSBMLExporter.h:59</a></div></div>
<div class="ttc" id="classCModelEntity_html_a81da1db2a961ac206f9651f56f63138e"><div class="ttname"><a href="../../d0/da0/classCModelEntity.html#a81da1db2a961ac206f9651f56f63138e">CModelEntity::getInitialExpression</a></div><div class="ttdeci">std::string getInitialExpression() const </div><div class="ttdef"><b>Definition:</b> <a href="../../d8/da3/CModelValue_8cpp_source.html#l00350">CModelValue.cpp:350</a></div></div>
<div class="ttc" id="classCSBMLExporter_html_a9e7e580cffcbce270b84905e94bbb854"><div class="ttname"><a href="../../df/d80/classCSBMLExporter.html#a9e7e580cffcbce270b84905e94bbb854">CSBMLExporter::removeInitialAssignment</a></div><div class="ttdeci">void removeInitialAssignment(const std::string &amp;sbmlId)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d2f/CSBMLExporter_8cpp_source.html#l06021">CSBMLExporter.cpp:6021</a></div></div>
<div class="ttc" id="classCModelEntity_html_a86cb8e66e255d66db258324064efc78a"><div class="ttname"><a href="../../d0/da0/classCModelEntity.html#a86cb8e66e255d66db258324064efc78a">CModelEntity::Status</a></div><div class="ttdeci">Status</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/da3/CModelValue_8h_source.html#l00053">CModelValue.h:53</a></div></div>
<div class="ttc" id="classCSBMLExporter_html_aa2e61de10e2d26eee4c7310beb099b13"><div class="ttname"><a href="../../df/d80/classCSBMLExporter.html#aa2e61de10e2d26eee4c7310beb099b13">CSBMLExporter::mMetaIdMap</a></div><div class="ttdeci">std::map&lt; std::string, const SBase * &gt; mMetaIdMap</div><div class="ttdef"><b>Definition:</b> <a href="../../da/d7f/CSBMLExporter_8h_source.html#l00070">CSBMLExporter.h:70</a></div></div>
<div class="ttc" id="classCSBMLExporter_html_aeb19f9866a1735848770125dad2aebad"><div class="ttname"><a href="../../df/d80/classCSBMLExporter.html#aeb19f9866a1735848770125dad2aebad">CSBMLExporter::mCOPASI2SBMLMap</a></div><div class="ttdeci">std::map&lt; const CCopasiObject *, SBase * &gt; mCOPASI2SBMLMap</div><div class="ttdef"><b>Definition:</b> <a href="../../da/d7f/CSBMLExporter_8h_source.html#l00061">CSBMLExporter.h:61</a></div></div>
<div class="ttc" id="classCSBMLExporter_html_aba8216eaf4931e0adf484832882fbe67"><div class="ttname"><a href="../../df/d80/classCSBMLExporter.html#aba8216eaf4931e0adf484832882fbe67">CSBMLExporter::updateMIRIAMAnnotation</a></div><div class="ttdeci">bool updateMIRIAMAnnotation(const CCopasiObject *pCOPASIObject, SBase *pSBMLObject, std::map&lt; std::string, const SBase * &gt; &amp;metaIds)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d2f/CSBMLExporter_8cpp_source.html#l06361">CSBMLExporter.cpp:6361</a></div></div>
<div class="ttc" id="CSBMLExporter_8cpp_html_a6c9f65aeea9a7ce079171b3a9a5b2673"><div class="ttname"><a href="../../d5/d2f/CSBMLExporter_8cpp.html#a6c9f65aeea9a7ce079171b3a9a5b2673">INIT_DEFAULTS</a></div><div class="ttdeci">#define INIT_DEFAULTS(element)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d2f/CSBMLExporter_8cpp_source.html#l00048">CSBMLExporter.cpp:48</a></div></div>
<div class="ttc" id="classCSBMLExporter_html_ae5ae5ec70c912323abe9c31b58de2652"><div class="ttname"><a href="../../df/d80/classCSBMLExporter.html#ae5ae5ec70c912323abe9c31b58de2652">CSBMLExporter::mHandledSBMLObjects</a></div><div class="ttdeci">std::set&lt; SBase * &gt; mHandledSBMLObjects</div><div class="ttdef"><b>Definition:</b> <a href="../../da/d7f/CSBMLExporter_8h_source.html#l00062">CSBMLExporter.h:62</a></div></div>
<div class="ttc" id="classCModelEntity_html_a86cb8e66e255d66db258324064efc78aa3c62c1c3a449e106a5f1eb2f4ff01ec3"><div class="ttname"><a href="../../d0/da0/classCModelEntity.html#a86cb8e66e255d66db258324064efc78aa3c62c1c3a449e106a5f1eb2f4ff01ec3">CModelEntity::ODE</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d1/da3/CModelValue_8h_source.html#l00060">CModelValue.h:60</a></div></div>
<div class="ttc" id="classCModelEntity_html_ad6bdcaa2e8887271f61fc363262cc9ed"><div class="ttname"><a href="../../d0/da0/classCModelEntity.html#ad6bdcaa2e8887271f61fc363262cc9ed">CModelEntity::getStatus</a></div><div class="ttdeci">const CModelEntity::Status &amp; getStatus() const </div><div class="ttdef"><b>Definition:</b> <a href="../../d8/da3/CModelValue_8cpp_source.html#l00141">CModelValue.cpp:141</a></div></div>
<div class="ttc" id="classCModelEntity_html_a9bfa78ba4485c77792c9cac3dfb3ac2e"><div class="ttname"><a href="../../d0/da0/classCModelEntity.html#a9bfa78ba4485c77792c9cac3dfb3ac2e">CModelEntity::setSBMLId</a></div><div class="ttdeci">void setSBMLId(const std::string &amp;id)</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/da3/CModelValue_8cpp_source.html#l00632">CModelValue.cpp:632</a></div></div>
<div class="ttc" id="classCSBMLExporter_html_a836063c67a8c63decd58706b6036efd0"><div class="ttname"><a href="../../df/d80/classCSBMLExporter.html#a836063c67a8c63decd58706b6036efd0">CSBMLExporter::removeRule</a></div><div class="ttdeci">void removeRule(const std::string &amp;sbmlId)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d2f/CSBMLExporter_8cpp_source.html#l06042">CSBMLExporter.cpp:6042</a></div></div>
<div class="ttc" id="classCSBMLExporter_html_a1b30687327c5f035db028165254de116"><div class="ttname"><a href="../../df/d80/classCSBMLExporter.html#a1b30687327c5f035db028165254de116">CSBMLExporter::mInitialAssignmentVector</a></div><div class="ttdeci">std::vector&lt; CModelEntity * &gt; mInitialAssignmentVector</div><div class="ttdef"><b>Definition:</b> <a href="../../da/d7f/CSBMLExporter_8h_source.html#l00060">CSBMLExporter.h:60</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a11ac856283e54271fe2d9c9b849d2c30"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d3/d05/CChemEqParser__yacc_8cpp.html#aa76fec002b4ba91adc88f68d56ba730c">void</a> CSBMLExporter::createParameters </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d4/d18/classCCopasiDataModel.html">CCopasiDataModel</a> &amp;&#160;</td>
          <td class="paramname"><em>dataModel</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Creates the parameters for the model. </p>

<p>Definition at line <a class="el" href="../../d5/d2f/CSBMLExporter_8cpp_source.html#l01287">1287</a> of file <a class="el" href="../../d5/d2f/CSBMLExporter_8cpp_source.html">CSBMLExporter.cpp</a>.</p>

<p>References <a class="el" href="../../d8/d2c/classCCopasiVector.html#acb26711fe72be0d2cb3a37c2fbcc031f">CCopasiVector&lt; T &gt;::begin()</a>, <a class="el" href="../../df/d80/classCSBMLExporter.html#a6ecc3a13cadbc61518786aad102ccf5c">createParameter()</a>, <a class="el" href="../../d8/d2c/classCCopasiVector.html#a44c97a5f614c885495c437f2a8d20954">CCopasiVector&lt; T &gt;::end()</a>, <a class="el" href="../../d4/d18/classCCopasiDataModel.html#a2e65952e0caf0b2709d381cf949fec69">CCopasiDataModel::getModel()</a>, <a class="el" href="../../d4/d04/classCModel.html#ab3481ad574a3e1935a7617339970eab2">CModel::getModelValues()</a>, and <a class="el" href="../../df/d80/classCSBMLExporter.html#a1541a69b36b8e864883e49f0de244f81">mpSBMLDocument</a>.</p>

<p>Referenced by <a class="el" href="../../df/d80/classCSBMLExporter.html#a2b680d670c11c7c70a45bc12e236b2e8">createSBMLDocument()</a>.</p>
<div class="fragment"><div class="line"><a name="l01288"></a><span class="lineno"> 1288</span>&#160;{</div>
<div class="line"><a name="l01289"></a><span class="lineno"> 1289</span>&#160;  <span class="comment">// make sure the SBML Document already exists and that it has a Model set</span></div>
<div class="line"><a name="l01290"></a><span class="lineno"> 1290</span>&#160;  <span class="keywordflow">if</span> (dataModel.<a class="code" href="../../d4/d18/classCCopasiDataModel.html#a2e65952e0caf0b2709d381cf949fec69">getModel</a>() == NULL || this-&gt;<a class="code" href="../../df/d80/classCSBMLExporter.html#a1541a69b36b8e864883e49f0de244f81">mpSBMLDocument</a> == NULL || this-&gt;<a class="code" href="../../df/d80/classCSBMLExporter.html#a1541a69b36b8e864883e49f0de244f81">mpSBMLDocument</a>-&gt;getModel() == NULL) <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l01291"></a><span class="lineno"> 1291</span>&#160;</div>
<div class="line"><a name="l01292"></a><span class="lineno"> 1292</span>&#160;  <a class="code" href="../../d7/d08/classCCopasiVectorN.html">CCopasiVectorN&lt;CModelValue&gt;::const_iterator</a> it = dataModel.<a class="code" href="../../d4/d18/classCCopasiDataModel.html#a2e65952e0caf0b2709d381cf949fec69">getModel</a>()-&gt;<a class="code" href="../../d4/d04/classCModel.html#ab3481ad574a3e1935a7617339970eab2">getModelValues</a>().<a class="code" href="../../d8/d2c/classCCopasiVector.html#acb26711fe72be0d2cb3a37c2fbcc031f">begin</a>(), endit = dataModel.<a class="code" href="../../d4/d18/classCCopasiDataModel.html#a2e65952e0caf0b2709d381cf949fec69">getModel</a>()-&gt;<a class="code" href="../../d4/d04/classCModel.html#ab3481ad574a3e1935a7617339970eab2">getModelValues</a>().<a class="code" href="../../d8/d2c/classCCopasiVector.html#a44c97a5f614c885495c437f2a8d20954">end</a>();</div>
<div class="line"><a name="l01293"></a><span class="lineno"> 1293</span>&#160;</div>
<div class="line"><a name="l01294"></a><span class="lineno"> 1294</span>&#160;  <span class="keywordflow">while</span> (it != endit)</div>
<div class="line"><a name="l01295"></a><span class="lineno"> 1295</span>&#160;    {</div>
<div class="line"><a name="l01296"></a><span class="lineno"> 1296</span>&#160;      <a class="code" href="../../df/d80/classCSBMLExporter.html#a6ecc3a13cadbc61518786aad102ccf5c">createParameter</a>(**it);</div>
<div class="line"><a name="l01297"></a><span class="lineno"> 1297</span>&#160;      ++it;</div>
<div class="line"><a name="l01298"></a><span class="lineno"> 1298</span>&#160;    }</div>
<div class="line"><a name="l01299"></a><span class="lineno"> 1299</span>&#160;}</div>
<div class="ttc" id="classCCopasiVectorN_html"><div class="ttname"><a href="../../d7/d08/classCCopasiVectorN.html">CCopasiVectorN</a></div><div class="ttdef"><b>Definition:</b> <a href="../../dd/df7/CCopasiDataModel_8h_source.html#l00047">CCopasiDataModel.h:47</a></div></div>
<div class="ttc" id="classCSBMLExporter_html_a1541a69b36b8e864883e49f0de244f81"><div class="ttname"><a href="../../df/d80/classCSBMLExporter.html#a1541a69b36b8e864883e49f0de244f81">CSBMLExporter::mpSBMLDocument</a></div><div class="ttdeci">SBMLDocument * mpSBMLDocument</div><div class="ttdef"><b>Definition:</b> <a href="../../da/d7f/CSBMLExporter_8h_source.html#l00055">CSBMLExporter.h:55</a></div></div>
<div class="ttc" id="classCCopasiDataModel_html_a2e65952e0caf0b2709d381cf949fec69"><div class="ttname"><a href="../../d4/d18/classCCopasiDataModel.html#a2e65952e0caf0b2709d381cf949fec69">CCopasiDataModel::getModel</a></div><div class="ttdeci">CModel * getModel()</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d38/CCopasiDataModel_8cpp_source.html#l01407">CCopasiDataModel.cpp:1407</a></div></div>
<div class="ttc" id="classCModel_html_ab3481ad574a3e1935a7617339970eab2"><div class="ttname"><a href="../../d4/d04/classCModel.html#ab3481ad574a3e1935a7617339970eab2">CModel::getModelValues</a></div><div class="ttdeci">const CCopasiVectorN&lt; CModelValue &gt; &amp; getModelValues() const </div><div class="ttdef"><b>Definition:</b> <a href="../../df/d08/CModel_8cpp_source.html#l01060">CModel.cpp:1060</a></div></div>
<div class="ttc" id="classCCopasiVector_html_acb26711fe72be0d2cb3a37c2fbcc031f"><div class="ttname"><a href="../../d8/d2c/classCCopasiVector.html#acb26711fe72be0d2cb3a37c2fbcc031f">CCopasiVector::begin</a></div><div class="ttdeci">iterator begin()</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d51/CCopasiVector_8h_source.html#l00185">CCopasiVector.h:185</a></div></div>
<div class="ttc" id="classCCopasiVector_html_a44c97a5f614c885495c437f2a8d20954"><div class="ttname"><a href="../../d8/d2c/classCCopasiVector.html#a44c97a5f614c885495c437f2a8d20954">CCopasiVector::end</a></div><div class="ttdeci">iterator end()</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d51/CCopasiVector_8h_source.html#l00191">CCopasiVector.h:191</a></div></div>
<div class="ttc" id="classCSBMLExporter_html_a6ecc3a13cadbc61518786aad102ccf5c"><div class="ttname"><a href="../../df/d80/classCSBMLExporter.html#a6ecc3a13cadbc61518786aad102ccf5c">CSBMLExporter::createParameter</a></div><div class="ttdeci">void createParameter(CModelValue &amp;parameter)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d2f/CSBMLExporter_8cpp_source.html#l01304">CSBMLExporter.cpp:1304</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a9a2740279f7cccf5ae7b404b995ec9fa"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d3/d05/CChemEqParser__yacc_8cpp.html#aa76fec002b4ba91adc88f68d56ba730c">void</a> CSBMLExporter::createReaction </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d4/dcf/classCReaction.html">CReaction</a> &amp;&#160;</td>
          <td class="paramname"><em>reaction</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d4/d18/classCCopasiDataModel.html">CCopasiDataModel</a> &amp;&#160;</td>
          <td class="paramname"><em>dataModel</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Creates the reaction for the given COPASI reaction. </p>

<p>Definition at line <a class="el" href="../../d5/d2f/CSBMLExporter_8cpp_source.html#l01434">1434</a> of file <a class="el" href="../../d5/d2f/CSBMLExporter_8cpp_source.html">CSBMLExporter.cpp</a>.</p>

<p>References <a class="el" href="../../df/d80/classCSBMLExporter.html#a1ac2102cd8012a24253ac6edd0379198">createKineticLaw()</a>, <a class="el" href="../../df/d80/classCSBMLExporter.html#ab4d7f9c3d22b8225d1a4d9e3a98b855e">createUniqueId()</a>, <a class="el" href="../../d2/df0/classCCopasiMessage.html#a2ea1ed32494ff5c8d84353efcec7a5e4a568f885d73f0ea36bedfe92f6e533071">CCopasiMessage::EXCEPTION</a>, <a class="el" href="../../d4/dcf/classCReaction.html#ade6a66098c2f04f6e91d916029fe23e2">CReaction::getChemEq()</a>, <a class="el" href="../../d4/dcf/classCReaction.html#a5028bbc1b79e8a72071c7222cfeef9a2">CReaction::getFunction()</a>, <a class="el" href="../../d6/d8d/classCChemEqElement.html#a586190ed364927fbafd658b02730e4a7">CChemEqElement::getMetabolite()</a>, <a class="el" href="../../d1/dc0/classCChemEq.html#ab8b0078259e19d69c3e62b890197d601">CChemEq::getModifiers()</a>, <a class="el" href="../../d6/d8d/classCChemEqElement.html#a464fe74231e8ab6769463226ef9e4c5f">CChemEqElement::getMultiplicity()</a>, <a class="el" href="../../d4/da8/classCCopasiObject.html#a879d6756b51f6b58d307940e1343bd10">CCopasiObject::getObjectName()</a>, <a class="el" href="../../d1/dc0/classCChemEq.html#ac7001192479e074d3696734187ec50d8">CChemEq::getProducts()</a>, <a class="el" href="../../d0/da0/classCModelEntity.html#a5c8d403c6027f59d1cc3e1ccc2d9efac">CModelEntity::getSBMLId()</a>, <a class="el" href="../../d4/dcf/classCReaction.html#aa75b9554a66b91f4e15edc0b0240db62">CReaction::getSBMLId()</a>, <a class="el" href="../../d1/dc0/classCChemEq.html#abbcd10e89a632f5a7c225fee6975c6d9">CChemEq::getSubstrates()</a>, <a class="el" href="../../d3/db1/classCCopasiRootContainer.html#af9fdbdacf5f4e4ff2b71a345ce6ccfc7">CCopasiRootContainer::getUndefinedFunction()</a>, <a class="el" href="../../d5/d2f/CSBMLExporter_8cpp.html#a6c9f65aeea9a7ce079171b3a9a5b2673">INIT_DEFAULTS</a>, <a class="el" href="../../d4/dcf/classCReaction.html#abdbb7b72fec3ce08e729bbe171c9dc53">CReaction::isReversible()</a>, <a class="el" href="../../df/d80/classCSBMLExporter.html#aeb19f9866a1735848770125dad2aebad">mCOPASI2SBMLMap</a>, <a class="el" href="../../d9/d2d/CCopasiMessage_8h.html#a7f5ce9c8d3812b45cb6f33595fba5789">MCSBML</a>, <a class="el" href="../../df/d80/classCSBMLExporter.html#ae5ae5ec70c912323abe9c31b58de2652">mHandledSBMLObjects</a>, <a class="el" href="../../df/d80/classCSBMLExporter.html#a60ab409a11b90a1ca965d7702828af74">mIdMap</a>, <a class="el" href="../../df/d80/classCSBMLExporter.html#ac743dca5c88be1b916af33f454d1a64a">mIncompleteExport</a>, <a class="el" href="../../df/d80/classCSBMLExporter.html#aa2e61de10e2d26eee4c7310beb099b13">mMetaIdMap</a>, <a class="el" href="../../df/d80/classCSBMLExporter.html#a1541a69b36b8e864883e49f0de244f81">mpSBMLDocument</a>, <a class="el" href="../../df/d80/classCSBMLExporter.html#aba959efc152f63f1709d5de60e97a651">mSBMLLevel</a>, <a class="el" href="../../d4/dcf/classCReaction.html#a61ef1f775c492a0be897285e40fe0e0f">CReaction::setSBMLId()</a>, <a class="el" href="../../df/d80/classCSBMLExporter.html#a166bed353f341e4e617bff6f40ff12c4">setSBMLNotes()</a>, <a class="el" href="../../d8/d2c/classCCopasiVector.html#ab7e0e37022783eddfe85abf9339b05c0">CCopasiVector&lt; T &gt;::size()</a>, and <a class="el" href="../../df/d80/classCSBMLExporter.html#aba8216eaf4931e0adf484832882fbe67">updateMIRIAMAnnotation()</a>.</p>

<p>Referenced by <a class="el" href="../../df/d80/classCSBMLExporter.html#ab4b8c42274fd0afd191d498efe36146a">createReactions()</a>.</p>
<div class="fragment"><div class="line"><a name="l01435"></a><span class="lineno"> 1435</span>&#160;{</div>
<div class="line"><a name="l01436"></a><span class="lineno"> 1436</span>&#160;  <span class="comment">// make sure the mCOPASI2SBMLMap is already updated</span></div>
<div class="line"><a name="l01437"></a><span class="lineno"> 1437</span>&#160;  Reaction* pSBMLReaction = NULL;</div>
<div class="line"><a name="l01438"></a><span class="lineno"> 1438</span>&#160;</div>
<div class="line"><a name="l01439"></a><span class="lineno"> 1439</span>&#160;  <span class="comment">// if the reaction has nothing set but the name, we don&#39;t do anything</span></div>
<div class="line"><a name="l01440"></a><span class="lineno"> 1440</span>&#160;  <span class="comment">// This is mandated since SBML Level 2 Version 2. A reactions has to have either</span></div>
<div class="line"><a name="l01441"></a><span class="lineno"> 1441</span>&#160;  <span class="comment">// a substrate or a product.</span></div>
<div class="line"><a name="l01442"></a><span class="lineno"> 1442</span>&#160;  <span class="keywordflow">if</span> (reaction.<a class="code" href="../../d4/dcf/classCReaction.html#ade6a66098c2f04f6e91d916029fe23e2">getChemEq</a>().<a class="code" href="../../d1/dc0/classCChemEq.html#abbcd10e89a632f5a7c225fee6975c6d9">getSubstrates</a>().<a class="code" href="../../d8/d2c/classCCopasiVector.html#ab7e0e37022783eddfe85abf9339b05c0">size</a>() == 0 &amp;&amp;</div>
<div class="line"><a name="l01443"></a><span class="lineno"> 1443</span>&#160;      reaction.<a class="code" href="../../d4/dcf/classCReaction.html#ade6a66098c2f04f6e91d916029fe23e2">getChemEq</a>().<a class="code" href="../../d1/dc0/classCChemEq.html#ac7001192479e074d3696734187ec50d8">getProducts</a>().<a class="code" href="../../d8/d2c/classCCopasiVector.html#ab7e0e37022783eddfe85abf9339b05c0">size</a>() == 0) <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l01444"></a><span class="lineno"> 1444</span>&#160;</div>
<div class="line"><a name="l01445"></a><span class="lineno"> 1445</span>&#160;  std::string sbmlId = reaction.<a class="code" href="../../d4/dcf/classCReaction.html#aa75b9554a66b91f4e15edc0b0240db62">getSBMLId</a>();</div>
<div class="line"><a name="l01446"></a><span class="lineno"> 1446</span>&#160;</div>
<div class="line"><a name="l01447"></a><span class="lineno"> 1447</span>&#160;  <span class="keywordflow">if</span> (!sbmlId.empty())</div>
<div class="line"><a name="l01448"></a><span class="lineno"> 1448</span>&#160;    {</div>
<div class="line"><a name="l01449"></a><span class="lineno"> 1449</span>&#160;      pSBMLReaction = this-&gt;<a class="code" href="../../df/d80/classCSBMLExporter.html#a1541a69b36b8e864883e49f0de244f81">mpSBMLDocument</a>-&gt;getModel()-&gt;getReaction(sbmlId);</div>
<div class="line"><a name="l01450"></a><span class="lineno"> 1450</span>&#160;</div>
<div class="line"><a name="l01451"></a><span class="lineno"> 1451</span>&#160;      <span class="keywordflow">if</span> (pSBMLReaction == NULL)</div>
<div class="line"><a name="l01452"></a><span class="lineno"> 1452</span>&#160;        {</div>
<div class="line"><a name="l01453"></a><span class="lineno"> 1453</span>&#160;          <span class="comment">/* create a new reaction object */</span></div>
<div class="line"><a name="l01454"></a><span class="lineno"> 1454</span>&#160;          pSBMLReaction = this-&gt;<a class="code" href="../../df/d80/classCSBMLExporter.html#a1541a69b36b8e864883e49f0de244f81">mpSBMLDocument</a>-&gt;getModel()-&gt;createReaction();</div>
<div class="line"><a name="l01455"></a><span class="lineno"> 1455</span>&#160;          <a class="code" href="../../df/d80/classCSBMLExporter.html#aeb19f9866a1735848770125dad2aebad">mCOPASI2SBMLMap</a>[&amp;reaction] = pSBMLReaction;</div>
<div class="line"><a name="l01456"></a><span class="lineno"> 1456</span>&#160;          pSBMLReaction-&gt;setId(sbmlId);</div>
<div class="line"><a name="l01457"></a><span class="lineno"> 1457</span>&#160;        }</div>
<div class="line"><a name="l01458"></a><span class="lineno"> 1458</span>&#160;</div>
<div class="line"><a name="l01459"></a><span class="lineno"> 1459</span>&#160;      <span class="comment">// maybe this id was assigned by assignSBMLIdstoReactions and there is no object associated with it</span></div>
<div class="line"><a name="l01460"></a><span class="lineno"> 1460</span>&#160;      <span class="comment">// If this is the case, we associate the object here.</span></div>
<div class="line"><a name="l01461"></a><span class="lineno"> 1461</span>&#160;      std::map&lt;std::string, const SBase*&gt;::const_iterator pos = this-&gt;<a class="code" href="../../df/d80/classCSBMLExporter.html#a60ab409a11b90a1ca965d7702828af74">mIdMap</a>.find(sbmlId);</div>
<div class="line"><a name="l01462"></a><span class="lineno"> 1462</span>&#160;      assert(pos != this-&gt;<a class="code" href="../../df/d80/classCSBMLExporter.html#a60ab409a11b90a1ca965d7702828af74">mIdMap</a>.end());</div>
<div class="line"><a name="l01463"></a><span class="lineno"> 1463</span>&#160;</div>
<div class="line"><a name="l01464"></a><span class="lineno"> 1464</span>&#160;      <span class="keywordflow">if</span> (pos-&gt;second == NULL)</div>
<div class="line"><a name="l01465"></a><span class="lineno"> 1465</span>&#160;        {</div>
<div class="line"><a name="l01466"></a><span class="lineno"> 1466</span>&#160;          this-&gt;<a class="code" href="../../df/d80/classCSBMLExporter.html#a60ab409a11b90a1ca965d7702828af74">mIdMap</a>[sbmlId] = pSBMLReaction;</div>
<div class="line"><a name="l01467"></a><span class="lineno"> 1467</span>&#160;        }</div>
<div class="line"><a name="l01468"></a><span class="lineno"> 1468</span>&#160;    }</div>
<div class="line"><a name="l01469"></a><span class="lineno"> 1469</span>&#160;  <span class="keywordflow">else</span></div>
<div class="line"><a name="l01470"></a><span class="lineno"> 1470</span>&#160;    {</div>
<div class="line"><a name="l01471"></a><span class="lineno"> 1471</span>&#160;      pSBMLReaction = this-&gt;<a class="code" href="../../df/d80/classCSBMLExporter.html#a1541a69b36b8e864883e49f0de244f81">mpSBMLDocument</a>-&gt;getModel()-&gt;createReaction();</div>
<div class="line"><a name="l01472"></a><span class="lineno"> 1472</span>&#160;      this-&gt;<a class="code" href="../../df/d80/classCSBMLExporter.html#aeb19f9866a1735848770125dad2aebad">mCOPASI2SBMLMap</a>[&amp;reaction] = pSBMLReaction;</div>
<div class="line"><a name="l01473"></a><span class="lineno"> 1473</span>&#160;      sbmlId = <a class="code" href="../../df/d80/classCSBMLExporter.html#ab4d7f9c3d22b8225d1a4d9e3a98b855e">CSBMLExporter::createUniqueId</a>(this-&gt;<a class="code" href="../../df/d80/classCSBMLExporter.html#a60ab409a11b90a1ca965d7702828af74">mIdMap</a>, reaction.<a class="code" href="../../d4/da8/classCCopasiObject.html#a879d6756b51f6b58d307940e1343bd10">getObjectName</a>(), <span class="keyword">false</span>);</div>
<div class="line"><a name="l01474"></a><span class="lineno"> 1474</span>&#160;      reaction.<a class="code" href="../../d4/dcf/classCReaction.html#a61ef1f775c492a0be897285e40fe0e0f">setSBMLId</a>(sbmlId);</div>
<div class="line"><a name="l01475"></a><span class="lineno"> 1475</span>&#160;      pSBMLReaction-&gt;setId(sbmlId);</div>
<div class="line"><a name="l01476"></a><span class="lineno"> 1476</span>&#160;    }</div>
<div class="line"><a name="l01477"></a><span class="lineno"> 1477</span>&#160;</div>
<div class="line"><a name="l01478"></a><span class="lineno"> 1478</span>&#160;  <a class="code" href="../../d5/d2f/CSBMLExporter_8cpp.html#a6c9f65aeea9a7ce079171b3a9a5b2673">INIT_DEFAULTS</a>((*pSBMLReaction));</div>
<div class="line"><a name="l01479"></a><span class="lineno"> 1479</span>&#160;</div>
<div class="line"><a name="l01480"></a><span class="lineno"> 1480</span>&#160;  this-&gt;<a class="code" href="../../df/d80/classCSBMLExporter.html#a60ab409a11b90a1ca965d7702828af74">mIdMap</a>.insert(std::pair&lt;const std::string, const SBase*&gt;(sbmlId, pSBMLReaction));</div>
<div class="line"><a name="l01481"></a><span class="lineno"> 1481</span>&#160;  this-&gt;<a class="code" href="../../df/d80/classCSBMLExporter.html#ae5ae5ec70c912323abe9c31b58de2652">mHandledSBMLObjects</a>.insert(pSBMLReaction);</div>
<div class="line"><a name="l01482"></a><span class="lineno"> 1482</span>&#160;</div>
<div class="line"><a name="l01483"></a><span class="lineno"> 1483</span>&#160;  <span class="comment">// don&#39;t call setName on level 1 objects because this will also</span></div>
<div class="line"><a name="l01484"></a><span class="lineno"> 1484</span>&#160;  <span class="comment">// change the id</span></div>
<div class="line"><a name="l01485"></a><span class="lineno"> 1485</span>&#160;  <span class="keywordflow">if</span> (this-&gt;<a class="code" href="../../df/d80/classCSBMLExporter.html#a1541a69b36b8e864883e49f0de244f81">mpSBMLDocument</a>-&gt;getLevel() &gt; 1)</div>
<div class="line"><a name="l01486"></a><span class="lineno"> 1486</span>&#160;    {</div>
<div class="line"><a name="l01487"></a><span class="lineno"> 1487</span>&#160;      pSBMLReaction-&gt;setName(reaction.<a class="code" href="../../d4/da8/classCCopasiObject.html#a879d6756b51f6b58d307940e1343bd10">getObjectName</a>().c_str());</div>
<div class="line"><a name="l01488"></a><span class="lineno"> 1488</span>&#160;    }</div>
<div class="line"><a name="l01489"></a><span class="lineno"> 1489</span>&#160;</div>
<div class="line"><a name="l01490"></a><span class="lineno"> 1490</span>&#160;  pSBMLReaction-&gt;setReversible(reaction.<a class="code" href="../../d4/dcf/classCReaction.html#abdbb7b72fec3ce08e729bbe171c9dc53">isReversible</a>());</div>
<div class="line"><a name="l01491"></a><span class="lineno"> 1491</span>&#160;  <span class="keyword">const</span> <a class="code" href="../../d1/dc0/classCChemEq.html">CChemEq</a>&amp; chemicalEquation = reaction.<a class="code" href="../../d4/dcf/classCReaction.html#ade6a66098c2f04f6e91d916029fe23e2">getChemEq</a>();</div>
<div class="line"><a name="l01492"></a><span class="lineno"> 1492</span>&#160;  <span class="comment">/* Add all substrates */</span></div>
<div class="line"><a name="l01493"></a><span class="lineno"> 1493</span>&#160;  <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> counter;</div>
<div class="line"><a name="l01494"></a><span class="lineno"> 1494</span>&#160;  std::set&lt;std::string&gt; usedReferences;</div>
<div class="line"><a name="l01495"></a><span class="lineno"> 1495</span>&#160;</div>
<div class="line"><a name="l01496"></a><span class="lineno"> 1496</span>&#160;  <span class="keywordflow">for</span> (counter = 0; counter &lt; chemicalEquation.<a class="code" href="../../d1/dc0/classCChemEq.html#abbcd10e89a632f5a7c225fee6975c6d9">getSubstrates</a>().<a class="code" href="../../d8/d2c/classCCopasiVector.html#ab7e0e37022783eddfe85abf9339b05c0">size</a>(); counter++)</div>
<div class="line"><a name="l01497"></a><span class="lineno"> 1497</span>&#160;    {</div>
<div class="line"><a name="l01498"></a><span class="lineno"> 1498</span>&#160;      <span class="keyword">const</span> <a class="code" href="../../d6/d8d/classCChemEqElement.html">CChemEqElement</a>* element = chemicalEquation.<a class="code" href="../../d1/dc0/classCChemEq.html#abbcd10e89a632f5a7c225fee6975c6d9">getSubstrates</a>()[counter];</div>
<div class="line"><a name="l01499"></a><span class="lineno"> 1499</span>&#160;      <span class="keyword">const</span> <a class="code" href="../../dc/d44/classCMetab.html">CMetab</a>* pMetabolite = element-&gt;<a class="code" href="../../d6/d8d/classCChemEqElement.html#a586190ed364927fbafd658b02730e4a7">getMetabolite</a>();</div>
<div class="line"><a name="l01500"></a><span class="lineno"> 1500</span>&#160;      assert(pMetabolite);</div>
<div class="line"><a name="l01501"></a><span class="lineno"> 1501</span>&#160;      SpeciesReference* sRef = NULL;</div>
<div class="line"><a name="l01502"></a><span class="lineno"> 1502</span>&#160;</div>
<div class="line"><a name="l01503"></a><span class="lineno"> 1503</span>&#160;      <span class="keywordflow">if</span> (!(sRef = pSBMLReaction-&gt;getReactant(pMetabolite-&gt;<a class="code" href="../../d0/da0/classCModelEntity.html#a5c8d403c6027f59d1cc3e1ccc2d9efac">getSBMLId</a>())))</div>
<div class="line"><a name="l01504"></a><span class="lineno"> 1504</span>&#160;        {</div>
<div class="line"><a name="l01505"></a><span class="lineno"> 1505</span>&#160;          sRef = pSBMLReaction-&gt;createReactant();</div>
<div class="line"><a name="l01506"></a><span class="lineno"> 1506</span>&#160;          sRef-&gt;setSpecies(pMetabolite-&gt;<a class="code" href="../../d0/da0/classCModelEntity.html#a5c8d403c6027f59d1cc3e1ccc2d9efac">getSBMLId</a>().c_str());</div>
<div class="line"><a name="l01507"></a><span class="lineno"> 1507</span>&#160;        }</div>
<div class="line"><a name="l01508"></a><span class="lineno"> 1508</span>&#160;</div>
<div class="line"><a name="l01509"></a><span class="lineno"> 1509</span>&#160;      <a class="code" href="../../d5/d2f/CSBMLExporter_8cpp.html#a6c9f65aeea9a7ce079171b3a9a5b2673">INIT_DEFAULTS</a>((*sRef));</div>
<div class="line"><a name="l01510"></a><span class="lineno"> 1510</span>&#160;<span class="preprocessor">#if LIBSBML_VERSION &gt; 40100</span></div>
<div class="line"><a name="l01511"></a><span class="lineno"> 1511</span>&#160;<span class="preprocessor"></span></div>
<div class="line"><a name="l01512"></a><span class="lineno"> 1512</span>&#160;      <span class="keywordflow">if</span> (this-&gt;<a class="code" href="../../df/d80/classCSBMLExporter.html#aba959efc152f63f1709d5de60e97a651">mSBMLLevel</a> &gt; 2)</div>
<div class="line"><a name="l01513"></a><span class="lineno"> 1513</span>&#160;        sRef-&gt;setConstant(<span class="keyword">true</span>);</div>
<div class="line"><a name="l01514"></a><span class="lineno"> 1514</span>&#160;</div>
<div class="line"><a name="l01515"></a><span class="lineno"> 1515</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l01516"></a><span class="lineno"> 1516</span>&#160;<span class="preprocessor"></span>      sRef-&gt;setStoichiometry(element-&gt;<a class="code" href="../../d6/d8d/classCChemEqElement.html#a464fe74231e8ab6769463226ef9e4c5f">getMultiplicity</a>());</div>
<div class="line"><a name="l01517"></a><span class="lineno"> 1517</span>&#160;      sRef-&gt;setDenominator(1);</div>
<div class="line"><a name="l01518"></a><span class="lineno"> 1518</span>&#160;      usedReferences.insert(sRef-&gt;getSpecies());</div>
<div class="line"><a name="l01519"></a><span class="lineno"> 1519</span>&#160;    }</div>
<div class="line"><a name="l01520"></a><span class="lineno"> 1520</span>&#160;</div>
<div class="line"><a name="l01521"></a><span class="lineno"> 1521</span>&#160;  ListOf* l = pSBMLReaction-&gt;getListOfReactants();</div>
<div class="line"><a name="l01522"></a><span class="lineno"> 1522</span>&#160;</div>
<div class="line"><a name="l01523"></a><span class="lineno"> 1523</span>&#160;  <span class="keywordflow">for</span> (counter = l-&gt;size(); counter &gt; 0; --counter)</div>
<div class="line"><a name="l01524"></a><span class="lineno"> 1524</span>&#160;    {</div>
<div class="line"><a name="l01525"></a><span class="lineno"> 1525</span>&#160;      <span class="keywordflow">if</span> (usedReferences.find(static_cast&lt;SimpleSpeciesReference*&gt;(l-&gt;get(counter - 1))-&gt;getSpecies()) == usedReferences.end())</div>
<div class="line"><a name="l01526"></a><span class="lineno"> 1526</span>&#160;        {</div>
<div class="line"><a name="l01527"></a><span class="lineno"> 1527</span>&#160;          l-&gt;remove(counter - 1);</div>
<div class="line"><a name="l01528"></a><span class="lineno"> 1528</span>&#160;        }</div>
<div class="line"><a name="l01529"></a><span class="lineno"> 1529</span>&#160;    }</div>
<div class="line"><a name="l01530"></a><span class="lineno"> 1530</span>&#160;</div>
<div class="line"><a name="l01531"></a><span class="lineno"> 1531</span>&#160;  <span class="comment">/* Add all products */</span></div>
<div class="line"><a name="l01532"></a><span class="lineno"> 1532</span>&#160;  usedReferences.clear();</div>
<div class="line"><a name="l01533"></a><span class="lineno"> 1533</span>&#160;</div>
<div class="line"><a name="l01534"></a><span class="lineno"> 1534</span>&#160;  <span class="keywordflow">for</span> (counter = 0; counter &lt; chemicalEquation.<a class="code" href="../../d1/dc0/classCChemEq.html#ac7001192479e074d3696734187ec50d8">getProducts</a>().<a class="code" href="../../d8/d2c/classCCopasiVector.html#ab7e0e37022783eddfe85abf9339b05c0">size</a>(); counter++)</div>
<div class="line"><a name="l01535"></a><span class="lineno"> 1535</span>&#160;    {</div>
<div class="line"><a name="l01536"></a><span class="lineno"> 1536</span>&#160;      <span class="keyword">const</span> <a class="code" href="../../d6/d8d/classCChemEqElement.html">CChemEqElement</a>* element = chemicalEquation.<a class="code" href="../../d1/dc0/classCChemEq.html#ac7001192479e074d3696734187ec50d8">getProducts</a>()[counter];</div>
<div class="line"><a name="l01537"></a><span class="lineno"> 1537</span>&#160;      <span class="keyword">const</span> <a class="code" href="../../dc/d44/classCMetab.html">CMetab</a>* pMetabolite = element-&gt;<a class="code" href="../../d6/d8d/classCChemEqElement.html#a586190ed364927fbafd658b02730e4a7">getMetabolite</a>();</div>
<div class="line"><a name="l01538"></a><span class="lineno"> 1538</span>&#160;      assert(pMetabolite);</div>
<div class="line"><a name="l01539"></a><span class="lineno"> 1539</span>&#160;      SpeciesReference* sRef = NULL;</div>
<div class="line"><a name="l01540"></a><span class="lineno"> 1540</span>&#160;</div>
<div class="line"><a name="l01541"></a><span class="lineno"> 1541</span>&#160;      <span class="keywordflow">if</span> (!(sRef = pSBMLReaction-&gt;getProduct(pMetabolite-&gt;<a class="code" href="../../d0/da0/classCModelEntity.html#a5c8d403c6027f59d1cc3e1ccc2d9efac">getSBMLId</a>())))</div>
<div class="line"><a name="l01542"></a><span class="lineno"> 1542</span>&#160;        {</div>
<div class="line"><a name="l01543"></a><span class="lineno"> 1543</span>&#160;          sRef = pSBMLReaction-&gt;createProduct();</div>
<div class="line"><a name="l01544"></a><span class="lineno"> 1544</span>&#160;          sRef-&gt;setSpecies(pMetabolite-&gt;<a class="code" href="../../d0/da0/classCModelEntity.html#a5c8d403c6027f59d1cc3e1ccc2d9efac">getSBMLId</a>().c_str());</div>
<div class="line"><a name="l01545"></a><span class="lineno"> 1545</span>&#160;        }</div>
<div class="line"><a name="l01546"></a><span class="lineno"> 1546</span>&#160;</div>
<div class="line"><a name="l01547"></a><span class="lineno"> 1547</span>&#160;      <a class="code" href="../../d5/d2f/CSBMLExporter_8cpp.html#a6c9f65aeea9a7ce079171b3a9a5b2673">INIT_DEFAULTS</a>((*sRef));</div>
<div class="line"><a name="l01548"></a><span class="lineno"> 1548</span>&#160;<span class="preprocessor">#if LIBSBML_VERSION &gt; 40100</span></div>
<div class="line"><a name="l01549"></a><span class="lineno"> 1549</span>&#160;<span class="preprocessor"></span></div>
<div class="line"><a name="l01550"></a><span class="lineno"> 1550</span>&#160;      <span class="keywordflow">if</span> (this-&gt;<a class="code" href="../../df/d80/classCSBMLExporter.html#aba959efc152f63f1709d5de60e97a651">mSBMLLevel</a> &gt; 2)</div>
<div class="line"><a name="l01551"></a><span class="lineno"> 1551</span>&#160;        sRef-&gt;setConstant(<span class="keyword">true</span>);</div>
<div class="line"><a name="l01552"></a><span class="lineno"> 1552</span>&#160;</div>
<div class="line"><a name="l01553"></a><span class="lineno"> 1553</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l01554"></a><span class="lineno"> 1554</span>&#160;<span class="preprocessor"></span></div>
<div class="line"><a name="l01555"></a><span class="lineno"> 1555</span>&#160;      sRef-&gt;setStoichiometry(element-&gt;<a class="code" href="../../d6/d8d/classCChemEqElement.html#a464fe74231e8ab6769463226ef9e4c5f">getMultiplicity</a>());</div>
<div class="line"><a name="l01556"></a><span class="lineno"> 1556</span>&#160;      sRef-&gt;setDenominator(1);</div>
<div class="line"><a name="l01557"></a><span class="lineno"> 1557</span>&#160;      usedReferences.insert(sRef-&gt;getSpecies());</div>
<div class="line"><a name="l01558"></a><span class="lineno"> 1558</span>&#160;    }</div>
<div class="line"><a name="l01559"></a><span class="lineno"> 1559</span>&#160;</div>
<div class="line"><a name="l01560"></a><span class="lineno"> 1560</span>&#160;  l = pSBMLReaction-&gt;getListOfProducts();</div>
<div class="line"><a name="l01561"></a><span class="lineno"> 1561</span>&#160;</div>
<div class="line"><a name="l01562"></a><span class="lineno"> 1562</span>&#160;  <span class="keywordflow">for</span> (counter = l-&gt;size(); counter &gt; 0; --counter)</div>
<div class="line"><a name="l01563"></a><span class="lineno"> 1563</span>&#160;    {</div>
<div class="line"><a name="l01564"></a><span class="lineno"> 1564</span>&#160;      <span class="keywordflow">if</span> (usedReferences.find(static_cast&lt;SimpleSpeciesReference*&gt;(l-&gt;get(counter - 1))-&gt;getSpecies()) == usedReferences.end())</div>
<div class="line"><a name="l01565"></a><span class="lineno"> 1565</span>&#160;        {</div>
<div class="line"><a name="l01566"></a><span class="lineno"> 1566</span>&#160;          l-&gt;remove(counter - 1);</div>
<div class="line"><a name="l01567"></a><span class="lineno"> 1567</span>&#160;        }</div>
<div class="line"><a name="l01568"></a><span class="lineno"> 1568</span>&#160;    }</div>
<div class="line"><a name="l01569"></a><span class="lineno"> 1569</span>&#160;</div>
<div class="line"><a name="l01570"></a><span class="lineno"> 1570</span>&#160;  <span class="comment">/* Add all modifiers */</span></div>
<div class="line"><a name="l01571"></a><span class="lineno"> 1571</span>&#160;  usedReferences.clear();</div>
<div class="line"><a name="l01572"></a><span class="lineno"> 1572</span>&#160;</div>
<div class="line"><a name="l01573"></a><span class="lineno"> 1573</span>&#160;  <span class="keywordflow">for</span> (counter = 0; counter &lt; chemicalEquation.<a class="code" href="../../d1/dc0/classCChemEq.html#ab8b0078259e19d69c3e62b890197d601">getModifiers</a>().<a class="code" href="../../d8/d2c/classCCopasiVector.html#ab7e0e37022783eddfe85abf9339b05c0">size</a>(); counter++)</div>
<div class="line"><a name="l01574"></a><span class="lineno"> 1574</span>&#160;    {</div>
<div class="line"><a name="l01575"></a><span class="lineno"> 1575</span>&#160;      <span class="keyword">const</span> <a class="code" href="../../d6/d8d/classCChemEqElement.html">CChemEqElement</a>* element = chemicalEquation.<a class="code" href="../../d1/dc0/classCChemEq.html#ab8b0078259e19d69c3e62b890197d601">getModifiers</a>()[counter];</div>
<div class="line"><a name="l01576"></a><span class="lineno"> 1576</span>&#160;      <span class="keyword">const</span> <a class="code" href="../../dc/d44/classCMetab.html">CMetab</a>* pMetabolite = element-&gt;<a class="code" href="../../d6/d8d/classCChemEqElement.html#a586190ed364927fbafd658b02730e4a7">getMetabolite</a>(); assert(pMetabolite);</div>
<div class="line"><a name="l01577"></a><span class="lineno"> 1577</span>&#160;      ModifierSpeciesReference* sRef = NULL;</div>
<div class="line"><a name="l01578"></a><span class="lineno"> 1578</span>&#160;</div>
<div class="line"><a name="l01579"></a><span class="lineno"> 1579</span>&#160;      <span class="keywordflow">if</span> (!(sRef = pSBMLReaction-&gt;getModifier(pMetabolite-&gt;<a class="code" href="../../d0/da0/classCModelEntity.html#a5c8d403c6027f59d1cc3e1ccc2d9efac">getSBMLId</a>())))</div>
<div class="line"><a name="l01580"></a><span class="lineno"> 1580</span>&#160;        {</div>
<div class="line"><a name="l01581"></a><span class="lineno"> 1581</span>&#160;          <span class="keywordflow">if</span> (pSBMLReaction-&gt;getLevel() &gt; 1)</div>
<div class="line"><a name="l01582"></a><span class="lineno"> 1582</span>&#160;            {</div>
<div class="line"><a name="l01583"></a><span class="lineno"> 1583</span>&#160;              sRef = pSBMLReaction-&gt;createModifier();</div>
<div class="line"><a name="l01584"></a><span class="lineno"> 1584</span>&#160;              assert(sRef != NULL);</div>
<div class="line"><a name="l01585"></a><span class="lineno"> 1585</span>&#160;              sRef-&gt;setSpecies(pMetabolite-&gt;<a class="code" href="../../d0/da0/classCModelEntity.html#a5c8d403c6027f59d1cc3e1ccc2d9efac">getSBMLId</a>().c_str());</div>
<div class="line"><a name="l01586"></a><span class="lineno"> 1586</span>&#160;            }</div>
<div class="line"><a name="l01587"></a><span class="lineno"> 1587</span>&#160;        }</div>
<div class="line"><a name="l01588"></a><span class="lineno"> 1588</span>&#160;</div>
<div class="line"><a name="l01589"></a><span class="lineno"> 1589</span>&#160;      <span class="keywordflow">if</span> (pSBMLReaction-&gt;getLevel() &gt; 1)</div>
<div class="line"><a name="l01590"></a><span class="lineno"> 1590</span>&#160;        {</div>
<div class="line"><a name="l01591"></a><span class="lineno"> 1591</span>&#160;          usedReferences.insert(sRef-&gt;getSpecies());</div>
<div class="line"><a name="l01592"></a><span class="lineno"> 1592</span>&#160;        }</div>
<div class="line"><a name="l01593"></a><span class="lineno"> 1593</span>&#160;    }</div>
<div class="line"><a name="l01594"></a><span class="lineno"> 1594</span>&#160;</div>
<div class="line"><a name="l01595"></a><span class="lineno"> 1595</span>&#160;  l = pSBMLReaction-&gt;getListOfModifiers();</div>
<div class="line"><a name="l01596"></a><span class="lineno"> 1596</span>&#160;</div>
<div class="line"><a name="l01597"></a><span class="lineno"> 1597</span>&#160;  <span class="keywordflow">for</span> (counter = l-&gt;size(); counter &gt; 0; --counter)</div>
<div class="line"><a name="l01598"></a><span class="lineno"> 1598</span>&#160;    {</div>
<div class="line"><a name="l01599"></a><span class="lineno"> 1599</span>&#160;      <span class="keywordflow">if</span> (usedReferences.find(static_cast&lt;SimpleSpeciesReference*&gt;(l-&gt;get(counter - 1))-&gt;getSpecies()) == usedReferences.end())</div>
<div class="line"><a name="l01600"></a><span class="lineno"> 1600</span>&#160;        {</div>
<div class="line"><a name="l01601"></a><span class="lineno"> 1601</span>&#160;          l-&gt;remove(counter - 1);</div>
<div class="line"><a name="l01602"></a><span class="lineno"> 1602</span>&#160;        }</div>
<div class="line"><a name="l01603"></a><span class="lineno"> 1603</span>&#160;    }</div>
<div class="line"><a name="l01604"></a><span class="lineno"> 1604</span>&#160;</div>
<div class="line"><a name="l01605"></a><span class="lineno"> 1605</span>&#160;  <span class="comment">/* create the kinetic law */</span></div>
<div class="line"><a name="l01606"></a><span class="lineno"> 1606</span>&#160;</div>
<div class="line"><a name="l01607"></a><span class="lineno"> 1607</span>&#160;  <span class="comment">/* if there is one on COPASI */</span></div>
<div class="line"><a name="l01608"></a><span class="lineno"> 1608</span>&#160;  <span class="keywordflow">if</span> ((reaction.<a class="code" href="../../d4/dcf/classCReaction.html#a5028bbc1b79e8a72071c7222cfeef9a2">getFunction</a>()) != <a class="code" href="../../d3/db1/classCCopasiRootContainer.html#af9fdbdacf5f4e4ff2b71a345ce6ccfc7">CCopasiRootContainer::getUndefinedFunction</a>())</div>
<div class="line"><a name="l01609"></a><span class="lineno"> 1609</span>&#160;    {</div>
<div class="line"><a name="l01610"></a><span class="lineno"> 1610</span>&#160;      <span class="comment">// make sure the creaated kinetic law has the same level and version as the reaction</span></div>
<div class="line"><a name="l01611"></a><span class="lineno"> 1611</span>&#160;      <span class="comment">// we intend to add it to, otherwise the setKineticLaw function of libsbml 4 will fail</span></div>
<div class="line"><a name="l01612"></a><span class="lineno"> 1612</span>&#160;      <span class="comment">// to set the kinetic law</span></div>
<div class="line"><a name="l01613"></a><span class="lineno"> 1613</span>&#160;      KineticLaw* pKineticLaw = this-&gt;<a class="code" href="../../df/d80/classCSBMLExporter.html#a1ac2102cd8012a24253ac6edd0379198">createKineticLaw</a>(reaction, dataModel, pSBMLReaction-&gt;getLevel(), pSBMLReaction-&gt;getVersion());</div>
<div class="line"><a name="l01614"></a><span class="lineno"> 1614</span>&#160;</div>
<div class="line"><a name="l01615"></a><span class="lineno"> 1615</span>&#160;      <span class="keywordflow">if</span> (pKineticLaw != NULL)</div>
<div class="line"><a name="l01616"></a><span class="lineno"> 1616</span>&#160;        {</div>
<div class="line"><a name="l01617"></a><span class="lineno"> 1617</span>&#160;          pSBMLReaction-&gt;setKineticLaw(pKineticLaw);</div>
<div class="line"><a name="l01618"></a><span class="lineno"> 1618</span>&#160;          <span class="keyword">delete</span> pKineticLaw;</div>
<div class="line"><a name="l01619"></a><span class="lineno"> 1619</span>&#160;        }</div>
<div class="line"><a name="l01620"></a><span class="lineno"> 1620</span>&#160;      <span class="keywordflow">else</span></div>
<div class="line"><a name="l01621"></a><span class="lineno"> 1621</span>&#160;        {</div>
<div class="line"><a name="l01622"></a><span class="lineno"> 1622</span>&#160;          <span class="comment">// create an error message and abort</span></div>
<div class="line"><a name="l01623"></a><span class="lineno"> 1623</span>&#160;          <span class="comment">// maybe only abort if incomplete export is not wanted</span></div>
<div class="line"><a name="l01624"></a><span class="lineno"> 1624</span>&#160;          <span class="keywordflow">if</span> (this-&gt;<a class="code" href="../../df/d80/classCSBMLExporter.html#ac743dca5c88be1b916af33f454d1a64a">mIncompleteExport</a> != <span class="keyword">true</span>)</div>
<div class="line"><a name="l01625"></a><span class="lineno"> 1625</span>&#160;            {</div>
<div class="line"><a name="l01626"></a><span class="lineno"> 1626</span>&#160;              <a class="code" href="../../d2/df0/classCCopasiMessage.html">CCopasiMessage</a>(<a class="code" href="../../d2/df0/classCCopasiMessage.html#a2ea1ed32494ff5c8d84353efcec7a5e4a568f885d73f0ea36bedfe92f6e533071">CCopasiMessage::EXCEPTION</a>, <a class="code" href="../../d9/d2d/CCopasiMessage_8h.html#a7f5ce9c8d3812b45cb6f33595fba5789">MCSBML</a> + 8, reaction.<a class="code" href="../../d4/da8/classCCopasiObject.html#a879d6756b51f6b58d307940e1343bd10">getObjectName</a>().c_str());</div>
<div class="line"><a name="l01627"></a><span class="lineno"> 1627</span>&#160;            }</div>
<div class="line"><a name="l01628"></a><span class="lineno"> 1628</span>&#160;          <span class="keywordflow">else</span></div>
<div class="line"><a name="l01629"></a><span class="lineno"> 1629</span>&#160;            {</div>
<div class="line"><a name="l01630"></a><span class="lineno"> 1630</span>&#160;              pSBMLReaction-&gt;unsetKineticLaw();</div>
<div class="line"><a name="l01631"></a><span class="lineno"> 1631</span>&#160;            }</div>
<div class="line"><a name="l01632"></a><span class="lineno"> 1632</span>&#160;        }</div>
<div class="line"><a name="l01633"></a><span class="lineno"> 1633</span>&#160;    }</div>
<div class="line"><a name="l01634"></a><span class="lineno"> 1634</span>&#160;  <span class="keywordflow">else</span></div>
<div class="line"><a name="l01635"></a><span class="lineno"> 1635</span>&#160;    {</div>
<div class="line"><a name="l01636"></a><span class="lineno"> 1636</span>&#160;      pSBMLReaction-&gt;unsetKineticLaw();</div>
<div class="line"><a name="l01637"></a><span class="lineno"> 1637</span>&#160;    }</div>
<div class="line"><a name="l01638"></a><span class="lineno"> 1638</span>&#160;</div>
<div class="line"><a name="l01639"></a><span class="lineno"> 1639</span>&#160;  <span class="keywordflow">if</span> (pSBMLReaction != NULL)</div>
<div class="line"><a name="l01640"></a><span class="lineno"> 1640</span>&#160;    {</div>
<div class="line"><a name="l01641"></a><span class="lineno"> 1641</span>&#160;      <a class="code" href="../../df/d80/classCSBMLExporter.html#a166bed353f341e4e617bff6f40ff12c4">CSBMLExporter::setSBMLNotes</a>(pSBMLReaction, &amp;reaction);</div>
<div class="line"><a name="l01642"></a><span class="lineno"> 1642</span>&#160;    }</div>
<div class="line"><a name="l01643"></a><span class="lineno"> 1643</span>&#160;</div>
<div class="line"><a name="l01644"></a><span class="lineno"> 1644</span>&#160;  <a class="code" href="../../df/d80/classCSBMLExporter.html#aba8216eaf4931e0adf484832882fbe67">CSBMLExporter::updateMIRIAMAnnotation</a>(&amp;reaction, pSBMLReaction, this-&gt;<a class="code" href="../../df/d80/classCSBMLExporter.html#aa2e61de10e2d26eee4c7310beb099b13">mMetaIdMap</a>);</div>
<div class="line"><a name="l01645"></a><span class="lineno"> 1645</span>&#160;}</div>
<div class="ttc" id="classCChemEqElement_html"><div class="ttname"><a href="../../d6/d8d/classCChemEqElement.html">CChemEqElement</a></div><div class="ttdef"><b>Definition:</b> <a href="../../db/d8d/CChemEqElement_8h_source.html#l00041">CChemEqElement.h:41</a></div></div>
<div class="ttc" id="classCSBMLExporter_html_aba959efc152f63f1709d5de60e97a651"><div class="ttname"><a href="../../df/d80/classCSBMLExporter.html#aba959efc152f63f1709d5de60e97a651">CSBMLExporter::mSBMLLevel</a></div><div class="ttdeci">unsigned int mSBMLLevel</div><div class="ttdef"><b>Definition:</b> <a href="../../da/d7f/CSBMLExporter_8h_source.html#l00056">CSBMLExporter.h:56</a></div></div>
<div class="ttc" id="classCCopasiRootContainer_html_af9fdbdacf5f4e4ff2b71a345ce6ccfc7"><div class="ttname"><a href="../../d3/db1/classCCopasiRootContainer.html#af9fdbdacf5f4e4ff2b71a345ce6ccfc7">CCopasiRootContainer::getUndefinedFunction</a></div><div class="ttdeci">static CFunction * getUndefinedFunction()</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/d4b/CCopasiRootContainer_8cpp_source.html#l00157">CCopasiRootContainer.cpp:157</a></div></div>
<div class="ttc" id="classCSBMLExporter_html_a1541a69b36b8e864883e49f0de244f81"><div class="ttname"><a href="../../df/d80/classCSBMLExporter.html#a1541a69b36b8e864883e49f0de244f81">CSBMLExporter::mpSBMLDocument</a></div><div class="ttdeci">SBMLDocument * mpSBMLDocument</div><div class="ttdef"><b>Definition:</b> <a href="../../da/d7f/CSBMLExporter_8h_source.html#l00055">CSBMLExporter.h:55</a></div></div>
<div class="ttc" id="classCModelEntity_html_a5c8d403c6027f59d1cc3e1ccc2d9efac"><div class="ttname"><a href="../../d0/da0/classCModelEntity.html#a5c8d403c6027f59d1cc3e1ccc2d9efac">CModelEntity::getSBMLId</a></div><div class="ttdeci">const std::string &amp; getSBMLId() const </div><div class="ttdef"><b>Definition:</b> <a href="../../d8/da3/CModelValue_8cpp_source.html#l00637">CModelValue.cpp:637</a></div></div>
<div class="ttc" id="classCCopasiObject_html_a879d6756b51f6b58d307940e1343bd10"><div class="ttname"><a href="../../d4/da8/classCCopasiObject.html#a879d6756b51f6b58d307940e1343bd10">CCopasiObject::getObjectName</a></div><div class="ttdeci">const std::string &amp; getObjectName() const </div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d22/CCopasiObject_8cpp_source.html#l00258">CCopasiObject.cpp:258</a></div></div>
<div class="ttc" id="classCCopasiVector_html_ab7e0e37022783eddfe85abf9339b05c0"><div class="ttname"><a href="../../d8/d2c/classCCopasiVector.html#ab7e0e37022783eddfe85abf9339b05c0">CCopasiVector::size</a></div><div class="ttdeci">virtual size_t size() const </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d51/CCopasiVector_8h_source.html#l00386">CCopasiVector.h:386</a></div></div>
<div class="ttc" id="classCChemEqElement_html_a586190ed364927fbafd658b02730e4a7"><div class="ttname"><a href="../../d6/d8d/classCChemEqElement.html#a586190ed364927fbafd658b02730e4a7">CChemEqElement::getMetabolite</a></div><div class="ttdeci">const CMetab * getMetabolite() const </div><div class="ttdef"><b>Definition:</b> <a href="../../de/da7/CChemEqElement_8cpp_source.html#l00086">CChemEqElement.cpp:86</a></div></div>
<div class="ttc" id="classCChemEq_html"><div class="ttname"><a href="../../d1/dc0/classCChemEq.html">CChemEq</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d8/dff/CChemEq_8h_source.html#l00033">CChemEq.h:33</a></div></div>
<div class="ttc" id="classCSBMLExporter_html_ac743dca5c88be1b916af33f454d1a64a"><div class="ttname"><a href="../../df/d80/classCSBMLExporter.html#ac743dca5c88be1b916af33f454d1a64a">CSBMLExporter::mIncompleteExport</a></div><div class="ttdeci">bool mIncompleteExport</div><div class="ttdef"><b>Definition:</b> <a href="../../da/d7f/CSBMLExporter_8h_source.html#l00066">CSBMLExporter.h:66</a></div></div>
<div class="ttc" id="classCMetab_html"><div class="ttname"><a href="../../dc/d44/classCMetab.html">CMetab</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d3/df5/CMetab_8h_source.html#l00178">CMetab.h:178</a></div></div>
<div class="ttc" id="classCSBMLExporter_html_a60ab409a11b90a1ca965d7702828af74"><div class="ttname"><a href="../../df/d80/classCSBMLExporter.html#a60ab409a11b90a1ca965d7702828af74">CSBMLExporter::mIdMap</a></div><div class="ttdeci">std::map&lt; std::string, const SBase * &gt; mIdMap</div><div class="ttdef"><b>Definition:</b> <a href="../../da/d7f/CSBMLExporter_8h_source.html#l00064">CSBMLExporter.h:64</a></div></div>
<div class="ttc" id="classCSBMLExporter_html_a166bed353f341e4e617bff6f40ff12c4"><div class="ttname"><a href="../../df/d80/classCSBMLExporter.html#a166bed353f341e4e617bff6f40ff12c4">CSBMLExporter::setSBMLNotes</a></div><div class="ttdeci">static bool setSBMLNotes(SBase *pSBase, const CAnnotation *pAnno)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d2f/CSBMLExporter_8cpp_source.html#l07697">CSBMLExporter.cpp:7697</a></div></div>
<div class="ttc" id="classCSBMLExporter_html_ab4d7f9c3d22b8225d1a4d9e3a98b855e"><div class="ttname"><a href="../../df/d80/classCSBMLExporter.html#ab4d7f9c3d22b8225d1a4d9e3a98b855e">CSBMLExporter::createUniqueId</a></div><div class="ttdeci">static const std::string createUniqueId(const std::map&lt; std::string, const SBase * &gt; &amp;idMap, const std::string &amp;prefix, bool addIndexForFirst, const std::string &amp;separator=&quot;_&quot;)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d2f/CSBMLExporter_8cpp_source.html#l02252">CSBMLExporter.cpp:2252</a></div></div>
<div class="ttc" id="classCReaction_html_aa75b9554a66b91f4e15edc0b0240db62"><div class="ttname"><a href="../../d4/dcf/classCReaction.html#aa75b9554a66b91f4e15edc0b0240db62">CReaction::getSBMLId</a></div><div class="ttdeci">const std::string &amp; getSBMLId() const </div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d77/CReaction_8cpp_source.html#l01654">CReaction.cpp:1654</a></div></div>
<div class="ttc" id="classCCopasiMessage_html_a2ea1ed32494ff5c8d84353efcec7a5e4a568f885d73f0ea36bedfe92f6e533071"><div class="ttname"><a href="../../d2/df0/classCCopasiMessage.html#a2ea1ed32494ff5c8d84353efcec7a5e4a568f885d73f0ea36bedfe92f6e533071">CCopasiMessage::EXCEPTION</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d2d/CCopasiMessage_8h_source.html#l00093">CCopasiMessage.h:93</a></div></div>
<div class="ttc" id="classCChemEq_html_ac7001192479e074d3696734187ec50d8"><div class="ttname"><a href="../../d1/dc0/classCChemEq.html#ac7001192479e074d3696734187ec50d8">CChemEq::getProducts</a></div><div class="ttdeci">const CCopasiVector&lt; CChemEqElement &gt; &amp; getProducts() const </div><div class="ttdef"><b>Definition:</b> <a href="../../de/d08/CChemEq_8cpp_source.html#l00063">CChemEq.cpp:63</a></div></div>
<div class="ttc" id="classCReaction_html_a5028bbc1b79e8a72071c7222cfeef9a2"><div class="ttname"><a href="../../d4/dcf/classCReaction.html#a5028bbc1b79e8a72071c7222cfeef9a2">CReaction::getFunction</a></div><div class="ttdeci">const CFunction * getFunction() const </div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d77/CReaction_8cpp_source.html#l00252">CReaction.cpp:252</a></div></div>
<div class="ttc" id="CCopasiMessage_8h_html_a7f5ce9c8d3812b45cb6f33595fba5789"><div class="ttname"><a href="../../d9/d2d/CCopasiMessage_8h.html#a7f5ce9c8d3812b45cb6f33595fba5789">MCSBML</a></div><div class="ttdeci">#define MCSBML</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d2d/CCopasiMessage_8h_source.html#l00046">CCopasiMessage.h:46</a></div></div>
<div class="ttc" id="classCReaction_html_a61ef1f775c492a0be897285e40fe0e0f"><div class="ttname"><a href="../../d4/dcf/classCReaction.html#a61ef1f775c492a0be897285e40fe0e0f">CReaction::setSBMLId</a></div><div class="ttdeci">void setSBMLId(const std::string &amp;id)</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d77/CReaction_8cpp_source.html#l01649">CReaction.cpp:1649</a></div></div>
<div class="ttc" id="classCChemEqElement_html_a464fe74231e8ab6769463226ef9e4c5f"><div class="ttname"><a href="../../d6/d8d/classCChemEqElement.html#a464fe74231e8ab6769463226ef9e4c5f">CChemEqElement::getMultiplicity</a></div><div class="ttdeci">const C_FLOAT64 &amp; getMultiplicity() const </div><div class="ttdef"><b>Definition:</b> <a href="../../de/da7/CChemEqElement_8cpp_source.html#l00095">CChemEqElement.cpp:95</a></div></div>
<div class="ttc" id="classCChemEq_html_abbcd10e89a632f5a7c225fee6975c6d9"><div class="ttname"><a href="../../d1/dc0/classCChemEq.html#abbcd10e89a632f5a7c225fee6975c6d9">CChemEq::getSubstrates</a></div><div class="ttdeci">const CCopasiVector&lt; CChemEqElement &gt; &amp; getSubstrates() const </div><div class="ttdef"><b>Definition:</b> <a href="../../de/d08/CChemEq_8cpp_source.html#l00060">CChemEq.cpp:60</a></div></div>
<div class="ttc" id="classCReaction_html_abdbb7b72fec3ce08e729bbe171c9dc53"><div class="ttname"><a href="../../d4/dcf/classCReaction.html#abdbb7b72fec3ce08e729bbe171c9dc53">CReaction::isReversible</a></div><div class="ttdeci">bool isReversible() const </div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d77/CReaction_8cpp_source.html#l00229">CReaction.cpp:229</a></div></div>
<div class="ttc" id="classCSBMLExporter_html_aa2e61de10e2d26eee4c7310beb099b13"><div class="ttname"><a href="../../df/d80/classCSBMLExporter.html#aa2e61de10e2d26eee4c7310beb099b13">CSBMLExporter::mMetaIdMap</a></div><div class="ttdeci">std::map&lt; std::string, const SBase * &gt; mMetaIdMap</div><div class="ttdef"><b>Definition:</b> <a href="../../da/d7f/CSBMLExporter_8h_source.html#l00070">CSBMLExporter.h:70</a></div></div>
<div class="ttc" id="classCSBMLExporter_html_aeb19f9866a1735848770125dad2aebad"><div class="ttname"><a href="../../df/d80/classCSBMLExporter.html#aeb19f9866a1735848770125dad2aebad">CSBMLExporter::mCOPASI2SBMLMap</a></div><div class="ttdeci">std::map&lt; const CCopasiObject *, SBase * &gt; mCOPASI2SBMLMap</div><div class="ttdef"><b>Definition:</b> <a href="../../da/d7f/CSBMLExporter_8h_source.html#l00061">CSBMLExporter.h:61</a></div></div>
<div class="ttc" id="classCCopasiMessage_html"><div class="ttname"><a href="../../d2/df0/classCCopasiMessage.html">CCopasiMessage</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d2d/CCopasiMessage_8h_source.html#l00078">CCopasiMessage.h:78</a></div></div>
<div class="ttc" id="classCChemEq_html_ab8b0078259e19d69c3e62b890197d601"><div class="ttname"><a href="../../d1/dc0/classCChemEq.html#ab8b0078259e19d69c3e62b890197d601">CChemEq::getModifiers</a></div><div class="ttdeci">const CCopasiVector&lt; CChemEqElement &gt; &amp; getModifiers() const </div><div class="ttdef"><b>Definition:</b> <a href="../../de/d08/CChemEq_8cpp_source.html#l00066">CChemEq.cpp:66</a></div></div>
<div class="ttc" id="classCSBMLExporter_html_a1ac2102cd8012a24253ac6edd0379198"><div class="ttname"><a href="../../df/d80/classCSBMLExporter.html#a1ac2102cd8012a24253ac6edd0379198">CSBMLExporter::createKineticLaw</a></div><div class="ttdeci">KineticLaw * createKineticLaw(CReaction &amp;reaction, CCopasiDataModel &amp;dataModel, unsigned int level, unsigned int version)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d2f/CSBMLExporter_8cpp_source.html#l04584">CSBMLExporter.cpp:4584</a></div></div>
<div class="ttc" id="classCSBMLExporter_html_aba8216eaf4931e0adf484832882fbe67"><div class="ttname"><a href="../../df/d80/classCSBMLExporter.html#aba8216eaf4931e0adf484832882fbe67">CSBMLExporter::updateMIRIAMAnnotation</a></div><div class="ttdeci">bool updateMIRIAMAnnotation(const CCopasiObject *pCOPASIObject, SBase *pSBMLObject, std::map&lt; std::string, const SBase * &gt; &amp;metaIds)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d2f/CSBMLExporter_8cpp_source.html#l06361">CSBMLExporter.cpp:6361</a></div></div>
<div class="ttc" id="CSBMLExporter_8cpp_html_a6c9f65aeea9a7ce079171b3a9a5b2673"><div class="ttname"><a href="../../d5/d2f/CSBMLExporter_8cpp.html#a6c9f65aeea9a7ce079171b3a9a5b2673">INIT_DEFAULTS</a></div><div class="ttdeci">#define INIT_DEFAULTS(element)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d2f/CSBMLExporter_8cpp_source.html#l00048">CSBMLExporter.cpp:48</a></div></div>
<div class="ttc" id="classCSBMLExporter_html_ae5ae5ec70c912323abe9c31b58de2652"><div class="ttname"><a href="../../df/d80/classCSBMLExporter.html#ae5ae5ec70c912323abe9c31b58de2652">CSBMLExporter::mHandledSBMLObjects</a></div><div class="ttdeci">std::set&lt; SBase * &gt; mHandledSBMLObjects</div><div class="ttdef"><b>Definition:</b> <a href="../../da/d7f/CSBMLExporter_8h_source.html#l00062">CSBMLExporter.h:62</a></div></div>
<div class="ttc" id="classCReaction_html_ade6a66098c2f04f6e91d916029fe23e2"><div class="ttname"><a href="../../d4/dcf/classCReaction.html#ade6a66098c2f04f6e91d916029fe23e2">CReaction::getChemEq</a></div><div class="ttdeci">const CChemEq &amp; getChemEq() const </div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d77/CReaction_8cpp_source.html#l00223">CReaction.cpp:223</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="ab4b8c42274fd0afd191d498efe36146a"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d3/d05/CChemEqParser__yacc_8cpp.html#aa76fec002b4ba91adc88f68d56ba730c">void</a> CSBMLExporter::createReactions </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d4/d18/classCCopasiDataModel.html">CCopasiDataModel</a> &amp;&#160;</td>
          <td class="paramname"><em>dataModel</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Creates the reactions for the model. </p>

<p>Definition at line <a class="el" href="../../d5/d2f/CSBMLExporter_8cpp_source.html#l01417">1417</a> of file <a class="el" href="../../d5/d2f/CSBMLExporter_8cpp_source.html">CSBMLExporter.cpp</a>.</p>

<p>References <a class="el" href="../../d8/d2c/classCCopasiVector.html#acb26711fe72be0d2cb3a37c2fbcc031f">CCopasiVector&lt; T &gt;::begin()</a>, <a class="el" href="../../df/d80/classCSBMLExporter.html#a9a2740279f7cccf5ae7b404b995ec9fa">createReaction()</a>, <a class="el" href="../../d8/d2c/classCCopasiVector.html#a44c97a5f614c885495c437f2a8d20954">CCopasiVector&lt; T &gt;::end()</a>, <a class="el" href="../../d4/d18/classCCopasiDataModel.html#a2e65952e0caf0b2709d381cf949fec69">CCopasiDataModel::getModel()</a>, <a class="el" href="../../d4/d04/classCModel.html#ad9a3dc1905f1f38f689f728b829f285d">CModel::getReactions()</a>, and <a class="el" href="../../df/d80/classCSBMLExporter.html#a1541a69b36b8e864883e49f0de244f81">mpSBMLDocument</a>.</p>

<p>Referenced by <a class="el" href="../../df/d80/classCSBMLExporter.html#a2b680d670c11c7c70a45bc12e236b2e8">createSBMLDocument()</a>.</p>
<div class="fragment"><div class="line"><a name="l01418"></a><span class="lineno"> 1418</span>&#160;{</div>
<div class="line"><a name="l01419"></a><span class="lineno"> 1419</span>&#160;  <span class="comment">// make sure the SBML Document already exists and that it has a Model set</span></div>
<div class="line"><a name="l01420"></a><span class="lineno"> 1420</span>&#160;  <span class="keywordflow">if</span> (dataModel.<a class="code" href="../../d4/d18/classCCopasiDataModel.html#a2e65952e0caf0b2709d381cf949fec69">getModel</a>() == NULL || this-&gt;<a class="code" href="../../df/d80/classCSBMLExporter.html#a1541a69b36b8e864883e49f0de244f81">mpSBMLDocument</a> == NULL || this-&gt;<a class="code" href="../../df/d80/classCSBMLExporter.html#a1541a69b36b8e864883e49f0de244f81">mpSBMLDocument</a>-&gt;getModel() == NULL) <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l01421"></a><span class="lineno"> 1421</span>&#160;</div>
<div class="line"><a name="l01422"></a><span class="lineno"> 1422</span>&#160;  <a class="code" href="../../d9/db9/classCCopasiVectorNS.html">CCopasiVectorNS&lt;CReaction&gt;::const_iterator</a> it = dataModel.<a class="code" href="../../d4/d18/classCCopasiDataModel.html#a2e65952e0caf0b2709d381cf949fec69">getModel</a>()-&gt;<a class="code" href="../../d4/d04/classCModel.html#ad9a3dc1905f1f38f689f728b829f285d">getReactions</a>().<a class="code" href="../../d8/d2c/classCCopasiVector.html#acb26711fe72be0d2cb3a37c2fbcc031f">begin</a>(), endit = dataModel.<a class="code" href="../../d4/d18/classCCopasiDataModel.html#a2e65952e0caf0b2709d381cf949fec69">getModel</a>()-&gt;<a class="code" href="../../d4/d04/classCModel.html#ad9a3dc1905f1f38f689f728b829f285d">getReactions</a>().<a class="code" href="../../d8/d2c/classCCopasiVector.html#a44c97a5f614c885495c437f2a8d20954">end</a>();</div>
<div class="line"><a name="l01423"></a><span class="lineno"> 1423</span>&#160;</div>
<div class="line"><a name="l01424"></a><span class="lineno"> 1424</span>&#160;  <span class="keywordflow">while</span> (it != endit)</div>
<div class="line"><a name="l01425"></a><span class="lineno"> 1425</span>&#160;    {</div>
<div class="line"><a name="l01426"></a><span class="lineno"> 1426</span>&#160;      <a class="code" href="../../df/d80/classCSBMLExporter.html#a9a2740279f7cccf5ae7b404b995ec9fa">createReaction</a>(**it, dataModel);</div>
<div class="line"><a name="l01427"></a><span class="lineno"> 1427</span>&#160;      ++it;</div>
<div class="line"><a name="l01428"></a><span class="lineno"> 1428</span>&#160;    }</div>
<div class="line"><a name="l01429"></a><span class="lineno"> 1429</span>&#160;}</div>
<div class="ttc" id="classCSBMLExporter_html_a9a2740279f7cccf5ae7b404b995ec9fa"><div class="ttname"><a href="../../df/d80/classCSBMLExporter.html#a9a2740279f7cccf5ae7b404b995ec9fa">CSBMLExporter::createReaction</a></div><div class="ttdeci">void createReaction(CReaction &amp;reaction, CCopasiDataModel &amp;dataModel)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d2f/CSBMLExporter_8cpp_source.html#l01434">CSBMLExporter.cpp:1434</a></div></div>
<div class="ttc" id="classCSBMLExporter_html_a1541a69b36b8e864883e49f0de244f81"><div class="ttname"><a href="../../df/d80/classCSBMLExporter.html#a1541a69b36b8e864883e49f0de244f81">CSBMLExporter::mpSBMLDocument</a></div><div class="ttdeci">SBMLDocument * mpSBMLDocument</div><div class="ttdef"><b>Definition:</b> <a href="../../da/d7f/CSBMLExporter_8h_source.html#l00055">CSBMLExporter.h:55</a></div></div>
<div class="ttc" id="classCCopasiDataModel_html_a2e65952e0caf0b2709d381cf949fec69"><div class="ttname"><a href="../../d4/d18/classCCopasiDataModel.html#a2e65952e0caf0b2709d381cf949fec69">CCopasiDataModel::getModel</a></div><div class="ttdeci">CModel * getModel()</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d38/CCopasiDataModel_8cpp_source.html#l01407">CCopasiDataModel.cpp:1407</a></div></div>
<div class="ttc" id="classCCopasiVector_html_acb26711fe72be0d2cb3a37c2fbcc031f"><div class="ttname"><a href="../../d8/d2c/classCCopasiVector.html#acb26711fe72be0d2cb3a37c2fbcc031f">CCopasiVector::begin</a></div><div class="ttdeci">iterator begin()</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d51/CCopasiVector_8h_source.html#l00185">CCopasiVector.h:185</a></div></div>
<div class="ttc" id="classCCopasiVectorNS_html"><div class="ttname"><a href="../../d9/db9/classCCopasiVectorNS.html">CCopasiVectorNS</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d51/CCopasiVector_8h_source.html#l00800">CCopasiVector.h:800</a></div></div>
<div class="ttc" id="classCCopasiVector_html_a44c97a5f614c885495c437f2a8d20954"><div class="ttname"><a href="../../d8/d2c/classCCopasiVector.html#a44c97a5f614c885495c437f2a8d20954">CCopasiVector::end</a></div><div class="ttdeci">iterator end()</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d51/CCopasiVector_8h_source.html#l00191">CCopasiVector.h:191</a></div></div>
<div class="ttc" id="classCModel_html_ad9a3dc1905f1f38f689f728b829f285d"><div class="ttname"><a href="../../d4/d04/classCModel.html#ad9a3dc1905f1f38f689f728b829f285d">CModel::getReactions</a></div><div class="ttdeci">CCopasiVectorNS&lt; CReaction &gt; &amp; getReactions()</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d08/CModel_8cpp_source.html#l01039">CModel.cpp:1039</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a4e1fa35c0f3497f349b03147eb7326f0"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d3/d05/CChemEqParser__yacc_8cpp.html#aa76fec002b4ba91adc88f68d56ba730c">void</a> CSBMLExporter::createRule </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="../../d0/da0/classCModelEntity.html">CModelEntity</a> &amp;&#160;</td>
          <td class="paramname"><em>modelEntity</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d4/d18/classCCopasiDataModel.html">CCopasiDataModel</a> &amp;&#160;</td>
          <td class="paramname"><em>dataModel</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">Rule *&#160;</td>
          <td class="paramname"><em>pOldRule</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Creates the rule for the given COPASI model entity. </p>

<p>Definition at line <a class="el" href="../../d5/d2f/CSBMLExporter_8cpp_source.html#l01937">1937</a> of file <a class="el" href="../../d5/d2f/CSBMLExporter_8cpp_source.html">CSBMLExporter.cpp</a>.</p>

<p>References <a class="el" href="../../d0/da0/classCModelEntity.html#a86cb8e66e255d66db258324064efc78aa3bfd50e7d8e4dd09716a51e0ca62dedb">CModelEntity::ASSIGNMENT</a>, <a class="el" href="../../d5/d2f/CSBMLExporter_8cpp.html#a50d8b634c989579da580569f9f73e114">convertExpression()</a>, <a class="el" href="../../df/d80/classCSBMLExporter.html#ac61681ecd68ba2288e21ff1584ad20af">convertToASTNode()</a>, <a class="el" href="../../df/d80/classCSBMLExporter.html#a6dcd463b48c53c136e6c1af5b22251f2">createFunctionSetFromFunctionNames()</a>, <a class="el" href="../../d2/df0/classCCopasiMessage.html#a2ea1ed32494ff5c8d84353efcec7a5e4a26a213bf509c2f6ee21982b4f7a18505">CCopasiMessage::ERROR</a>, <a class="el" href="../../d2/df0/classCCopasiMessage.html#a2ea1ed32494ff5c8d84353efcec7a5e4a568f885d73f0ea36bedfe92f6e533071">CCopasiMessage::EXCEPTION</a>, <a class="el" href="../../df/d80/classCSBMLExporter.html#aa843eb9b5d1ae41d5dd2be78a864f2d5">findDirectlyUsedFunctions()</a>, <a class="el" href="../../d0/da0/classCModelEntity.html#a86cb8e66e255d66db258324064efc78aa8751c35af95ea9346908d9835a1b0570">CModelEntity::FIXED</a>, <a class="el" href="../../dc/d44/classCMetab.html#a9774853fea3fd6c9b15ecd26df7ab349">CMetab::getCompartment()</a>, <a class="el" href="../../d4/dd4/classCCompartment.html#a977268782cb7d6cd7a01cab642b45c09">CCompartment::getDimensionality()</a>, <a class="el" href="../../d0/da0/classCModelEntity.html#a18377eed190c9e33431b82ef3ff58d9e">CModelEntity::getExpression()</a>, <a class="el" href="../../d0/da0/classCModelEntity.html#a766cc9fa2fed8206e22e022932a60eee">CModelEntity::getExpressionPtr()</a>, <a class="el" href="../../d3/db1/classCCopasiRootContainer.html#afd5e8541f181260daf7515b28f0612c3">CCopasiRootContainer::getFunctionList()</a>, <a class="el" href="../../d4/da8/classCCopasiObject.html#a879d6756b51f6b58d307940e1343bd10">CCopasiObject::getObjectName()</a>, <a class="el" href="../../d4/da8/classCCopasiObject.html#a56790cb06e1980712599250f3e695c6a">CCopasiObject::getObjectType()</a>, <a class="el" href="../../d1/d50/classCEvaluationTree.html#a542e592cb978819d30a6da627411ba91">CEvaluationTree::getRoot()</a>, <a class="el" href="../../d0/da0/classCModelEntity.html#a5c8d403c6027f59d1cc3e1ccc2d9efac">CModelEntity::getSBMLId()</a>, <a class="el" href="../../d0/da0/classCModelEntity.html#ad6bdcaa2e8887271f61fc363262cc9ed">CModelEntity::getStatus()</a>, <a class="el" href="../../d8/d9f/classCEvaluationNode.html#ae24b55d848d78cec0a359fd199c76562">CEvaluationNode::getType()</a>, <a class="el" href="../../d0/da0/classCModelEntity.html#a9ebbeda13eca4f795ca4463a444548fa">CModelEntity::getValueReference()</a>, <a class="el" href="../../d8/d9f/classCEvaluationNode.html#aeef59b7ae37d1323a4900e5d19140491a7492325b731420bde92a0fa2620dde0c">CEvaluationNode::INVALID</a>, <a class="el" href="../../df/d80/classCSBMLExporter.html#aefa0189aa8976611a461b6de4142fdc7">isExpressionSBMLCompatible()</a>, <a class="el" href="../../df/d80/classCSBMLExporter.html#aeb19f9866a1735848770125dad2aebad">mCOPASI2SBMLMap</a>, <a class="el" href="../../d9/d2d/CCopasiMessage_8h.html#a7f5ce9c8d3812b45cb6f33595fba5789">MCSBML</a>, <a class="el" href="../../df/d80/classCSBMLExporter.html#a5bd855fe9020f8c400a6cab63fb87711">mIncompatibilities</a>, <a class="el" href="../../df/d80/classCSBMLExporter.html#ac743dca5c88be1b916af33f454d1a64a">mIncompleteExport</a>, <a class="el" href="../../df/d80/classCSBMLExporter.html#ab85366b96bfd18cd3f7cf5ecc9b9d76b">mInitialValueMap</a>, <a class="el" href="../../df/d80/classCSBMLExporter.html#a1541a69b36b8e864883e49f0de244f81">mpSBMLDocument</a>, <a class="el" href="../../df/d80/classCSBMLExporter.html#aba959efc152f63f1709d5de60e97a651">mSBMLLevel</a>, <a class="el" href="../../df/d80/classCSBMLExporter.html#af1bc50a307a46adcce8aa8abde6dab96">mSBMLVersion</a>, <a class="el" href="../../df/d80/classCSBMLExporter.html#aa8f731ee31dccd8e0b8d81ed695d9b0b">multiplyByObject()</a>, <a class="el" href="../../df/d80/classCSBMLExporter.html#a4d5bc6e05778ebe1653f70b2c968564e">mUsedFunctions</a>, <a class="el" href="../../df/d80/classCSBMLExporter.html#a9cab2f1418b5678f726caac488f07858">outputIncompatibilities()</a>, <a class="el" href="../../df/d80/classCSBMLExporter.html#a8f73c8e9c1a56403427b179b2074f198">replace_local_parameters()</a>, <a class="el" href="../../df/d80/classCSBMLExporter.html#a030225cc274a7c545f010ba2ba7f13c3">replaceSpeciesReferences()</a>, <a class="el" href="../../d1/d50/classCEvaluationTree.html#a854ce243807e739edd85eb9bcae8ff19">CEvaluationTree::setInfix()</a>, and <a class="el" href="../../d8/d9f/classCEvaluationNode.html#a9e5fcf60f22d2701417f90756847d37b">CEvaluationNode::type()</a>.</p>

<p>Referenced by <a class="el" href="../../df/d80/classCSBMLExporter.html#a9c713fa0fc07f12f35ee1c59ba65db01">createRules()</a>.</p>
<div class="fragment"><div class="line"><a name="l01938"></a><span class="lineno"> 1938</span>&#160;{</div>
<div class="line"><a name="l01939"></a><span class="lineno"> 1939</span>&#160;  <span class="comment">// check the expression</span></div>
<div class="line"><a name="l01940"></a><span class="lineno"> 1940</span>&#160;  std::vector&lt;SBMLIncompatibility&gt; result;</div>
<div class="line"><a name="l01941"></a><span class="lineno"> 1941</span>&#160;  <a class="code" href="../../df/d80/classCSBMLExporter.html#aefa0189aa8976611a461b6de4142fdc7">CSBMLExporter::isExpressionSBMLCompatible</a>(*modelEntity.<a class="code" href="../../d0/da0/classCModelEntity.html#a766cc9fa2fed8206e22e022932a60eee">getExpressionPtr</a>()</div>
<div class="line"><a name="l01942"></a><span class="lineno"> 1942</span>&#160;      , dataModel</div>
<div class="line"><a name="l01943"></a><span class="lineno"> 1943</span>&#160;      , this-&gt;<a class="code" href="../../df/d80/classCSBMLExporter.html#aba959efc152f63f1709d5de60e97a651">mSBMLLevel</a></div>
<div class="line"><a name="l01944"></a><span class="lineno"> 1944</span>&#160;      , this-&gt;<a class="code" href="../../df/d80/classCSBMLExporter.html#af1bc50a307a46adcce8aa8abde6dab96">mSBMLVersion</a></div>
<div class="line"><a name="l01945"></a><span class="lineno"> 1945</span>&#160;      , result</div>
<div class="line"><a name="l01946"></a><span class="lineno"> 1946</span>&#160;      , std::string(<span class="stringliteral">&quot;rule for object named \&quot;&quot;</span> + modelEntity.<a class="code" href="../../d4/da8/classCCopasiObject.html#a879d6756b51f6b58d307940e1343bd10">getObjectName</a>() + <span class="stringliteral">&quot;\&quot;&quot;</span>).c_str()</div>
<div class="line"><a name="l01947"></a><span class="lineno"> 1947</span>&#160;      , false</div>
<div class="line"><a name="l01948"></a><span class="lineno"> 1948</span>&#160;      , &amp;<a class="code" href="../../df/d80/classCSBMLExporter.html#ab85366b96bfd18cd3f7cf5ecc9b9d76b">mInitialValueMap</a>);</div>
<div class="line"><a name="l01949"></a><span class="lineno"> 1949</span>&#160;</div>
<div class="line"><a name="l01950"></a><span class="lineno"> 1950</span>&#160;  <span class="comment">// collect directly used functions</span></div>
<div class="line"><a name="l01951"></a><span class="lineno"> 1951</span>&#160;  <span class="keywordflow">if</span> (result.empty())</div>
<div class="line"><a name="l01952"></a><span class="lineno"> 1952</span>&#160;    {</div>
<div class="line"><a name="l01953"></a><span class="lineno"> 1953</span>&#160;      std::set&lt;std::string&gt; directlyUsedFunctionNames;</div>
<div class="line"><a name="l01954"></a><span class="lineno"> 1954</span>&#160;      <a class="code" href="../../df/d80/classCSBMLExporter.html#aa843eb9b5d1ae41d5dd2be78a864f2d5">CSBMLExporter::findDirectlyUsedFunctions</a>(modelEntity.<a class="code" href="../../d0/da0/classCModelEntity.html#a766cc9fa2fed8206e22e022932a60eee">getExpressionPtr</a>()-&gt;<a class="code" href="../../d1/d50/classCEvaluationTree.html#a542e592cb978819d30a6da627411ba91">getRoot</a>(), directlyUsedFunctionNames);</div>
<div class="line"><a name="l01955"></a><span class="lineno"> 1955</span>&#160;      std::set&lt;CFunction*&gt; usedFunctions = <a class="code" href="../../df/d80/classCSBMLExporter.html#a6dcd463b48c53c136e6c1af5b22251f2">CSBMLExporter::createFunctionSetFromFunctionNames</a>(directlyUsedFunctionNames, <a class="code" href="../../d3/db1/classCCopasiRootContainer.html#afd5e8541f181260daf7515b28f0612c3">CCopasiRootContainer::getFunctionList</a>());</div>
<div class="line"><a name="l01956"></a><span class="lineno"> 1956</span>&#160;</div>
<div class="line"><a name="l01957"></a><span class="lineno"> 1957</span>&#160;<span class="preprocessor"># if defined _MSC_VER &amp;&amp; _MSC_VER &lt; 1201 // 1200 Identifies Visual C++ 6.0</span></div>
<div class="line"><a name="l01958"></a><span class="lineno"> 1958</span>&#160;<span class="preprocessor"></span>      {</div>
<div class="line"><a name="l01959"></a><span class="lineno"> 1959</span>&#160;        std::set&lt;CFunction*&gt;::const_iterator it = usedFunctions.begin();</div>
<div class="line"><a name="l01960"></a><span class="lineno"> 1960</span>&#160;        std::set&lt;CFunction*&gt;::const_iterator end = usedFunctions.end();</div>
<div class="line"><a name="l01961"></a><span class="lineno"> 1961</span>&#160;</div>
<div class="line"><a name="l01962"></a><span class="lineno"> 1962</span>&#160;        <span class="keywordflow">for</span> (; it != end; ++it)</div>
<div class="line"><a name="l01963"></a><span class="lineno"> 1963</span>&#160;          this-&gt;<a class="code" href="../../df/d80/classCSBMLExporter.html#a4d5bc6e05778ebe1653f70b2c968564e">mUsedFunctions</a>.insert(*it);</div>
<div class="line"><a name="l01964"></a><span class="lineno"> 1964</span>&#160;      }</div>
<div class="line"><a name="l01965"></a><span class="lineno"> 1965</span>&#160;<span class="preprocessor">#else</span></div>
<div class="line"><a name="l01966"></a><span class="lineno"> 1966</span>&#160;<span class="preprocessor"></span>      this-&gt;<a class="code" href="../../df/d80/classCSBMLExporter.html#a4d5bc6e05778ebe1653f70b2c968564e">mUsedFunctions</a>.insert(usedFunctions.begin(), usedFunctions.end());</div>
<div class="line"><a name="l01967"></a><span class="lineno"> 1967</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l01968"></a><span class="lineno"> 1968</span>&#160;<span class="preprocessor"></span></div>
<div class="line"><a name="l01969"></a><span class="lineno"> 1969</span>&#160;      <span class="comment">// create the actual rule</span></div>
<div class="line"><a name="l01970"></a><span class="lineno"> 1970</span>&#160;      <span class="comment">//Rule* pRule = this-&gt;mpSBMLDocument-&gt;getModel()-&gt;getRule(modelEntity.getSBMLId());</span></div>
<div class="line"><a name="l01971"></a><span class="lineno"> 1971</span>&#160;      <span class="keyword">const</span> <a class="code" href="../../dc/d44/classCMetab.html">CMetab</a>* pMetab = <span class="keyword">dynamic_cast&lt;</span><span class="keyword">const </span><a class="code" href="../../dc/d44/classCMetab.html">CMetab</a>*<span class="keyword">&gt;</span>(&amp;modelEntity);</div>
<div class="line"><a name="l01972"></a><span class="lineno"> 1972</span>&#160;</div>
<div class="line"><a name="l01973"></a><span class="lineno"> 1973</span>&#160;      <span class="keywordflow">if</span> (pOldRule == NULL)</div>
<div class="line"><a name="l01974"></a><span class="lineno"> 1974</span>&#160;        {</div>
<div class="line"><a name="l01975"></a><span class="lineno"> 1975</span>&#160;          <span class="keywordflow">if</span> (modelEntity.<a class="code" href="../../d0/da0/classCModelEntity.html#ad6bdcaa2e8887271f61fc363262cc9ed">getStatus</a>() == <a class="code" href="../../d0/da0/classCModelEntity.html#a86cb8e66e255d66db258324064efc78aa3bfd50e7d8e4dd09716a51e0ca62dedb">CModelEntity::ASSIGNMENT</a>)</div>
<div class="line"><a name="l01976"></a><span class="lineno"> 1976</span>&#160;            {</div>
<div class="line"><a name="l01977"></a><span class="lineno"> 1977</span>&#160;              pOldRule = this-&gt;<a class="code" href="../../df/d80/classCSBMLExporter.html#a1541a69b36b8e864883e49f0de244f81">mpSBMLDocument</a>-&gt;getModel()-&gt;createAssignmentRule();</div>
<div class="line"><a name="l01978"></a><span class="lineno"> 1978</span>&#160;            }</div>
<div class="line"><a name="l01979"></a><span class="lineno"> 1979</span>&#160;          <span class="keywordflow">else</span></div>
<div class="line"><a name="l01980"></a><span class="lineno"> 1980</span>&#160;            {</div>
<div class="line"><a name="l01981"></a><span class="lineno"> 1981</span>&#160;              <span class="keywordflow">if</span> (pMetab != NULL)</div>
<div class="line"><a name="l01982"></a><span class="lineno"> 1982</span>&#160;                {</div>
<div class="line"><a name="l01983"></a><span class="lineno"> 1983</span>&#160;                  <span class="comment">// check if the compartment is fixed</span></div>
<div class="line"><a name="l01984"></a><span class="lineno"> 1984</span>&#160;                  <span class="keywordflow">if</span> (pMetab-&gt;<a class="code" href="../../dc/d44/classCMetab.html#a9774853fea3fd6c9b15ecd26df7ab349">getCompartment</a>()-&gt;<a class="code" href="../../d0/da0/classCModelEntity.html#ad6bdcaa2e8887271f61fc363262cc9ed">getStatus</a>() != <a class="code" href="../../d0/da0/classCModelEntity.html#a86cb8e66e255d66db258324064efc78aa8751c35af95ea9346908d9835a1b0570">CModelEntity::FIXED</a>)</div>
<div class="line"><a name="l01985"></a><span class="lineno"> 1985</span>&#160;                    {</div>
<div class="line"><a name="l01986"></a><span class="lineno"> 1986</span>&#160;                      <a class="code" href="../../d2/df0/classCCopasiMessage.html">CCopasiMessage</a>(<a class="code" href="../../d2/df0/classCCopasiMessage.html#a2ea1ed32494ff5c8d84353efcec7a5e4a26a213bf509c2f6ee21982b4f7a18505">CCopasiMessage::ERROR</a>, <a class="code" href="../../d9/d2d/CCopasiMessage_8h.html#a7f5ce9c8d3812b45cb6f33595fba5789">MCSBML</a> + 52, pMetab-&gt;<a class="code" href="../../d4/da8/classCCopasiObject.html#a879d6756b51f6b58d307940e1343bd10">getObjectName</a>().c_str());</div>
<div class="line"><a name="l01987"></a><span class="lineno"> 1987</span>&#160;                    }</div>
<div class="line"><a name="l01988"></a><span class="lineno"> 1988</span>&#160;                }</div>
<div class="line"><a name="l01989"></a><span class="lineno"> 1989</span>&#160;</div>
<div class="line"><a name="l01990"></a><span class="lineno"> 1990</span>&#160;              pOldRule = this-&gt;<a class="code" href="../../df/d80/classCSBMLExporter.html#a1541a69b36b8e864883e49f0de244f81">mpSBMLDocument</a>-&gt;getModel()-&gt;createRateRule();</div>
<div class="line"><a name="l01991"></a><span class="lineno"> 1991</span>&#160;            }</div>
<div class="line"><a name="l01992"></a><span class="lineno"> 1992</span>&#160;</div>
<div class="line"><a name="l01993"></a><span class="lineno"> 1993</span>&#160;          pOldRule-&gt;setVariable(modelEntity.<a class="code" href="../../d0/da0/classCModelEntity.html#a5c8d403c6027f59d1cc3e1ccc2d9efac">getSBMLId</a>());</div>
<div class="line"><a name="l01994"></a><span class="lineno"> 1994</span>&#160;        }</div>
<div class="line"><a name="l01995"></a><span class="lineno"> 1995</span>&#160;      <span class="keywordflow">else</span></div>
<div class="line"><a name="l01996"></a><span class="lineno"> 1996</span>&#160;        {</div>
<div class="line"><a name="l01997"></a><span class="lineno"> 1997</span>&#160;          <span class="comment">// Read the rule to the model</span></div>
<div class="line"><a name="l01998"></a><span class="lineno"> 1998</span>&#160;          this-&gt;<a class="code" href="../../df/d80/classCSBMLExporter.html#a1541a69b36b8e864883e49f0de244f81">mpSBMLDocument</a>-&gt;getModel()-&gt;getListOfRules()-&gt;appendAndOwn(pOldRule);</div>
<div class="line"><a name="l01999"></a><span class="lineno"> 1999</span>&#160;        }</div>
<div class="line"><a name="l02000"></a><span class="lineno"> 2000</span>&#160;</div>
<div class="line"><a name="l02001"></a><span class="lineno"> 2001</span>&#160;      <span class="comment">// set the math</span></div>
<div class="line"><a name="l02002"></a><span class="lineno"> 2002</span>&#160;</div>
<div class="line"><a name="l02003"></a><span class="lineno"> 2003</span>&#160;      <span class="keyword">const</span> std::string&amp; changedExpression = <a class="code" href="../../d5/d2f/CSBMLExporter_8cpp.html#a50d8b634c989579da580569f9f73e114">convertExpression</a>(modelEntity.<a class="code" href="../../d0/da0/classCModelEntity.html#a18377eed190c9e33431b82ef3ff58d9e">getExpression</a>(), <a class="code" href="../../df/d80/classCSBMLExporter.html#ab85366b96bfd18cd3f7cf5ecc9b9d76b">mInitialValueMap</a>);</div>
<div class="line"><a name="l02004"></a><span class="lineno"> 2004</span>&#160;      <a class="code" href="../../d1/d50/classCEvaluationTree.html">CEvaluationTree</a> tree;</div>
<div class="line"><a name="l02005"></a><span class="lineno"> 2005</span>&#160;      tree.<a class="code" href="../../d1/d50/classCEvaluationTree.html#a854ce243807e739edd85eb9bcae8ff19">setInfix</a>(changedExpression);</div>
<div class="line"><a name="l02006"></a><span class="lineno"> 2006</span>&#160;      <span class="keyword">const</span> <a class="code" href="../../d8/d9f/classCEvaluationNode.html">CEvaluationNode</a>* pOrigNode = tree.getRoot();</div>
<div class="line"><a name="l02007"></a><span class="lineno"> 2007</span>&#160;</div>
<div class="line"><a name="l02008"></a><span class="lineno"> 2008</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="../../d8/d9f/classCEvaluationNode.html#a9e5fcf60f22d2701417f90756847d37b">CEvaluationNode::type</a>(pOrigNode-&gt;<a class="code" href="../../d8/d9f/classCEvaluationNode.html#ae24b55d848d78cec0a359fd199c76562">getType</a>()) == <a class="code" href="../../d8/d9f/classCEvaluationNode.html#aeef59b7ae37d1323a4900e5d19140491a7492325b731420bde92a0fa2620dde0c">CEvaluationNode::INVALID</a>)</div>
<div class="line"><a name="l02009"></a><span class="lineno"> 2009</span>&#160;        {</div>
<div class="line"><a name="l02010"></a><span class="lineno"> 2010</span>&#160;          <a class="code" href="../../d2/df0/classCCopasiMessage.html">CCopasiMessage</a>(<a class="code" href="../../d2/df0/classCCopasiMessage.html#a2ea1ed32494ff5c8d84353efcec7a5e4a568f885d73f0ea36bedfe92f6e533071">CCopasiMessage::EXCEPTION</a>, <a class="code" href="../../d9/d2d/CCopasiMessage_8h.html#a7f5ce9c8d3812b45cb6f33595fba5789">MCSBML</a> + 70, <span class="stringliteral">&quot;assignment&quot;</span>, modelEntity.<a class="code" href="../../d4/da8/classCCopasiObject.html#a56790cb06e1980712599250f3e695c6a">getObjectType</a>().c_str(), modelEntity.<a class="code" href="../../d4/da8/classCCopasiObject.html#a879d6756b51f6b58d307940e1343bd10">getObjectName</a>().c_str());</div>
<div class="line"><a name="l02011"></a><span class="lineno"> 2011</span>&#160;        }</div>
<div class="line"><a name="l02012"></a><span class="lineno"> 2012</span>&#160;</div>
<div class="line"><a name="l02013"></a><span class="lineno"> 2013</span>&#160;      <span class="comment">// the next few lines replace references to species depending on whether</span></div>
<div class="line"><a name="l02014"></a><span class="lineno"> 2014</span>&#160;      <span class="comment">// it is a reference to an amount or a reference to a concentration.</span></div>
<div class="line"><a name="l02015"></a><span class="lineno"> 2015</span>&#160;      <span class="comment">// Other factors that influence this replacement are if the model</span></div>
<div class="line"><a name="l02016"></a><span class="lineno"> 2016</span>&#160;      <span class="comment">// contains variable volumes or if the quantity units are set to CModel::number</span></div>
<div class="line"><a name="l02017"></a><span class="lineno"> 2017</span>&#160;      pOrigNode = this-&gt;<a class="code" href="../../df/d80/classCSBMLExporter.html#a030225cc274a7c545f010ba2ba7f13c3">replaceSpeciesReferences</a>(pOrigNode, dataModel);</div>
<div class="line"><a name="l02018"></a><span class="lineno"> 2018</span>&#160;      assert(pOrigNode != NULL);</div>
<div class="line"><a name="l02019"></a><span class="lineno"> 2019</span>&#160;</div>
<div class="line"><a name="l02020"></a><span class="lineno"> 2020</span>&#160;      <span class="comment">// check if the rule is for an amount species</span></div>
<div class="line"><a name="l02021"></a><span class="lineno"> 2021</span>&#160;      <span class="comment">// if this is the case, we have to multiply the expression by the volume</span></div>
<div class="line"><a name="l02022"></a><span class="lineno"> 2022</span>&#160;      <span class="comment">// of the compartment the species is in</span></div>
<div class="line"><a name="l02023"></a><span class="lineno"> 2023</span>&#160;      <span class="keywordflow">if</span> (pMetab != NULL)</div>
<div class="line"><a name="l02024"></a><span class="lineno"> 2024</span>&#160;        {</div>
<div class="line"><a name="l02025"></a><span class="lineno"> 2025</span>&#160;          std::map&lt;const CCopasiObject*, SBase*&gt;::const_iterator pos = this-&gt;<a class="code" href="../../df/d80/classCSBMLExporter.html#aeb19f9866a1735848770125dad2aebad">mCOPASI2SBMLMap</a>.find(&amp;modelEntity);</div>
<div class="line"><a name="l02026"></a><span class="lineno"> 2026</span>&#160;          assert(pos != this-&gt;<a class="code" href="../../df/d80/classCSBMLExporter.html#aeb19f9866a1735848770125dad2aebad">mCOPASI2SBMLMap</a>.end());</div>
<div class="line"><a name="l02027"></a><span class="lineno"> 2027</span>&#160;</div>
<div class="line"><a name="l02028"></a><span class="lineno"> 2028</span>&#160;          <span class="keywordflow">if</span> (dynamic_cast&lt;const Species*&gt;(pos-&gt;second)-&gt;getHasOnlySubstanceUnits() == <span class="keyword">true</span>)</div>
<div class="line"><a name="l02029"></a><span class="lineno"> 2029</span>&#160;            {</div>
<div class="line"><a name="l02030"></a><span class="lineno"> 2030</span>&#160;              <span class="keyword">const</span> <a class="code" href="../../d4/dd4/classCCompartment.html">CCompartment</a>* pCompartment = pMetab-&gt;<a class="code" href="../../dc/d44/classCMetab.html#a9774853fea3fd6c9b15ecd26df7ab349">getCompartment</a>();</div>
<div class="line"><a name="l02031"></a><span class="lineno"> 2031</span>&#160;</div>
<div class="line"><a name="l02032"></a><span class="lineno"> 2032</span>&#160;              <span class="keywordflow">if</span> (pCompartment-&gt;<a class="code" href="../../d4/dd4/classCCompartment.html#a977268782cb7d6cd7a01cab642b45c09">getDimensionality</a>() != 0)</div>
<div class="line"><a name="l02033"></a><span class="lineno"> 2033</span>&#160;                {</div>
<div class="line"><a name="l02034"></a><span class="lineno"> 2034</span>&#160;                  <a class="code" href="../../d8/d9f/classCEvaluationNode.html">CEvaluationNode</a>* pNode = <a class="code" href="../../df/d80/classCSBMLExporter.html#aa8f731ee31dccd8e0b8d81ed695d9b0b">CSBMLExporter::multiplyByObject</a>(pOrigNode, pCompartment-&gt;<a class="code" href="../../d0/da0/classCModelEntity.html#a9ebbeda13eca4f795ca4463a444548fa">getValueReference</a>());</div>
<div class="line"><a name="l02035"></a><span class="lineno"> 2035</span>&#160;                  assert(pNode != NULL);</div>
<div class="line"><a name="l02036"></a><span class="lineno"> 2036</span>&#160;</div>
<div class="line"><a name="l02037"></a><span class="lineno"> 2037</span>&#160;                  <span class="keywordflow">if</span> (pNode != NULL)</div>
<div class="line"><a name="l02038"></a><span class="lineno"> 2038</span>&#160;                    {</div>
<div class="line"><a name="l02039"></a><span class="lineno"> 2039</span>&#160;                      <span class="keyword">delete</span> pOrigNode;</div>
<div class="line"><a name="l02040"></a><span class="lineno"> 2040</span>&#160;                      pOrigNode = pNode;</div>
<div class="line"><a name="l02041"></a><span class="lineno"> 2041</span>&#160;                    }</div>
<div class="line"><a name="l02042"></a><span class="lineno"> 2042</span>&#160;                }</div>
<div class="line"><a name="l02043"></a><span class="lineno"> 2043</span>&#160;            }</div>
<div class="line"><a name="l02044"></a><span class="lineno"> 2044</span>&#160;        }</div>
<div class="line"><a name="l02045"></a><span class="lineno"> 2045</span>&#160;</div>
<div class="line"><a name="l02046"></a><span class="lineno"> 2046</span>&#160;      ASTNode* pNode = this-&gt;<a class="code" href="../../df/d80/classCSBMLExporter.html#ac61681ecd68ba2288e21ff1584ad20af">convertToASTNode</a>(pOrigNode, dataModel);</div>
<div class="line"><a name="l02047"></a><span class="lineno"> 2047</span>&#160;      this-&gt;<a class="code" href="../../df/d80/classCSBMLExporter.html#a8f73c8e9c1a56403427b179b2074f198">replace_local_parameters</a>(pNode, dataModel);</div>
<div class="line"><a name="l02048"></a><span class="lineno"> 2048</span>&#160;      <span class="keyword">delete</span> pOrigNode;</div>
<div class="line"><a name="l02049"></a><span class="lineno"> 2049</span>&#160;</div>
<div class="line"><a name="l02050"></a><span class="lineno"> 2050</span>&#160;      <span class="keywordflow">if</span> (pNode != NULL)</div>
<div class="line"><a name="l02051"></a><span class="lineno"> 2051</span>&#160;        {</div>
<div class="line"><a name="l02052"></a><span class="lineno"> 2052</span>&#160;          pOldRule-&gt;setMath(pNode);</div>
<div class="line"><a name="l02053"></a><span class="lineno"> 2053</span>&#160;          <span class="keyword">delete</span> pNode;</div>
<div class="line"><a name="l02054"></a><span class="lineno"> 2054</span>&#160;        }</div>
<div class="line"><a name="l02055"></a><span class="lineno"> 2055</span>&#160;      <span class="keywordflow">else</span></div>
<div class="line"><a name="l02056"></a><span class="lineno"> 2056</span>&#160;        {</div>
<div class="line"><a name="l02057"></a><span class="lineno"> 2057</span>&#160;          <span class="keywordflow">if</span> (this-&gt;<a class="code" href="../../df/d80/classCSBMLExporter.html#ac743dca5c88be1b916af33f454d1a64a">mIncompleteExport</a> != <span class="keyword">true</span>)</div>
<div class="line"><a name="l02058"></a><span class="lineno"> 2058</span>&#160;            {</div>
<div class="line"><a name="l02059"></a><span class="lineno"> 2059</span>&#160;              <a class="code" href="../../d2/df0/classCCopasiMessage.html">CCopasiMessage</a>(<a class="code" href="../../d2/df0/classCCopasiMessage.html#a2ea1ed32494ff5c8d84353efcec7a5e4a568f885d73f0ea36bedfe92f6e533071">CCopasiMessage::EXCEPTION</a>, <a class="code" href="../../d9/d2d/CCopasiMessage_8h.html#a7f5ce9c8d3812b45cb6f33595fba5789">MCSBML</a> + 60, <span class="stringliteral">&quot;rule&quot;</span>, modelEntity.<a class="code" href="../../d4/da8/classCCopasiObject.html#a56790cb06e1980712599250f3e695c6a">getObjectType</a>().c_str(), modelEntity.<a class="code" href="../../d4/da8/classCCopasiObject.html#a879d6756b51f6b58d307940e1343bd10">getObjectName</a>().c_str());</div>
<div class="line"><a name="l02060"></a><span class="lineno"> 2060</span>&#160;            }</div>
<div class="line"><a name="l02061"></a><span class="lineno"> 2061</span>&#160;        }</div>
<div class="line"><a name="l02062"></a><span class="lineno"> 2062</span>&#160;    }</div>
<div class="line"><a name="l02063"></a><span class="lineno"> 2063</span>&#160;  <span class="keywordflow">else</span></div>
<div class="line"><a name="l02064"></a><span class="lineno"> 2064</span>&#160;    {</div>
<div class="line"><a name="l02065"></a><span class="lineno"> 2065</span>&#160;      this-&gt;<a class="code" href="../../df/d80/classCSBMLExporter.html#a5bd855fe9020f8c400a6cab63fb87711">mIncompatibilities</a>.insert(this-&gt;<a class="code" href="../../df/d80/classCSBMLExporter.html#a5bd855fe9020f8c400a6cab63fb87711">mIncompatibilities</a>.end(), result.begin(), result.end());</div>
<div class="line"><a name="l02066"></a><span class="lineno"> 2066</span>&#160;</div>
<div class="line"><a name="l02067"></a><span class="lineno"> 2067</span>&#160;      <span class="keywordflow">if</span> (!this-&gt;<a class="code" href="../../df/d80/classCSBMLExporter.html#ac743dca5c88be1b916af33f454d1a64a">mIncompleteExport</a>)</div>
<div class="line"><a name="l02068"></a><span class="lineno"> 2068</span>&#160;        {</div>
<div class="line"><a name="l02069"></a><span class="lineno"> 2069</span>&#160;          this-&gt;<a class="code" href="../../df/d80/classCSBMLExporter.html#a9cab2f1418b5678f726caac488f07858">outputIncompatibilities</a>();</div>
<div class="line"><a name="l02070"></a><span class="lineno"> 2070</span>&#160;          <a class="code" href="../../d2/df0/classCCopasiMessage.html">CCopasiMessage</a>(<a class="code" href="../../d2/df0/classCCopasiMessage.html#a2ea1ed32494ff5c8d84353efcec7a5e4a568f885d73f0ea36bedfe92f6e533071">CCopasiMessage::EXCEPTION</a>, <a class="code" href="../../d9/d2d/CCopasiMessage_8h.html#a7f5ce9c8d3812b45cb6f33595fba5789">MCSBML</a> + 60, <span class="stringliteral">&quot;rule&quot;</span>, modelEntity.<a class="code" href="../../d4/da8/classCCopasiObject.html#a56790cb06e1980712599250f3e695c6a">getObjectType</a>().c_str(), modelEntity.<a class="code" href="../../d4/da8/classCCopasiObject.html#a879d6756b51f6b58d307940e1343bd10">getObjectName</a>().c_str());</div>
<div class="line"><a name="l02071"></a><span class="lineno"> 2071</span>&#160;        }</div>
<div class="line"><a name="l02072"></a><span class="lineno"> 2072</span>&#160;    }</div>
<div class="line"><a name="l02073"></a><span class="lineno"> 2073</span>&#160;}</div>
<div class="ttc" id="classCModelEntity_html_a766cc9fa2fed8206e22e022932a60eee"><div class="ttname"><a href="../../d0/da0/classCModelEntity.html#a766cc9fa2fed8206e22e022932a60eee">CModelEntity::getExpressionPtr</a></div><div class="ttdeci">const CExpression * getExpressionPtr() const </div><div class="ttdef"><b>Definition:</b> <a href="../../d8/da3/CModelValue_8cpp_source.html#l00250">CModelValue.cpp:250</a></div></div>
<div class="ttc" id="classCSBMLExporter_html_aa843eb9b5d1ae41d5dd2be78a864f2d5"><div class="ttname"><a href="../../df/d80/classCSBMLExporter.html#aa843eb9b5d1ae41d5dd2be78a864f2d5">CSBMLExporter::findDirectlyUsedFunctions</a></div><div class="ttdeci">static void findDirectlyUsedFunctions(const CEvaluationNode *pRootNode, std::set&lt; std::string &gt; &amp;result)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d2f/CSBMLExporter_8cpp_source.html#l04927">CSBMLExporter.cpp:4927</a></div></div>
<div class="ttc" id="classCSBMLExporter_html_aba959efc152f63f1709d5de60e97a651"><div class="ttname"><a href="../../df/d80/classCSBMLExporter.html#aba959efc152f63f1709d5de60e97a651">CSBMLExporter::mSBMLLevel</a></div><div class="ttdeci">unsigned int mSBMLLevel</div><div class="ttdef"><b>Definition:</b> <a href="../../da/d7f/CSBMLExporter_8h_source.html#l00056">CSBMLExporter.h:56</a></div></div>
<div class="ttc" id="classCSBMLExporter_html_a1541a69b36b8e864883e49f0de244f81"><div class="ttname"><a href="../../df/d80/classCSBMLExporter.html#a1541a69b36b8e864883e49f0de244f81">CSBMLExporter::mpSBMLDocument</a></div><div class="ttdeci">SBMLDocument * mpSBMLDocument</div><div class="ttdef"><b>Definition:</b> <a href="../../da/d7f/CSBMLExporter_8h_source.html#l00055">CSBMLExporter.h:55</a></div></div>
<div class="ttc" id="classCSBMLExporter_html_a8f73c8e9c1a56403427b179b2074f198"><div class="ttname"><a href="../../df/d80/classCSBMLExporter.html#a8f73c8e9c1a56403427b179b2074f198">CSBMLExporter::replace_local_parameters</a></div><div class="ttdeci">void replace_local_parameters(ASTNode *pOrigNode, const CCopasiDataModel &amp;dataModel)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d2f/CSBMLExporter_8cpp_source.html#l07330">CSBMLExporter.cpp:7330</a></div></div>
<div class="ttc" id="CSBMLExporter_8cpp_html_a50d8b634c989579da580569f9f73e114"><div class="ttname"><a href="../../d5/d2f/CSBMLExporter_8cpp.html#a50d8b634c989579da580569f9f73e114">convertExpression</a></div><div class="ttdeci">std::string convertExpression(const std::string &amp;expression, const std::map&lt; const std::string, Parameter * &gt; &amp;initialValueMap)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d2f/CSBMLExporter_8cpp_source.html#l01810">CSBMLExporter.cpp:1810</a></div></div>
<div class="ttc" id="classCModelEntity_html_a5c8d403c6027f59d1cc3e1ccc2d9efac"><div class="ttname"><a href="../../d0/da0/classCModelEntity.html#a5c8d403c6027f59d1cc3e1ccc2d9efac">CModelEntity::getSBMLId</a></div><div class="ttdeci">const std::string &amp; getSBMLId() const </div><div class="ttdef"><b>Definition:</b> <a href="../../d8/da3/CModelValue_8cpp_source.html#l00637">CModelValue.cpp:637</a></div></div>
<div class="ttc" id="classCSBMLExporter_html_aa8f731ee31dccd8e0b8d81ed695d9b0b"><div class="ttname"><a href="../../df/d80/classCSBMLExporter.html#aa8f731ee31dccd8e0b8d81ed695d9b0b">CSBMLExporter::multiplyByObject</a></div><div class="ttdeci">static CEvaluationNode * multiplyByObject(const CEvaluationNode *pOrigNode, const CCopasiObject *pObject)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d2f/CSBMLExporter_8cpp_source.html#l07654">CSBMLExporter.cpp:7654</a></div></div>
<div class="ttc" id="classCCopasiObject_html_a879d6756b51f6b58d307940e1343bd10"><div class="ttname"><a href="../../d4/da8/classCCopasiObject.html#a879d6756b51f6b58d307940e1343bd10">CCopasiObject::getObjectName</a></div><div class="ttdeci">const std::string &amp; getObjectName() const </div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d22/CCopasiObject_8cpp_source.html#l00258">CCopasiObject.cpp:258</a></div></div>
<div class="ttc" id="classCCompartment_html_a977268782cb7d6cd7a01cab642b45c09"><div class="ttname"><a href="../../d4/dd4/classCCompartment.html#a977268782cb7d6cd7a01cab642b45c09">CCompartment::getDimensionality</a></div><div class="ttdeci">unsigned C_INT32 getDimensionality() const </div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d2d/CCompartment_8cpp_source.html#l00204">CCompartment.cpp:204</a></div></div>
<div class="ttc" id="classCEvaluationNode_html_ae24b55d848d78cec0a359fd199c76562"><div class="ttname"><a href="../../d8/d9f/classCEvaluationNode.html#ae24b55d848d78cec0a359fd199c76562">CEvaluationNode::getType</a></div><div class="ttdeci">const Type &amp; getType() const </div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d3d/CEvaluationNode_8cpp_source.html#l00357">CEvaluationNode.cpp:357</a></div></div>
<div class="ttc" id="classCCopasiObject_html_a56790cb06e1980712599250f3e695c6a"><div class="ttname"><a href="../../d4/da8/classCCopasiObject.html#a56790cb06e1980712599250f3e695c6a">CCopasiObject::getObjectType</a></div><div class="ttdeci">const std::string &amp; getObjectType() const </div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d22/CCopasiObject_8cpp_source.html#l00260">CCopasiObject.cpp:260</a></div></div>
<div class="ttc" id="classCModelEntity_html_a18377eed190c9e33431b82ef3ff58d9e"><div class="ttname"><a href="../../d0/da0/classCModelEntity.html#a18377eed190c9e33431b82ef3ff58d9e">CModelEntity::getExpression</a></div><div class="ttdeci">std::string getExpression() const </div><div class="ttdef"><b>Definition:</b> <a href="../../d8/da3/CModelValue_8cpp_source.html#l00236">CModelValue.cpp:236</a></div></div>
<div class="ttc" id="classCEvaluationTree_html"><div class="ttname"><a href="../../d1/d50/classCEvaluationTree.html">CEvaluationTree</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d46/CEvaluationTree_8h_source.html#l00028">CEvaluationTree.h:28</a></div></div>
<div class="ttc" id="classCSBMLExporter_html_ac743dca5c88be1b916af33f454d1a64a"><div class="ttname"><a href="../../df/d80/classCSBMLExporter.html#ac743dca5c88be1b916af33f454d1a64a">CSBMLExporter::mIncompleteExport</a></div><div class="ttdeci">bool mIncompleteExport</div><div class="ttdef"><b>Definition:</b> <a href="../../da/d7f/CSBMLExporter_8h_source.html#l00066">CSBMLExporter.h:66</a></div></div>
<div class="ttc" id="classCModelEntity_html_a86cb8e66e255d66db258324064efc78aa3bfd50e7d8e4dd09716a51e0ca62dedb"><div class="ttname"><a href="../../d0/da0/classCModelEntity.html#a86cb8e66e255d66db258324064efc78aa3bfd50e7d8e4dd09716a51e0ca62dedb">CModelEntity::ASSIGNMENT</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d1/da3/CModelValue_8h_source.html#l00056">CModelValue.h:56</a></div></div>
<div class="ttc" id="classCMetab_html"><div class="ttname"><a href="../../dc/d44/classCMetab.html">CMetab</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d3/df5/CMetab_8h_source.html#l00178">CMetab.h:178</a></div></div>
<div class="ttc" id="classCSBMLExporter_html_ab85366b96bfd18cd3f7cf5ecc9b9d76b"><div class="ttname"><a href="../../df/d80/classCSBMLExporter.html#ab85366b96bfd18cd3f7cf5ecc9b9d76b">CSBMLExporter::mInitialValueMap</a></div><div class="ttdeci">std::map&lt; const std::string, Parameter * &gt; mInitialValueMap</div><div class="ttdef"><b>Definition:</b> <a href="../../da/d7f/CSBMLExporter_8h_source.html#l00079">CSBMLExporter.h:79</a></div></div>
<div class="ttc" id="classCCopasiMessage_html_a2ea1ed32494ff5c8d84353efcec7a5e4a568f885d73f0ea36bedfe92f6e533071"><div class="ttname"><a href="../../d2/df0/classCCopasiMessage.html#a2ea1ed32494ff5c8d84353efcec7a5e4a568f885d73f0ea36bedfe92f6e533071">CCopasiMessage::EXCEPTION</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d2d/CCopasiMessage_8h_source.html#l00093">CCopasiMessage.h:93</a></div></div>
<div class="ttc" id="classCEvaluationNode_html_a9e5fcf60f22d2701417f90756847d37b"><div class="ttname"><a href="../../d8/d9f/classCEvaluationNode.html#a9e5fcf60f22d2701417f90756847d37b">CEvaluationNode::type</a></div><div class="ttdeci">static Type type(const Type &amp;type)</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d3d/CEvaluationNode_8cpp_source.html#l00123">CEvaluationNode.cpp:123</a></div></div>
<div class="ttc" id="CCopasiMessage_8h_html_a7f5ce9c8d3812b45cb6f33595fba5789"><div class="ttname"><a href="../../d9/d2d/CCopasiMessage_8h.html#a7f5ce9c8d3812b45cb6f33595fba5789">MCSBML</a></div><div class="ttdeci">#define MCSBML</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d2d/CCopasiMessage_8h_source.html#l00046">CCopasiMessage.h:46</a></div></div>
<div class="ttc" id="classCSBMLExporter_html_af1bc50a307a46adcce8aa8abde6dab96"><div class="ttname"><a href="../../df/d80/classCSBMLExporter.html#af1bc50a307a46adcce8aa8abde6dab96">CSBMLExporter::mSBMLVersion</a></div><div class="ttdeci">unsigned int mSBMLVersion</div><div class="ttdef"><b>Definition:</b> <a href="../../da/d7f/CSBMLExporter_8h_source.html#l00057">CSBMLExporter.h:57</a></div></div>
<div class="ttc" id="classCModelEntity_html_a86cb8e66e255d66db258324064efc78aa8751c35af95ea9346908d9835a1b0570"><div class="ttname"><a href="../../d0/da0/classCModelEntity.html#a86cb8e66e255d66db258324064efc78aa8751c35af95ea9346908d9835a1b0570">CModelEntity::FIXED</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d1/da3/CModelValue_8h_source.html#l00055">CModelValue.h:55</a></div></div>
<div class="ttc" id="classCEvaluationNode_html_aeef59b7ae37d1323a4900e5d19140491a7492325b731420bde92a0fa2620dde0c"><div class="ttname"><a href="../../d8/d9f/classCEvaluationNode.html#aeef59b7ae37d1323a4900e5d19140491a7492325b731420bde92a0fa2620dde0c">CEvaluationNode::INVALID</a></div><div class="ttdef"><b>Definition:</b> <a href="../../de/dfa/CEvaluationNode_8h_source.html#l00041">CEvaluationNode.h:41</a></div></div>
<div class="ttc" id="classCCopasiRootContainer_html_afd5e8541f181260daf7515b28f0612c3"><div class="ttname"><a href="../../d3/db1/classCCopasiRootContainer.html#afd5e8541f181260daf7515b28f0612c3">CCopasiRootContainer::getFunctionList</a></div><div class="ttdeci">static CFunctionDB * getFunctionList()</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/d4b/CCopasiRootContainer_8cpp_source.html#l00137">CCopasiRootContainer.cpp:137</a></div></div>
<div class="ttc" id="classCCompartment_html"><div class="ttname"><a href="../../d4/dd4/classCCompartment.html">CCompartment</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d59/CCompartment_8h_source.html#l00037">CCompartment.h:37</a></div></div>
<div class="ttc" id="classCSBMLExporter_html_a5bd855fe9020f8c400a6cab63fb87711"><div class="ttname"><a href="../../df/d80/classCSBMLExporter.html#a5bd855fe9020f8c400a6cab63fb87711">CSBMLExporter::mIncompatibilities</a></div><div class="ttdeci">std::vector&lt; SBMLIncompatibility &gt; mIncompatibilities</div><div class="ttdef"><b>Definition:</b> <a href="../../da/d7f/CSBMLExporter_8h_source.html#l00065">CSBMLExporter.h:65</a></div></div>
<div class="ttc" id="classCCopasiMessage_html_a2ea1ed32494ff5c8d84353efcec7a5e4a26a213bf509c2f6ee21982b4f7a18505"><div class="ttname"><a href="../../d2/df0/classCCopasiMessage.html#a2ea1ed32494ff5c8d84353efcec7a5e4a26a213bf509c2f6ee21982b4f7a18505">CCopasiMessage::ERROR</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d2d/CCopasiMessage_8h_source.html#l00092">CCopasiMessage.h:92</a></div></div>
<div class="ttc" id="classCSBMLExporter_html_aeb19f9866a1735848770125dad2aebad"><div class="ttname"><a href="../../df/d80/classCSBMLExporter.html#aeb19f9866a1735848770125dad2aebad">CSBMLExporter::mCOPASI2SBMLMap</a></div><div class="ttdeci">std::map&lt; const CCopasiObject *, SBase * &gt; mCOPASI2SBMLMap</div><div class="ttdef"><b>Definition:</b> <a href="../../da/d7f/CSBMLExporter_8h_source.html#l00061">CSBMLExporter.h:61</a></div></div>
<div class="ttc" id="classCCopasiMessage_html"><div class="ttname"><a href="../../d2/df0/classCCopasiMessage.html">CCopasiMessage</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d2d/CCopasiMessage_8h_source.html#l00078">CCopasiMessage.h:78</a></div></div>
<div class="ttc" id="classCEvaluationNode_html"><div class="ttname"><a href="../../d8/d9f/classCEvaluationNode.html">CEvaluationNode</a></div><div class="ttdef"><b>Definition:</b> <a href="../../de/dfa/CEvaluationNode_8h_source.html#l00033">CEvaluationNode.h:33</a></div></div>
<div class="ttc" id="classCSBMLExporter_html_ac61681ecd68ba2288e21ff1584ad20af"><div class="ttname"><a href="../../df/d80/classCSBMLExporter.html#ac61681ecd68ba2288e21ff1584ad20af">CSBMLExporter::convertToASTNode</a></div><div class="ttdeci">ASTNode * convertToASTNode(const CEvaluationNode *pOrig, CCopasiDataModel &amp;dataModel)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d2f/CSBMLExporter_8cpp_source.html#l07078">CSBMLExporter.cpp:7078</a></div></div>
<div class="ttc" id="classCSBMLExporter_html_aefa0189aa8976611a461b6de4142fdc7"><div class="ttname"><a href="../../df/d80/classCSBMLExporter.html#aefa0189aa8976611a461b6de4142fdc7">CSBMLExporter::isExpressionSBMLCompatible</a></div><div class="ttdeci">static void isExpressionSBMLCompatible(const CEvaluationTree &amp;expr, const CCopasiDataModel &amp;dataModel, int sbmlLevel, int sbmlVersion, std::vector&lt; SBMLIncompatibility &gt; &amp;result, const std::string &amp;objectDescription, bool initialExression=false, std::map&lt; const std::string, Parameter * &gt; *initialMap=NULL)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d2f/CSBMLExporter_8cpp_source.html#l02767">CSBMLExporter.cpp:2767</a></div></div>
<div class="ttc" id="classCSBMLExporter_html_a030225cc274a7c545f010ba2ba7f13c3"><div class="ttname"><a href="../../df/d80/classCSBMLExporter.html#a030225cc274a7c545f010ba2ba7f13c3">CSBMLExporter::replaceSpeciesReferences</a></div><div class="ttdeci">CEvaluationNode * replaceSpeciesReferences(const CEvaluationNode *pOrigNode, const CCopasiDataModel &amp;dataModel)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d2f/CSBMLExporter_8cpp_source.html#l06066">CSBMLExporter.cpp:6066</a></div></div>
<div class="ttc" id="classCSBMLExporter_html_a9cab2f1418b5678f726caac488f07858"><div class="ttname"><a href="../../df/d80/classCSBMLExporter.html#a9cab2f1418b5678f726caac488f07858">CSBMLExporter::outputIncompatibilities</a></div><div class="ttdeci">void outputIncompatibilities() const </div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d2f/CSBMLExporter_8cpp_source.html#l07160">CSBMLExporter.cpp:7160</a></div></div>
<div class="ttc" id="classCSBMLExporter_html_a6dcd463b48c53c136e6c1af5b22251f2"><div class="ttname"><a href="../../df/d80/classCSBMLExporter.html#a6dcd463b48c53c136e6c1af5b22251f2">CSBMLExporter::createFunctionSetFromFunctionNames</a></div><div class="ttdeci">static const std::set&lt; CFunction * &gt; createFunctionSetFromFunctionNames(const std::set&lt; std::string &gt; &amp;names, CFunctionDB *pFunDB)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d2f/CSBMLExporter_8cpp_source.html#l05054">CSBMLExporter.cpp:5054</a></div></div>
<div class="ttc" id="classCModelEntity_html_ad6bdcaa2e8887271f61fc363262cc9ed"><div class="ttname"><a href="../../d0/da0/classCModelEntity.html#ad6bdcaa2e8887271f61fc363262cc9ed">CModelEntity::getStatus</a></div><div class="ttdeci">const CModelEntity::Status &amp; getStatus() const </div><div class="ttdef"><b>Definition:</b> <a href="../../d8/da3/CModelValue_8cpp_source.html#l00141">CModelValue.cpp:141</a></div></div>
<div class="ttc" id="classCSBMLExporter_html_a4d5bc6e05778ebe1653f70b2c968564e"><div class="ttname"><a href="../../df/d80/classCSBMLExporter.html#a4d5bc6e05778ebe1653f70b2c968564e">CSBMLExporter::mUsedFunctions</a></div><div class="ttdeci">std::set&lt; CFunction * &gt; mUsedFunctions</div><div class="ttdef"><b>Definition:</b> <a href="../../da/d7f/CSBMLExporter_8h_source.html#l00063">CSBMLExporter.h:63</a></div></div>
<div class="ttc" id="classCMetab_html_a9774853fea3fd6c9b15ecd26df7ab349"><div class="ttname"><a href="../../dc/d44/classCMetab.html#a9774853fea3fd6c9b15ecd26df7ab349">CMetab::getCompartment</a></div><div class="ttdeci">const CCompartment * getCompartment() const </div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d70/CMetab_8cpp_source.html#l00222">CMetab.cpp:222</a></div></div>
<div class="ttc" id="classCEvaluationTree_html_a542e592cb978819d30a6da627411ba91"><div class="ttname"><a href="../../d1/d50/classCEvaluationTree.html#a542e592cb978819d30a6da627411ba91">CEvaluationTree::getRoot</a></div><div class="ttdeci">CEvaluationNode * getRoot()</div><div class="ttdef"><b>Definition:</b> <a href="../../da/d55/CEvaluationTree_8cpp_source.html#l00610">CEvaluationTree.cpp:610</a></div></div>
<div class="ttc" id="classCEvaluationTree_html_a854ce243807e739edd85eb9bcae8ff19"><div class="ttname"><a href="../../d1/d50/classCEvaluationTree.html#a854ce243807e739edd85eb9bcae8ff19">CEvaluationTree::setInfix</a></div><div class="ttdeci">virtual bool setInfix(const std::string &amp;infix)</div><div class="ttdef"><b>Definition:</b> <a href="../../da/d55/CEvaluationTree_8cpp_source.html#l00175">CEvaluationTree.cpp:175</a></div></div>
<div class="ttc" id="classCModelEntity_html_a9ebbeda13eca4f795ca4463a444548fa"><div class="ttname"><a href="../../d0/da0/classCModelEntity.html#a9ebbeda13eca4f795ca4463a444548fa">CModelEntity::getValueReference</a></div><div class="ttdeci">CCopasiObject * getValueReference() const </div><div class="ttdef"><b>Definition:</b> <a href="../../d8/da3/CModelValue_8cpp_source.html#l00370">CModelValue.cpp:370</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a9c713fa0fc07f12f35ee1c59ba65db01"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d3/d05/CChemEqParser__yacc_8cpp.html#aa76fec002b4ba91adc88f68d56ba730c">void</a> CSBMLExporter::createRules </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d4/d18/classCCopasiDataModel.html">CCopasiDataModel</a> &amp;&#160;</td>
          <td class="paramname"><em>dataModel</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Creates the rules for the model. </p>

<p>Definition at line <a class="el" href="../../d5/d2f/CSBMLExporter_8cpp_source.html#l01835">1835</a> of file <a class="el" href="../../d5/d2f/CSBMLExporter_8cpp_source.html">CSBMLExporter.cpp</a>.</p>

<p>References <a class="el" href="../../df/d80/classCSBMLExporter.html#a4e1fa35c0f3497f349b03147eb7326f0">createRule()</a>, <a class="el" href="../../d0/da0/classCModelEntity.html#a5c8d403c6027f59d1cc3e1ccc2d9efac">CModelEntity::getSBMLId()</a>, <a class="el" href="../../df/d80/classCSBMLExporter.html#a0e510c0403f40240d781206e3b224b69">mODEVector</a>, <a class="el" href="../../df/d80/classCSBMLExporter.html#a1541a69b36b8e864883e49f0de244f81">mpSBMLDocument</a>, and <a class="el" href="../../df/d80/classCSBMLExporter.html#aa851bea69ed748cfc304fb516470159c">orderRules()</a>.</p>

<p>Referenced by <a class="el" href="../../df/d80/classCSBMLExporter.html#a2b680d670c11c7c70a45bc12e236b2e8">createSBMLDocument()</a>.</p>
<div class="fragment"><div class="line"><a name="l01836"></a><span class="lineno"> 1836</span>&#160;{</div>
<div class="line"><a name="l01837"></a><span class="lineno"> 1837</span>&#160;  <span class="comment">// make sure the mAssignmentVector has been filled already</span></div>
<div class="line"><a name="l01838"></a><span class="lineno"> 1838</span>&#160;  <span class="comment">// make sure the mODEVector has been filled already</span></div>
<div class="line"><a name="l01839"></a><span class="lineno"> 1839</span>&#160;  <span class="comment">// order the rules for Level 1 export</span></div>
<div class="line"><a name="l01840"></a><span class="lineno"> 1840</span>&#160;  <span class="comment">// rules in Level 2 are not ordered.</span></div>
<div class="line"><a name="l01841"></a><span class="lineno"> 1841</span>&#160;  <span class="comment">//if (this-&gt;mSBMLLevel == 1 || (this-&gt;mSBMLLevel == 2 &amp;&amp; this-&gt;mSBMLVersion == 1))</span></div>
<div class="line"><a name="l01842"></a><span class="lineno"> 1842</span>&#160;  <span class="comment">//  {</span></div>
<div class="line"><a name="l01843"></a><span class="lineno"> 1843</span>&#160;  std::vector&lt;CModelEntity*&gt; orderedAssignmentRules = <a class="code" href="../../df/d80/classCSBMLExporter.html#aa851bea69ed748cfc304fb516470159c">orderRules</a>(dataModel);</div>
<div class="line"><a name="l01844"></a><span class="lineno"> 1844</span>&#160;  <span class="comment">//}</span></div>
<div class="line"><a name="l01845"></a><span class="lineno"> 1845</span>&#160;  <span class="comment">//</span></div>
<div class="line"><a name="l01846"></a><span class="lineno"> 1846</span>&#160;  <span class="comment">// remove all rules from the SBML model</span></div>
<div class="line"><a name="l01847"></a><span class="lineno"> 1847</span>&#160;  <span class="comment">// and put them in a map</span></div>
<div class="line"><a name="l01848"></a><span class="lineno"> 1848</span>&#160;  std::map&lt;std::string, Rule*&gt; ruleMap;</div>
<div class="line"><a name="l01849"></a><span class="lineno"> 1849</span>&#160;  Model* pSBMLModel = this-&gt;<a class="code" href="../../df/d80/classCSBMLExporter.html#a1541a69b36b8e864883e49f0de244f81">mpSBMLDocument</a>-&gt;getModel();</div>
<div class="line"><a name="l01850"></a><span class="lineno"> 1850</span>&#160;  assert(pSBMLModel != NULL);</div>
<div class="line"><a name="l01851"></a><span class="lineno"> 1851</span>&#160;</div>
<div class="line"><a name="l01852"></a><span class="lineno"> 1852</span>&#160;  <span class="keywordflow">while</span> (pSBMLModel-&gt;getNumRules() != 0)</div>
<div class="line"><a name="l01853"></a><span class="lineno"> 1853</span>&#160;    {</div>
<div class="line"><a name="l01854"></a><span class="lineno"> 1854</span>&#160;      Rule* pRule = pSBMLModel-&gt;getRule(0);</div>
<div class="line"><a name="l01855"></a><span class="lineno"> 1855</span>&#160;      assert(pRule != NULL);</div>
<div class="line"><a name="l01856"></a><span class="lineno"> 1856</span>&#160;</div>
<div class="line"><a name="l01857"></a><span class="lineno"> 1857</span>&#160;      <span class="comment">// ignore algebraic rules</span></div>
<div class="line"><a name="l01858"></a><span class="lineno"> 1858</span>&#160;      <span class="keywordflow">if</span> (pRule-&gt;getTypeCode() == SBML_ASSIGNMENT_RULE)</div>
<div class="line"><a name="l01859"></a><span class="lineno"> 1859</span>&#160;        {</div>
<div class="line"><a name="l01860"></a><span class="lineno"> 1860</span>&#160;          AssignmentRule* pARule = <span class="keyword">dynamic_cast&lt;</span>AssignmentRule*<span class="keyword">&gt;</span>(pRule);</div>
<div class="line"><a name="l01861"></a><span class="lineno"> 1861</span>&#160;          assert(pARule != NULL);</div>
<div class="line"><a name="l01862"></a><span class="lineno"> 1862</span>&#160;          ruleMap[pARule-&gt;getVariable()] = pARule;</div>
<div class="line"><a name="l01863"></a><span class="lineno"> 1863</span>&#160;        }</div>
<div class="line"><a name="l01864"></a><span class="lineno"> 1864</span>&#160;      <span class="keywordflow">else</span> <span class="keywordflow">if</span> (pRule-&gt;getTypeCode() == SBML_RATE_RULE)</div>
<div class="line"><a name="l01865"></a><span class="lineno"> 1865</span>&#160;        {</div>
<div class="line"><a name="l01866"></a><span class="lineno"> 1866</span>&#160;          RateRule* pRRule = <span class="keyword">dynamic_cast&lt;</span>RateRule*<span class="keyword">&gt;</span>(pRule);</div>
<div class="line"><a name="l01867"></a><span class="lineno"> 1867</span>&#160;          assert(pRRule != NULL);</div>
<div class="line"><a name="l01868"></a><span class="lineno"> 1868</span>&#160;          ruleMap[pRRule-&gt;getVariable()] = pRRule;</div>
<div class="line"><a name="l01869"></a><span class="lineno"> 1869</span>&#160;        }</div>
<div class="line"><a name="l01870"></a><span class="lineno"> 1870</span>&#160;</div>
<div class="line"><a name="l01871"></a><span class="lineno"> 1871</span>&#160;      pSBMLModel-&gt;getListOfRules()-&gt;remove(0);</div>
<div class="line"><a name="l01872"></a><span class="lineno"> 1872</span>&#160;    }</div>
<div class="line"><a name="l01873"></a><span class="lineno"> 1873</span>&#160;</div>
<div class="line"><a name="l01874"></a><span class="lineno"> 1874</span>&#160;  <span class="comment">// create the rules</span></div>
<div class="line"><a name="l01875"></a><span class="lineno"> 1875</span>&#160;  <span class="keyword">const</span> <a class="code" href="../../d0/da0/classCModelEntity.html">CModelEntity</a>* pME = NULL;</div>
<div class="line"><a name="l01876"></a><span class="lineno"> 1876</span>&#160;  <span class="keywordtype">size_t</span> i, iMax = orderedAssignmentRules.size();</div>
<div class="line"><a name="l01877"></a><span class="lineno"> 1877</span>&#160;</div>
<div class="line"><a name="l01878"></a><span class="lineno"> 1878</span>&#160;  <span class="keywordflow">for</span> (i = 0; i &lt; iMax; ++i)</div>
<div class="line"><a name="l01879"></a><span class="lineno"> 1879</span>&#160;    {</div>
<div class="line"><a name="l01880"></a><span class="lineno"> 1880</span>&#160;      pME = orderedAssignmentRules[i];</div>
<div class="line"><a name="l01881"></a><span class="lineno"> 1881</span>&#160;      assert(pME != NULL);</div>
<div class="line"><a name="l01882"></a><span class="lineno"> 1882</span>&#160;</div>
<div class="line"><a name="l01883"></a><span class="lineno"> 1883</span>&#160;      <span class="keywordflow">if</span> (pME != NULL)</div>
<div class="line"><a name="l01884"></a><span class="lineno"> 1884</span>&#160;        {</div>
<div class="line"><a name="l01885"></a><span class="lineno"> 1885</span>&#160;          std::map&lt;std::string, Rule*&gt;::const_iterator pos = ruleMap.find(pME-&gt;<a class="code" href="../../d0/da0/classCModelEntity.html#a5c8d403c6027f59d1cc3e1ccc2d9efac">getSBMLId</a>());</div>
<div class="line"><a name="l01886"></a><span class="lineno"> 1886</span>&#160;          Rule* pOldRule = NULL;</div>
<div class="line"><a name="l01887"></a><span class="lineno"> 1887</span>&#160;</div>
<div class="line"><a name="l01888"></a><span class="lineno"> 1888</span>&#160;          <span class="keywordflow">if</span> (pos != ruleMap.end())</div>
<div class="line"><a name="l01889"></a><span class="lineno"> 1889</span>&#160;            {</div>
<div class="line"><a name="l01890"></a><span class="lineno"> 1890</span>&#160;              pOldRule = pos-&gt;second;</div>
<div class="line"><a name="l01891"></a><span class="lineno"> 1891</span>&#160;              assert(pOldRule != NULL);</div>
<div class="line"><a name="l01892"></a><span class="lineno"> 1892</span>&#160;              ruleMap.erase(pos-&gt;first);</div>
<div class="line"><a name="l01893"></a><span class="lineno"> 1893</span>&#160;            }</div>
<div class="line"><a name="l01894"></a><span class="lineno"> 1894</span>&#160;</div>
<div class="line"><a name="l01895"></a><span class="lineno"> 1895</span>&#160;          <a class="code" href="../../df/d80/classCSBMLExporter.html#a4e1fa35c0f3497f349b03147eb7326f0">createRule</a>(*pME, dataModel, pOldRule);</div>
<div class="line"><a name="l01896"></a><span class="lineno"> 1896</span>&#160;        }</div>
<div class="line"><a name="l01897"></a><span class="lineno"> 1897</span>&#160;    }</div>
<div class="line"><a name="l01898"></a><span class="lineno"> 1898</span>&#160;</div>
<div class="line"><a name="l01899"></a><span class="lineno"> 1899</span>&#160;  iMax = <a class="code" href="../../df/d80/classCSBMLExporter.html#a0e510c0403f40240d781206e3b224b69">mODEVector</a>.size();</div>
<div class="line"><a name="l01900"></a><span class="lineno"> 1900</span>&#160;</div>
<div class="line"><a name="l01901"></a><span class="lineno"> 1901</span>&#160;  <span class="keywordflow">for</span> (i = 0; i &lt; iMax; ++i)</div>
<div class="line"><a name="l01902"></a><span class="lineno"> 1902</span>&#160;    {</div>
<div class="line"><a name="l01903"></a><span class="lineno"> 1903</span>&#160;      pME = <a class="code" href="../../df/d80/classCSBMLExporter.html#a0e510c0403f40240d781206e3b224b69">mODEVector</a>[i];</div>
<div class="line"><a name="l01904"></a><span class="lineno"> 1904</span>&#160;      assert(pME != NULL);</div>
<div class="line"><a name="l01905"></a><span class="lineno"> 1905</span>&#160;</div>
<div class="line"><a name="l01906"></a><span class="lineno"> 1906</span>&#160;      <span class="keywordflow">if</span> (pME != NULL)</div>
<div class="line"><a name="l01907"></a><span class="lineno"> 1907</span>&#160;        {</div>
<div class="line"><a name="l01908"></a><span class="lineno"> 1908</span>&#160;          std::map&lt;std::string, Rule*&gt;::const_iterator pos = ruleMap.find(pME-&gt;<a class="code" href="../../d0/da0/classCModelEntity.html#a5c8d403c6027f59d1cc3e1ccc2d9efac">getSBMLId</a>());</div>
<div class="line"><a name="l01909"></a><span class="lineno"> 1909</span>&#160;          Rule* pOldRule = NULL;</div>
<div class="line"><a name="l01910"></a><span class="lineno"> 1910</span>&#160;</div>
<div class="line"><a name="l01911"></a><span class="lineno"> 1911</span>&#160;          <span class="keywordflow">if</span> (pos != ruleMap.end())</div>
<div class="line"><a name="l01912"></a><span class="lineno"> 1912</span>&#160;            {</div>
<div class="line"><a name="l01913"></a><span class="lineno"> 1913</span>&#160;              pOldRule = pos-&gt;second;</div>
<div class="line"><a name="l01914"></a><span class="lineno"> 1914</span>&#160;              assert(pOldRule != NULL);</div>
<div class="line"><a name="l01915"></a><span class="lineno"> 1915</span>&#160;              ruleMap.erase(pos-&gt;first);</div>
<div class="line"><a name="l01916"></a><span class="lineno"> 1916</span>&#160;            }</div>
<div class="line"><a name="l01917"></a><span class="lineno"> 1917</span>&#160;</div>
<div class="line"><a name="l01918"></a><span class="lineno"> 1918</span>&#160;          <a class="code" href="../../df/d80/classCSBMLExporter.html#a4e1fa35c0f3497f349b03147eb7326f0">createRule</a>(*pME, dataModel, pOldRule);</div>
<div class="line"><a name="l01919"></a><span class="lineno"> 1919</span>&#160;        }</div>
<div class="line"><a name="l01920"></a><span class="lineno"> 1920</span>&#160;    }</div>
<div class="line"><a name="l01921"></a><span class="lineno"> 1921</span>&#160;</div>
<div class="line"><a name="l01922"></a><span class="lineno"> 1922</span>&#160;  <span class="comment">// delete the remaining rules</span></div>
<div class="line"><a name="l01923"></a><span class="lineno"> 1923</span>&#160;  std::map&lt;std::string, Rule*&gt;::iterator mapIt = ruleMap.begin(), mapEndit = ruleMap.end();</div>
<div class="line"><a name="l01924"></a><span class="lineno"> 1924</span>&#160;</div>
<div class="line"><a name="l01925"></a><span class="lineno"> 1925</span>&#160;  <span class="keywordflow">while</span> (mapIt != mapEndit)</div>
<div class="line"><a name="l01926"></a><span class="lineno"> 1926</span>&#160;    {</div>
<div class="line"><a name="l01927"></a><span class="lineno"> 1927</span>&#160;      <span class="keyword">delete</span> mapIt-&gt;second;</div>
<div class="line"><a name="l01928"></a><span class="lineno"> 1928</span>&#160;      ++mapIt;</div>
<div class="line"><a name="l01929"></a><span class="lineno"> 1929</span>&#160;    }</div>
<div class="line"><a name="l01930"></a><span class="lineno"> 1930</span>&#160;</div>
<div class="line"><a name="l01931"></a><span class="lineno"> 1931</span>&#160;  ruleMap.clear();</div>
<div class="line"><a name="l01932"></a><span class="lineno"> 1932</span>&#160;}</div>
<div class="ttc" id="classCSBMLExporter_html_aa851bea69ed748cfc304fb516470159c"><div class="ttname"><a href="../../df/d80/classCSBMLExporter.html#aa851bea69ed748cfc304fb516470159c">CSBMLExporter::orderRules</a></div><div class="ttdeci">std::vector&lt; CModelEntity * &gt; orderRules(const CCopasiDataModel &amp;dataModel)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d2f/CSBMLExporter_8cpp_source.html#l05084">CSBMLExporter.cpp:5084</a></div></div>
<div class="ttc" id="classCSBMLExporter_html_a1541a69b36b8e864883e49f0de244f81"><div class="ttname"><a href="../../df/d80/classCSBMLExporter.html#a1541a69b36b8e864883e49f0de244f81">CSBMLExporter::mpSBMLDocument</a></div><div class="ttdeci">SBMLDocument * mpSBMLDocument</div><div class="ttdef"><b>Definition:</b> <a href="../../da/d7f/CSBMLExporter_8h_source.html#l00055">CSBMLExporter.h:55</a></div></div>
<div class="ttc" id="classCModelEntity_html_a5c8d403c6027f59d1cc3e1ccc2d9efac"><div class="ttname"><a href="../../d0/da0/classCModelEntity.html#a5c8d403c6027f59d1cc3e1ccc2d9efac">CModelEntity::getSBMLId</a></div><div class="ttdeci">const std::string &amp; getSBMLId() const </div><div class="ttdef"><b>Definition:</b> <a href="../../d8/da3/CModelValue_8cpp_source.html#l00637">CModelValue.cpp:637</a></div></div>
<div class="ttc" id="classCModelEntity_html"><div class="ttname"><a href="../../d0/da0/classCModelEntity.html">CModelEntity</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d1/da3/CModelValue_8h_source.html#l00039">CModelValue.h:39</a></div></div>
<div class="ttc" id="classCSBMLExporter_html_a0e510c0403f40240d781206e3b224b69"><div class="ttname"><a href="../../df/d80/classCSBMLExporter.html#a0e510c0403f40240d781206e3b224b69">CSBMLExporter::mODEVector</a></div><div class="ttdeci">std::vector&lt; CModelEntity * &gt; mODEVector</div><div class="ttdef"><b>Definition:</b> <a href="../../da/d7f/CSBMLExporter_8h_source.html#l00059">CSBMLExporter.h:59</a></div></div>
<div class="ttc" id="classCSBMLExporter_html_a4e1fa35c0f3497f349b03147eb7326f0"><div class="ttname"><a href="../../df/d80/classCSBMLExporter.html#a4e1fa35c0f3497f349b03147eb7326f0">CSBMLExporter::createRule</a></div><div class="ttdeci">void createRule(const CModelEntity &amp;modelEntity, CCopasiDataModel &amp;dataModel, Rule *pOldRule)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d2f/CSBMLExporter_8cpp_source.html#l01937">CSBMLExporter.cpp:1937</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a2b680d670c11c7c70a45bc12e236b2e8"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d3/d05/CChemEqParser__yacc_8cpp.html#aa76fec002b4ba91adc88f68d56ba730c">void</a> CSBMLExporter::createSBMLDocument </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d4/d18/classCCopasiDataModel.html">CCopasiDataModel</a> &amp;&#160;</td>
          <td class="paramname"><em>dataModel</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Creates an SBMLDocument from the given CCopasiDataModelObject. It checks if an SBMLDocument already exists from an import and if this is the case, the old document is copied. If none exists a new one is created. Copying the old one makes sure that if something goes wrong during export, the original model is still consistent. </p>

<p>Definition at line <a class="el" href="../../d5/d2f/CSBMLExporter_8cpp_source.html#l03399">3399</a> of file <a class="el" href="../../d5/d2f/CSBMLExporter_8cpp_source.html">CSBMLExporter.cpp</a>.</p>

<p>References <a class="el" href="../../d5/d2f/CSBMLExporter_8cpp.html#ab41602fb6a2045ded20d83d2bf3523b6">addInitialAssignmentsToModel()</a>, <a class="el" href="../../df/d80/classCSBMLExporter.html#af845ecb1f47ed78265a8ae303743b82b">assignSBMLIdsToReactions()</a>, <a class="el" href="../../df/d80/classCSBMLExporter.html#a773138e50be3ecf6cd3e42d002d553e4">checkForInitialAssignments()</a>, <a class="el" href="../../da/d9f/classSBMLUtils.html#a76ac586e8c7b5d3f8ed7ac6873e6e548">SBMLUtils::collectIds()</a>, <a class="el" href="../../df/d80/classCSBMLExporter.html#a465e0e27fef68f20231be2de837b71b2">collectIds()</a>, <a class="el" href="../../df/d80/classCSBMLExporter.html#a2039c651840bace8d1f24f4b632eee1d">convertToLevel1()</a>, <a class="el" href="../../df/d80/classCSBMLExporter.html#a9d63824ae3cd33d9733f7147f8985bf7">createCompartments()</a>, <a class="el" href="../../df/d80/classCSBMLExporter.html#a5b27af3781d1e84d2235d0cb135a6963">createEvents()</a>, <a class="el" href="../../df/d80/classCSBMLExporter.html#a5349f8758c324eef2da6a4ecfe0df888">createFunctionDefinitions()</a>, <a class="el" href="../../df/d80/classCSBMLExporter.html#a165664a6805421e7bf448ccd3604b7ed">createInitialAssignments()</a>, <a class="el" href="../../df/d80/classCSBMLExporter.html#ace48aaa532a60b2651d42618b5484b36">createMetabolites()</a>, <a class="el" href="../../df/d80/classCSBMLExporter.html#a11ac856283e54271fe2d9c9b849d2c30">createParameters()</a>, <a class="el" href="../../df/d80/classCSBMLExporter.html#ab4b8c42274fd0afd191d498efe36146a">createReactions()</a>, <a class="el" href="../../df/d80/classCSBMLExporter.html#a9c713fa0fc07f12f35ee1c59ba65db01">createRules()</a>, <a class="el" href="../../df/d80/classCSBMLExporter.html#ab4d7f9c3d22b8225d1a4d9e3a98b855e">createUniqueId()</a>, <a class="el" href="../../df/d80/classCSBMLExporter.html#aa26105735e02cd59de9932914b4c2505">createUnits()</a>, <a class="el" href="../../d2/df0/classCCopasiMessage.html#a2ea1ed32494ff5c8d84353efcec7a5e4a568f885d73f0ea36bedfe92f6e533071">CCopasiMessage::EXCEPTION</a>, <a class="el" href="../../d9/d2d/CCopasiMessage_8h.html#a1e835c01335d6f956a78adf106ed1b15">fatalError</a>, <a class="el" href="../../df/d80/classCSBMLExporter.html#aaa3a1af5de4a31e157bd7515cf5ed671">findAvogadro()</a>, <a class="el" href="../../d4/d18/classCCopasiDataModel.html#a0b614521199ffa993c50c228c1b22ee5">CCopasiDataModel::getCurrentSBMLDocument()</a>, <a class="el" href="../../d0/da0/classCModelEntity.html#a6ab0231058041dd42d002d8b9fa34780">CModelEntity::getKey()</a>, <a class="el" href="../../d4/d18/classCCopasiDataModel.html#a2e65952e0caf0b2709d381cf949fec69">CCopasiDataModel::getModel()</a>, <a class="el" href="../../d4/da8/classCCopasiObject.html#a879d6756b51f6b58d307940e1343bd10">CCopasiObject::getObjectName()</a>, <a class="el" href="../../d0/da0/classCModelEntity.html#a5c8d403c6027f59d1cc3e1ccc2d9efac">CModelEntity::getSBMLId()</a>, <a class="el" href="../../df/d80/classCSBMLExporter.html#adfb1a82cc1a827d3ef1f353937cfad49">hasVolumeAssignment()</a>, <a class="el" href="../../df/d80/classCSBMLExporter.html#a57b7199230b68903fd1af9531ec6fbb7">mAvogadroCreated</a>, <a class="el" href="../../df/d80/classCSBMLExporter.html#aeb19f9866a1735848770125dad2aebad">mCOPASI2SBMLMap</a>, <a class="el" href="../../df/d80/classCSBMLExporter.html#a18a364ee64c8bd23b9c6fa3442d4e6b1">mExportedFunctions</a>, <a class="el" href="../../df/d80/classCSBMLExporter.html#ab76fac48902b0d7ac43f7454ddf0f6d6">mFunctionIdMap</a>, <a class="el" href="../../df/d80/classCSBMLExporter.html#aa5207c45ebd8ce9bff303c680d2e535a">mFunctionMap</a>, <a class="el" href="../../df/d80/classCSBMLExporter.html#adc3202b6aab716f83247c9d1a4cb60e1">mHaveModelHistoryAuthorWarning</a>, <a class="el" href="../../df/d80/classCSBMLExporter.html#ad2b0ac2df8fb9a5c28e522f1cea19709">mHaveModelHistoryCreationDateWarning</a>, <a class="el" href="../../df/d80/classCSBMLExporter.html#a9b7f3e8acfbeadd9660cde953d4563cd">mHaveModelHistoryModificationDateWarning</a>, <a class="el" href="../../df/d80/classCSBMLExporter.html#a60ab409a11b90a1ca965d7702828af74">mIdMap</a>, <a class="el" href="../../df/d80/classCSBMLExporter.html#a5bd855fe9020f8c400a6cab63fb87711">mIncompatibilities</a>, <a class="el" href="../../df/d80/classCSBMLExporter.html#ac743dca5c88be1b916af33f454d1a64a">mIncompleteExport</a>, <a class="el" href="../../df/d80/classCSBMLExporter.html#ab85366b96bfd18cd3f7cf5ecc9b9d76b">mInitialValueMap</a>, <a class="el" href="../../df/d80/classCSBMLExporter.html#aa2e61de10e2d26eee4c7310beb099b13">mMetaIdMap</a>, <a class="el" href="../../df/d80/classCSBMLExporter.html#acf59a37a6e25ed5735988fd792fb1109">mpAvogadro</a>, <a class="el" href="../../df/d80/classCSBMLExporter.html#a1541a69b36b8e864883e49f0de244f81">mpSBMLDocument</a>, <a class="el" href="../../df/d80/classCSBMLExporter.html#aba959efc152f63f1709d5de60e97a651">mSBMLLevel</a>, <a class="el" href="../../df/d80/classCSBMLExporter.html#af1bc50a307a46adcce8aa8abde6dab96">mSBMLVersion</a>, <a class="el" href="../../df/d80/classCSBMLExporter.html#a64ec2c4a41a2fa37f21875281f5948d5">mVariableVolumes</a>, <a class="el" href="../../df/d80/classCSBMLExporter.html#a9cab2f1418b5678f726caac488f07858">outputIncompatibilities()</a>, <a class="el" href="../../d4/d04/classCModel.html#a6171d6a9ffa9ef95efd2de2d0c982a7a">CModel::removeModelValue()</a>, <a class="el" href="../../df/d80/classCSBMLExporter.html#a166bed353f341e4e617bff6f40ff12c4">setSBMLNotes()</a>, <a class="el" href="../../df/d80/classCSBMLExporter.html#aad340b885e5354efcf9b63b6475c59af">updateCOPASI2SBMLMap()</a>, and <a class="el" href="../../df/d80/classCSBMLExporter.html#aba8216eaf4931e0adf484832882fbe67">updateMIRIAMAnnotation()</a>.</p>

<p>Referenced by <a class="el" href="../../df/d80/classCSBMLExporter.html#ac99801bba6bcd2a66fa83d83b6ba7f85">exportModelToString()</a>.</p>
<div class="fragment"><div class="line"><a name="l03400"></a><span class="lineno"> 3400</span>&#160;{</div>
<div class="line"><a name="l03401"></a><span class="lineno"> 3401</span>&#160;  <span class="comment">// reset warnings for missing entries in modelhistory</span></div>
<div class="line"><a name="l03402"></a><span class="lineno"> 3402</span>&#160;  <a class="code" href="../../df/d80/classCSBMLExporter.html#adc3202b6aab716f83247c9d1a4cb60e1">mHaveModelHistoryAuthorWarning</a> = <span class="keyword">false</span>;</div>
<div class="line"><a name="l03403"></a><span class="lineno"> 3403</span>&#160;  <a class="code" href="../../df/d80/classCSBMLExporter.html#ad2b0ac2df8fb9a5c28e522f1cea19709">mHaveModelHistoryCreationDateWarning</a> = <span class="keyword">false</span>;</div>
<div class="line"><a name="l03404"></a><span class="lineno"> 3404</span>&#160;  <a class="code" href="../../df/d80/classCSBMLExporter.html#a9b7f3e8acfbeadd9660cde953d4563cd">mHaveModelHistoryModificationDateWarning</a> = <span class="keyword">false</span>;</div>
<div class="line"><a name="l03405"></a><span class="lineno"> 3405</span>&#160;</div>
<div class="line"><a name="l03406"></a><span class="lineno"> 3406</span>&#160;  <span class="keyword">const</span> SBMLDocument* pOldSBMLDocument = dataModel.<a class="code" href="../../d4/d18/classCCopasiDataModel.html#a0b614521199ffa993c50c228c1b22ee5">getCurrentSBMLDocument</a>();</div>
<div class="line"><a name="l03407"></a><span class="lineno"> 3407</span>&#160;  <span class="keyword">const</span> <a class="code" href="../../d4/d04/classCModel.html">CModel</a>* pModel = dataModel.<a class="code" href="../../d4/d18/classCCopasiDataModel.html#a2e65952e0caf0b2709d381cf949fec69">getModel</a>();</div>
<div class="line"><a name="l03408"></a><span class="lineno"> 3408</span>&#160;  assert(pModel != NULL);</div>
<div class="line"><a name="l03409"></a><span class="lineno"> 3409</span>&#160;</div>
<div class="line"><a name="l03410"></a><span class="lineno"> 3410</span>&#160;  <span class="keywordflow">if</span> (pOldSBMLDocument == NULL)</div>
<div class="line"><a name="l03411"></a><span class="lineno"> 3411</span>&#160;    {</div>
<div class="line"><a name="l03412"></a><span class="lineno"> 3412</span>&#160;      this-&gt;<a class="code" href="../../df/d80/classCSBMLExporter.html#a1541a69b36b8e864883e49f0de244f81">mpSBMLDocument</a> = <span class="keyword">new</span> SBMLDocument(this-&gt;<a class="code" href="../../df/d80/classCSBMLExporter.html#aba959efc152f63f1709d5de60e97a651">mSBMLLevel</a>, this-&gt;<a class="code" href="../../df/d80/classCSBMLExporter.html#af1bc50a307a46adcce8aa8abde6dab96">mSBMLVersion</a>);</div>
<div class="line"><a name="l03413"></a><span class="lineno"> 3413</span>&#160;    }</div>
<div class="line"><a name="l03414"></a><span class="lineno"> 3414</span>&#160;  <span class="keywordflow">else</span></div>
<div class="line"><a name="l03415"></a><span class="lineno"> 3415</span>&#160;    {</div>
<div class="line"><a name="l03416"></a><span class="lineno"> 3416</span>&#160;      this-&gt;<a class="code" href="../../df/d80/classCSBMLExporter.html#a1541a69b36b8e864883e49f0de244f81">mpSBMLDocument</a> = <span class="keyword">dynamic_cast&lt;</span>SBMLDocument*<span class="keyword">&gt;</span>(pOldSBMLDocument-&gt;clone());</div>
<div class="line"><a name="l03417"></a><span class="lineno"> 3417</span>&#160;    }</div>
<div class="line"><a name="l03418"></a><span class="lineno"> 3418</span>&#160;</div>
<div class="line"><a name="l03419"></a><span class="lineno"> 3419</span>&#160;  <span class="keywordflow">if</span> (this-&gt;<a class="code" href="../../df/d80/classCSBMLExporter.html#a1541a69b36b8e864883e49f0de244f81">mpSBMLDocument</a> == NULL) <a class="code" href="../../d9/d2d/CCopasiMessage_8h.html#a1e835c01335d6f956a78adf106ed1b15">fatalError</a>();</div>
<div class="line"><a name="l03420"></a><span class="lineno"> 3420</span>&#160;</div>
<div class="line"><a name="l03421"></a><span class="lineno"> 3421</span>&#160;<span class="preprocessor">#if LIBSBML_VERSION &gt;= 50000</span></div>
<div class="line"><a name="l03422"></a><span class="lineno"> 3422</span>&#160;<span class="preprocessor"></span>  <span class="keyword">const</span> std::string uri = (this-&gt;<a class="code" href="../../df/d80/classCSBMLExporter.html#aba959efc152f63f1709d5de60e97a651">mSBMLLevel</a> &lt; 3 ? LayoutExtension::getXmlnsL2() : LayoutExtension::getXmlnsL3V1V1());</div>
<div class="line"><a name="l03423"></a><span class="lineno"> 3423</span>&#160;  this-&gt;<a class="code" href="../../df/d80/classCSBMLExporter.html#a1541a69b36b8e864883e49f0de244f81">mpSBMLDocument</a>-&gt;enablePackage(uri, <span class="stringliteral">&quot;layout&quot;</span>, <span class="keyword">true</span>);</div>
<div class="line"><a name="l03424"></a><span class="lineno"> 3424</span>&#160;</div>
<div class="line"><a name="l03425"></a><span class="lineno"> 3425</span>&#160;  <span class="keywordflow">if</span> (this-&gt;<a class="code" href="../../df/d80/classCSBMLExporter.html#aba959efc152f63f1709d5de60e97a651">mSBMLLevel</a> &gt; 2)</div>
<div class="line"><a name="l03426"></a><span class="lineno"> 3426</span>&#160;    this-&gt;<a class="code" href="../../df/d80/classCSBMLExporter.html#a1541a69b36b8e864883e49f0de244f81">mpSBMLDocument</a>-&gt;setPackageRequired(<span class="stringliteral">&quot;layout&quot;</span>, <span class="keyword">false</span>);</div>
<div class="line"><a name="l03427"></a><span class="lineno"> 3427</span>&#160;</div>
<div class="line"><a name="l03428"></a><span class="lineno"> 3428</span>&#160;  <span class="keyword">const</span> std::string renderuri = (this-&gt;<a class="code" href="../../df/d80/classCSBMLExporter.html#aba959efc152f63f1709d5de60e97a651">mSBMLLevel</a> &lt; 3 ? RenderExtension::getXmlnsL2() : RenderExtension::getXmlnsL3V1V1());</div>
<div class="line"><a name="l03429"></a><span class="lineno"> 3429</span>&#160;  this-&gt;<a class="code" href="../../df/d80/classCSBMLExporter.html#a1541a69b36b8e864883e49f0de244f81">mpSBMLDocument</a>-&gt;enablePackage(renderuri, <span class="stringliteral">&quot;render&quot;</span>, <span class="keyword">true</span>);</div>
<div class="line"><a name="l03430"></a><span class="lineno"> 3430</span>&#160;</div>
<div class="line"><a name="l03431"></a><span class="lineno"> 3431</span>&#160;  <span class="keywordflow">if</span> (this-&gt;<a class="code" href="../../df/d80/classCSBMLExporter.html#aba959efc152f63f1709d5de60e97a651">mSBMLLevel</a> &gt; 2)</div>
<div class="line"><a name="l03432"></a><span class="lineno"> 3432</span>&#160;    this-&gt;<a class="code" href="../../df/d80/classCSBMLExporter.html#a1541a69b36b8e864883e49f0de244f81">mpSBMLDocument</a>-&gt;setPackageRequired(<span class="stringliteral">&quot;render&quot;</span>, <span class="keyword">false</span>);</div>
<div class="line"><a name="l03433"></a><span class="lineno"> 3433</span>&#160;</div>
<div class="line"><a name="l03434"></a><span class="lineno"> 3434</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l03435"></a><span class="lineno"> 3435</span>&#160;<span class="preprocessor"></span></div>
<div class="line"><a name="l03436"></a><span class="lineno"> 3436</span>&#160;  <span class="keywordflow">if</span> (this-&gt;<a class="code" href="../../df/d80/classCSBMLExporter.html#a1541a69b36b8e864883e49f0de244f81">mpSBMLDocument</a>-&gt;getModel() == NULL)</div>
<div class="line"><a name="l03437"></a><span class="lineno"> 3437</span>&#160;    {</div>
<div class="line"><a name="l03438"></a><span class="lineno"> 3438</span>&#160;      <span class="comment">// there might still be COPASI object that have an SBML id, we have to</span></div>
<div class="line"><a name="l03439"></a><span class="lineno"> 3439</span>&#160;      <span class="comment">// collect those as well</span></div>
<div class="line"><a name="l03440"></a><span class="lineno"> 3440</span>&#160;      <a class="code" href="../../df/d80/classCSBMLExporter.html#a465e0e27fef68f20231be2de837b71b2">CSBMLExporter::collectIds</a>(dataModel, this-&gt;<a class="code" href="../../df/d80/classCSBMLExporter.html#a60ab409a11b90a1ca965d7702828af74">mIdMap</a>);</div>
<div class="line"><a name="l03441"></a><span class="lineno"> 3441</span>&#160;      std::string <span class="keywordtype">id</span> = pModel-&gt;<a class="code" href="../../d0/da0/classCModelEntity.html#a5c8d403c6027f59d1cc3e1ccc2d9efac">getSBMLId</a>();</div>
<div class="line"><a name="l03442"></a><span class="lineno"> 3442</span>&#160;</div>
<div class="line"><a name="l03443"></a><span class="lineno"> 3443</span>&#160;      <span class="keywordflow">if</span> (<span class="keywordtype">id</span>.empty())</div>
<div class="line"><a name="l03444"></a><span class="lineno"> 3444</span>&#160;        {</div>
<div class="line"><a name="l03445"></a><span class="lineno"> 3445</span>&#160;          <span class="keywordtype">id</span> = <a class="code" href="../../df/d80/classCSBMLExporter.html#ab4d7f9c3d22b8225d1a4d9e3a98b855e">CSBMLExporter::createUniqueId</a>(this-&gt;<a class="code" href="../../df/d80/classCSBMLExporter.html#a60ab409a11b90a1ca965d7702828af74">mIdMap</a>, pModel-&gt;<a class="code" href="../../d4/da8/classCCopasiObject.html#a879d6756b51f6b58d307940e1343bd10">getObjectName</a>(), <span class="keyword">false</span>);</div>
<div class="line"><a name="l03446"></a><span class="lineno"> 3446</span>&#160;          this-&gt;<a class="code" href="../../df/d80/classCSBMLExporter.html#a60ab409a11b90a1ca965d7702828af74">mIdMap</a>.insert(std::pair&lt;const std::string, const SBase*&gt;(<span class="keywordtype">id</span>, this-&gt;<a class="code" href="../../df/d80/classCSBMLExporter.html#a1541a69b36b8e864883e49f0de244f81">mpSBMLDocument</a>-&gt;getModel()));</div>
<div class="line"><a name="l03447"></a><span class="lineno"> 3447</span>&#160;        }</div>
<div class="line"><a name="l03448"></a><span class="lineno"> 3448</span>&#160;</div>
<div class="line"><a name="l03449"></a><span class="lineno"> 3449</span>&#160;      this-&gt;<a class="code" href="../../df/d80/classCSBMLExporter.html#a1541a69b36b8e864883e49f0de244f81">mpSBMLDocument</a>-&gt;createModel(<span class="keywordtype">id</span>);</div>
<div class="line"><a name="l03450"></a><span class="lineno"> 3450</span>&#160;    }</div>
<div class="line"><a name="l03451"></a><span class="lineno"> 3451</span>&#160;  <span class="keywordflow">else</span></div>
<div class="line"><a name="l03452"></a><span class="lineno"> 3452</span>&#160;    {</div>
<div class="line"><a name="l03453"></a><span class="lineno"> 3453</span>&#160;      <a class="code" href="../../da/d9f/classSBMLUtils.html#a76ac586e8c7b5d3f8ed7ac6873e6e548">SBMLUtils::collectIds</a>(this-&gt;<a class="code" href="../../df/d80/classCSBMLExporter.html#a1541a69b36b8e864883e49f0de244f81">mpSBMLDocument</a>-&gt;getModel(), this-&gt;<a class="code" href="../../df/d80/classCSBMLExporter.html#a60ab409a11b90a1ca965d7702828af74">mIdMap</a>, this-&gt;<a class="code" href="../../df/d80/classCSBMLExporter.html#aa2e61de10e2d26eee4c7310beb099b13">mMetaIdMap</a>);</div>
<div class="line"><a name="l03454"></a><span class="lineno"> 3454</span>&#160;    }</div>
<div class="line"><a name="l03455"></a><span class="lineno"> 3455</span>&#160;</div>
<div class="line"><a name="l03456"></a><span class="lineno"> 3456</span>&#160;  this-&gt;<a class="code" href="../../df/d80/classCSBMLExporter.html#ab76fac48902b0d7ac43f7454ddf0f6d6">mFunctionIdMap</a>.clear();</div>
<div class="line"><a name="l03457"></a><span class="lineno"> 3457</span>&#160;  <span class="comment">// update the copasi2sbmlmap</span></div>
<div class="line"><a name="l03458"></a><span class="lineno"> 3458</span>&#160;  <a class="code" href="../../df/d80/classCSBMLExporter.html#aad340b885e5354efcf9b63b6475c59af">updateCOPASI2SBMLMap</a>(dataModel);</div>
<div class="line"><a name="l03459"></a><span class="lineno"> 3459</span>&#160;  <span class="comment">// update the comments on the model</span></div>
<div class="line"><a name="l03460"></a><span class="lineno"> 3460</span>&#160;  this-&gt;<a class="code" href="../../df/d80/classCSBMLExporter.html#a1541a69b36b8e864883e49f0de244f81">mpSBMLDocument</a>-&gt;getModel()-&gt;setName(pModel-&gt;<a class="code" href="../../d4/da8/classCCopasiObject.html#a879d6756b51f6b58d307940e1343bd10">getObjectName</a>());</div>
<div class="line"><a name="l03461"></a><span class="lineno"> 3461</span>&#160;</div>
<div class="line"><a name="l03462"></a><span class="lineno"> 3462</span>&#160;  <span class="keywordflow">if</span> (pModel != NULL &amp;&amp; this-&gt;<a class="code" href="../../df/d80/classCSBMLExporter.html#a1541a69b36b8e864883e49f0de244f81">mpSBMLDocument</a>-&gt;getModel() != NULL)</div>
<div class="line"><a name="l03463"></a><span class="lineno"> 3463</span>&#160;    {</div>
<div class="line"><a name="l03464"></a><span class="lineno"> 3464</span>&#160;      <a class="code" href="../../df/d80/classCSBMLExporter.html#a166bed353f341e4e617bff6f40ff12c4">CSBMLExporter::setSBMLNotes</a>(this-&gt;<a class="code" href="../../df/d80/classCSBMLExporter.html#a1541a69b36b8e864883e49f0de244f81">mpSBMLDocument</a>-&gt;getModel(), pModel);</div>
<div class="line"><a name="l03465"></a><span class="lineno"> 3465</span>&#160;    }</div>
<div class="line"><a name="l03466"></a><span class="lineno"> 3466</span>&#160;</div>
<div class="line"><a name="l03467"></a><span class="lineno"> 3467</span>&#160;  <span class="comment">// update the MIRIAM annotation on the model</span></div>
<div class="line"><a name="l03468"></a><span class="lineno"> 3468</span>&#160;  <a class="code" href="../../df/d80/classCSBMLExporter.html#aba8216eaf4931e0adf484832882fbe67">CSBMLExporter::updateMIRIAMAnnotation</a>(pModel, this-&gt;<a class="code" href="../../df/d80/classCSBMLExporter.html#a1541a69b36b8e864883e49f0de244f81">mpSBMLDocument</a>-&gt;getModel(), this-&gt;<a class="code" href="../../df/d80/classCSBMLExporter.html#aa2e61de10e2d26eee4c7310beb099b13">mMetaIdMap</a>);</div>
<div class="line"><a name="l03469"></a><span class="lineno"> 3469</span>&#160;<span class="preprocessor">#if LIBSBML_VERSION &gt;= 40100</span></div>
<div class="line"><a name="l03470"></a><span class="lineno"> 3470</span>&#160;<span class="preprocessor"></span></div>
<div class="line"><a name="l03471"></a><span class="lineno"> 3471</span>&#160;  <span class="keywordflow">if</span> (this-&gt;<a class="code" href="../../df/d80/classCSBMLExporter.html#aba959efc152f63f1709d5de60e97a651">mSBMLLevel</a> &gt; 2)</div>
<div class="line"><a name="l03472"></a><span class="lineno"> 3472</span>&#160;    {</div>
<div class="line"><a name="l03473"></a><span class="lineno"> 3473</span>&#160;      <span class="comment">// we have to remove the conversionFactor because on import we multiplied the stoichiometries</span></div>
<div class="line"><a name="l03474"></a><span class="lineno"> 3474</span>&#160;      <span class="comment">// with this factor</span></div>
<div class="line"><a name="l03475"></a><span class="lineno"> 3475</span>&#160;      this-&gt;<a class="code" href="../../df/d80/classCSBMLExporter.html#a1541a69b36b8e864883e49f0de244f81">mpSBMLDocument</a>-&gt;getModel()-&gt;unsetConversionFactor();</div>
<div class="line"><a name="l03476"></a><span class="lineno"> 3476</span>&#160;    }</div>
<div class="line"><a name="l03477"></a><span class="lineno"> 3477</span>&#160;</div>
<div class="line"><a name="l03478"></a><span class="lineno"> 3478</span>&#160;<span class="preprocessor">#endif // LIBSBML_VERSION</span></div>
<div class="line"><a name="l03479"></a><span class="lineno"> 3479</span>&#160;<span class="preprocessor"></span></div>
<div class="line"><a name="l03480"></a><span class="lineno"> 3480</span>&#160;  <span class="comment">// create units, compartments, species, parameters, reactions, initial</span></div>
<div class="line"><a name="l03481"></a><span class="lineno"> 3481</span>&#160;  <span class="comment">// assignment, assignments, (event) and function definitions</span></div>
<div class="line"><a name="l03482"></a><span class="lineno"> 3482</span>&#160;  <a class="code" href="../../df/d80/classCSBMLExporter.html#aa26105735e02cd59de9932914b4c2505">createUnits</a>(dataModel);</div>
<div class="line"><a name="l03483"></a><span class="lineno"> 3483</span>&#160;  <span class="comment">// try to find a parameter that represents Avogadros number</span></div>
<div class="line"><a name="l03484"></a><span class="lineno"> 3484</span>&#160;  <a class="code" href="../../df/d80/classCSBMLExporter.html#aaa3a1af5de4a31e157bd7515cf5ed671">findAvogadro</a>(dataModel);</div>
<div class="line"><a name="l03485"></a><span class="lineno"> 3485</span>&#160;</div>
<div class="line"><a name="l03486"></a><span class="lineno"> 3486</span>&#160;  <span class="comment">// check if there is an assignment to a volume</span></div>
<div class="line"><a name="l03487"></a><span class="lineno"> 3487</span>&#160;  <span class="comment">// in that case we has to export all species with the</span></div>
<div class="line"><a name="l03488"></a><span class="lineno"> 3488</span>&#160;  <span class="comment">// hasOnlySubstanceUnits flag set to true</span></div>
<div class="line"><a name="l03489"></a><span class="lineno"> 3489</span>&#160;  this-&gt;<a class="code" href="../../df/d80/classCSBMLExporter.html#a64ec2c4a41a2fa37f21875281f5948d5">mVariableVolumes</a> = this-&gt;<a class="code" href="../../df/d80/classCSBMLExporter.html#adfb1a82cc1a827d3ef1f353937cfad49">hasVolumeAssignment</a>(dataModel);</div>
<div class="line"><a name="l03490"></a><span class="lineno"> 3490</span>&#160;</div>
<div class="line"><a name="l03491"></a><span class="lineno"> 3491</span>&#160;  <a class="code" href="../../df/d80/classCSBMLExporter.html#a9d63824ae3cd33d9733f7147f8985bf7">createCompartments</a>(dataModel);</div>
<div class="line"><a name="l03492"></a><span class="lineno"> 3492</span>&#160;  <a class="code" href="../../df/d80/classCSBMLExporter.html#ace48aaa532a60b2651d42618b5484b36">createMetabolites</a>(dataModel);</div>
<div class="line"><a name="l03493"></a><span class="lineno"> 3493</span>&#160;  <a class="code" href="../../df/d80/classCSBMLExporter.html#a11ac856283e54271fe2d9c9b849d2c30">createParameters</a>(dataModel);</div>
<div class="line"><a name="l03494"></a><span class="lineno"> 3494</span>&#160;</div>
<div class="line"><a name="l03495"></a><span class="lineno"> 3495</span>&#160;  <span class="comment">// TODO here we should check the expressions but the function definitions</span></div>
<div class="line"><a name="l03496"></a><span class="lineno"> 3496</span>&#160;  <span class="comment">// TODO have not been created yet, so we can&#39;t</span></div>
<div class="line"><a name="l03497"></a><span class="lineno"> 3497</span>&#160;  <span class="comment">// TODO Maybe we don&#39;t have to do all checks here.</span></div>
<div class="line"><a name="l03498"></a><span class="lineno"> 3498</span>&#160;  <span class="comment">// TODO it would probably be enough to check if the expressions are valid and</span></div>
<div class="line"><a name="l03499"></a><span class="lineno"> 3499</span>&#160;  <span class="comment">// TODO to check the function calls later on when the functions are created.</span></div>
<div class="line"><a name="l03500"></a><span class="lineno"> 3500</span>&#160;</div>
<div class="line"><a name="l03501"></a><span class="lineno"> 3501</span>&#160;  <span class="comment">// only export initial assignments for Level 2 Version 2 and above</span></div>
<div class="line"><a name="l03502"></a><span class="lineno"> 3502</span>&#160;  <span class="keywordflow">if</span> (this-&gt;<a class="code" href="../../df/d80/classCSBMLExporter.html#aba959efc152f63f1709d5de60e97a651">mSBMLLevel</a> != 1 &amp;&amp; !(this-&gt;<a class="code" href="../../df/d80/classCSBMLExporter.html#aba959efc152f63f1709d5de60e97a651">mSBMLLevel</a> == 2 &amp;&amp; this-&gt;<a class="code" href="../../df/d80/classCSBMLExporter.html#af1bc50a307a46adcce8aa8abde6dab96">mSBMLVersion</a> == 1))</div>
<div class="line"><a name="l03503"></a><span class="lineno"> 3503</span>&#160;    {</div>
<div class="line"><a name="l03504"></a><span class="lineno"> 3504</span>&#160;      <a class="code" href="../../df/d80/classCSBMLExporter.html#a165664a6805421e7bf448ccd3604b7ed">createInitialAssignments</a>(dataModel);</div>
<div class="line"><a name="l03505"></a><span class="lineno"> 3505</span>&#160;    }</div>
<div class="line"><a name="l03506"></a><span class="lineno"> 3506</span>&#160;  <span class="keywordflow">else</span></div>
<div class="line"><a name="l03507"></a><span class="lineno"> 3507</span>&#160;    {</div>
<div class="line"><a name="l03508"></a><span class="lineno"> 3508</span>&#160;      <a class="code" href="../../df/d80/classCSBMLExporter.html#a773138e50be3ecf6cd3e42d002d553e4">checkForInitialAssignments</a>(dataModel, this-&gt;<a class="code" href="../../df/d80/classCSBMLExporter.html#a5bd855fe9020f8c400a6cab63fb87711">mIncompatibilities</a>);</div>
<div class="line"><a name="l03509"></a><span class="lineno"> 3509</span>&#160;    }</div>
<div class="line"><a name="l03510"></a><span class="lineno"> 3510</span>&#160;</div>
<div class="line"><a name="l03511"></a><span class="lineno"> 3511</span>&#160;  <span class="comment">// since the flux of a reaction can be referenced in an assignment,</span></div>
<div class="line"><a name="l03512"></a><span class="lineno"> 3512</span>&#160;  <span class="comment">// we have to make sure that asll reactions do have SBML Ids prior to creating the rules</span></div>
<div class="line"><a name="l03513"></a><span class="lineno"> 3513</span>&#160;  <span class="comment">// and events</span></div>
<div class="line"><a name="l03514"></a><span class="lineno"> 3514</span>&#160;  <a class="code" href="../../df/d80/classCSBMLExporter.html#af845ecb1f47ed78265a8ae303743b82b">assignSBMLIdsToReactions</a>(dataModel.<a class="code" href="../../d4/d18/classCCopasiDataModel.html#a2e65952e0caf0b2709d381cf949fec69">getModel</a>());</div>
<div class="line"><a name="l03515"></a><span class="lineno"> 3515</span>&#160;</div>
<div class="line"><a name="l03516"></a><span class="lineno"> 3516</span>&#160;  <a class="code" href="../../df/d80/classCSBMLExporter.html#a9c713fa0fc07f12f35ee1c59ba65db01">createRules</a>(dataModel);</div>
<div class="line"><a name="l03517"></a><span class="lineno"> 3517</span>&#160;  <a class="code" href="../../df/d80/classCSBMLExporter.html#a5b27af3781d1e84d2235d0cb135a6963">createEvents</a>(dataModel);</div>
<div class="line"><a name="l03518"></a><span class="lineno"> 3518</span>&#160;</div>
<div class="line"><a name="l03519"></a><span class="lineno"> 3519</span>&#160;  <span class="comment">// we have to export the reactions after all other entities that have</span></div>
<div class="line"><a name="l03520"></a><span class="lineno"> 3520</span>&#160;  <span class="comment">// expressions since an expression could contain a local parameter</span></div>
<div class="line"><a name="l03521"></a><span class="lineno"> 3521</span>&#160;  <span class="comment">// If it did, it would have to be converted to a global parameter and that</span></div>
<div class="line"><a name="l03522"></a><span class="lineno"> 3522</span>&#160;  <span class="comment">// has to be taken into consideration when creating the reactions</span></div>
<div class="line"><a name="l03523"></a><span class="lineno"> 3523</span>&#160;  <a class="code" href="../../df/d80/classCSBMLExporter.html#ab4b8c42274fd0afd191d498efe36146a">createReactions</a>(dataModel);</div>
<div class="line"><a name="l03524"></a><span class="lineno"> 3524</span>&#160;  <span class="comment">// find all used functions</span></div>
<div class="line"><a name="l03525"></a><span class="lineno"> 3525</span>&#160;  <a class="code" href="../../df/d80/classCSBMLExporter.html#a5349f8758c324eef2da6a4ecfe0df888">createFunctionDefinitions</a>(dataModel);</div>
<div class="line"><a name="l03526"></a><span class="lineno"> 3526</span>&#160;</div>
<div class="line"><a name="l03527"></a><span class="lineno"> 3527</span>&#160;  <span class="keywordflow">if</span> (this-&gt;<a class="code" href="../../df/d80/classCSBMLExporter.html#aba959efc152f63f1709d5de60e97a651">mSBMLLevel</a> == 1)</div>
<div class="line"><a name="l03528"></a><span class="lineno"> 3528</span>&#160;    {</div>
<div class="line"><a name="l03529"></a><span class="lineno"> 3529</span>&#160;      <span class="comment">// do SBML Level1 Voodoo</span></div>
<div class="line"><a name="l03530"></a><span class="lineno"> 3530</span>&#160;      <span class="comment">// e.g. replace some of the unsupported nodes with workarounds</span></div>
<div class="line"><a name="l03531"></a><span class="lineno"> 3531</span>&#160;      <a class="code" href="../../df/d80/classCSBMLExporter.html#a2039c651840bace8d1f24f4b632eee1d">convertToLevel1</a>();</div>
<div class="line"><a name="l03532"></a><span class="lineno"> 3532</span>&#160;      <span class="comment">// delete all function definitions since L1 does not have functions</span></div>
<div class="line"><a name="l03533"></a><span class="lineno"> 3533</span>&#160;      Model* pSBMLModel = this-&gt;<a class="code" href="../../df/d80/classCSBMLExporter.html#a1541a69b36b8e864883e49f0de244f81">mpSBMLDocument</a>-&gt;getModel();</div>
<div class="line"><a name="l03534"></a><span class="lineno"> 3534</span>&#160;      assert(pSBMLModel != NULL);</div>
<div class="line"><a name="l03535"></a><span class="lineno"> 3535</span>&#160;      <span class="keywordtype">int</span> i = pSBMLModel-&gt;getListOfFunctionDefinitions()-&gt;size();</div>
<div class="line"><a name="l03536"></a><span class="lineno"> 3536</span>&#160;</div>
<div class="line"><a name="l03537"></a><span class="lineno"> 3537</span>&#160;      <span class="keywordflow">while</span> (i &gt; 0)</div>
<div class="line"><a name="l03538"></a><span class="lineno"> 3538</span>&#160;        {</div>
<div class="line"><a name="l03539"></a><span class="lineno"> 3539</span>&#160;          --i;</div>
<div class="line"><a name="l03540"></a><span class="lineno"> 3540</span>&#160;          <span class="comment">// fix for bug 1086</span></div>
<div class="line"><a name="l03541"></a><span class="lineno"> 3541</span>&#160;          <span class="comment">// remove the object from the COPASI2SBML Map</span></div>
<div class="line"><a name="l03542"></a><span class="lineno"> 3542</span>&#160;          std::map&lt;const CCopasiObject*, SBase*&gt;::iterator it = this-&gt;<a class="code" href="../../df/d80/classCSBMLExporter.html#aeb19f9866a1735848770125dad2aebad">mCOPASI2SBMLMap</a>.begin(), endit = this-&gt;<a class="code" href="../../df/d80/classCSBMLExporter.html#aeb19f9866a1735848770125dad2aebad">mCOPASI2SBMLMap</a>.end();</div>
<div class="line"><a name="l03543"></a><span class="lineno"> 3543</span>&#160;</div>
<div class="line"><a name="l03544"></a><span class="lineno"> 3544</span>&#160;          <span class="keywordflow">while</span> (it != endit)</div>
<div class="line"><a name="l03545"></a><span class="lineno"> 3545</span>&#160;            {</div>
<div class="line"><a name="l03546"></a><span class="lineno"> 3546</span>&#160;              <span class="keywordflow">if</span> (it-&gt;second == pSBMLModel-&gt;getFunctionDefinition(i))</div>
<div class="line"><a name="l03547"></a><span class="lineno"> 3547</span>&#160;                {</div>
<div class="line"><a name="l03548"></a><span class="lineno"> 3548</span>&#160;                  this-&gt;<a class="code" href="../../df/d80/classCSBMLExporter.html#aeb19f9866a1735848770125dad2aebad">mCOPASI2SBMLMap</a>.erase(it);</div>
<div class="line"><a name="l03549"></a><span class="lineno"> 3549</span>&#160;                  <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l03550"></a><span class="lineno"> 3550</span>&#160;                }</div>
<div class="line"><a name="l03551"></a><span class="lineno"> 3551</span>&#160;</div>
<div class="line"><a name="l03552"></a><span class="lineno"> 3552</span>&#160;              ++it;</div>
<div class="line"><a name="l03553"></a><span class="lineno"> 3553</span>&#160;            }</div>
<div class="line"><a name="l03554"></a><span class="lineno"> 3554</span>&#160;</div>
<div class="line"><a name="l03555"></a><span class="lineno"> 3555</span>&#160;          <span class="keyword">delete</span> pSBMLModel-&gt;getListOfFunctionDefinitions()-&gt;remove(i);</div>
<div class="line"><a name="l03556"></a><span class="lineno"> 3556</span>&#160;        }</div>
<div class="line"><a name="l03557"></a><span class="lineno"> 3557</span>&#160;    }</div>
<div class="line"><a name="l03558"></a><span class="lineno"> 3558</span>&#160;  <span class="keywordflow">else</span></div>
<div class="line"><a name="l03559"></a><span class="lineno"> 3559</span>&#160;    {</div>
<div class="line"><a name="l03560"></a><span class="lineno"> 3560</span>&#160;      <span class="comment">// add all function definitions to the model</span></div>
<div class="line"><a name="l03561"></a><span class="lineno"> 3561</span>&#160;      Model* pSBMLModel = this-&gt;<a class="code" href="../../df/d80/classCSBMLExporter.html#a1541a69b36b8e864883e49f0de244f81">mpSBMLDocument</a>-&gt;getModel();</div>
<div class="line"><a name="l03562"></a><span class="lineno"> 3562</span>&#160;      assert(pSBMLModel != NULL);</div>
<div class="line"><a name="l03563"></a><span class="lineno"> 3563</span>&#160;</div>
<div class="line"><a name="l03564"></a><span class="lineno"> 3564</span>&#160;      <span class="keywordflow">if</span> (pSBMLModel != NULL)</div>
<div class="line"><a name="l03565"></a><span class="lineno"> 3565</span>&#160;        {</div>
<div class="line"><a name="l03566"></a><span class="lineno"> 3566</span>&#160;          <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> i = 0, iMax = this-&gt;<a class="code" href="../../df/d80/classCSBMLExporter.html#a18a364ee64c8bd23b9c6fa3442d4e6b1">mExportedFunctions</a>.size();</div>
<div class="line"><a name="l03567"></a><span class="lineno"> 3567</span>&#160;<span class="preprocessor">#if LIBSBML_VERSION &gt;= 40100</span></div>
<div class="line"><a name="l03568"></a><span class="lineno"> 3568</span>&#160;<span class="preprocessor"></span>          <span class="keywordtype">int</span> result;</div>
<div class="line"><a name="l03569"></a><span class="lineno"> 3569</span>&#160;<span class="preprocessor">#endif // LIBSBML_VERSION &gt;= 40100</span></div>
<div class="line"><a name="l03570"></a><span class="lineno"> 3570</span>&#160;<span class="preprocessor"></span>          FunctionDefinition* pFunDef = NULL;</div>
<div class="line"><a name="l03571"></a><span class="lineno"> 3571</span>&#160;          std::map&lt;const FunctionDefinition*, const CCopasiObject*&gt;::const_iterator funPos;</div>
<div class="line"><a name="l03572"></a><span class="lineno"> 3572</span>&#160;</div>
<div class="line"><a name="l03573"></a><span class="lineno"> 3573</span>&#160;          <span class="keywordflow">while</span> (i &lt; iMax)</div>
<div class="line"><a name="l03574"></a><span class="lineno"> 3574</span>&#160;            {</div>
<div class="line"><a name="l03575"></a><span class="lineno"> 3575</span>&#160;              pFunDef = this-&gt;<a class="code" href="../../df/d80/classCSBMLExporter.html#a18a364ee64c8bd23b9c6fa3442d4e6b1">mExportedFunctions</a>.get(i);</div>
<div class="line"><a name="l03576"></a><span class="lineno"> 3576</span>&#160;              assert(pFunDef != NULL);</div>
<div class="line"><a name="l03577"></a><span class="lineno"> 3577</span>&#160;              <span class="comment">// match the namespaces to those of the model</span></div>
<div class="line"><a name="l03578"></a><span class="lineno"> 3578</span>&#160;              pFunDef-&gt;setSBMLNamespaces(pSBMLModel-&gt;getSBMLNamespaces());</div>
<div class="line"><a name="l03579"></a><span class="lineno"> 3579</span>&#160;<span class="comment">// add methods only return a value starting with libsbml 4</span></div>
<div class="line"><a name="l03580"></a><span class="lineno"> 3580</span>&#160;<span class="preprocessor">#if LIBSBML_VERSION &gt;= 40100</span></div>
<div class="line"><a name="l03581"></a><span class="lineno"> 3581</span>&#160;<span class="preprocessor"></span>              result = pSBMLModel-&gt;addFunctionDefinition(pFunDef);</div>
<div class="line"><a name="l03582"></a><span class="lineno"> 3582</span>&#160;              assert(result == LIBSBML_OPERATION_SUCCESS);</div>
<div class="line"><a name="l03583"></a><span class="lineno"> 3583</span>&#160;<span class="preprocessor">#else</span></div>
<div class="line"><a name="l03584"></a><span class="lineno"> 3584</span>&#160;<span class="preprocessor"></span>              pSBMLModel-&gt;addFunctionDefinition(pFunDef);</div>
<div class="line"><a name="l03585"></a><span class="lineno"> 3585</span>&#160;              assert(pSBMLModel-&gt;getFunctionDefinition(pFunDef-&gt;getId()) != NULL);</div>
<div class="line"><a name="l03586"></a><span class="lineno"> 3586</span>&#160;<span class="preprocessor">#endif // LIBSBML_VERSION &gt;= 40100</span></div>
<div class="line"><a name="l03587"></a><span class="lineno"> 3587</span>&#160;<span class="preprocessor"></span>              <span class="comment">// now we need to add the newly created FunctionDefinition to the copasi2sbml map</span></div>
<div class="line"><a name="l03588"></a><span class="lineno"> 3588</span>&#160;              funPos = this-&gt;<a class="code" href="../../df/d80/classCSBMLExporter.html#aa5207c45ebd8ce9bff303c680d2e535a">mFunctionMap</a>.find(pFunDef);</div>
<div class="line"><a name="l03589"></a><span class="lineno"> 3589</span>&#160;              assert(funPos != this-&gt;<a class="code" href="../../df/d80/classCSBMLExporter.html#aa5207c45ebd8ce9bff303c680d2e535a">mFunctionMap</a>.end());</div>
<div class="line"><a name="l03590"></a><span class="lineno"> 3590</span>&#160;              pFunDef = pSBMLModel-&gt;getFunctionDefinition(pFunDef-&gt;getId());</div>
<div class="line"><a name="l03591"></a><span class="lineno"> 3591</span>&#160;              assert(pFunDef != NULL);</div>
<div class="line"><a name="l03592"></a><span class="lineno"> 3592</span>&#160;              this-&gt;<a class="code" href="../../df/d80/classCSBMLExporter.html#aeb19f9866a1735848770125dad2aebad">mCOPASI2SBMLMap</a>[funPos-&gt;second] = pFunDef;</div>
<div class="line"><a name="l03593"></a><span class="lineno"> 3593</span>&#160;              ++i;</div>
<div class="line"><a name="l03594"></a><span class="lineno"> 3594</span>&#160;            }</div>
<div class="line"><a name="l03595"></a><span class="lineno"> 3595</span>&#160;</div>
<div class="line"><a name="l03596"></a><span class="lineno"> 3596</span>&#160;          <span class="comment">//the assert below no longer holds, as we export uniform / normal as functiondefinitions</span></div>
<div class="line"><a name="l03597"></a><span class="lineno"> 3597</span>&#160;          <span class="comment">//assert(pSBMLModel-&gt;getNumFunctionDefinitions() == this-&gt;mExportedFunctions.size());</span></div>
<div class="line"><a name="l03598"></a><span class="lineno"> 3598</span>&#160;        }</div>
<div class="line"><a name="l03599"></a><span class="lineno"> 3599</span>&#160;    }</div>
<div class="line"><a name="l03600"></a><span class="lineno"> 3600</span>&#160;</div>
<div class="line"><a name="l03601"></a><span class="lineno"> 3601</span>&#160;  <span class="comment">// In case the document is just a clone of an old model, we have to set the level and version</span></div>
<div class="line"><a name="l03602"></a><span class="lineno"> 3602</span>&#160;  <span class="keywordflow">if</span> (this-&gt;<a class="code" href="../../df/d80/classCSBMLExporter.html#a1541a69b36b8e864883e49f0de244f81">mpSBMLDocument</a>-&gt;getLevel() != this-&gt;<a class="code" href="../../df/d80/classCSBMLExporter.html#aba959efc152f63f1709d5de60e97a651">mSBMLLevel</a> || this-&gt;<a class="code" href="../../df/d80/classCSBMLExporter.html#a1541a69b36b8e864883e49f0de244f81">mpSBMLDocument</a>-&gt;getVersion() != this-&gt;<a class="code" href="../../df/d80/classCSBMLExporter.html#af1bc50a307a46adcce8aa8abde6dab96">mSBMLVersion</a>)</div>
<div class="line"><a name="l03603"></a><span class="lineno"> 3603</span>&#160;    {</div>
<div class="line"><a name="l03604"></a><span class="lineno"> 3604</span>&#160;<span class="preprocessor">#if LIBSBML_VERSION &gt;= 50400</span></div>
<div class="line"><a name="l03605"></a><span class="lineno"> 3605</span>&#160;<span class="preprocessor"></span></div>
<div class="line"><a name="l03606"></a><span class="lineno"> 3606</span>&#160;      SBMLNamespaces targetNs(<a class="code" href="../../df/d80/classCSBMLExporter.html#aba959efc152f63f1709d5de60e97a651">mSBMLLevel</a>, <a class="code" href="../../df/d80/classCSBMLExporter.html#af1bc50a307a46adcce8aa8abde6dab96">mSBMLVersion</a>); <span class="comment">// use reference, as the ns gets cloned</span></div>
<div class="line"><a name="l03607"></a><span class="lineno"> 3607</span>&#160;</div>
<div class="line"><a name="l03608"></a><span class="lineno"> 3608</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="../../df/d80/classCSBMLExporter.html#aba959efc152f63f1709d5de60e97a651">mSBMLLevel</a> == 1 &amp;&amp; <a class="code" href="../../df/d80/classCSBMLExporter.html#af1bc50a307a46adcce8aa8abde6dab96">mSBMLVersion</a> == 1)</div>
<div class="line"><a name="l03609"></a><span class="lineno"> 3609</span>&#160;        {</div>
<div class="line"><a name="l03610"></a><span class="lineno"> 3610</span>&#160;          <span class="comment">// l1v1 export tailor made to suit GEPASI, with pow -&gt; ^ notation and</span></div>
<div class="line"><a name="l03611"></a><span class="lineno"> 3611</span>&#160;          <span class="comment">// inlining of compartment sizes in kinetics.</span></div>
<div class="line"><a name="l03612"></a><span class="lineno"> 3612</span>&#160;</div>
<div class="line"><a name="l03613"></a><span class="lineno"> 3613</span>&#160;          ConversionProperties prop(&amp;targetNs);</div>
<div class="line"><a name="l03614"></a><span class="lineno"> 3614</span>&#160;          prop.addOption(<span class="stringliteral">&quot;convertToL1V1&quot;</span>, <span class="keyword">true</span>,</div>
<div class="line"><a name="l03615"></a><span class="lineno"> 3615</span>&#160;                         <span class="stringliteral">&quot;convert the document to SBML Level 1 Version 1&quot;</span>);</div>
<div class="line"><a name="l03616"></a><span class="lineno"> 3616</span>&#160;          prop.addOption(<span class="stringliteral">&quot;changePow&quot;</span>, <span class="keyword">true</span>,</div>
<div class="line"><a name="l03617"></a><span class="lineno"> 3617</span>&#160;                         <span class="stringliteral">&quot;change pow expressions to the (^) hat notation&quot;</span>);</div>
<div class="line"><a name="l03618"></a><span class="lineno"> 3618</span>&#160;          prop.addOption(<span class="stringliteral">&quot;inlineCompartmentSizes&quot;</span>, <span class="keyword">true</span>,</div>
<div class="line"><a name="l03619"></a><span class="lineno"> 3619</span>&#160;                         <span class="stringliteral">&quot;if true, occurrances of compartment ids in expressions will be replaced with their initial size&quot;</span>);</div>
<div class="line"><a name="l03620"></a><span class="lineno"> 3620</span>&#160;</div>
<div class="line"><a name="l03621"></a><span class="lineno"> 3621</span>&#160;          <a class="code" href="../../df/d80/classCSBMLExporter.html#a1541a69b36b8e864883e49f0de244f81">mpSBMLDocument</a>-&gt;convert(prop);</div>
<div class="line"><a name="l03622"></a><span class="lineno"> 3622</span>&#160;        }</div>
<div class="line"><a name="l03623"></a><span class="lineno"> 3623</span>&#160;      <span class="keywordflow">else</span></div>
<div class="line"><a name="l03624"></a><span class="lineno"> 3624</span>&#160;        {</div>
<div class="line"><a name="l03625"></a><span class="lineno"> 3625</span>&#160;</div>
<div class="line"><a name="l03626"></a><span class="lineno"> 3626</span>&#160;          ConversionProperties prop(&amp;targetNs);</div>
<div class="line"><a name="l03627"></a><span class="lineno"> 3627</span>&#160;          prop.addOption(<span class="stringliteral">&quot;strict&quot;</span>, <span class="keyword">false</span>);</div>
<div class="line"><a name="l03628"></a><span class="lineno"> 3628</span>&#160;          prop.addOption(<span class="stringliteral">&quot;setLevelAndVersion&quot;</span>, <span class="keyword">true</span>);</div>
<div class="line"><a name="l03629"></a><span class="lineno"> 3629</span>&#160;          prop.addOption(<span class="stringliteral">&quot;ignorePackages&quot;</span>, <span class="keyword">true</span>);</div>
<div class="line"><a name="l03630"></a><span class="lineno"> 3630</span>&#160;</div>
<div class="line"><a name="l03631"></a><span class="lineno"> 3631</span>&#160;          <a class="code" href="../../df/d80/classCSBMLExporter.html#a1541a69b36b8e864883e49f0de244f81">mpSBMLDocument</a>-&gt;convert(prop);</div>
<div class="line"><a name="l03632"></a><span class="lineno"> 3632</span>&#160;        }</div>
<div class="line"><a name="l03633"></a><span class="lineno"> 3633</span>&#160;</div>
<div class="line"><a name="l03634"></a><span class="lineno"> 3634</span>&#160;<span class="preprocessor">#else</span></div>
<div class="line"><a name="l03635"></a><span class="lineno"> 3635</span>&#160;<span class="preprocessor"></span>      this-&gt;<a class="code" href="../../df/d80/classCSBMLExporter.html#a1541a69b36b8e864883e49f0de244f81">mpSBMLDocument</a>-&gt;setLevelAndVersion(this-&gt;<a class="code" href="../../df/d80/classCSBMLExporter.html#aba959efc152f63f1709d5de60e97a651">mSBMLLevel</a>, this-&gt;<a class="code" href="../../df/d80/classCSBMLExporter.html#af1bc50a307a46adcce8aa8abde6dab96">mSBMLVersion</a>);</div>
<div class="line"><a name="l03636"></a><span class="lineno"> 3636</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l03637"></a><span class="lineno"> 3637</span>&#160;<span class="preprocessor"></span>    }</div>
<div class="line"><a name="l03638"></a><span class="lineno"> 3638</span>&#160;</div>
<div class="line"><a name="l03639"></a><span class="lineno"> 3639</span>&#160;  <span class="keywordflow">if</span> (this-&gt;<a class="code" href="../../df/d80/classCSBMLExporter.html#a1541a69b36b8e864883e49f0de244f81">mpSBMLDocument</a>-&gt;getLevel() != this-&gt;<a class="code" href="../../df/d80/classCSBMLExporter.html#aba959efc152f63f1709d5de60e97a651">mSBMLLevel</a> || this-&gt;<a class="code" href="../../df/d80/classCSBMLExporter.html#a1541a69b36b8e864883e49f0de244f81">mpSBMLDocument</a>-&gt;getVersion() != this-&gt;<a class="code" href="../../df/d80/classCSBMLExporter.html#af1bc50a307a46adcce8aa8abde6dab96">mSBMLVersion</a>)</div>
<div class="line"><a name="l03640"></a><span class="lineno"> 3640</span>&#160;    {</div>
<div class="line"><a name="l03641"></a><span class="lineno"> 3641</span>&#160;      <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> i, iMax = this-&gt;<a class="code" href="../../df/d80/classCSBMLExporter.html#a1541a69b36b8e864883e49f0de244f81">mpSBMLDocument</a>-&gt;getNumErrors();</div>
<div class="line"><a name="l03642"></a><span class="lineno"> 3642</span>&#160;      std::string message(<span class="stringliteral">&quot;libSBML could not convert the model to the requested level and/or version. The reason(s) given were:&quot;</span>);</div>
<div class="line"><a name="l03643"></a><span class="lineno"> 3643</span>&#160;</div>
<div class="line"><a name="l03644"></a><span class="lineno"> 3644</span>&#160;      <span class="keywordflow">for</span> (i = 0; i &lt; iMax ; ++i)</div>
<div class="line"><a name="l03645"></a><span class="lineno"> 3645</span>&#160;        {</div>
<div class="line"><a name="l03646"></a><span class="lineno"> 3646</span>&#160;          <span class="keyword">const</span> XMLError* pSBMLError = this-&gt;<a class="code" href="../../df/d80/classCSBMLExporter.html#a1541a69b36b8e864883e49f0de244f81">mpSBMLDocument</a>-&gt;getError(i);</div>
<div class="line"><a name="l03647"></a><span class="lineno"> 3647</span>&#160;          message += <span class="stringliteral">&quot;\n&quot;</span>;</div>
<div class="line"><a name="l03648"></a><span class="lineno"> 3648</span>&#160;          message += pSBMLError-&gt;getMessage();</div>
<div class="line"><a name="l03649"></a><span class="lineno"> 3649</span>&#160;        }</div>
<div class="line"><a name="l03650"></a><span class="lineno"> 3650</span>&#160;</div>
<div class="line"><a name="l03651"></a><span class="lineno"> 3651</span>&#160;      <a class="code" href="../../d2/df0/classCCopasiMessage.html">CCopasiMessage</a>(<a class="code" href="../../d2/df0/classCCopasiMessage.html#a2ea1ed32494ff5c8d84353efcec7a5e4a568f885d73f0ea36bedfe92f6e533071">CCopasiMessage::EXCEPTION</a>, message.c_str());</div>
<div class="line"><a name="l03652"></a><span class="lineno"> 3652</span>&#160;    }</div>
<div class="line"><a name="l03653"></a><span class="lineno"> 3653</span>&#160;</div>
<div class="line"><a name="l03654"></a><span class="lineno"> 3654</span>&#160;  <span class="comment">// remove mpAvogadro from the model again</span></div>
<div class="line"><a name="l03655"></a><span class="lineno"> 3655</span>&#160;  <span class="keywordflow">if</span> (this-&gt;<a class="code" href="../../df/d80/classCSBMLExporter.html#a57b7199230b68903fd1af9531ec6fbb7">mAvogadroCreated</a> == <span class="keyword">true</span>)</div>
<div class="line"><a name="l03656"></a><span class="lineno"> 3656</span>&#160;    {</div>
<div class="line"><a name="l03657"></a><span class="lineno"> 3657</span>&#160;      std::map&lt;const CCopasiObject*, SBase*&gt;::iterator pos = this-&gt;<a class="code" href="../../df/d80/classCSBMLExporter.html#aeb19f9866a1735848770125dad2aebad">mCOPASI2SBMLMap</a>.find(this-&gt;<a class="code" href="../../df/d80/classCSBMLExporter.html#acf59a37a6e25ed5735988fd792fb1109">mpAvogadro</a>);</div>
<div class="line"><a name="l03658"></a><span class="lineno"> 3658</span>&#160;      this-&gt;<a class="code" href="../../df/d80/classCSBMLExporter.html#aeb19f9866a1735848770125dad2aebad">mCOPASI2SBMLMap</a>.erase(pos);</div>
<div class="line"><a name="l03659"></a><span class="lineno"> 3659</span>&#160;      dataModel.<a class="code" href="../../d4/d18/classCCopasiDataModel.html#a2e65952e0caf0b2709d381cf949fec69">getModel</a>()-&gt;<a class="code" href="../../d4/d04/classCModel.html#a6171d6a9ffa9ef95efd2de2d0c982a7a">removeModelValue</a>(this-&gt;<a class="code" href="../../df/d80/classCSBMLExporter.html#acf59a37a6e25ed5735988fd792fb1109">mpAvogadro</a>-&gt;<a class="code" href="../../d0/da0/classCModelEntity.html#a6ab0231058041dd42d002d8b9fa34780">getKey</a>(), <span class="keyword">true</span>);</div>
<div class="line"><a name="l03660"></a><span class="lineno"> 3660</span>&#160;    }</div>
<div class="line"><a name="l03661"></a><span class="lineno"> 3661</span>&#160;</div>
<div class="line"><a name="l03662"></a><span class="lineno"> 3662</span>&#160;  this-&gt;<a class="code" href="../../df/d80/classCSBMLExporter.html#a9cab2f1418b5678f726caac488f07858">outputIncompatibilities</a>();</div>
<div class="line"><a name="l03663"></a><span class="lineno"> 3663</span>&#160;</div>
<div class="line"><a name="l03664"></a><span class="lineno"> 3664</span>&#160;  <span class="comment">// if the model is incompatible with SBML export, throw an exception</span></div>
<div class="line"><a name="l03665"></a><span class="lineno"> 3665</span>&#160;  <span class="keywordflow">if</span> (!this-&gt;<a class="code" href="../../df/d80/classCSBMLExporter.html#a5bd855fe9020f8c400a6cab63fb87711">mIncompatibilities</a>.empty() &amp;&amp; !this-&gt;<a class="code" href="../../df/d80/classCSBMLExporter.html#ac743dca5c88be1b916af33f454d1a64a">mIncompleteExport</a>)</div>
<div class="line"><a name="l03666"></a><span class="lineno"> 3666</span>&#160;    {</div>
<div class="line"><a name="l03667"></a><span class="lineno"> 3667</span>&#160;      <a class="code" href="../../d2/df0/classCCopasiMessage.html">CCopasiMessage</a>(<a class="code" href="../../d2/df0/classCCopasiMessage.html#a2ea1ed32494ff5c8d84353efcec7a5e4a568f885d73f0ea36bedfe92f6e533071">CCopasiMessage::EXCEPTION</a>, <span class="stringliteral">&quot;Model incompatible with chosen version and/or level of SBML.&quot;</span>);</div>
<div class="line"><a name="l03668"></a><span class="lineno"> 3668</span>&#160;    }</div>
<div class="line"><a name="l03669"></a><span class="lineno"> 3669</span>&#160;</div>
<div class="line"><a name="l03670"></a><span class="lineno"> 3670</span>&#160;  <span class="comment">// if initial assignments were used we will have to add them to the document</span></div>
<div class="line"><a name="l03671"></a><span class="lineno"> 3671</span>&#160;  <a class="code" href="../../d5/d2f/CSBMLExporter_8cpp.html#ab41602fb6a2045ded20d83d2bf3523b6">addInitialAssignmentsToModel</a>(<a class="code" href="../../df/d80/classCSBMLExporter.html#a1541a69b36b8e864883e49f0de244f81">mpSBMLDocument</a>, <a class="code" href="../../df/d80/classCSBMLExporter.html#ab85366b96bfd18cd3f7cf5ecc9b9d76b">mInitialValueMap</a>, dataModel);</div>
<div class="line"><a name="l03672"></a><span class="lineno"> 3672</span>&#160;  <a class="code" href="../../df/d80/classCSBMLExporter.html#ab85366b96bfd18cd3f7cf5ecc9b9d76b">mInitialValueMap</a>.clear();</div>
<div class="line"><a name="l03673"></a><span class="lineno"> 3673</span>&#160;</div>
<div class="line"><a name="l03674"></a><span class="lineno"> 3674</span>&#160;  <span class="comment">// delete all temporary function definitions</span></div>
<div class="line"><a name="l03675"></a><span class="lineno"> 3675</span>&#160;  <span class="comment">// and the function map</span></div>
<div class="line"><a name="l03676"></a><span class="lineno"> 3676</span>&#160;  this-&gt;<a class="code" href="../../df/d80/classCSBMLExporter.html#a18a364ee64c8bd23b9c6fa3442d4e6b1">mExportedFunctions</a>.clear(<span class="keyword">true</span>);</div>
<div class="line"><a name="l03677"></a><span class="lineno"> 3677</span>&#160;  this-&gt;<a class="code" href="../../df/d80/classCSBMLExporter.html#aa5207c45ebd8ce9bff303c680d2e535a">mFunctionMap</a>.clear();</div>
<div class="line"><a name="l03678"></a><span class="lineno"> 3678</span>&#160;}</div>
<div class="ttc" id="classCSBMLExporter_html_aad340b885e5354efcf9b63b6475c59af"><div class="ttname"><a href="../../df/d80/classCSBMLExporter.html#aad340b885e5354efcf9b63b6475c59af">CSBMLExporter::updateCOPASI2SBMLMap</a></div><div class="ttdeci">void updateCOPASI2SBMLMap(const CCopasiDataModel &amp;dataModel)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d2f/CSBMLExporter_8cpp_source.html#l04560">CSBMLExporter.cpp:4560</a></div></div>
<div class="ttc" id="classCCopasiDataModel_html_a0b614521199ffa993c50c228c1b22ee5"><div class="ttname"><a href="../../d4/d18/classCCopasiDataModel.html#a0b614521199ffa993c50c228c1b22ee5">CCopasiDataModel::getCurrentSBMLDocument</a></div><div class="ttdeci">SBMLDocument * getCurrentSBMLDocument()</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d38/CCopasiDataModel_8cpp_source.html#l01835">CCopasiDataModel.cpp:1835</a></div></div>
<div class="ttc" id="classCSBMLExporter_html_aba959efc152f63f1709d5de60e97a651"><div class="ttname"><a href="../../df/d80/classCSBMLExporter.html#aba959efc152f63f1709d5de60e97a651">CSBMLExporter::mSBMLLevel</a></div><div class="ttdeci">unsigned int mSBMLLevel</div><div class="ttdef"><b>Definition:</b> <a href="../../da/d7f/CSBMLExporter_8h_source.html#l00056">CSBMLExporter.h:56</a></div></div>
<div class="ttc" id="classCSBMLExporter_html_a9c713fa0fc07f12f35ee1c59ba65db01"><div class="ttname"><a href="../../df/d80/classCSBMLExporter.html#a9c713fa0fc07f12f35ee1c59ba65db01">CSBMLExporter::createRules</a></div><div class="ttdeci">void createRules(CCopasiDataModel &amp;dataModel)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d2f/CSBMLExporter_8cpp_source.html#l01835">CSBMLExporter.cpp:1835</a></div></div>
<div class="ttc" id="classCSBMLExporter_html_a1541a69b36b8e864883e49f0de244f81"><div class="ttname"><a href="../../df/d80/classCSBMLExporter.html#a1541a69b36b8e864883e49f0de244f81">CSBMLExporter::mpSBMLDocument</a></div><div class="ttdeci">SBMLDocument * mpSBMLDocument</div><div class="ttdef"><b>Definition:</b> <a href="../../da/d7f/CSBMLExporter_8h_source.html#l00055">CSBMLExporter.h:55</a></div></div>
<div class="ttc" id="classCCopasiDataModel_html_a2e65952e0caf0b2709d381cf949fec69"><div class="ttname"><a href="../../d4/d18/classCCopasiDataModel.html#a2e65952e0caf0b2709d381cf949fec69">CCopasiDataModel::getModel</a></div><div class="ttdeci">CModel * getModel()</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d38/CCopasiDataModel_8cpp_source.html#l01407">CCopasiDataModel.cpp:1407</a></div></div>
<div class="ttc" id="classCSBMLExporter_html_a18a364ee64c8bd23b9c6fa3442d4e6b1"><div class="ttname"><a href="../../df/d80/classCSBMLExporter.html#a18a364ee64c8bd23b9c6fa3442d4e6b1">CSBMLExporter::mExportedFunctions</a></div><div class="ttdeci">ListOfFunctionDefinitions mExportedFunctions</div><div class="ttdef"><b>Definition:</b> <a href="../../da/d7f/CSBMLExporter_8h_source.html#l00077">CSBMLExporter.h:77</a></div></div>
<div class="ttc" id="classCModelEntity_html_a5c8d403c6027f59d1cc3e1ccc2d9efac"><div class="ttname"><a href="../../d0/da0/classCModelEntity.html#a5c8d403c6027f59d1cc3e1ccc2d9efac">CModelEntity::getSBMLId</a></div><div class="ttdeci">const std::string &amp; getSBMLId() const </div><div class="ttdef"><b>Definition:</b> <a href="../../d8/da3/CModelValue_8cpp_source.html#l00637">CModelValue.cpp:637</a></div></div>
<div class="ttc" id="classCCopasiObject_html_a879d6756b51f6b58d307940e1343bd10"><div class="ttname"><a href="../../d4/da8/classCCopasiObject.html#a879d6756b51f6b58d307940e1343bd10">CCopasiObject::getObjectName</a></div><div class="ttdeci">const std::string &amp; getObjectName() const </div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d22/CCopasiObject_8cpp_source.html#l00258">CCopasiObject.cpp:258</a></div></div>
<div class="ttc" id="classCSBMLExporter_html_adfb1a82cc1a827d3ef1f353937cfad49"><div class="ttname"><a href="../../df/d80/classCSBMLExporter.html#adfb1a82cc1a827d3ef1f353937cfad49">CSBMLExporter::hasVolumeAssignment</a></div><div class="ttdeci">bool hasVolumeAssignment(const CCopasiDataModel &amp;dataModel)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d2f/CSBMLExporter_8cpp_source.html#l07578">CSBMLExporter.cpp:7578</a></div></div>
<div class="ttc" id="classCSBMLExporter_html_a5349f8758c324eef2da6a4ecfe0df888"><div class="ttname"><a href="../../df/d80/classCSBMLExporter.html#a5349f8758c324eef2da6a4ecfe0df888">CSBMLExporter::createFunctionDefinitions</a></div><div class="ttdeci">void createFunctionDefinitions(CCopasiDataModel &amp;dataModel)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d2f/CSBMLExporter_8cpp_source.html#l02940">CSBMLExporter.cpp:2940</a></div></div>
<div class="ttc" id="classCSBMLExporter_html_ab76fac48902b0d7ac43f7454ddf0f6d6"><div class="ttname"><a href="../../df/d80/classCSBMLExporter.html#ab76fac48902b0d7ac43f7454ddf0f6d6">CSBMLExporter::mFunctionIdMap</a></div><div class="ttdeci">std::map&lt; std::string, const CEvaluationTree * &gt; mFunctionIdMap</div><div class="ttdef"><b>Definition:</b> <a href="../../da/d7f/CSBMLExporter_8h_source.html#l00072">CSBMLExporter.h:72</a></div></div>
<div class="ttc" id="classCSBMLExporter_html_a465e0e27fef68f20231be2de837b71b2"><div class="ttname"><a href="../../df/d80/classCSBMLExporter.html#a465e0e27fef68f20231be2de837b71b2">CSBMLExporter::collectIds</a></div><div class="ttdeci">void collectIds(const CCopasiDataModel &amp;dataModel, std::map&lt; std::string, const SBase * &gt; &amp;idMap)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d2f/CSBMLExporter_8cpp_source.html#l07465">CSBMLExporter.cpp:7465</a></div></div>
<div class="ttc" id="classCSBMLExporter_html_ab4b8c42274fd0afd191d498efe36146a"><div class="ttname"><a href="../../df/d80/classCSBMLExporter.html#ab4b8c42274fd0afd191d498efe36146a">CSBMLExporter::createReactions</a></div><div class="ttdeci">void createReactions(CCopasiDataModel &amp;dataModel)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d2f/CSBMLExporter_8cpp_source.html#l01417">CSBMLExporter.cpp:1417</a></div></div>
<div class="ttc" id="CCopasiMessage_8h_html_a1e835c01335d6f956a78adf106ed1b15"><div class="ttname"><a href="../../d9/d2d/CCopasiMessage_8h.html#a1e835c01335d6f956a78adf106ed1b15">fatalError</a></div><div class="ttdeci">#define fatalError()</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d2d/CCopasiMessage_8h_source.html#l00074">CCopasiMessage.h:74</a></div></div>
<div class="ttc" id="classCSBMLExporter_html_ace48aaa532a60b2651d42618b5484b36"><div class="ttname"><a href="../../df/d80/classCSBMLExporter.html#ace48aaa532a60b2651d42618b5484b36">CSBMLExporter::createMetabolites</a></div><div class="ttdeci">void createMetabolites(CCopasiDataModel &amp;dataModel)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d2f/CSBMLExporter_8cpp_source.html#l01068">CSBMLExporter.cpp:1068</a></div></div>
<div class="ttc" id="classSBMLUtils_html_a76ac586e8c7b5d3f8ed7ac6873e6e548"><div class="ttname"><a href="../../da/d9f/classSBMLUtils.html#a76ac586e8c7b5d3f8ed7ac6873e6e548">SBMLUtils::collectIds</a></div><div class="ttdeci">static void collectIds(Model *pModel, std::map&lt; std::string, const SBase * &gt; &amp;ids, std::map&lt; std::string, const SBase * &gt; &amp;metaIds)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/de0/SBMLUtils_8cpp_source.html#l00096">SBMLUtils.cpp:96</a></div></div>
<div class="ttc" id="classCSBMLExporter_html_ac743dca5c88be1b916af33f454d1a64a"><div class="ttname"><a href="../../df/d80/classCSBMLExporter.html#ac743dca5c88be1b916af33f454d1a64a">CSBMLExporter::mIncompleteExport</a></div><div class="ttdeci">bool mIncompleteExport</div><div class="ttdef"><b>Definition:</b> <a href="../../da/d7f/CSBMLExporter_8h_source.html#l00066">CSBMLExporter.h:66</a></div></div>
<div class="ttc" id="classCSBMLExporter_html_a60ab409a11b90a1ca965d7702828af74"><div class="ttname"><a href="../../df/d80/classCSBMLExporter.html#a60ab409a11b90a1ca965d7702828af74">CSBMLExporter::mIdMap</a></div><div class="ttdeci">std::map&lt; std::string, const SBase * &gt; mIdMap</div><div class="ttdef"><b>Definition:</b> <a href="../../da/d7f/CSBMLExporter_8h_source.html#l00064">CSBMLExporter.h:64</a></div></div>
<div class="ttc" id="classCSBMLExporter_html_a57b7199230b68903fd1af9531ec6fbb7"><div class="ttname"><a href="../../df/d80/classCSBMLExporter.html#a57b7199230b68903fd1af9531ec6fbb7">CSBMLExporter::mAvogadroCreated</a></div><div class="ttdeci">bool mAvogadroCreated</div><div class="ttdef"><b>Definition:</b> <a href="../../da/d7f/CSBMLExporter_8h_source.html#l00069">CSBMLExporter.h:69</a></div></div>
<div class="ttc" id="classCSBMLExporter_html_ab85366b96bfd18cd3f7cf5ecc9b9d76b"><div class="ttname"><a href="../../df/d80/classCSBMLExporter.html#ab85366b96bfd18cd3f7cf5ecc9b9d76b">CSBMLExporter::mInitialValueMap</a></div><div class="ttdeci">std::map&lt; const std::string, Parameter * &gt; mInitialValueMap</div><div class="ttdef"><b>Definition:</b> <a href="../../da/d7f/CSBMLExporter_8h_source.html#l00079">CSBMLExporter.h:79</a></div></div>
<div class="ttc" id="classCSBMLExporter_html_a166bed353f341e4e617bff6f40ff12c4"><div class="ttname"><a href="../../df/d80/classCSBMLExporter.html#a166bed353f341e4e617bff6f40ff12c4">CSBMLExporter::setSBMLNotes</a></div><div class="ttdeci">static bool setSBMLNotes(SBase *pSBase, const CAnnotation *pAnno)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d2f/CSBMLExporter_8cpp_source.html#l07697">CSBMLExporter.cpp:7697</a></div></div>
<div class="ttc" id="classCSBMLExporter_html_ab4d7f9c3d22b8225d1a4d9e3a98b855e"><div class="ttname"><a href="../../df/d80/classCSBMLExporter.html#ab4d7f9c3d22b8225d1a4d9e3a98b855e">CSBMLExporter::createUniqueId</a></div><div class="ttdeci">static const std::string createUniqueId(const std::map&lt; std::string, const SBase * &gt; &amp;idMap, const std::string &amp;prefix, bool addIndexForFirst, const std::string &amp;separator=&quot;_&quot;)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d2f/CSBMLExporter_8cpp_source.html#l02252">CSBMLExporter.cpp:2252</a></div></div>
<div class="ttc" id="CSBMLExporter_8cpp_html_ab41602fb6a2045ded20d83d2bf3523b6"><div class="ttname"><a href="../../d5/d2f/CSBMLExporter_8cpp.html#ab41602fb6a2045ded20d83d2bf3523b6">addInitialAssignmentsToModel</a></div><div class="ttdeci">void addInitialAssignmentsToModel(SBMLDocument *doc, std::map&lt; const std::string, Parameter * &gt; &amp;initialValueMap, const CCopasiDataModel &amp;dataModel)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d2f/CSBMLExporter_8cpp_source.html#l03369">CSBMLExporter.cpp:3369</a></div></div>
<div class="ttc" id="classCSBMLExporter_html_a9b7f3e8acfbeadd9660cde953d4563cd"><div class="ttname"><a href="../../df/d80/classCSBMLExporter.html#a9b7f3e8acfbeadd9660cde953d4563cd">CSBMLExporter::mHaveModelHistoryModificationDateWarning</a></div><div class="ttdeci">bool mHaveModelHistoryModificationDateWarning</div><div class="ttdef"><b>Definition:</b> <a href="../../da/d7f/CSBMLExporter_8h_source.html#l00082">CSBMLExporter.h:82</a></div></div>
<div class="ttc" id="classCModel_html_a6171d6a9ffa9ef95efd2de2d0c982a7a"><div class="ttname"><a href="../../d4/d04/classCModel.html#a6171d6a9ffa9ef95efd2de2d0c982a7a">CModel::removeModelValue</a></div><div class="ttdeci">bool removeModelValue(const CModelValue *pModelValue, const bool &amp;recursive=true)</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d08/CModel_8cpp_source.html#l02903">CModel.cpp:2903</a></div></div>
<div class="ttc" id="classCCopasiMessage_html_a2ea1ed32494ff5c8d84353efcec7a5e4a568f885d73f0ea36bedfe92f6e533071"><div class="ttname"><a href="../../d2/df0/classCCopasiMessage.html#a2ea1ed32494ff5c8d84353efcec7a5e4a568f885d73f0ea36bedfe92f6e533071">CCopasiMessage::EXCEPTION</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d2d/CCopasiMessage_8h_source.html#l00093">CCopasiMessage.h:93</a></div></div>
<div class="ttc" id="classCSBMLExporter_html_aa5207c45ebd8ce9bff303c680d2e535a"><div class="ttname"><a href="../../df/d80/classCSBMLExporter.html#aa5207c45ebd8ce9bff303c680d2e535a">CSBMLExporter::mFunctionMap</a></div><div class="ttdeci">std::map&lt; const FunctionDefinition *, const CCopasiObject * &gt; mFunctionMap</div><div class="ttdef"><b>Definition:</b> <a href="../../da/d7f/CSBMLExporter_8h_source.html#l00078">CSBMLExporter.h:78</a></div></div>
<div class="ttc" id="classCSBMLExporter_html_a9d63824ae3cd33d9733f7147f8985bf7"><div class="ttname"><a href="../../df/d80/classCSBMLExporter.html#a9d63824ae3cd33d9733f7147f8985bf7">CSBMLExporter::createCompartments</a></div><div class="ttdeci">void createCompartments(CCopasiDataModel &amp;dataModel)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d2f/CSBMLExporter_8cpp_source.html#l00911">CSBMLExporter.cpp:911</a></div></div>
<div class="ttc" id="classCModelEntity_html_a6ab0231058041dd42d002d8b9fa34780"><div class="ttname"><a href="../../d0/da0/classCModelEntity.html#a6ab0231058041dd42d002d8b9fa34780">CModelEntity::getKey</a></div><div class="ttdeci">virtual const std::string &amp; getKey() const </div><div class="ttdef"><b>Definition:</b> <a href="../../d8/da3/CModelValue_8cpp_source.html#l00131">CModelValue.cpp:131</a></div></div>
<div class="ttc" id="classCSBMLExporter_html_af1bc50a307a46adcce8aa8abde6dab96"><div class="ttname"><a href="../../df/d80/classCSBMLExporter.html#af1bc50a307a46adcce8aa8abde6dab96">CSBMLExporter::mSBMLVersion</a></div><div class="ttdeci">unsigned int mSBMLVersion</div><div class="ttdef"><b>Definition:</b> <a href="../../da/d7f/CSBMLExporter_8h_source.html#l00057">CSBMLExporter.h:57</a></div></div>
<div class="ttc" id="classCSBMLExporter_html_af845ecb1f47ed78265a8ae303743b82b"><div class="ttname"><a href="../../df/d80/classCSBMLExporter.html#af845ecb1f47ed78265a8ae303743b82b">CSBMLExporter::assignSBMLIdsToReactions</a></div><div class="ttdeci">void assignSBMLIdsToReactions(CModel *pModel)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d2f/CSBMLExporter_8cpp_source.html#l07556">CSBMLExporter.cpp:7556</a></div></div>
<div class="ttc" id="classCSBMLExporter_html_ad2b0ac2df8fb9a5c28e522f1cea19709"><div class="ttname"><a href="../../df/d80/classCSBMLExporter.html#ad2b0ac2df8fb9a5c28e522f1cea19709">CSBMLExporter::mHaveModelHistoryCreationDateWarning</a></div><div class="ttdeci">bool mHaveModelHistoryCreationDateWarning</div><div class="ttdef"><b>Definition:</b> <a href="../../da/d7f/CSBMLExporter_8h_source.html#l00081">CSBMLExporter.h:81</a></div></div>
<div class="ttc" id="classCSBMLExporter_html_a2039c651840bace8d1f24f4b632eee1d"><div class="ttname"><a href="../../df/d80/classCSBMLExporter.html#a2039c651840bace8d1f24f4b632eee1d">CSBMLExporter::convertToLevel1</a></div><div class="ttdeci">void convertToLevel1()</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d2f/CSBMLExporter_8cpp_source.html#l05230">CSBMLExporter.cpp:5230</a></div></div>
<div class="ttc" id="classCSBMLExporter_html_a11ac856283e54271fe2d9c9b849d2c30"><div class="ttname"><a href="../../df/d80/classCSBMLExporter.html#a11ac856283e54271fe2d9c9b849d2c30">CSBMLExporter::createParameters</a></div><div class="ttdeci">void createParameters(CCopasiDataModel &amp;dataModel)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d2f/CSBMLExporter_8cpp_source.html#l01287">CSBMLExporter.cpp:1287</a></div></div>
<div class="ttc" id="classCSBMLExporter_html_aa2e61de10e2d26eee4c7310beb099b13"><div class="ttname"><a href="../../df/d80/classCSBMLExporter.html#aa2e61de10e2d26eee4c7310beb099b13">CSBMLExporter::mMetaIdMap</a></div><div class="ttdeci">std::map&lt; std::string, const SBase * &gt; mMetaIdMap</div><div class="ttdef"><b>Definition:</b> <a href="../../da/d7f/CSBMLExporter_8h_source.html#l00070">CSBMLExporter.h:70</a></div></div>
<div class="ttc" id="classCSBMLExporter_html_a5bd855fe9020f8c400a6cab63fb87711"><div class="ttname"><a href="../../df/d80/classCSBMLExporter.html#a5bd855fe9020f8c400a6cab63fb87711">CSBMLExporter::mIncompatibilities</a></div><div class="ttdeci">std::vector&lt; SBMLIncompatibility &gt; mIncompatibilities</div><div class="ttdef"><b>Definition:</b> <a href="../../da/d7f/CSBMLExporter_8h_source.html#l00065">CSBMLExporter.h:65</a></div></div>
<div class="ttc" id="classCSBMLExporter_html_aeb19f9866a1735848770125dad2aebad"><div class="ttname"><a href="../../df/d80/classCSBMLExporter.html#aeb19f9866a1735848770125dad2aebad">CSBMLExporter::mCOPASI2SBMLMap</a></div><div class="ttdeci">std::map&lt; const CCopasiObject *, SBase * &gt; mCOPASI2SBMLMap</div><div class="ttdef"><b>Definition:</b> <a href="../../da/d7f/CSBMLExporter_8h_source.html#l00061">CSBMLExporter.h:61</a></div></div>
<div class="ttc" id="classCCopasiMessage_html"><div class="ttname"><a href="../../d2/df0/classCCopasiMessage.html">CCopasiMessage</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d2d/CCopasiMessage_8h_source.html#l00078">CCopasiMessage.h:78</a></div></div>
<div class="ttc" id="classCSBMLExporter_html_a5b27af3781d1e84d2235d0cb135a6963"><div class="ttname"><a href="../../df/d80/classCSBMLExporter.html#a5b27af3781d1e84d2235d0cb135a6963">CSBMLExporter::createEvents</a></div><div class="ttdeci">void createEvents(CCopasiDataModel &amp;dataModel)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d2f/CSBMLExporter_8cpp_source.html#l03938">CSBMLExporter.cpp:3938</a></div></div>
<div class="ttc" id="classCSBMLExporter_html_adc3202b6aab716f83247c9d1a4cb60e1"><div class="ttname"><a href="../../df/d80/classCSBMLExporter.html#adc3202b6aab716f83247c9d1a4cb60e1">CSBMLExporter::mHaveModelHistoryAuthorWarning</a></div><div class="ttdeci">bool mHaveModelHistoryAuthorWarning</div><div class="ttdef"><b>Definition:</b> <a href="../../da/d7f/CSBMLExporter_8h_source.html#l00080">CSBMLExporter.h:80</a></div></div>
<div class="ttc" id="classCSBMLExporter_html_acf59a37a6e25ed5735988fd792fb1109"><div class="ttname"><a href="../../df/d80/classCSBMLExporter.html#acf59a37a6e25ed5735988fd792fb1109">CSBMLExporter::mpAvogadro</a></div><div class="ttdeci">const CModelValue * mpAvogadro</div><div class="ttdef"><b>Definition:</b> <a href="../../da/d7f/CSBMLExporter_8h_source.html#l00068">CSBMLExporter.h:68</a></div></div>
<div class="ttc" id="classCSBMLExporter_html_a9cab2f1418b5678f726caac488f07858"><div class="ttname"><a href="../../df/d80/classCSBMLExporter.html#a9cab2f1418b5678f726caac488f07858">CSBMLExporter::outputIncompatibilities</a></div><div class="ttdeci">void outputIncompatibilities() const </div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d2f/CSBMLExporter_8cpp_source.html#l07160">CSBMLExporter.cpp:7160</a></div></div>
<div class="ttc" id="classCSBMLExporter_html_a165664a6805421e7bf448ccd3604b7ed"><div class="ttname"><a href="../../df/d80/classCSBMLExporter.html#a165664a6805421e7bf448ccd3604b7ed">CSBMLExporter::createInitialAssignments</a></div><div class="ttdeci">void createInitialAssignments(CCopasiDataModel &amp;dataModel)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d2f/CSBMLExporter_8cpp_source.html#l01650">CSBMLExporter.cpp:1650</a></div></div>
<div class="ttc" id="classCSBMLExporter_html_aba8216eaf4931e0adf484832882fbe67"><div class="ttname"><a href="../../df/d80/classCSBMLExporter.html#aba8216eaf4931e0adf484832882fbe67">CSBMLExporter::updateMIRIAMAnnotation</a></div><div class="ttdeci">bool updateMIRIAMAnnotation(const CCopasiObject *pCOPASIObject, SBase *pSBMLObject, std::map&lt; std::string, const SBase * &gt; &amp;metaIds)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d2f/CSBMLExporter_8cpp_source.html#l06361">CSBMLExporter.cpp:6361</a></div></div>
<div class="ttc" id="classCModel_html"><div class="ttname"><a href="../../d4/d04/classCModel.html">CModel</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d90/CModel_8h_source.html#l00050">CModel.h:50</a></div></div>
<div class="ttc" id="classCSBMLExporter_html_aaa3a1af5de4a31e157bd7515cf5ed671"><div class="ttname"><a href="../../df/d80/classCSBMLExporter.html#aaa3a1af5de4a31e157bd7515cf5ed671">CSBMLExporter::findAvogadro</a></div><div class="ttdeci">void findAvogadro(const CCopasiDataModel &amp;dataModel)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d2f/CSBMLExporter_8cpp_source.html#l06335">CSBMLExporter.cpp:6335</a></div></div>
<div class="ttc" id="classCSBMLExporter_html_a773138e50be3ecf6cd3e42d002d553e4"><div class="ttname"><a href="../../df/d80/classCSBMLExporter.html#a773138e50be3ecf6cd3e42d002d553e4">CSBMLExporter::checkForInitialAssignments</a></div><div class="ttdeci">static void checkForInitialAssignments(const CCopasiDataModel &amp;dataModel, std::vector&lt; SBMLIncompatibility &gt; &amp;result)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d2f/CSBMLExporter_8cpp_source.html#l02887">CSBMLExporter.cpp:2887</a></div></div>
<div class="ttc" id="classCSBMLExporter_html_a64ec2c4a41a2fa37f21875281f5948d5"><div class="ttname"><a href="../../df/d80/classCSBMLExporter.html#a64ec2c4a41a2fa37f21875281f5948d5">CSBMLExporter::mVariableVolumes</a></div><div class="ttdeci">bool mVariableVolumes</div><div class="ttdef"><b>Definition:</b> <a href="../../da/d7f/CSBMLExporter_8h_source.html#l00067">CSBMLExporter.h:67</a></div></div>
<div class="ttc" id="classCSBMLExporter_html_aa26105735e02cd59de9932914b4c2505"><div class="ttname"><a href="../../df/d80/classCSBMLExporter.html#aa26105735e02cd59de9932914b4c2505">CSBMLExporter::createUnits</a></div><div class="ttdeci">void createUnits(const CCopasiDataModel &amp;dataModel)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d2f/CSBMLExporter_8cpp_source.html#l00342">CSBMLExporter.cpp:342</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="aae5e8e9d9571bfb092a940cfea479f2e"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d3/d05/CChemEqParser__yacc_8cpp.html#aa76fec002b4ba91adc88f68d56ba730c">void</a> CSBMLExporter::createSubstanceUnit </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="../../d4/d18/classCCopasiDataModel.html">CCopasiDataModel</a> &amp;&#160;</td>
          <td class="paramname"><em>dataModel</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Creates the substance unit for the SBML model. </p>

<p>Definition at line <a class="el" href="../../d5/d2f/CSBMLExporter_8cpp_source.html#l00583">583</a> of file <a class="el" href="../../d5/d2f/CSBMLExporter_8cpp_source.html">CSBMLExporter.cpp</a>.</p>

<p>References <a class="el" href="../../d7/d6d/classSBMLImporter.html#a61d10c15681b398f297bee71eaa75dbe">SBMLImporter::areSBMLUnitDefinitionsIdentical()</a>, <a class="el" href="../../d4/d04/classCModel.html#ac6c52b224ba5973b9cae3cb3d503e25baa6902a3bb3ca84a3fc8690e8ec853d0b">CModel::dimensionlessQuantity</a>, <a class="el" href="../../d2/df0/classCCopasiMessage.html#a2ea1ed32494ff5c8d84353efcec7a5e4a568f885d73f0ea36bedfe92f6e533071">CCopasiMessage::EXCEPTION</a>, <a class="el" href="../../d4/d04/classCModel.html#ac6c52b224ba5973b9cae3cb3d503e25ba1a7d6ed2ed839724ff0865f283f2f336">CModel::fMol</a>, <a class="el" href="../../d4/d18/classCCopasiDataModel.html#a2e65952e0caf0b2709d381cf949fec69">CCopasiDataModel::getModel()</a>, <a class="el" href="../../d4/d04/classCModel.html#a8eb14b87c1bfaa2479fbb897e50832b8">CModel::getQuantityUnitEnum()</a>, <a class="el" href="../../d5/d2f/CSBMLExporter_8cpp.html#a6c9f65aeea9a7ce079171b3a9a5b2673">INIT_DEFAULTS</a>, <a class="el" href="../../d4/d04/classCModel.html#ac6c52b224ba5973b9cae3cb3d503e25bab63b354244fb3f55843d5d6a9156a2d3">CModel::microMol</a>, <a class="el" href="../../d4/d04/classCModel.html#ac6c52b224ba5973b9cae3cb3d503e25badc02522f08484b549aac0684d384c568">CModel::mMol</a>, <a class="el" href="../../d4/d04/classCModel.html#ac6c52b224ba5973b9cae3cb3d503e25baa03a13afa5e7de5f940f6841fe779d17">CModel::Mol</a>, <a class="el" href="../../df/d80/classCSBMLExporter.html#a1541a69b36b8e864883e49f0de244f81">mpSBMLDocument</a>, <a class="el" href="../../df/d80/classCSBMLExporter.html#aba959efc152f63f1709d5de60e97a651">mSBMLLevel</a>, <a class="el" href="../../df/d80/classCSBMLExporter.html#af1bc50a307a46adcce8aa8abde6dab96">mSBMLVersion</a>, <a class="el" href="../../d4/d04/classCModel.html#ac6c52b224ba5973b9cae3cb3d503e25bad1e36a617dafb03d1348a3dd7c166eb8">CModel::nMol</a>, <a class="el" href="../../d4/d04/classCModel.html#ac6c52b224ba5973b9cae3cb3d503e25ba4742ca026f7a9968138284bee1b7e7ee">CModel::number</a>, and <a class="el" href="../../d4/d04/classCModel.html#ac6c52b224ba5973b9cae3cb3d503e25babb9244284f066859820fcab51b863efa">CModel::pMol</a>.</p>

<p>Referenced by <a class="el" href="../../df/d80/classCSBMLExporter.html#aa26105735e02cd59de9932914b4c2505">createUnits()</a>.</p>
<div class="fragment"><div class="line"><a name="l00584"></a><span class="lineno">  584</span>&#160;{</div>
<div class="line"><a name="l00585"></a><span class="lineno">  585</span>&#160;  <span class="keywordflow">if</span> (dataModel.<a class="code" href="../../d4/d18/classCCopasiDataModel.html#a2e65952e0caf0b2709d381cf949fec69">getModel</a>() == NULL || this-&gt;<a class="code" href="../../df/d80/classCSBMLExporter.html#a1541a69b36b8e864883e49f0de244f81">mpSBMLDocument</a> == NULL || this-&gt;<a class="code" href="../../df/d80/classCSBMLExporter.html#a1541a69b36b8e864883e49f0de244f81">mpSBMLDocument</a>-&gt;getModel() == NULL) <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00586"></a><span class="lineno">  586</span>&#160;</div>
<div class="line"><a name="l00587"></a><span class="lineno">  587</span>&#160;  UnitDefinition uDef(this-&gt;<a class="code" href="../../df/d80/classCSBMLExporter.html#aba959efc152f63f1709d5de60e97a651">mSBMLLevel</a>, this-&gt;<a class="code" href="../../df/d80/classCSBMLExporter.html#af1bc50a307a46adcce8aa8abde6dab96">mSBMLVersion</a>);</div>
<div class="line"><a name="l00588"></a><span class="lineno">  588</span>&#160;  uDef.setName(<span class="stringliteral">&quot;substance&quot;</span>);</div>
<div class="line"><a name="l00589"></a><span class="lineno">  589</span>&#160;  uDef.setId(<span class="stringliteral">&quot;substance&quot;</span>);</div>
<div class="line"><a name="l00590"></a><span class="lineno">  590</span>&#160;  Unit unit(this-&gt;<a class="code" href="../../df/d80/classCSBMLExporter.html#aba959efc152f63f1709d5de60e97a651">mSBMLLevel</a>, this-&gt;<a class="code" href="../../df/d80/classCSBMLExporter.html#af1bc50a307a46adcce8aa8abde6dab96">mSBMLVersion</a>);</div>
<div class="line"><a name="l00591"></a><span class="lineno">  591</span>&#160;  <a class="code" href="../../d5/d2f/CSBMLExporter_8cpp.html#a6c9f65aeea9a7ce079171b3a9a5b2673">INIT_DEFAULTS</a>(unit);</div>
<div class="line"><a name="l00592"></a><span class="lineno">  592</span>&#160;</div>
<div class="line"><a name="l00593"></a><span class="lineno">  593</span>&#160;  <span class="keywordflow">switch</span> (dataModel.<a class="code" href="../../d4/d18/classCCopasiDataModel.html#a2e65952e0caf0b2709d381cf949fec69">getModel</a>()-&gt;<a class="code" href="../../d4/d04/classCModel.html#a8eb14b87c1bfaa2479fbb897e50832b8">getQuantityUnitEnum</a>())</div>
<div class="line"><a name="l00594"></a><span class="lineno">  594</span>&#160;    {</div>
<div class="line"><a name="l00595"></a><span class="lineno">  595</span>&#160;      <span class="keywordflow">case</span> <a class="code" href="../../d4/d04/classCModel.html#ac6c52b224ba5973b9cae3cb3d503e25baa03a13afa5e7de5f940f6841fe779d17">CModel::Mol</a>:</div>
<div class="line"><a name="l00596"></a><span class="lineno">  596</span>&#160;        unit.setKind(UNIT_KIND_MOLE);</div>
<div class="line"><a name="l00597"></a><span class="lineno">  597</span>&#160;        unit.setExponent(1);</div>
<div class="line"><a name="l00598"></a><span class="lineno">  598</span>&#160;        unit.setScale(0);</div>
<div class="line"><a name="l00599"></a><span class="lineno">  599</span>&#160;        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00600"></a><span class="lineno">  600</span>&#160;</div>
<div class="line"><a name="l00601"></a><span class="lineno">  601</span>&#160;      <span class="keywordflow">case</span> <a class="code" href="../../d4/d04/classCModel.html#ac6c52b224ba5973b9cae3cb3d503e25badc02522f08484b549aac0684d384c568">CModel::mMol</a>:</div>
<div class="line"><a name="l00602"></a><span class="lineno">  602</span>&#160;        unit.setKind(UNIT_KIND_MOLE);</div>
<div class="line"><a name="l00603"></a><span class="lineno">  603</span>&#160;        unit.setExponent(1);</div>
<div class="line"><a name="l00604"></a><span class="lineno">  604</span>&#160;        unit.setScale(-3);</div>
<div class="line"><a name="l00605"></a><span class="lineno">  605</span>&#160;        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00606"></a><span class="lineno">  606</span>&#160;</div>
<div class="line"><a name="l00607"></a><span class="lineno">  607</span>&#160;      <span class="keywordflow">case</span> <a class="code" href="../../d4/d04/classCModel.html#ac6c52b224ba5973b9cae3cb3d503e25bab63b354244fb3f55843d5d6a9156a2d3">CModel::microMol</a>:</div>
<div class="line"><a name="l00608"></a><span class="lineno">  608</span>&#160;        unit.setKind(UNIT_KIND_MOLE);</div>
<div class="line"><a name="l00609"></a><span class="lineno">  609</span>&#160;        unit.setExponent(1);</div>
<div class="line"><a name="l00610"></a><span class="lineno">  610</span>&#160;        unit.setScale(-6);</div>
<div class="line"><a name="l00611"></a><span class="lineno">  611</span>&#160;        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00612"></a><span class="lineno">  612</span>&#160;</div>
<div class="line"><a name="l00613"></a><span class="lineno">  613</span>&#160;      <span class="keywordflow">case</span> <a class="code" href="../../d4/d04/classCModel.html#ac6c52b224ba5973b9cae3cb3d503e25bad1e36a617dafb03d1348a3dd7c166eb8">CModel::nMol</a>:</div>
<div class="line"><a name="l00614"></a><span class="lineno">  614</span>&#160;        unit.setKind(UNIT_KIND_MOLE);</div>
<div class="line"><a name="l00615"></a><span class="lineno">  615</span>&#160;        unit.setExponent(1);</div>
<div class="line"><a name="l00616"></a><span class="lineno">  616</span>&#160;        unit.setScale(-9);</div>
<div class="line"><a name="l00617"></a><span class="lineno">  617</span>&#160;        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00618"></a><span class="lineno">  618</span>&#160;</div>
<div class="line"><a name="l00619"></a><span class="lineno">  619</span>&#160;      <span class="keywordflow">case</span> <a class="code" href="../../d4/d04/classCModel.html#ac6c52b224ba5973b9cae3cb3d503e25babb9244284f066859820fcab51b863efa">CModel::pMol</a>:</div>
<div class="line"><a name="l00620"></a><span class="lineno">  620</span>&#160;        unit.setKind(UNIT_KIND_MOLE);</div>
<div class="line"><a name="l00621"></a><span class="lineno">  621</span>&#160;        unit.setExponent(1);</div>
<div class="line"><a name="l00622"></a><span class="lineno">  622</span>&#160;        unit.setScale(-12);</div>
<div class="line"><a name="l00623"></a><span class="lineno">  623</span>&#160;        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00624"></a><span class="lineno">  624</span>&#160;</div>
<div class="line"><a name="l00625"></a><span class="lineno">  625</span>&#160;      <span class="keywordflow">case</span> <a class="code" href="../../d4/d04/classCModel.html#ac6c52b224ba5973b9cae3cb3d503e25ba1a7d6ed2ed839724ff0865f283f2f336">CModel::fMol</a>:</div>
<div class="line"><a name="l00626"></a><span class="lineno">  626</span>&#160;        unit.setKind(UNIT_KIND_MOLE);</div>
<div class="line"><a name="l00627"></a><span class="lineno">  627</span>&#160;        unit.setExponent(1);</div>
<div class="line"><a name="l00628"></a><span class="lineno">  628</span>&#160;        unit.setScale(-15);</div>
<div class="line"><a name="l00629"></a><span class="lineno">  629</span>&#160;        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00630"></a><span class="lineno">  630</span>&#160;</div>
<div class="line"><a name="l00631"></a><span class="lineno">  631</span>&#160;      <span class="keywordflow">case</span> <a class="code" href="../../d4/d04/classCModel.html#ac6c52b224ba5973b9cae3cb3d503e25ba4742ca026f7a9968138284bee1b7e7ee">CModel::number</a>:</div>
<div class="line"><a name="l00632"></a><span class="lineno">  632</span>&#160;        unit.setKind(UNIT_KIND_ITEM);</div>
<div class="line"><a name="l00633"></a><span class="lineno">  633</span>&#160;        unit.setExponent(1);</div>
<div class="line"><a name="l00634"></a><span class="lineno">  634</span>&#160;        unit.setScale(0);</div>
<div class="line"><a name="l00635"></a><span class="lineno">  635</span>&#160;        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00636"></a><span class="lineno">  636</span>&#160;</div>
<div class="line"><a name="l00637"></a><span class="lineno">  637</span>&#160;      <span class="keywordflow">case</span> <a class="code" href="../../d4/d04/classCModel.html#ac6c52b224ba5973b9cae3cb3d503e25baa6902a3bb3ca84a3fc8690e8ec853d0b">CModel::dimensionlessQuantity</a>:</div>
<div class="line"><a name="l00638"></a><span class="lineno">  638</span>&#160;        unit.setKind(UNIT_KIND_DIMENSIONLESS);</div>
<div class="line"><a name="l00639"></a><span class="lineno">  639</span>&#160;        unit.setExponent(1);</div>
<div class="line"><a name="l00640"></a><span class="lineno">  640</span>&#160;        unit.setScale(0);</div>
<div class="line"><a name="l00641"></a><span class="lineno">  641</span>&#160;        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00642"></a><span class="lineno">  642</span>&#160;</div>
<div class="line"><a name="l00643"></a><span class="lineno">  643</span>&#160;      <span class="keywordflow">default</span>:</div>
<div class="line"><a name="l00644"></a><span class="lineno">  644</span>&#160;        <a class="code" href="../../d2/df0/classCCopasiMessage.html">CCopasiMessage</a>(<a class="code" href="../../d2/df0/classCCopasiMessage.html#a2ea1ed32494ff5c8d84353efcec7a5e4a568f885d73f0ea36bedfe92f6e533071">CCopasiMessage::EXCEPTION</a>, <span class="stringliteral">&quot;SBMLExporter Error: Unknown copasi quantity unit.&quot;</span>);</div>
<div class="line"><a name="l00645"></a><span class="lineno">  645</span>&#160;        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00646"></a><span class="lineno">  646</span>&#160;    }</div>
<div class="line"><a name="l00647"></a><span class="lineno">  647</span>&#160;</div>
<div class="line"><a name="l00648"></a><span class="lineno">  648</span>&#160;  unit.setMultiplier(1);</div>
<div class="line"><a name="l00649"></a><span class="lineno">  649</span>&#160;  uDef.addUnit(&amp;unit);</div>
<div class="line"><a name="l00650"></a><span class="lineno">  650</span>&#160;  Model* pSBMLModel = this-&gt;<a class="code" href="../../df/d80/classCSBMLExporter.html#a1541a69b36b8e864883e49f0de244f81">mpSBMLDocument</a>-&gt;getModel();</div>
<div class="line"><a name="l00651"></a><span class="lineno">  651</span>&#160;  UnitDefinition* pUdef = pSBMLModel-&gt;getUnitDefinition(<span class="stringliteral">&quot;substance&quot;</span>);</div>
<div class="line"><a name="l00652"></a><span class="lineno">  652</span>&#160;</div>
<div class="line"><a name="l00653"></a><span class="lineno">  653</span>&#160;  <span class="keywordflow">if</span> (pUdef != NULL)</div>
<div class="line"><a name="l00654"></a><span class="lineno">  654</span>&#160;    {</div>
<div class="line"><a name="l00655"></a><span class="lineno">  655</span>&#160;      <span class="comment">// check if it is the same unit as the existing one if there is one</span></div>
<div class="line"><a name="l00656"></a><span class="lineno">  656</span>&#160;      <span class="comment">// if yes, return, else replace the existing one</span></div>
<div class="line"><a name="l00657"></a><span class="lineno">  657</span>&#160;      <span class="keywordflow">if</span> (!<a class="code" href="../../d7/d6d/classSBMLImporter.html#a61d10c15681b398f297bee71eaa75dbe">SBMLImporter::areSBMLUnitDefinitionsIdentical</a>(pUdef, &amp;uDef))</div>
<div class="line"><a name="l00658"></a><span class="lineno">  658</span>&#160;        {</div>
<div class="line"><a name="l00659"></a><span class="lineno">  659</span>&#160;          (*pUdef) = uDef;</div>
<div class="line"><a name="l00660"></a><span class="lineno">  660</span>&#160;        }</div>
<div class="line"><a name="l00661"></a><span class="lineno">  661</span>&#160;    }</div>
<div class="line"><a name="l00662"></a><span class="lineno">  662</span>&#160;  <span class="keywordflow">else</span></div>
<div class="line"><a name="l00663"></a><span class="lineno">  663</span>&#160;    {</div>
<div class="line"><a name="l00664"></a><span class="lineno">  664</span>&#160;      <span class="comment">// only add it if it is not the default unit definition anyway</span></div>
<div class="line"><a name="l00665"></a><span class="lineno">  665</span>&#160;      <span class="keywordflow">if</span> (this-&gt;<a class="code" href="../../df/d80/classCSBMLExporter.html#aba959efc152f63f1709d5de60e97a651">mSBMLLevel</a> &gt; 2 || unit.getKind() != UNIT_KIND_MOLE || unit.getScale() != 0 || unit.getExponent() != 1 || unit.getMultiplier() != 1.0)</div>
<div class="line"><a name="l00666"></a><span class="lineno">  666</span>&#160;        {</div>
<div class="line"><a name="l00667"></a><span class="lineno">  667</span>&#160;          <span class="comment">// set the unit definition</span></div>
<div class="line"><a name="l00668"></a><span class="lineno">  668</span>&#160;          pSBMLModel-&gt;addUnitDefinition(&amp;uDef);</div>
<div class="line"><a name="l00669"></a><span class="lineno">  669</span>&#160;        }</div>
<div class="line"><a name="l00670"></a><span class="lineno">  670</span>&#160;    }</div>
<div class="line"><a name="l00671"></a><span class="lineno">  671</span>&#160;</div>
<div class="line"><a name="l00672"></a><span class="lineno">  672</span>&#160;<span class="comment">// if we write an SBML L3 document, we have to explicitely set the units on the model</span></div>
<div class="line"><a name="l00673"></a><span class="lineno">  673</span>&#160;<span class="preprocessor">#if LIBSBML_VERSION &gt;= 40100</span></div>
<div class="line"><a name="l00674"></a><span class="lineno">  674</span>&#160;<span class="preprocessor"></span></div>
<div class="line"><a name="l00675"></a><span class="lineno">  675</span>&#160;  <span class="keywordflow">if</span> (this-&gt;<a class="code" href="../../df/d80/classCSBMLExporter.html#aba959efc152f63f1709d5de60e97a651">mSBMLLevel</a> &gt; 2)</div>
<div class="line"><a name="l00676"></a><span class="lineno">  676</span>&#160;    {</div>
<div class="line"><a name="l00677"></a><span class="lineno">  677</span>&#160;      pSBMLModel-&gt;setSubstanceUnits(uDef.getId());</div>
<div class="line"><a name="l00678"></a><span class="lineno">  678</span>&#160;      <span class="comment">// here we also set the extent unit to the same unit as the substance unit</span></div>
<div class="line"><a name="l00679"></a><span class="lineno">  679</span>&#160;      <span class="comment">// because COPASI does not know about different extent units</span></div>
<div class="line"><a name="l00680"></a><span class="lineno">  680</span>&#160;      pSBMLModel-&gt;setExtentUnits(uDef.getId());</div>
<div class="line"><a name="l00681"></a><span class="lineno">  681</span>&#160;    }</div>
<div class="line"><a name="l00682"></a><span class="lineno">  682</span>&#160;</div>
<div class="line"><a name="l00683"></a><span class="lineno">  683</span>&#160;<span class="preprocessor">#endif // LIBSBML_VERSION</span></div>
<div class="line"><a name="l00684"></a><span class="lineno">  684</span>&#160;<span class="preprocessor"></span>}</div>
<div class="ttc" id="classCModel_html_ac6c52b224ba5973b9cae3cb3d503e25bab63b354244fb3f55843d5d6a9156a2d3"><div class="ttname"><a href="../../d4/d04/classCModel.html#ac6c52b224ba5973b9cae3cb3d503e25bab63b354244fb3f55843d5d6a9156a2d3">CModel::microMol</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d90/CModel_8h_source.html#l00096">CModel.h:96</a></div></div>
<div class="ttc" id="classCSBMLExporter_html_aba959efc152f63f1709d5de60e97a651"><div class="ttname"><a href="../../df/d80/classCSBMLExporter.html#aba959efc152f63f1709d5de60e97a651">CSBMLExporter::mSBMLLevel</a></div><div class="ttdeci">unsigned int mSBMLLevel</div><div class="ttdef"><b>Definition:</b> <a href="../../da/d7f/CSBMLExporter_8h_source.html#l00056">CSBMLExporter.h:56</a></div></div>
<div class="ttc" id="classCSBMLExporter_html_a1541a69b36b8e864883e49f0de244f81"><div class="ttname"><a href="../../df/d80/classCSBMLExporter.html#a1541a69b36b8e864883e49f0de244f81">CSBMLExporter::mpSBMLDocument</a></div><div class="ttdeci">SBMLDocument * mpSBMLDocument</div><div class="ttdef"><b>Definition:</b> <a href="../../da/d7f/CSBMLExporter_8h_source.html#l00055">CSBMLExporter.h:55</a></div></div>
<div class="ttc" id="classCCopasiDataModel_html_a2e65952e0caf0b2709d381cf949fec69"><div class="ttname"><a href="../../d4/d18/classCCopasiDataModel.html#a2e65952e0caf0b2709d381cf949fec69">CCopasiDataModel::getModel</a></div><div class="ttdeci">CModel * getModel()</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d38/CCopasiDataModel_8cpp_source.html#l01407">CCopasiDataModel.cpp:1407</a></div></div>
<div class="ttc" id="classCModel_html_ac6c52b224ba5973b9cae3cb3d503e25ba4742ca026f7a9968138284bee1b7e7ee"><div class="ttname"><a href="../../d4/d04/classCModel.html#ac6c52b224ba5973b9cae3cb3d503e25ba4742ca026f7a9968138284bee1b7e7ee">CModel::number</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d90/CModel_8h_source.html#l00096">CModel.h:96</a></div></div>
<div class="ttc" id="classCModel_html_a8eb14b87c1bfaa2479fbb897e50832b8"><div class="ttname"><a href="../../d4/d04/classCModel.html#a8eb14b87c1bfaa2479fbb897e50832b8">CModel::getQuantityUnitEnum</a></div><div class="ttdeci">CModel::QuantityUnit getQuantityUnitEnum() const </div><div class="ttdef"><b>Definition:</b> <a href="../../df/d08/CModel_8cpp_source.html#l02331">CModel.cpp:2331</a></div></div>
<div class="ttc" id="classCModel_html_ac6c52b224ba5973b9cae3cb3d503e25baa6902a3bb3ca84a3fc8690e8ec853d0b"><div class="ttname"><a href="../../d4/d04/classCModel.html#ac6c52b224ba5973b9cae3cb3d503e25baa6902a3bb3ca84a3fc8690e8ec853d0b">CModel::dimensionlessQuantity</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d90/CModel_8h_source.html#l00096">CModel.h:96</a></div></div>
<div class="ttc" id="classCCopasiMessage_html_a2ea1ed32494ff5c8d84353efcec7a5e4a568f885d73f0ea36bedfe92f6e533071"><div class="ttname"><a href="../../d2/df0/classCCopasiMessage.html#a2ea1ed32494ff5c8d84353efcec7a5e4a568f885d73f0ea36bedfe92f6e533071">CCopasiMessage::EXCEPTION</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d2d/CCopasiMessage_8h_source.html#l00093">CCopasiMessage.h:93</a></div></div>
<div class="ttc" id="classCModel_html_ac6c52b224ba5973b9cae3cb3d503e25ba1a7d6ed2ed839724ff0865f283f2f336"><div class="ttname"><a href="../../d4/d04/classCModel.html#ac6c52b224ba5973b9cae3cb3d503e25ba1a7d6ed2ed839724ff0865f283f2f336">CModel::fMol</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d90/CModel_8h_source.html#l00096">CModel.h:96</a></div></div>
<div class="ttc" id="classCSBMLExporter_html_af1bc50a307a46adcce8aa8abde6dab96"><div class="ttname"><a href="../../df/d80/classCSBMLExporter.html#af1bc50a307a46adcce8aa8abde6dab96">CSBMLExporter::mSBMLVersion</a></div><div class="ttdeci">unsigned int mSBMLVersion</div><div class="ttdef"><b>Definition:</b> <a href="../../da/d7f/CSBMLExporter_8h_source.html#l00057">CSBMLExporter.h:57</a></div></div>
<div class="ttc" id="classCModel_html_ac6c52b224ba5973b9cae3cb3d503e25baa03a13afa5e7de5f940f6841fe779d17"><div class="ttname"><a href="../../d4/d04/classCModel.html#ac6c52b224ba5973b9cae3cb3d503e25baa03a13afa5e7de5f940f6841fe779d17">CModel::Mol</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d90/CModel_8h_source.html#l00096">CModel.h:96</a></div></div>
<div class="ttc" id="classCCopasiMessage_html"><div class="ttname"><a href="../../d2/df0/classCCopasiMessage.html">CCopasiMessage</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d2d/CCopasiMessage_8h_source.html#l00078">CCopasiMessage.h:78</a></div></div>
<div class="ttc" id="CSBMLExporter_8cpp_html_a6c9f65aeea9a7ce079171b3a9a5b2673"><div class="ttname"><a href="../../d5/d2f/CSBMLExporter_8cpp.html#a6c9f65aeea9a7ce079171b3a9a5b2673">INIT_DEFAULTS</a></div><div class="ttdeci">#define INIT_DEFAULTS(element)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d2f/CSBMLExporter_8cpp_source.html#l00048">CSBMLExporter.cpp:48</a></div></div>
<div class="ttc" id="classCModel_html_ac6c52b224ba5973b9cae3cb3d503e25babb9244284f066859820fcab51b863efa"><div class="ttname"><a href="../../d4/d04/classCModel.html#ac6c52b224ba5973b9cae3cb3d503e25babb9244284f066859820fcab51b863efa">CModel::pMol</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d90/CModel_8h_source.html#l00096">CModel.h:96</a></div></div>
<div class="ttc" id="classCModel_html_ac6c52b224ba5973b9cae3cb3d503e25badc02522f08484b549aac0684d384c568"><div class="ttname"><a href="../../d4/d04/classCModel.html#ac6c52b224ba5973b9cae3cb3d503e25badc02522f08484b549aac0684d384c568">CModel::mMol</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d90/CModel_8h_source.html#l00096">CModel.h:96</a></div></div>
<div class="ttc" id="classCModel_html_ac6c52b224ba5973b9cae3cb3d503e25bad1e36a617dafb03d1348a3dd7c166eb8"><div class="ttname"><a href="../../d4/d04/classCModel.html#ac6c52b224ba5973b9cae3cb3d503e25bad1e36a617dafb03d1348a3dd7c166eb8">CModel::nMol</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d90/CModel_8h_source.html#l00096">CModel.h:96</a></div></div>
<div class="ttc" id="classSBMLImporter_html_a61d10c15681b398f297bee71eaa75dbe"><div class="ttname"><a href="../../d7/d6d/classSBMLImporter.html#a61d10c15681b398f297bee71eaa75dbe">SBMLImporter::areSBMLUnitDefinitionsIdentical</a></div><div class="ttdeci">static bool areSBMLUnitDefinitionsIdentical(const UnitDefinition *pUdef1, const UnitDefinition *pUdef2)</div><div class="ttdef"><b>Definition:</b> <a href="../../df/dfd/SBMLImporter_8cpp_source.html#l08297">SBMLImporter.cpp:8297</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a40cdd317c9caf3ca4b4c4b788078130b"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">ASTNode * CSBMLExporter::createTimesTree </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="../../d8/d2c/classCCopasiVector.html">CCopasiVector</a>&lt; <a class="el" href="../../d6/d8d/classCChemEqElement.html">CChemEqElement</a> &gt; &amp;&#160;</td>
          <td class="paramname"><em>vect</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned int&#160;</td>
          <td class="paramname"><em>pos</em> = <code>0</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>This method creates an ASTNode tree where all the species specified in the given vector are multiplied. This is used to create the mass action kinetic law. </p>

<p>Definition at line <a class="el" href="../../d5/d2f/CSBMLExporter_8cpp_source.html#l04872">4872</a> of file <a class="el" href="../../d5/d2f/CSBMLExporter_8cpp_source.html">CSBMLExporter.cpp</a>.</p>

<p>References <a class="el" href="../../d0/da0/classCModelEntity.html#a5c8d403c6027f59d1cc3e1ccc2d9efac">CModelEntity::getSBMLId()</a>, and <a class="el" href="../../d8/d2c/classCCopasiVector.html#ab7e0e37022783eddfe85abf9339b05c0">CCopasiVector&lt; T &gt;::size()</a>.</p>
<div class="fragment"><div class="line"><a name="l04873"></a><span class="lineno"> 4873</span>&#160;{</div>
<div class="line"><a name="l04874"></a><span class="lineno"> 4874</span>&#160;  ASTNode* pNode = NULL;</div>
<div class="line"><a name="l04875"></a><span class="lineno"> 4875</span>&#160;  <span class="keywordtype">double</span> multiplicity = vect[pos]-&gt;getMultiplicity();</div>
<div class="line"><a name="l04876"></a><span class="lineno"> 4876</span>&#160;</div>
<div class="line"><a name="l04877"></a><span class="lineno"> 4877</span>&#160;  <span class="keywordflow">if</span> (pos == vect.<a class="code" href="../../d8/d2c/classCCopasiVector.html#ab7e0e37022783eddfe85abf9339b05c0">size</a>() - 1)</div>
<div class="line"><a name="l04878"></a><span class="lineno"> 4878</span>&#160;    {</div>
<div class="line"><a name="l04879"></a><span class="lineno"> 4879</span>&#160;      pNode = <span class="keyword">new</span> ASTNode(AST_NAME);</div>
<div class="line"><a name="l04880"></a><span class="lineno"> 4880</span>&#160;      <span class="keyword">const</span> <a class="code" href="../../dc/d44/classCMetab.html">CMetab</a>* pMetab = vect[pos]-&gt;getMetabolite();</div>
<div class="line"><a name="l04881"></a><span class="lineno"> 4881</span>&#160;      assert(pMetab);</div>
<div class="line"><a name="l04882"></a><span class="lineno"> 4882</span>&#160;</div>
<div class="line"><a name="l04883"></a><span class="lineno"> 4883</span>&#160;      pNode-&gt;setName(pMetab-&gt;<a class="code" href="../../d0/da0/classCModelEntity.html#a5c8d403c6027f59d1cc3e1ccc2d9efac">getSBMLId</a>().c_str());</div>
<div class="line"><a name="l04884"></a><span class="lineno"> 4884</span>&#160;</div>
<div class="line"><a name="l04885"></a><span class="lineno"> 4885</span>&#160;      <span class="comment">/* if the stoichiometry is not 1.0, we have to add it to the exponent */</span></div>
<div class="line"><a name="l04886"></a><span class="lineno"> 4886</span>&#160;      <span class="keywordflow">if</span> (multiplicity != 1.0)</div>
<div class="line"><a name="l04887"></a><span class="lineno"> 4887</span>&#160;        {</div>
<div class="line"><a name="l04888"></a><span class="lineno"> 4888</span>&#160;          ASTNode* pTmpNode1 = <span class="keyword">new</span> ASTNode(AST_POWER);</div>
<div class="line"><a name="l04889"></a><span class="lineno"> 4889</span>&#160;          ASTNode* pTmpNode2 = <span class="keyword">new</span> ASTNode(AST_REAL);</div>
<div class="line"><a name="l04890"></a><span class="lineno"> 4890</span>&#160;          pTmpNode2-&gt;setValue(multiplicity);</div>
<div class="line"><a name="l04891"></a><span class="lineno"> 4891</span>&#160;          pTmpNode1-&gt;addChild(pNode);</div>
<div class="line"><a name="l04892"></a><span class="lineno"> 4892</span>&#160;          pTmpNode1-&gt;addChild(pTmpNode2);</div>
<div class="line"><a name="l04893"></a><span class="lineno"> 4893</span>&#160;          pNode = pTmpNode1;</div>
<div class="line"><a name="l04894"></a><span class="lineno"> 4894</span>&#160;        }</div>
<div class="line"><a name="l04895"></a><span class="lineno"> 4895</span>&#160;    }</div>
<div class="line"><a name="l04896"></a><span class="lineno"> 4896</span>&#160;  <span class="keywordflow">else</span></div>
<div class="line"><a name="l04897"></a><span class="lineno"> 4897</span>&#160;    {</div>
<div class="line"><a name="l04898"></a><span class="lineno"> 4898</span>&#160;      pNode = <span class="keyword">new</span> ASTNode(AST_TIMES);</div>
<div class="line"><a name="l04899"></a><span class="lineno"> 4899</span>&#160;      ASTNode* pChild = <span class="keyword">new</span> ASTNode(AST_NAME);</div>
<div class="line"><a name="l04900"></a><span class="lineno"> 4900</span>&#160;      <span class="keyword">const</span> <a class="code" href="../../dc/d44/classCMetab.html">CMetab</a>* pMetab = vect[pos]-&gt;getMetabolite();</div>
<div class="line"><a name="l04901"></a><span class="lineno"> 4901</span>&#160;      assert(pMetab);</div>
<div class="line"><a name="l04902"></a><span class="lineno"> 4902</span>&#160;</div>
<div class="line"><a name="l04903"></a><span class="lineno"> 4903</span>&#160;      pChild-&gt;setName(pMetab-&gt;<a class="code" href="../../d0/da0/classCModelEntity.html#a5c8d403c6027f59d1cc3e1ccc2d9efac">getSBMLId</a>().c_str());</div>
<div class="line"><a name="l04904"></a><span class="lineno"> 4904</span>&#160;</div>
<div class="line"><a name="l04905"></a><span class="lineno"> 4905</span>&#160;      <span class="comment">/* if the stoichiometry is not 1.0, we have to add it to the exponent */</span></div>
<div class="line"><a name="l04906"></a><span class="lineno"> 4906</span>&#160;      <span class="keywordflow">if</span> (multiplicity != 1.0)</div>
<div class="line"><a name="l04907"></a><span class="lineno"> 4907</span>&#160;        {</div>
<div class="line"><a name="l04908"></a><span class="lineno"> 4908</span>&#160;          ASTNode* pTmpNode1 = <span class="keyword">new</span> ASTNode(AST_POWER);</div>
<div class="line"><a name="l04909"></a><span class="lineno"> 4909</span>&#160;          ASTNode* pTmpNode2 = <span class="keyword">new</span> ASTNode(AST_REAL);</div>
<div class="line"><a name="l04910"></a><span class="lineno"> 4910</span>&#160;          pTmpNode2-&gt;setValue(multiplicity);</div>
<div class="line"><a name="l04911"></a><span class="lineno"> 4911</span>&#160;          pTmpNode1-&gt;addChild(pChild);</div>
<div class="line"><a name="l04912"></a><span class="lineno"> 4912</span>&#160;          pTmpNode1-&gt;addChild(pTmpNode2);</div>
<div class="line"><a name="l04913"></a><span class="lineno"> 4913</span>&#160;          pChild = pTmpNode1;</div>
<div class="line"><a name="l04914"></a><span class="lineno"> 4914</span>&#160;        }</div>
<div class="line"><a name="l04915"></a><span class="lineno"> 4915</span>&#160;</div>
<div class="line"><a name="l04916"></a><span class="lineno"> 4916</span>&#160;      pNode-&gt;addChild(pChild);</div>
<div class="line"><a name="l04917"></a><span class="lineno"> 4917</span>&#160;      pNode-&gt;addChild(<a class="code" href="../../df/d80/classCSBMLExporter.html#a40cdd317c9caf3ca4b4c4b788078130b">CSBMLExporter::createTimesTree</a>(vect, pos + 1));</div>
<div class="line"><a name="l04918"></a><span class="lineno"> 4918</span>&#160;    }</div>
<div class="line"><a name="l04919"></a><span class="lineno"> 4919</span>&#160;</div>
<div class="line"><a name="l04920"></a><span class="lineno"> 4920</span>&#160;  <span class="keywordflow">return</span> pNode;</div>
<div class="line"><a name="l04921"></a><span class="lineno"> 4921</span>&#160;}</div>
<div class="ttc" id="classCModelEntity_html_a5c8d403c6027f59d1cc3e1ccc2d9efac"><div class="ttname"><a href="../../d0/da0/classCModelEntity.html#a5c8d403c6027f59d1cc3e1ccc2d9efac">CModelEntity::getSBMLId</a></div><div class="ttdeci">const std::string &amp; getSBMLId() const </div><div class="ttdef"><b>Definition:</b> <a href="../../d8/da3/CModelValue_8cpp_source.html#l00637">CModelValue.cpp:637</a></div></div>
<div class="ttc" id="classCCopasiVector_html_ab7e0e37022783eddfe85abf9339b05c0"><div class="ttname"><a href="../../d8/d2c/classCCopasiVector.html#ab7e0e37022783eddfe85abf9339b05c0">CCopasiVector::size</a></div><div class="ttdeci">virtual size_t size() const </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d51/CCopasiVector_8h_source.html#l00386">CCopasiVector.h:386</a></div></div>
<div class="ttc" id="classCMetab_html"><div class="ttname"><a href="../../dc/d44/classCMetab.html">CMetab</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d3/df5/CMetab_8h_source.html#l00178">CMetab.h:178</a></div></div>
<div class="ttc" id="classCSBMLExporter_html_a40cdd317c9caf3ca4b4c4b788078130b"><div class="ttname"><a href="../../df/d80/classCSBMLExporter.html#a40cdd317c9caf3ca4b4c4b788078130b">CSBMLExporter::createTimesTree</a></div><div class="ttdeci">static ASTNode * createTimesTree(const CCopasiVector&lt; CChemEqElement &gt; &amp;vect, unsigned int pos=0)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d2f/CSBMLExporter_8cpp_source.html#l04872">CSBMLExporter.cpp:4872</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="aae5677a0b747ea278f61312ad80c85d4"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d3/d05/CChemEqParser__yacc_8cpp.html#aa76fec002b4ba91adc88f68d56ba730c">void</a> CSBMLExporter::createTimeUnit </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="../../d4/d18/classCCopasiDataModel.html">CCopasiDataModel</a> &amp;&#160;</td>
          <td class="paramname"><em>dataModel</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Creates the time unit for the SBML model. </p>

<p>Definition at line <a class="el" href="../../d5/d2f/CSBMLExporter_8cpp_source.html#l00354">354</a> of file <a class="el" href="../../d5/d2f/CSBMLExporter_8cpp_source.html">CSBMLExporter.cpp</a>.</p>

<p>References <a class="el" href="../../d7/d6d/classSBMLImporter.html#a61d10c15681b398f297bee71eaa75dbe">SBMLImporter::areSBMLUnitDefinitionsIdentical()</a>, <a class="el" href="../../d4/d04/classCModel.html#a6301a7ea126c95b1bcabb917d17f0bdaa5afbaa25bbe26acfe4ff8462a4b25c3f">CModel::d</a>, <a class="el" href="../../d4/d04/classCModel.html#a6301a7ea126c95b1bcabb917d17f0bdaad4389c8461420ff91783cdf5cfa4f86f">CModel::dimensionlessTime</a>, <a class="el" href="../../d2/df0/classCCopasiMessage.html#a2ea1ed32494ff5c8d84353efcec7a5e4a568f885d73f0ea36bedfe92f6e533071">CCopasiMessage::EXCEPTION</a>, <a class="el" href="../../d4/d04/classCModel.html#a6301a7ea126c95b1bcabb917d17f0bdaae313d915e5db581afe544000b0ab044b">CModel::fs</a>, <a class="el" href="../../d4/d18/classCCopasiDataModel.html#a2e65952e0caf0b2709d381cf949fec69">CCopasiDataModel::getModel()</a>, <a class="el" href="../../d4/d04/classCModel.html#a2d8376af22f6e34edb99b9f2e66df401">CModel::getTimeUnitEnum()</a>, <a class="el" href="../../d4/d04/classCModel.html#a6301a7ea126c95b1bcabb917d17f0bdaa382812da7f925d46ccf941eece86894c">CModel::h</a>, <a class="el" href="../../d5/d2f/CSBMLExporter_8cpp.html#a6c9f65aeea9a7ce079171b3a9a5b2673">INIT_DEFAULTS</a>, <a class="el" href="../../d4/d04/classCModel.html#a6301a7ea126c95b1bcabb917d17f0bdaaee3b8619d14d4f26903b46ac551c35cb">CModel::micros</a>, <a class="el" href="../../d4/d04/classCModel.html#a6301a7ea126c95b1bcabb917d17f0bdaac949e50996d23d3be6e4f2c0d4c330ad">CModel::min</a>, <a class="el" href="../../df/d80/classCSBMLExporter.html#a1541a69b36b8e864883e49f0de244f81">mpSBMLDocument</a>, <a class="el" href="../../d4/d04/classCModel.html#a6301a7ea126c95b1bcabb917d17f0bdaad8969222f4a830aefdf762e1cb626eb5">CModel::ms</a>, <a class="el" href="../../df/d80/classCSBMLExporter.html#aba959efc152f63f1709d5de60e97a651">mSBMLLevel</a>, <a class="el" href="../../df/d80/classCSBMLExporter.html#af1bc50a307a46adcce8aa8abde6dab96">mSBMLVersion</a>, <a class="el" href="../../d4/d04/classCModel.html#a6301a7ea126c95b1bcabb917d17f0bdaa44310b42d8e7b3272127e666d44ed32c">CModel::ns</a>, <a class="el" href="../../d4/d04/classCModel.html#a6301a7ea126c95b1bcabb917d17f0bdaab5b0bfa352a1aee7e12b5a669202e6c8">CModel::ps</a>, and <a class="el" href="../../d4/d04/classCModel.html#a6301a7ea126c95b1bcabb917d17f0bdaa6f37966986aa0f221198fa2f236cd089">CModel::s</a>.</p>

<p>Referenced by <a class="el" href="../../df/d80/classCSBMLExporter.html#aa26105735e02cd59de9932914b4c2505">createUnits()</a>.</p>
<div class="fragment"><div class="line"><a name="l00355"></a><span class="lineno">  355</span>&#160;{</div>
<div class="line"><a name="l00356"></a><span class="lineno">  356</span>&#160;  <span class="keywordflow">if</span> (dataModel.<a class="code" href="../../d4/d18/classCCopasiDataModel.html#a2e65952e0caf0b2709d381cf949fec69">getModel</a>() == NULL || this-&gt;<a class="code" href="../../df/d80/classCSBMLExporter.html#a1541a69b36b8e864883e49f0de244f81">mpSBMLDocument</a> == NULL || this-&gt;<a class="code" href="../../df/d80/classCSBMLExporter.html#a1541a69b36b8e864883e49f0de244f81">mpSBMLDocument</a>-&gt;getModel() == NULL) <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00357"></a><span class="lineno">  357</span>&#160;</div>
<div class="line"><a name="l00358"></a><span class="lineno">  358</span>&#160;  UnitDefinition uDef(this-&gt;<a class="code" href="../../df/d80/classCSBMLExporter.html#aba959efc152f63f1709d5de60e97a651">mSBMLLevel</a>, this-&gt;<a class="code" href="../../df/d80/classCSBMLExporter.html#af1bc50a307a46adcce8aa8abde6dab96">mSBMLVersion</a>);</div>
<div class="line"><a name="l00359"></a><span class="lineno">  359</span>&#160;  uDef.setName(<span class="stringliteral">&quot;time&quot;</span>);</div>
<div class="line"><a name="l00360"></a><span class="lineno">  360</span>&#160;  uDef.setId(<span class="stringliteral">&quot;time&quot;</span>);</div>
<div class="line"><a name="l00361"></a><span class="lineno">  361</span>&#160;  Unit unit(this-&gt;<a class="code" href="../../df/d80/classCSBMLExporter.html#aba959efc152f63f1709d5de60e97a651">mSBMLLevel</a>, this-&gt;<a class="code" href="../../df/d80/classCSBMLExporter.html#af1bc50a307a46adcce8aa8abde6dab96">mSBMLVersion</a>);</div>
<div class="line"><a name="l00362"></a><span class="lineno">  362</span>&#160;  <a class="code" href="../../d5/d2f/CSBMLExporter_8cpp.html#a6c9f65aeea9a7ce079171b3a9a5b2673">INIT_DEFAULTS</a>(unit);</div>
<div class="line"><a name="l00363"></a><span class="lineno">  363</span>&#160;</div>
<div class="line"><a name="l00364"></a><span class="lineno">  364</span>&#160;  <span class="keywordflow">switch</span> (dataModel.<a class="code" href="../../d4/d18/classCCopasiDataModel.html#a2e65952e0caf0b2709d381cf949fec69">getModel</a>()-&gt;<a class="code" href="../../d4/d04/classCModel.html#a2d8376af22f6e34edb99b9f2e66df401">getTimeUnitEnum</a>())</div>
<div class="line"><a name="l00365"></a><span class="lineno">  365</span>&#160;    {</div>
<div class="line"><a name="l00366"></a><span class="lineno">  366</span>&#160;      <span class="keywordflow">case</span> <a class="code" href="../../d4/d04/classCModel.html#a6301a7ea126c95b1bcabb917d17f0bdaa5afbaa25bbe26acfe4ff8462a4b25c3f">CModel::d</a>:</div>
<div class="line"><a name="l00367"></a><span class="lineno">  367</span>&#160;        unit.setKind(UNIT_KIND_SECOND);</div>
<div class="line"><a name="l00368"></a><span class="lineno">  368</span>&#160;        unit.setExponent(1);</div>
<div class="line"><a name="l00369"></a><span class="lineno">  369</span>&#160;        unit.setScale(0);</div>
<div class="line"><a name="l00370"></a><span class="lineno">  370</span>&#160;        unit.setMultiplier(86400);</div>
<div class="line"><a name="l00371"></a><span class="lineno">  371</span>&#160;        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00372"></a><span class="lineno">  372</span>&#160;</div>
<div class="line"><a name="l00373"></a><span class="lineno">  373</span>&#160;      <span class="keywordflow">case</span> <a class="code" href="../../d4/d04/classCModel.html#a6301a7ea126c95b1bcabb917d17f0bdaa382812da7f925d46ccf941eece86894c">CModel::h</a>:</div>
<div class="line"><a name="l00374"></a><span class="lineno">  374</span>&#160;        unit.setKind(UNIT_KIND_SECOND);</div>
<div class="line"><a name="l00375"></a><span class="lineno">  375</span>&#160;        unit.setExponent(1);</div>
<div class="line"><a name="l00376"></a><span class="lineno">  376</span>&#160;        unit.setScale(0);</div>
<div class="line"><a name="l00377"></a><span class="lineno">  377</span>&#160;        unit.setMultiplier(3600);</div>
<div class="line"><a name="l00378"></a><span class="lineno">  378</span>&#160;        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00379"></a><span class="lineno">  379</span>&#160;</div>
<div class="line"><a name="l00380"></a><span class="lineno">  380</span>&#160;      <span class="keywordflow">case</span> <a class="code" href="../../d4/d04/classCModel.html#a6301a7ea126c95b1bcabb917d17f0bdaac949e50996d23d3be6e4f2c0d4c330ad">CModel::min</a>:</div>
<div class="line"><a name="l00381"></a><span class="lineno">  381</span>&#160;        unit.setKind(UNIT_KIND_SECOND);</div>
<div class="line"><a name="l00382"></a><span class="lineno">  382</span>&#160;        unit.setExponent(1);</div>
<div class="line"><a name="l00383"></a><span class="lineno">  383</span>&#160;        unit.setScale(0);</div>
<div class="line"><a name="l00384"></a><span class="lineno">  384</span>&#160;        unit.setMultiplier(60);</div>
<div class="line"><a name="l00385"></a><span class="lineno">  385</span>&#160;        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00386"></a><span class="lineno">  386</span>&#160;</div>
<div class="line"><a name="l00387"></a><span class="lineno">  387</span>&#160;      <span class="keywordflow">case</span> <a class="code" href="../../d4/d04/classCModel.html#a6301a7ea126c95b1bcabb917d17f0bdaa6f37966986aa0f221198fa2f236cd089">CModel::s</a>:</div>
<div class="line"><a name="l00388"></a><span class="lineno">  388</span>&#160;        unit.setKind(UNIT_KIND_SECOND);</div>
<div class="line"><a name="l00389"></a><span class="lineno">  389</span>&#160;        unit.setExponent(1);</div>
<div class="line"><a name="l00390"></a><span class="lineno">  390</span>&#160;        unit.setScale(0);</div>
<div class="line"><a name="l00391"></a><span class="lineno">  391</span>&#160;        unit.setMultiplier(1);</div>
<div class="line"><a name="l00392"></a><span class="lineno">  392</span>&#160;        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00393"></a><span class="lineno">  393</span>&#160;</div>
<div class="line"><a name="l00394"></a><span class="lineno">  394</span>&#160;      <span class="keywordflow">case</span> <a class="code" href="../../d4/d04/classCModel.html#a6301a7ea126c95b1bcabb917d17f0bdaad8969222f4a830aefdf762e1cb626eb5">CModel::ms</a>:</div>
<div class="line"><a name="l00395"></a><span class="lineno">  395</span>&#160;        unit.setKind(UNIT_KIND_SECOND);</div>
<div class="line"><a name="l00396"></a><span class="lineno">  396</span>&#160;        unit.setExponent(1);</div>
<div class="line"><a name="l00397"></a><span class="lineno">  397</span>&#160;        unit.setScale(-3);</div>
<div class="line"><a name="l00398"></a><span class="lineno">  398</span>&#160;        unit.setMultiplier(1);</div>
<div class="line"><a name="l00399"></a><span class="lineno">  399</span>&#160;        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00400"></a><span class="lineno">  400</span>&#160;</div>
<div class="line"><a name="l00401"></a><span class="lineno">  401</span>&#160;      <span class="keywordflow">case</span> <a class="code" href="../../d4/d04/classCModel.html#a6301a7ea126c95b1bcabb917d17f0bdaaee3b8619d14d4f26903b46ac551c35cb">CModel::micros</a>:</div>
<div class="line"><a name="l00402"></a><span class="lineno">  402</span>&#160;        unit.setKind(UNIT_KIND_SECOND);</div>
<div class="line"><a name="l00403"></a><span class="lineno">  403</span>&#160;        unit.setExponent(1);</div>
<div class="line"><a name="l00404"></a><span class="lineno">  404</span>&#160;        unit.setScale(-6);</div>
<div class="line"><a name="l00405"></a><span class="lineno">  405</span>&#160;        unit.setMultiplier(1);</div>
<div class="line"><a name="l00406"></a><span class="lineno">  406</span>&#160;        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00407"></a><span class="lineno">  407</span>&#160;</div>
<div class="line"><a name="l00408"></a><span class="lineno">  408</span>&#160;      <span class="keywordflow">case</span> <a class="code" href="../../d4/d04/classCModel.html#a6301a7ea126c95b1bcabb917d17f0bdaa44310b42d8e7b3272127e666d44ed32c">CModel::ns</a>:</div>
<div class="line"><a name="l00409"></a><span class="lineno">  409</span>&#160;        unit.setKind(UNIT_KIND_SECOND);</div>
<div class="line"><a name="l00410"></a><span class="lineno">  410</span>&#160;        unit.setExponent(1);</div>
<div class="line"><a name="l00411"></a><span class="lineno">  411</span>&#160;        unit.setScale(-9);</div>
<div class="line"><a name="l00412"></a><span class="lineno">  412</span>&#160;        unit.setMultiplier(1);</div>
<div class="line"><a name="l00413"></a><span class="lineno">  413</span>&#160;        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00414"></a><span class="lineno">  414</span>&#160;</div>
<div class="line"><a name="l00415"></a><span class="lineno">  415</span>&#160;      <span class="keywordflow">case</span> <a class="code" href="../../d4/d04/classCModel.html#a6301a7ea126c95b1bcabb917d17f0bdaab5b0bfa352a1aee7e12b5a669202e6c8">CModel::ps</a>:</div>
<div class="line"><a name="l00416"></a><span class="lineno">  416</span>&#160;        unit.setKind(UNIT_KIND_SECOND);</div>
<div class="line"><a name="l00417"></a><span class="lineno">  417</span>&#160;        unit.setExponent(1);</div>
<div class="line"><a name="l00418"></a><span class="lineno">  418</span>&#160;        unit.setScale(-12);</div>
<div class="line"><a name="l00419"></a><span class="lineno">  419</span>&#160;        unit.setMultiplier(1);</div>
<div class="line"><a name="l00420"></a><span class="lineno">  420</span>&#160;        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00421"></a><span class="lineno">  421</span>&#160;</div>
<div class="line"><a name="l00422"></a><span class="lineno">  422</span>&#160;      <span class="keywordflow">case</span> <a class="code" href="../../d4/d04/classCModel.html#a6301a7ea126c95b1bcabb917d17f0bdaae313d915e5db581afe544000b0ab044b">CModel::fs</a>:</div>
<div class="line"><a name="l00423"></a><span class="lineno">  423</span>&#160;        unit.setKind(UNIT_KIND_SECOND);</div>
<div class="line"><a name="l00424"></a><span class="lineno">  424</span>&#160;        unit.setExponent(1);</div>
<div class="line"><a name="l00425"></a><span class="lineno">  425</span>&#160;        unit.setScale(-15);</div>
<div class="line"><a name="l00426"></a><span class="lineno">  426</span>&#160;        unit.setMultiplier(1);</div>
<div class="line"><a name="l00427"></a><span class="lineno">  427</span>&#160;        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00428"></a><span class="lineno">  428</span>&#160;</div>
<div class="line"><a name="l00429"></a><span class="lineno">  429</span>&#160;      <span class="keywordflow">case</span> <a class="code" href="../../d4/d04/classCModel.html#a6301a7ea126c95b1bcabb917d17f0bdaad4389c8461420ff91783cdf5cfa4f86f">CModel::dimensionlessTime</a>:</div>
<div class="line"><a name="l00430"></a><span class="lineno">  430</span>&#160;        unit.setKind(UNIT_KIND_DIMENSIONLESS);</div>
<div class="line"><a name="l00431"></a><span class="lineno">  431</span>&#160;        unit.setExponent(1);</div>
<div class="line"><a name="l00432"></a><span class="lineno">  432</span>&#160;        unit.setScale(0);</div>
<div class="line"><a name="l00433"></a><span class="lineno">  433</span>&#160;        unit.setMultiplier(1);</div>
<div class="line"><a name="l00434"></a><span class="lineno">  434</span>&#160;        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00435"></a><span class="lineno">  435</span>&#160;</div>
<div class="line"><a name="l00436"></a><span class="lineno">  436</span>&#160;      <span class="keywordflow">default</span>:</div>
<div class="line"><a name="l00437"></a><span class="lineno">  437</span>&#160;        <a class="code" href="../../d2/df0/classCCopasiMessage.html">CCopasiMessage</a>(<a class="code" href="../../d2/df0/classCCopasiMessage.html#a2ea1ed32494ff5c8d84353efcec7a5e4a568f885d73f0ea36bedfe92f6e533071">CCopasiMessage::EXCEPTION</a>, <span class="stringliteral">&quot;SBMLExporter Error: Unknown copasi time unit.&quot;</span>);</div>
<div class="line"><a name="l00438"></a><span class="lineno">  438</span>&#160;        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00439"></a><span class="lineno">  439</span>&#160;    }</div>
<div class="line"><a name="l00440"></a><span class="lineno">  440</span>&#160;</div>
<div class="line"><a name="l00441"></a><span class="lineno">  441</span>&#160;  uDef.addUnit(&amp;unit);</div>
<div class="line"><a name="l00442"></a><span class="lineno">  442</span>&#160;  Model* pSBMLModel = this-&gt;<a class="code" href="../../df/d80/classCSBMLExporter.html#a1541a69b36b8e864883e49f0de244f81">mpSBMLDocument</a>-&gt;getModel();</div>
<div class="line"><a name="l00443"></a><span class="lineno">  443</span>&#160;  UnitDefinition* pUdef = pSBMLModel-&gt;getUnitDefinition(<span class="stringliteral">&quot;time&quot;</span>);</div>
<div class="line"><a name="l00444"></a><span class="lineno">  444</span>&#160;</div>
<div class="line"><a name="l00445"></a><span class="lineno">  445</span>&#160;  <span class="keywordflow">if</span> (pUdef != NULL)</div>
<div class="line"><a name="l00446"></a><span class="lineno">  446</span>&#160;    {</div>
<div class="line"><a name="l00447"></a><span class="lineno">  447</span>&#160;      <span class="comment">// check if it is the same unit as the existing one if there is one</span></div>
<div class="line"><a name="l00448"></a><span class="lineno">  448</span>&#160;      <span class="comment">// if yes, return, else replace the existing one</span></div>
<div class="line"><a name="l00449"></a><span class="lineno">  449</span>&#160;      <span class="keywordflow">if</span> (!<a class="code" href="../../d7/d6d/classSBMLImporter.html#a61d10c15681b398f297bee71eaa75dbe">SBMLImporter::areSBMLUnitDefinitionsIdentical</a>(pUdef, &amp;uDef))</div>
<div class="line"><a name="l00450"></a><span class="lineno">  450</span>&#160;        {</div>
<div class="line"><a name="l00451"></a><span class="lineno">  451</span>&#160;          (*pUdef) = uDef;</div>
<div class="line"><a name="l00452"></a><span class="lineno">  452</span>&#160;        }</div>
<div class="line"><a name="l00453"></a><span class="lineno">  453</span>&#160;    }</div>
<div class="line"><a name="l00454"></a><span class="lineno">  454</span>&#160;  <span class="keywordflow">else</span></div>
<div class="line"><a name="l00455"></a><span class="lineno">  455</span>&#160;    {</div>
<div class="line"><a name="l00456"></a><span class="lineno">  456</span>&#160;      <span class="comment">// only add it if it is not the default unit definition anyway</span></div>
<div class="line"><a name="l00457"></a><span class="lineno">  457</span>&#160;      <span class="comment">// from SBML Level 3 on, there are no default units</span></div>
<div class="line"><a name="l00458"></a><span class="lineno">  458</span>&#160;      <span class="comment">// so we have to write it</span></div>
<div class="line"><a name="l00459"></a><span class="lineno">  459</span>&#160;      <span class="keywordflow">if</span> (this-&gt;<a class="code" href="../../df/d80/classCSBMLExporter.html#aba959efc152f63f1709d5de60e97a651">mSBMLLevel</a> &gt; 2 || unit.getKind() != UNIT_KIND_SECOND || unit.getScale() != 0 || unit.getExponent() != 1 || unit.getMultiplier() != 1.0)</div>
<div class="line"><a name="l00460"></a><span class="lineno">  460</span>&#160;        {</div>
<div class="line"><a name="l00461"></a><span class="lineno">  461</span>&#160;          <span class="comment">// set the unit definition</span></div>
<div class="line"><a name="l00462"></a><span class="lineno">  462</span>&#160;          pSBMLModel-&gt;addUnitDefinition(&amp;uDef);</div>
<div class="line"><a name="l00463"></a><span class="lineno">  463</span>&#160;        }</div>
<div class="line"><a name="l00464"></a><span class="lineno">  464</span>&#160;    }</div>
<div class="line"><a name="l00465"></a><span class="lineno">  465</span>&#160;</div>
<div class="line"><a name="l00466"></a><span class="lineno">  466</span>&#160;<span class="comment">// if we write an SBML L3 document, we have to explicitely set the units on the model</span></div>
<div class="line"><a name="l00467"></a><span class="lineno">  467</span>&#160;<span class="preprocessor">#if LIBSBML_VERSION &gt;= 40100</span></div>
<div class="line"><a name="l00468"></a><span class="lineno">  468</span>&#160;<span class="preprocessor"></span></div>
<div class="line"><a name="l00469"></a><span class="lineno">  469</span>&#160;  <span class="keywordflow">if</span> (this-&gt;<a class="code" href="../../df/d80/classCSBMLExporter.html#aba959efc152f63f1709d5de60e97a651">mSBMLLevel</a> &gt; 2)</div>
<div class="line"><a name="l00470"></a><span class="lineno">  470</span>&#160;    {</div>
<div class="line"><a name="l00471"></a><span class="lineno">  471</span>&#160;      pSBMLModel-&gt;setTimeUnits(uDef.getId());</div>
<div class="line"><a name="l00472"></a><span class="lineno">  472</span>&#160;    }</div>
<div class="line"><a name="l00473"></a><span class="lineno">  473</span>&#160;</div>
<div class="line"><a name="l00474"></a><span class="lineno">  474</span>&#160;<span class="preprocessor">#endif // LIBSBML_VERSION</span></div>
<div class="line"><a name="l00475"></a><span class="lineno">  475</span>&#160;<span class="preprocessor"></span>}</div>
<div class="ttc" id="classCModel_html_a6301a7ea126c95b1bcabb917d17f0bdaa5afbaa25bbe26acfe4ff8462a4b25c3f"><div class="ttname"><a href="../../d4/d04/classCModel.html#a6301a7ea126c95b1bcabb917d17f0bdaa5afbaa25bbe26acfe4ff8462a4b25c3f">CModel::d</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d90/CModel_8h_source.html#l00086">CModel.h:86</a></div></div>
<div class="ttc" id="classCSBMLExporter_html_aba959efc152f63f1709d5de60e97a651"><div class="ttname"><a href="../../df/d80/classCSBMLExporter.html#aba959efc152f63f1709d5de60e97a651">CSBMLExporter::mSBMLLevel</a></div><div class="ttdeci">unsigned int mSBMLLevel</div><div class="ttdef"><b>Definition:</b> <a href="../../da/d7f/CSBMLExporter_8h_source.html#l00056">CSBMLExporter.h:56</a></div></div>
<div class="ttc" id="classCSBMLExporter_html_a1541a69b36b8e864883e49f0de244f81"><div class="ttname"><a href="../../df/d80/classCSBMLExporter.html#a1541a69b36b8e864883e49f0de244f81">CSBMLExporter::mpSBMLDocument</a></div><div class="ttdeci">SBMLDocument * mpSBMLDocument</div><div class="ttdef"><b>Definition:</b> <a href="../../da/d7f/CSBMLExporter_8h_source.html#l00055">CSBMLExporter.h:55</a></div></div>
<div class="ttc" id="classCCopasiDataModel_html_a2e65952e0caf0b2709d381cf949fec69"><div class="ttname"><a href="../../d4/d18/classCCopasiDataModel.html#a2e65952e0caf0b2709d381cf949fec69">CCopasiDataModel::getModel</a></div><div class="ttdeci">CModel * getModel()</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d38/CCopasiDataModel_8cpp_source.html#l01407">CCopasiDataModel.cpp:1407</a></div></div>
<div class="ttc" id="classCModel_html_a6301a7ea126c95b1bcabb917d17f0bdaa6f37966986aa0f221198fa2f236cd089"><div class="ttname"><a href="../../d4/d04/classCModel.html#a6301a7ea126c95b1bcabb917d17f0bdaa6f37966986aa0f221198fa2f236cd089">CModel::s</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d90/CModel_8h_source.html#l00086">CModel.h:86</a></div></div>
<div class="ttc" id="classCModel_html_a6301a7ea126c95b1bcabb917d17f0bdaa382812da7f925d46ccf941eece86894c"><div class="ttname"><a href="../../d4/d04/classCModel.html#a6301a7ea126c95b1bcabb917d17f0bdaa382812da7f925d46ccf941eece86894c">CModel::h</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d90/CModel_8h_source.html#l00086">CModel.h:86</a></div></div>
<div class="ttc" id="classCModel_html_a6301a7ea126c95b1bcabb917d17f0bdaae313d915e5db581afe544000b0ab044b"><div class="ttname"><a href="../../d4/d04/classCModel.html#a6301a7ea126c95b1bcabb917d17f0bdaae313d915e5db581afe544000b0ab044b">CModel::fs</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d90/CModel_8h_source.html#l00086">CModel.h:86</a></div></div>
<div class="ttc" id="classCCopasiMessage_html_a2ea1ed32494ff5c8d84353efcec7a5e4a568f885d73f0ea36bedfe92f6e533071"><div class="ttname"><a href="../../d2/df0/classCCopasiMessage.html#a2ea1ed32494ff5c8d84353efcec7a5e4a568f885d73f0ea36bedfe92f6e533071">CCopasiMessage::EXCEPTION</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d2d/CCopasiMessage_8h_source.html#l00093">CCopasiMessage.h:93</a></div></div>
<div class="ttc" id="classCModel_html_a6301a7ea126c95b1bcabb917d17f0bdaaee3b8619d14d4f26903b46ac551c35cb"><div class="ttname"><a href="../../d4/d04/classCModel.html#a6301a7ea126c95b1bcabb917d17f0bdaaee3b8619d14d4f26903b46ac551c35cb">CModel::micros</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d90/CModel_8h_source.html#l00086">CModel.h:86</a></div></div>
<div class="ttc" id="classCModel_html_a6301a7ea126c95b1bcabb917d17f0bdaad8969222f4a830aefdf762e1cb626eb5"><div class="ttname"><a href="../../d4/d04/classCModel.html#a6301a7ea126c95b1bcabb917d17f0bdaad8969222f4a830aefdf762e1cb626eb5">CModel::ms</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d90/CModel_8h_source.html#l00086">CModel.h:86</a></div></div>
<div class="ttc" id="classCSBMLExporter_html_af1bc50a307a46adcce8aa8abde6dab96"><div class="ttname"><a href="../../df/d80/classCSBMLExporter.html#af1bc50a307a46adcce8aa8abde6dab96">CSBMLExporter::mSBMLVersion</a></div><div class="ttdeci">unsigned int mSBMLVersion</div><div class="ttdef"><b>Definition:</b> <a href="../../da/d7f/CSBMLExporter_8h_source.html#l00057">CSBMLExporter.h:57</a></div></div>
<div class="ttc" id="classCCopasiMessage_html"><div class="ttname"><a href="../../d2/df0/classCCopasiMessage.html">CCopasiMessage</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d2d/CCopasiMessage_8h_source.html#l00078">CCopasiMessage.h:78</a></div></div>
<div class="ttc" id="classCModel_html_a2d8376af22f6e34edb99b9f2e66df401"><div class="ttname"><a href="../../d4/d04/classCModel.html#a2d8376af22f6e34edb99b9f2e66df401">CModel::getTimeUnitEnum</a></div><div class="ttdeci">CModel::TimeUnit getTimeUnitEnum() const </div><div class="ttdef"><b>Definition:</b> <a href="../../df/d08/CModel_8cpp_source.html#l02243">CModel.cpp:2243</a></div></div>
<div class="ttc" id="CSBMLExporter_8cpp_html_a6c9f65aeea9a7ce079171b3a9a5b2673"><div class="ttname"><a href="../../d5/d2f/CSBMLExporter_8cpp.html#a6c9f65aeea9a7ce079171b3a9a5b2673">INIT_DEFAULTS</a></div><div class="ttdeci">#define INIT_DEFAULTS(element)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d2f/CSBMLExporter_8cpp_source.html#l00048">CSBMLExporter.cpp:48</a></div></div>
<div class="ttc" id="classCModel_html_a6301a7ea126c95b1bcabb917d17f0bdaa44310b42d8e7b3272127e666d44ed32c"><div class="ttname"><a href="../../d4/d04/classCModel.html#a6301a7ea126c95b1bcabb917d17f0bdaa44310b42d8e7b3272127e666d44ed32c">CModel::ns</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d90/CModel_8h_source.html#l00086">CModel.h:86</a></div></div>
<div class="ttc" id="classCModel_html_a6301a7ea126c95b1bcabb917d17f0bdaab5b0bfa352a1aee7e12b5a669202e6c8"><div class="ttname"><a href="../../d4/d04/classCModel.html#a6301a7ea126c95b1bcabb917d17f0bdaab5b0bfa352a1aee7e12b5a669202e6c8">CModel::ps</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d90/CModel_8h_source.html#l00086">CModel.h:86</a></div></div>
<div class="ttc" id="classCModel_html_a6301a7ea126c95b1bcabb917d17f0bdaad4389c8461420ff91783cdf5cfa4f86f"><div class="ttname"><a href="../../d4/d04/classCModel.html#a6301a7ea126c95b1bcabb917d17f0bdaad4389c8461420ff91783cdf5cfa4f86f">CModel::dimensionlessTime</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d90/CModel_8h_source.html#l00086">CModel.h:86</a></div></div>
<div class="ttc" id="classCModel_html_a6301a7ea126c95b1bcabb917d17f0bdaac949e50996d23d3be6e4f2c0d4c330ad"><div class="ttname"><a href="../../d4/d04/classCModel.html#a6301a7ea126c95b1bcabb917d17f0bdaac949e50996d23d3be6e4f2c0d4c330ad">CModel::min</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d90/CModel_8h_source.html#l00086">CModel.h:86</a></div></div>
<div class="ttc" id="classSBMLImporter_html_a61d10c15681b398f297bee71eaa75dbe"><div class="ttname"><a href="../../d7/d6d/classSBMLImporter.html#a61d10c15681b398f297bee71eaa75dbe">SBMLImporter::areSBMLUnitDefinitionsIdentical</a></div><div class="ttdeci">static bool areSBMLUnitDefinitionsIdentical(const UnitDefinition *pUdef1, const UnitDefinition *pUdef2)</div><div class="ttdef"><b>Definition:</b> <a href="../../df/dfd/SBMLImporter_8cpp_source.html#l08297">SBMLImporter.cpp:8297</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="ab4d7f9c3d22b8225d1a4d9e3a98b855e"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const std::string CSBMLExporter::createUniqueId </td>
          <td>(</td>
          <td class="paramtype">const std::map&lt; std::string, const SBase * &gt; &amp;&#160;</td>
          <td class="paramname"><em>idMap</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::string &amp;&#160;</td>
          <td class="paramname"><em>prefix</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>addIndexForFirst</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::string &amp;&#160;</td>
          <td class="paramname"><em>separator</em> = <code>&quot;_&quot;</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Create a unique id for an SBML object. I can't just take the Copasi key of the object since this might conflict with an already existing sbml id which came from the sbmlid attribute in a copasi file or directly by importing an SBML file.</p>
<p>Create a unique id for an SBML object. I can't just take the COPASI key of the object since this might conflict with an already existing SBML id which came from the sbmlid attribute in a COPASI file or directly by importing an SBML file. </p>

<p>Definition at line <a class="el" href="../../d5/d2f/CSBMLExporter_8cpp_source.html#l02252">2252</a> of file <a class="el" href="../../d5/d2f/CSBMLExporter_8cpp_source.html">CSBMLExporter.cpp</a>.</p>

<p>References <a class="el" href="../../dc/dfa/utility_8cpp.html#a1289068d59e9d8350aeeebc0a1870273">nameToSbmlId()</a>.</p>

<p>Referenced by <a class="el" href="../../df/d80/classCSBMLExporter.html#af845ecb1f47ed78265a8ae303743b82b">assignSBMLIdsToReactions()</a>, <a class="el" href="../../df/d80/classCSBMLExporter.html#a8a3a98da416d76519f5ef7a9617d5b7e">createCompartment()</a>, <a class="el" href="../../df/d80/classCSBMLExporter.html#a79ba15ac876b6354e2aaff763b8a7c86">createEvent()</a>, <a class="el" href="../../df/d80/classCSBMLExporter.html#abc1d139f7b654051b43958675056e34c">createFunctionDefinition()</a>, <a class="el" href="../../d5/d2f/CSBMLExporter_8cpp.html#a590b030fcd1c72aee42c6fbfef316946">createFunctionDefinitonForURI()</a>, <a class="el" href="../../df/d80/classCSBMLExporter.html#a79fe24bce02d84048709c9e851d4ce1b">createMetabolite()</a>, <a class="el" href="../../df/d80/classCSBMLExporter.html#a6ecc3a13cadbc61518786aad102ccf5c">createParameter()</a>, <a class="el" href="../../df/d80/classCSBMLExporter.html#a9a2740279f7cccf5ae7b404b995ec9fa">createReaction()</a>, <a class="el" href="../../df/d80/classCSBMLExporter.html#a2b680d670c11c7c70a45bc12e236b2e8">createSBMLDocument()</a>, <a class="el" href="../../d8/d63/classCLGraphicalObject.html#ad7f9038d9309bc51dce176451f79fa23">CLGraphicalObject::exportToSBML()</a>, <a class="el" href="../../da/d7e/classCLayout.html#a36e65af8cd59b826ccd85c17f97f54ae">CLayout::exportToSBML()</a>, <a class="el" href="../../df/d80/classCSBMLExporter.html#a8f73c8e9c1a56403427b179b2074f198">replace_local_parameters()</a>, <a class="el" href="../../df/d80/classCSBMLExporter.html#a030225cc274a7c545f010ba2ba7f13c3">replaceSpeciesReferences()</a>, <a class="el" href="../../df/d80/classCSBMLExporter.html#a36e8f281bf2ae61c6f6de64a3d34da79">setFunctionSBMLIds()</a>, and <a class="el" href="../../df/d80/classCSBMLExporter.html#aba8216eaf4931e0adf484832882fbe67">updateMIRIAMAnnotation()</a>.</p>
<div class="fragment"><div class="line"><a name="l02256"></a><span class="lineno"> 2256</span>&#160;{</div>
<div class="line"><a name="l02257"></a><span class="lineno"> 2257</span>&#160;  std::string Prefix = <a class="code" href="../../dc/dfa/utility_8cpp.html#a1289068d59e9d8350aeeebc0a1870273">nameToSbmlId</a>(prefix);</div>
<div class="line"><a name="l02258"></a><span class="lineno"> 2258</span>&#160;</div>
<div class="line"><a name="l02259"></a><span class="lineno"> 2259</span>&#160;  <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> i = 0;</div>
<div class="line"><a name="l02260"></a><span class="lineno"> 2260</span>&#160;  std::ostringstream Id;</div>
<div class="line"><a name="l02261"></a><span class="lineno"> 2261</span>&#160;</div>
<div class="line"><a name="l02262"></a><span class="lineno"> 2262</span>&#160;  <span class="keywordflow">if</span> (addIndexForFirst)</div>
<div class="line"><a name="l02263"></a><span class="lineno"> 2263</span>&#160;    {</div>
<div class="line"><a name="l02264"></a><span class="lineno"> 2264</span>&#160;      Id &lt;&lt; Prefix &lt;&lt; separator &lt;&lt; i++;</div>
<div class="line"><a name="l02265"></a><span class="lineno"> 2265</span>&#160;    }</div>
<div class="line"><a name="l02266"></a><span class="lineno"> 2266</span>&#160;  <span class="keywordflow">else</span></div>
<div class="line"><a name="l02267"></a><span class="lineno"> 2267</span>&#160;    {</div>
<div class="line"><a name="l02268"></a><span class="lineno"> 2268</span>&#160;      Id &lt;&lt; Prefix;</div>
<div class="line"><a name="l02269"></a><span class="lineno"> 2269</span>&#160;    }</div>
<div class="line"><a name="l02270"></a><span class="lineno"> 2270</span>&#160;</div>
<div class="line"><a name="l02271"></a><span class="lineno"> 2271</span>&#160;  <span class="keywordflow">while</span> (idMap.find(Id.str()) != idMap.end())</div>
<div class="line"><a name="l02272"></a><span class="lineno"> 2272</span>&#160;    {</div>
<div class="line"><a name="l02273"></a><span class="lineno"> 2273</span>&#160;      Id.str(<span class="stringliteral">&quot;&quot;</span>);</div>
<div class="line"><a name="l02274"></a><span class="lineno"> 2274</span>&#160;      Id &lt;&lt; Prefix &lt;&lt; separator &lt;&lt; i++;</div>
<div class="line"><a name="l02275"></a><span class="lineno"> 2275</span>&#160;    }</div>
<div class="line"><a name="l02276"></a><span class="lineno"> 2276</span>&#160;</div>
<div class="line"><a name="l02277"></a><span class="lineno"> 2277</span>&#160;  <span class="keywordflow">return</span> Id.str();</div>
<div class="line"><a name="l02278"></a><span class="lineno"> 2278</span>&#160;}</div>
<div class="ttc" id="utility_8cpp_html_a1289068d59e9d8350aeeebc0a1870273"><div class="ttname"><a href="../../dc/dfa/utility_8cpp.html#a1289068d59e9d8350aeeebc0a1870273">nameToSbmlId</a></div><div class="ttdeci">std::string nameToSbmlId(const std::string &amp;name)</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/dfa/utility_8cpp_source.html#l00437">utility.cpp:437</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="aa26105735e02cd59de9932914b4c2505"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d3/d05/CChemEqParser__yacc_8cpp.html#aa76fec002b4ba91adc88f68d56ba730c">void</a> CSBMLExporter::createUnits </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="../../d4/d18/classCCopasiDataModel.html">CCopasiDataModel</a> &amp;&#160;</td>
          <td class="paramname"><em>dataModel</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Creates the units for the SBML model. </p>

<p>Definition at line <a class="el" href="../../d5/d2f/CSBMLExporter_8cpp_source.html#l00342">342</a> of file <a class="el" href="../../d5/d2f/CSBMLExporter_8cpp_source.html">CSBMLExporter.cpp</a>.</p>

<p>References <a class="el" href="../../df/d80/classCSBMLExporter.html#a8d4300787dbaf8277365e8df178f70bd">createAreaUnit()</a>, <a class="el" href="../../df/d80/classCSBMLExporter.html#a5503f23206b28472e35929c4904c79f9">createLengthUnit()</a>, <a class="el" href="../../df/d80/classCSBMLExporter.html#aae5e8e9d9571bfb092a940cfea479f2e">createSubstanceUnit()</a>, <a class="el" href="../../df/d80/classCSBMLExporter.html#aae5677a0b747ea278f61312ad80c85d4">createTimeUnit()</a>, and <a class="el" href="../../df/d80/classCSBMLExporter.html#aa192f412afb21f304c41a394afa45661">createVolumeUnit()</a>.</p>

<p>Referenced by <a class="el" href="../../df/d80/classCSBMLExporter.html#a2b680d670c11c7c70a45bc12e236b2e8">createSBMLDocument()</a>.</p>
<div class="fragment"><div class="line"><a name="l00343"></a><span class="lineno">  343</span>&#160;{</div>
<div class="line"><a name="l00344"></a><span class="lineno">  344</span>&#160;  <a class="code" href="../../df/d80/classCSBMLExporter.html#a5503f23206b28472e35929c4904c79f9">createLengthUnit</a>(dataModel);</div>
<div class="line"><a name="l00345"></a><span class="lineno">  345</span>&#160;  <a class="code" href="../../df/d80/classCSBMLExporter.html#a8d4300787dbaf8277365e8df178f70bd">createAreaUnit</a>(dataModel);</div>
<div class="line"><a name="l00346"></a><span class="lineno">  346</span>&#160;  <a class="code" href="../../df/d80/classCSBMLExporter.html#aa192f412afb21f304c41a394afa45661">createVolumeUnit</a>(dataModel);</div>
<div class="line"><a name="l00347"></a><span class="lineno">  347</span>&#160;  <a class="code" href="../../df/d80/classCSBMLExporter.html#aae5677a0b747ea278f61312ad80c85d4">createTimeUnit</a>(dataModel);</div>
<div class="line"><a name="l00348"></a><span class="lineno">  348</span>&#160;  <a class="code" href="../../df/d80/classCSBMLExporter.html#aae5e8e9d9571bfb092a940cfea479f2e">createSubstanceUnit</a>(dataModel);</div>
<div class="line"><a name="l00349"></a><span class="lineno">  349</span>&#160;}</div>
<div class="ttc" id="classCSBMLExporter_html_aa192f412afb21f304c41a394afa45661"><div class="ttname"><a href="../../df/d80/classCSBMLExporter.html#aa192f412afb21f304c41a394afa45661">CSBMLExporter::createVolumeUnit</a></div><div class="ttdeci">void createVolumeUnit(const CCopasiDataModel &amp;dataModel)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d2f/CSBMLExporter_8cpp_source.html#l00480">CSBMLExporter.cpp:480</a></div></div>
<div class="ttc" id="classCSBMLExporter_html_a8d4300787dbaf8277365e8df178f70bd"><div class="ttname"><a href="../../df/d80/classCSBMLExporter.html#a8d4300787dbaf8277365e8df178f70bd">CSBMLExporter::createAreaUnit</a></div><div class="ttdeci">void createAreaUnit(const CCopasiDataModel &amp;dataModel)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d2f/CSBMLExporter_8cpp_source.html#l00798">CSBMLExporter.cpp:798</a></div></div>
<div class="ttc" id="classCSBMLExporter_html_aae5677a0b747ea278f61312ad80c85d4"><div class="ttname"><a href="../../df/d80/classCSBMLExporter.html#aae5677a0b747ea278f61312ad80c85d4">CSBMLExporter::createTimeUnit</a></div><div class="ttdeci">void createTimeUnit(const CCopasiDataModel &amp;dataModel)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d2f/CSBMLExporter_8cpp_source.html#l00354">CSBMLExporter.cpp:354</a></div></div>
<div class="ttc" id="classCSBMLExporter_html_a5503f23206b28472e35929c4904c79f9"><div class="ttname"><a href="../../df/d80/classCSBMLExporter.html#a5503f23206b28472e35929c4904c79f9">CSBMLExporter::createLengthUnit</a></div><div class="ttdeci">void createLengthUnit(const CCopasiDataModel &amp;dataModel)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d2f/CSBMLExporter_8cpp_source.html#l00689">CSBMLExporter.cpp:689</a></div></div>
<div class="ttc" id="classCSBMLExporter_html_aae5e8e9d9571bfb092a940cfea479f2e"><div class="ttname"><a href="../../df/d80/classCSBMLExporter.html#aae5e8e9d9571bfb092a940cfea479f2e">CSBMLExporter::createSubstanceUnit</a></div><div class="ttdeci">void createSubstanceUnit(const CCopasiDataModel &amp;dataModel)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d2f/CSBMLExporter_8cpp_source.html#l00583">CSBMLExporter.cpp:583</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="acf189051ffef9fb8b55543a9d59d8817"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const std::set&lt; <a class="el" href="../../d8/dcb/classCEvaluationNodeFunction.html#a7d9eee722d7e2b7c7888b23838d7d604">CEvaluationNodeFunction::SubType</a> &gt; CSBMLExporter::createUnsupportedFunctionTypeSet </td>
          <td>(</td>
          <td class="paramtype">unsigned int&#160;</td>
          <td class="paramname"><em>sbmlLevel</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Creates a set of all function subtypes that can not be exported for a certain SBML level. </p>

<p>Definition at line <a class="el" href="../../d5/d2f/CSBMLExporter_8cpp_source.html#l03680">3680</a> of file <a class="el" href="../../d5/d2f/CSBMLExporter_8cpp_source.html">CSBMLExporter.cpp</a>.</p>

<p>References <a class="el" href="../../d8/dcb/classCEvaluationNodeFunction.html#a7d9eee722d7e2b7c7888b23838d7d604ae9f02769811e9285abda31f393cc6f86">CEvaluationNodeFunction::ARCCOTH</a>, <a class="el" href="../../d8/dcb/classCEvaluationNodeFunction.html#a7d9eee722d7e2b7c7888b23838d7d604a5538c2a183fd86cc187bbdf910a10d87">CEvaluationNodeFunction::MAX</a>, and <a class="el" href="../../d8/dcb/classCEvaluationNodeFunction.html#a7d9eee722d7e2b7c7888b23838d7d604a8b5204bd42b260555890b2b9c57e54e2">CEvaluationNodeFunction::MIN</a>.</p>

<p>Referenced by <a class="el" href="../../df/d80/classCSBMLExporter.html#a28e0706f0f87d1483643b251104ff00b">checkForUnsupportedFunctionCalls()</a>, and <a class="el" href="../../df/d80/classCSBMLExporter.html#aefa0189aa8976611a461b6de4142fdc7">isExpressionSBMLCompatible()</a>.</p>
<div class="fragment"><div class="line"><a name="l03681"></a><span class="lineno"> 3681</span>&#160;{</div>
<div class="line"><a name="l03682"></a><span class="lineno"> 3682</span>&#160;  std::set&lt;CEvaluationNodeFunction::SubType&gt; unsupportedFunctionTypes;</div>
<div class="line"><a name="l03683"></a><span class="lineno"> 3683</span>&#160;</div>
<div class="line"><a name="l03684"></a><span class="lineno"> 3684</span>&#160;  <span class="keywordflow">if</span> (sbmlLevel == 1)</div>
<div class="line"><a name="l03685"></a><span class="lineno"> 3685</span>&#160;    {</div>
<div class="line"><a name="l03686"></a><span class="lineno"> 3686</span>&#160;      <span class="comment">// check what to do with all the functions that are not supported by</span></div>
<div class="line"><a name="l03687"></a><span class="lineno"> 3687</span>&#160;      <span class="comment">// SBML Level 1</span></div>
<div class="line"><a name="l03688"></a><span class="lineno"> 3688</span>&#160;      <span class="comment">// Also take care of other unsupported nodes in L1</span></div>
<div class="line"><a name="l03689"></a><span class="lineno"> 3689</span>&#160;      <span class="comment">// (inf,nan,pi,exponentiale)</span></div>
<div class="line"><a name="l03690"></a><span class="lineno"> 3690</span>&#160;      <span class="comment">// most functions that are not supported by Level 1, but Level 2</span></div>
<div class="line"><a name="l03691"></a><span class="lineno"> 3691</span>&#160;      <span class="comment">//  can not be converted to something that can be exported.</span></div>
<div class="line"><a name="l03692"></a><span class="lineno"> 3692</span>&#160;      <span class="comment">// Roundtripping of those  will not succeed, but the results should stay</span></div>
<div class="line"><a name="l03693"></a><span class="lineno"> 3693</span>&#160;      <span class="comment">// the same. The only function that can not be correctly converted</span></div>
<div class="line"><a name="l03694"></a><span class="lineno"> 3694</span>&#160;      <span class="comment">// is ARCCOTH since we would need a piecewise for that which is not</span></div>
<div class="line"><a name="l03695"></a><span class="lineno"> 3695</span>&#160;      <span class="comment">// supported in Level 1</span></div>
<div class="line"><a name="l03696"></a><span class="lineno"> 3696</span>&#160;      unsupportedFunctionTypes.insert(<a class="code" href="../../d8/dcb/classCEvaluationNodeFunction.html#a7d9eee722d7e2b7c7888b23838d7d604ae9f02769811e9285abda31f393cc6f86">CEvaluationNodeFunction::ARCCOTH</a>);</div>
<div class="line"><a name="l03697"></a><span class="lineno"> 3697</span>&#160;      <span class="comment">//unsupportedFunctionTypes.insert(CEvaluationNodeFunction::RNORMAL);</span></div>
<div class="line"><a name="l03698"></a><span class="lineno"> 3698</span>&#160;      <span class="comment">//unsupportedFunctionTypes.insert(CEvaluationNodeFunction::RUNIFORM);</span></div>
<div class="line"><a name="l03699"></a><span class="lineno"> 3699</span>&#160;      unsupportedFunctionTypes.insert(<a class="code" href="../../d8/dcb/classCEvaluationNodeFunction.html#a7d9eee722d7e2b7c7888b23838d7d604a5538c2a183fd86cc187bbdf910a10d87">CEvaluationNodeFunction::MAX</a>);</div>
<div class="line"><a name="l03700"></a><span class="lineno"> 3700</span>&#160;      unsupportedFunctionTypes.insert(<a class="code" href="../../d8/dcb/classCEvaluationNodeFunction.html#a7d9eee722d7e2b7c7888b23838d7d604a8b5204bd42b260555890b2b9c57e54e2">CEvaluationNodeFunction::MIN</a>);</div>
<div class="line"><a name="l03701"></a><span class="lineno"> 3701</span>&#160;    }</div>
<div class="line"><a name="l03702"></a><span class="lineno"> 3702</span>&#160;  <span class="keywordflow">else</span></div>
<div class="line"><a name="l03703"></a><span class="lineno"> 3703</span>&#160;    {</div>
<div class="line"><a name="l03704"></a><span class="lineno"> 3704</span>&#160;      <span class="comment">//unsupportedFunctionTypes.insert(CEvaluationNodeFunction::RNORMAL);</span></div>
<div class="line"><a name="l03705"></a><span class="lineno"> 3705</span>&#160;      <span class="comment">//unsupportedFunctionTypes.insert(CEvaluationNodeFunction::RUNIFORM);</span></div>
<div class="line"><a name="l03706"></a><span class="lineno"> 3706</span>&#160;      <span class="comment">//unsupportedFunctionTypes.insert(CEvaluationNodeFunction::MAX);</span></div>
<div class="line"><a name="l03707"></a><span class="lineno"> 3707</span>&#160;      <span class="comment">//unsupportedFunctionTypes.insert(CEvaluationNodeFunction::MIN);</span></div>
<div class="line"><a name="l03708"></a><span class="lineno"> 3708</span>&#160;    }</div>
<div class="line"><a name="l03709"></a><span class="lineno"> 3709</span>&#160;</div>
<div class="line"><a name="l03710"></a><span class="lineno"> 3710</span>&#160;  <span class="keywordflow">return</span> unsupportedFunctionTypes;</div>
<div class="line"><a name="l03711"></a><span class="lineno"> 3711</span>&#160;}</div>
<div class="ttc" id="classCEvaluationNodeFunction_html_a7d9eee722d7e2b7c7888b23838d7d604a5538c2a183fd86cc187bbdf910a10d87"><div class="ttname"><a href="../../d8/dcb/classCEvaluationNodeFunction.html#a7d9eee722d7e2b7c7888b23838d7d604a5538c2a183fd86cc187bbdf910a10d87">CEvaluationNodeFunction::MAX</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d4d/CEvaluationNodeFunction_8h_source.html#l00092">CEvaluationNodeFunction.h:92</a></div></div>
<div class="ttc" id="classCEvaluationNodeFunction_html_a7d9eee722d7e2b7c7888b23838d7d604ae9f02769811e9285abda31f393cc6f86"><div class="ttname"><a href="../../d8/dcb/classCEvaluationNodeFunction.html#a7d9eee722d7e2b7c7888b23838d7d604ae9f02769811e9285abda31f393cc6f86">CEvaluationNodeFunction::ARCCOTH</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d4d/CEvaluationNodeFunction_8h_source.html#l00081">CEvaluationNodeFunction.h:81</a></div></div>
<div class="ttc" id="classCEvaluationNodeFunction_html_a7d9eee722d7e2b7c7888b23838d7d604a8b5204bd42b260555890b2b9c57e54e2"><div class="ttname"><a href="../../d8/dcb/classCEvaluationNodeFunction.html#a7d9eee722d7e2b7c7888b23838d7d604a8b5204bd42b260555890b2b9c57e54e2">CEvaluationNodeFunction::MIN</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d4d/CEvaluationNodeFunction_8h_source.html#l00093">CEvaluationNodeFunction.h:93</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="aa192f412afb21f304c41a394afa45661"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d3/d05/CChemEqParser__yacc_8cpp.html#aa76fec002b4ba91adc88f68d56ba730c">void</a> CSBMLExporter::createVolumeUnit </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="../../d4/d18/classCCopasiDataModel.html">CCopasiDataModel</a> &amp;&#160;</td>
          <td class="paramname"><em>dataModel</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Creates the volume unit for the SBML model. </p>

<p>Definition at line <a class="el" href="../../d5/d2f/CSBMLExporter_8cpp_source.html#l00480">480</a> of file <a class="el" href="../../d5/d2f/CSBMLExporter_8cpp_source.html">CSBMLExporter.cpp</a>.</p>

<p>References <a class="el" href="../../d7/d6d/classSBMLImporter.html#a61d10c15681b398f297bee71eaa75dbe">SBMLImporter::areSBMLUnitDefinitionsIdentical()</a>, <a class="el" href="../../d4/d04/classCModel.html#aec54a4715a593a6c742193fabf74cb8dac2cc47ee18f413bdc5075467b65188c4">CModel::dimensionlessVolume</a>, <a class="el" href="../../d2/df0/classCCopasiMessage.html#a2ea1ed32494ff5c8d84353efcec7a5e4a568f885d73f0ea36bedfe92f6e533071">CCopasiMessage::EXCEPTION</a>, <a class="el" href="../../d4/d04/classCModel.html#aec54a4715a593a6c742193fabf74cb8da3ba69239cfbf0ab3a25d06947f42ca51">CModel::fl</a>, <a class="el" href="../../d4/d18/classCCopasiDataModel.html#a2e65952e0caf0b2709d381cf949fec69">CCopasiDataModel::getModel()</a>, <a class="el" href="../../d4/d04/classCModel.html#ac6f4546d7f08d3bb5ce82d23b715bc1a">CModel::getVolumeUnitEnum()</a>, <a class="el" href="../../d5/d2f/CSBMLExporter_8cpp.html#a6c9f65aeea9a7ce079171b3a9a5b2673">INIT_DEFAULTS</a>, <a class="el" href="../../d4/d04/classCModel.html#aec54a4715a593a6c742193fabf74cb8da9f609837d3126bd90ad7039b048500fc">CModel::l</a>, <a class="el" href="../../d4/d04/classCModel.html#aec54a4715a593a6c742193fabf74cb8da59e245c56dd97ee4d692f0b1e005bff3">CModel::m3</a>, <a class="el" href="../../d4/d04/classCModel.html#aec54a4715a593a6c742193fabf74cb8dacd6796229ce2b87681f2229c485dcdb0">CModel::microl</a>, <a class="el" href="../../d4/d04/classCModel.html#aec54a4715a593a6c742193fabf74cb8daba185fad0dcba451bb810f1108a72743">CModel::ml</a>, <a class="el" href="../../df/d80/classCSBMLExporter.html#a1541a69b36b8e864883e49f0de244f81">mpSBMLDocument</a>, <a class="el" href="../../df/d80/classCSBMLExporter.html#aba959efc152f63f1709d5de60e97a651">mSBMLLevel</a>, <a class="el" href="../../df/d80/classCSBMLExporter.html#af1bc50a307a46adcce8aa8abde6dab96">mSBMLVersion</a>, <a class="el" href="../../d4/d04/classCModel.html#aec54a4715a593a6c742193fabf74cb8da3358c69fe012a06b1bda1a4e31ff001c">CModel::nl</a>, and <a class="el" href="../../d4/d04/classCModel.html#aec54a4715a593a6c742193fabf74cb8dac0c305dcc4cbbcd48a1e84746e9faf8f">CModel::pl</a>.</p>

<p>Referenced by <a class="el" href="../../df/d80/classCSBMLExporter.html#aa26105735e02cd59de9932914b4c2505">createUnits()</a>.</p>
<div class="fragment"><div class="line"><a name="l00481"></a><span class="lineno">  481</span>&#160;{</div>
<div class="line"><a name="l00482"></a><span class="lineno">  482</span>&#160;  <span class="keywordflow">if</span> (dataModel.<a class="code" href="../../d4/d18/classCCopasiDataModel.html#a2e65952e0caf0b2709d381cf949fec69">getModel</a>() == NULL || this-&gt;<a class="code" href="../../df/d80/classCSBMLExporter.html#a1541a69b36b8e864883e49f0de244f81">mpSBMLDocument</a> == NULL || this-&gt;<a class="code" href="../../df/d80/classCSBMLExporter.html#a1541a69b36b8e864883e49f0de244f81">mpSBMLDocument</a>-&gt;getModel() == NULL) <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00483"></a><span class="lineno">  483</span>&#160;</div>
<div class="line"><a name="l00484"></a><span class="lineno">  484</span>&#160;  UnitDefinition uDef(this-&gt;<a class="code" href="../../df/d80/classCSBMLExporter.html#aba959efc152f63f1709d5de60e97a651">mSBMLLevel</a>, this-&gt;<a class="code" href="../../df/d80/classCSBMLExporter.html#af1bc50a307a46adcce8aa8abde6dab96">mSBMLVersion</a>);</div>
<div class="line"><a name="l00485"></a><span class="lineno">  485</span>&#160;  uDef.setName(<span class="stringliteral">&quot;volume&quot;</span>);</div>
<div class="line"><a name="l00486"></a><span class="lineno">  486</span>&#160;  uDef.setId(<span class="stringliteral">&quot;volume&quot;</span>);</div>
<div class="line"><a name="l00487"></a><span class="lineno">  487</span>&#160;  Unit unit(this-&gt;<a class="code" href="../../df/d80/classCSBMLExporter.html#aba959efc152f63f1709d5de60e97a651">mSBMLLevel</a>, this-&gt;<a class="code" href="../../df/d80/classCSBMLExporter.html#af1bc50a307a46adcce8aa8abde6dab96">mSBMLVersion</a>);</div>
<div class="line"><a name="l00488"></a><span class="lineno">  488</span>&#160;  <a class="code" href="../../d5/d2f/CSBMLExporter_8cpp.html#a6c9f65aeea9a7ce079171b3a9a5b2673">INIT_DEFAULTS</a>(unit);</div>
<div class="line"><a name="l00489"></a><span class="lineno">  489</span>&#160;</div>
<div class="line"><a name="l00490"></a><span class="lineno">  490</span>&#160;  <span class="keywordflow">switch</span> (dataModel.<a class="code" href="../../d4/d18/classCCopasiDataModel.html#a2e65952e0caf0b2709d381cf949fec69">getModel</a>()-&gt;<a class="code" href="../../d4/d04/classCModel.html#ac6f4546d7f08d3bb5ce82d23b715bc1a">getVolumeUnitEnum</a>())</div>
<div class="line"><a name="l00491"></a><span class="lineno">  491</span>&#160;    {</div>
<div class="line"><a name="l00492"></a><span class="lineno">  492</span>&#160;      <span class="keywordflow">case</span> <a class="code" href="../../d4/d04/classCModel.html#aec54a4715a593a6c742193fabf74cb8da9f609837d3126bd90ad7039b048500fc">CModel::l</a>:</div>
<div class="line"><a name="l00493"></a><span class="lineno">  493</span>&#160;        unit.setKind(UNIT_KIND_LITRE);</div>
<div class="line"><a name="l00494"></a><span class="lineno">  494</span>&#160;        unit.setExponent(1);</div>
<div class="line"><a name="l00495"></a><span class="lineno">  495</span>&#160;        unit.setScale(0);</div>
<div class="line"><a name="l00496"></a><span class="lineno">  496</span>&#160;        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00497"></a><span class="lineno">  497</span>&#160;</div>
<div class="line"><a name="l00498"></a><span class="lineno">  498</span>&#160;      <span class="keywordflow">case</span> <a class="code" href="../../d4/d04/classCModel.html#aec54a4715a593a6c742193fabf74cb8daba185fad0dcba451bb810f1108a72743">CModel::ml</a>:</div>
<div class="line"><a name="l00499"></a><span class="lineno">  499</span>&#160;        unit.setKind(UNIT_KIND_LITRE);</div>
<div class="line"><a name="l00500"></a><span class="lineno">  500</span>&#160;        unit.setExponent(1);</div>
<div class="line"><a name="l00501"></a><span class="lineno">  501</span>&#160;        unit.setScale(-3);</div>
<div class="line"><a name="l00502"></a><span class="lineno">  502</span>&#160;        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00503"></a><span class="lineno">  503</span>&#160;</div>
<div class="line"><a name="l00504"></a><span class="lineno">  504</span>&#160;      <span class="keywordflow">case</span> <a class="code" href="../../d4/d04/classCModel.html#aec54a4715a593a6c742193fabf74cb8dacd6796229ce2b87681f2229c485dcdb0">CModel::microl</a>:</div>
<div class="line"><a name="l00505"></a><span class="lineno">  505</span>&#160;        unit.setKind(UNIT_KIND_LITRE);</div>
<div class="line"><a name="l00506"></a><span class="lineno">  506</span>&#160;        unit.setExponent(1);</div>
<div class="line"><a name="l00507"></a><span class="lineno">  507</span>&#160;        unit.setScale(-6);</div>
<div class="line"><a name="l00508"></a><span class="lineno">  508</span>&#160;        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00509"></a><span class="lineno">  509</span>&#160;</div>
<div class="line"><a name="l00510"></a><span class="lineno">  510</span>&#160;      <span class="keywordflow">case</span> <a class="code" href="../../d4/d04/classCModel.html#aec54a4715a593a6c742193fabf74cb8da3358c69fe012a06b1bda1a4e31ff001c">CModel::nl</a>:</div>
<div class="line"><a name="l00511"></a><span class="lineno">  511</span>&#160;        unit.setKind(UNIT_KIND_LITRE);</div>
<div class="line"><a name="l00512"></a><span class="lineno">  512</span>&#160;        unit.setExponent(1);</div>
<div class="line"><a name="l00513"></a><span class="lineno">  513</span>&#160;        unit.setScale(-9);</div>
<div class="line"><a name="l00514"></a><span class="lineno">  514</span>&#160;        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00515"></a><span class="lineno">  515</span>&#160;</div>
<div class="line"><a name="l00516"></a><span class="lineno">  516</span>&#160;      <span class="keywordflow">case</span> <a class="code" href="../../d4/d04/classCModel.html#aec54a4715a593a6c742193fabf74cb8dac0c305dcc4cbbcd48a1e84746e9faf8f">CModel::pl</a>:</div>
<div class="line"><a name="l00517"></a><span class="lineno">  517</span>&#160;        unit.setKind(UNIT_KIND_LITRE);</div>
<div class="line"><a name="l00518"></a><span class="lineno">  518</span>&#160;        unit.setExponent(1);</div>
<div class="line"><a name="l00519"></a><span class="lineno">  519</span>&#160;        unit.setScale(-12);</div>
<div class="line"><a name="l00520"></a><span class="lineno">  520</span>&#160;        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00521"></a><span class="lineno">  521</span>&#160;</div>
<div class="line"><a name="l00522"></a><span class="lineno">  522</span>&#160;      <span class="keywordflow">case</span> <a class="code" href="../../d4/d04/classCModel.html#aec54a4715a593a6c742193fabf74cb8da3ba69239cfbf0ab3a25d06947f42ca51">CModel::fl</a>:</div>
<div class="line"><a name="l00523"></a><span class="lineno">  523</span>&#160;        unit.setKind(UNIT_KIND_LITRE);</div>
<div class="line"><a name="l00524"></a><span class="lineno">  524</span>&#160;        unit.setExponent(1);</div>
<div class="line"><a name="l00525"></a><span class="lineno">  525</span>&#160;        unit.setScale(-15);</div>
<div class="line"><a name="l00526"></a><span class="lineno">  526</span>&#160;        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00527"></a><span class="lineno">  527</span>&#160;</div>
<div class="line"><a name="l00528"></a><span class="lineno">  528</span>&#160;      <span class="keywordflow">case</span> <a class="code" href="../../d4/d04/classCModel.html#aec54a4715a593a6c742193fabf74cb8da59e245c56dd97ee4d692f0b1e005bff3">CModel::m3</a>:</div>
<div class="line"><a name="l00529"></a><span class="lineno">  529</span>&#160;        unit.setKind(UNIT_KIND_METRE);</div>
<div class="line"><a name="l00530"></a><span class="lineno">  530</span>&#160;        unit.setExponent(3);</div>
<div class="line"><a name="l00531"></a><span class="lineno">  531</span>&#160;        unit.setScale(0);</div>
<div class="line"><a name="l00532"></a><span class="lineno">  532</span>&#160;        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00533"></a><span class="lineno">  533</span>&#160;</div>
<div class="line"><a name="l00534"></a><span class="lineno">  534</span>&#160;      <span class="keywordflow">case</span> <a class="code" href="../../d4/d04/classCModel.html#aec54a4715a593a6c742193fabf74cb8dac2cc47ee18f413bdc5075467b65188c4">CModel::dimensionlessVolume</a>:</div>
<div class="line"><a name="l00535"></a><span class="lineno">  535</span>&#160;        unit.setKind(UNIT_KIND_DIMENSIONLESS);</div>
<div class="line"><a name="l00536"></a><span class="lineno">  536</span>&#160;        unit.setExponent(1);</div>
<div class="line"><a name="l00537"></a><span class="lineno">  537</span>&#160;        unit.setScale(0);</div>
<div class="line"><a name="l00538"></a><span class="lineno">  538</span>&#160;        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00539"></a><span class="lineno">  539</span>&#160;</div>
<div class="line"><a name="l00540"></a><span class="lineno">  540</span>&#160;      <span class="keywordflow">default</span>:</div>
<div class="line"><a name="l00541"></a><span class="lineno">  541</span>&#160;        <a class="code" href="../../d2/df0/classCCopasiMessage.html">CCopasiMessage</a>(<a class="code" href="../../d2/df0/classCCopasiMessage.html#a2ea1ed32494ff5c8d84353efcec7a5e4a568f885d73f0ea36bedfe92f6e533071">CCopasiMessage::EXCEPTION</a>, <span class="stringliteral">&quot;SBMLExporter Error: Unknown copasi volume unit.&quot;</span>);</div>
<div class="line"><a name="l00542"></a><span class="lineno">  542</span>&#160;        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00543"></a><span class="lineno">  543</span>&#160;    }</div>
<div class="line"><a name="l00544"></a><span class="lineno">  544</span>&#160;</div>
<div class="line"><a name="l00545"></a><span class="lineno">  545</span>&#160;  unit.setMultiplier(1.0);</div>
<div class="line"><a name="l00546"></a><span class="lineno">  546</span>&#160;  uDef.addUnit(&amp;unit);</div>
<div class="line"><a name="l00547"></a><span class="lineno">  547</span>&#160;  Model* pSBMLModel = this-&gt;<a class="code" href="../../df/d80/classCSBMLExporter.html#a1541a69b36b8e864883e49f0de244f81">mpSBMLDocument</a>-&gt;getModel();</div>
<div class="line"><a name="l00548"></a><span class="lineno">  548</span>&#160;  UnitDefinition* pUdef = pSBMLModel-&gt;getUnitDefinition(<span class="stringliteral">&quot;volume&quot;</span>);</div>
<div class="line"><a name="l00549"></a><span class="lineno">  549</span>&#160;</div>
<div class="line"><a name="l00550"></a><span class="lineno">  550</span>&#160;  <span class="keywordflow">if</span> (pUdef != NULL)</div>
<div class="line"><a name="l00551"></a><span class="lineno">  551</span>&#160;    {</div>
<div class="line"><a name="l00552"></a><span class="lineno">  552</span>&#160;      <span class="comment">// check if it is the same unit as the existing one if there is one</span></div>
<div class="line"><a name="l00553"></a><span class="lineno">  553</span>&#160;      <span class="comment">// if yes, return, else replace the existing one</span></div>
<div class="line"><a name="l00554"></a><span class="lineno">  554</span>&#160;      <span class="keywordflow">if</span> (!<a class="code" href="../../d7/d6d/classSBMLImporter.html#a61d10c15681b398f297bee71eaa75dbe">SBMLImporter::areSBMLUnitDefinitionsIdentical</a>(pUdef, &amp;uDef))</div>
<div class="line"><a name="l00555"></a><span class="lineno">  555</span>&#160;        {</div>
<div class="line"><a name="l00556"></a><span class="lineno">  556</span>&#160;          (*pUdef) = uDef;</div>
<div class="line"><a name="l00557"></a><span class="lineno">  557</span>&#160;        }</div>
<div class="line"><a name="l00558"></a><span class="lineno">  558</span>&#160;    }</div>
<div class="line"><a name="l00559"></a><span class="lineno">  559</span>&#160;  <span class="keywordflow">else</span></div>
<div class="line"><a name="l00560"></a><span class="lineno">  560</span>&#160;    {</div>
<div class="line"><a name="l00561"></a><span class="lineno">  561</span>&#160;      <span class="comment">// only add it if it is not the default unit definition anyway</span></div>
<div class="line"><a name="l00562"></a><span class="lineno">  562</span>&#160;      <span class="keywordflow">if</span> (this-&gt;<a class="code" href="../../df/d80/classCSBMLExporter.html#aba959efc152f63f1709d5de60e97a651">mSBMLLevel</a> &gt; 2 || unit.getKind() != UNIT_KIND_LITRE || unit.getScale() != 0 || unit.getExponent() != 1 || unit.getMultiplier() != 1.0)</div>
<div class="line"><a name="l00563"></a><span class="lineno">  563</span>&#160;        {</div>
<div class="line"><a name="l00564"></a><span class="lineno">  564</span>&#160;          <span class="comment">// set the unit definition</span></div>
<div class="line"><a name="l00565"></a><span class="lineno">  565</span>&#160;          pSBMLModel-&gt;addUnitDefinition(&amp;uDef);</div>
<div class="line"><a name="l00566"></a><span class="lineno">  566</span>&#160;        }</div>
<div class="line"><a name="l00567"></a><span class="lineno">  567</span>&#160;    }</div>
<div class="line"><a name="l00568"></a><span class="lineno">  568</span>&#160;</div>
<div class="line"><a name="l00569"></a><span class="lineno">  569</span>&#160;<span class="comment">// if we write an SBML L3 document, we have to explicitely set the units on the model</span></div>
<div class="line"><a name="l00570"></a><span class="lineno">  570</span>&#160;<span class="preprocessor">#if LIBSBML_VERSION &gt;= 40100</span></div>
<div class="line"><a name="l00571"></a><span class="lineno">  571</span>&#160;<span class="preprocessor"></span></div>
<div class="line"><a name="l00572"></a><span class="lineno">  572</span>&#160;  <span class="keywordflow">if</span> (this-&gt;<a class="code" href="../../df/d80/classCSBMLExporter.html#aba959efc152f63f1709d5de60e97a651">mSBMLLevel</a> &gt; 2)</div>
<div class="line"><a name="l00573"></a><span class="lineno">  573</span>&#160;    {</div>
<div class="line"><a name="l00574"></a><span class="lineno">  574</span>&#160;      pSBMLModel-&gt;setVolumeUnits(uDef.getId());</div>
<div class="line"><a name="l00575"></a><span class="lineno">  575</span>&#160;    }</div>
<div class="line"><a name="l00576"></a><span class="lineno">  576</span>&#160;</div>
<div class="line"><a name="l00577"></a><span class="lineno">  577</span>&#160;<span class="preprocessor">#endif // LIBSBML_VERSION</span></div>
<div class="line"><a name="l00578"></a><span class="lineno">  578</span>&#160;<span class="preprocessor"></span>}</div>
<div class="ttc" id="classCSBMLExporter_html_aba959efc152f63f1709d5de60e97a651"><div class="ttname"><a href="../../df/d80/classCSBMLExporter.html#aba959efc152f63f1709d5de60e97a651">CSBMLExporter::mSBMLLevel</a></div><div class="ttdeci">unsigned int mSBMLLevel</div><div class="ttdef"><b>Definition:</b> <a href="../../da/d7f/CSBMLExporter_8h_source.html#l00056">CSBMLExporter.h:56</a></div></div>
<div class="ttc" id="classCSBMLExporter_html_a1541a69b36b8e864883e49f0de244f81"><div class="ttname"><a href="../../df/d80/classCSBMLExporter.html#a1541a69b36b8e864883e49f0de244f81">CSBMLExporter::mpSBMLDocument</a></div><div class="ttdeci">SBMLDocument * mpSBMLDocument</div><div class="ttdef"><b>Definition:</b> <a href="../../da/d7f/CSBMLExporter_8h_source.html#l00055">CSBMLExporter.h:55</a></div></div>
<div class="ttc" id="classCCopasiDataModel_html_a2e65952e0caf0b2709d381cf949fec69"><div class="ttname"><a href="../../d4/d18/classCCopasiDataModel.html#a2e65952e0caf0b2709d381cf949fec69">CCopasiDataModel::getModel</a></div><div class="ttdeci">CModel * getModel()</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d38/CCopasiDataModel_8cpp_source.html#l01407">CCopasiDataModel.cpp:1407</a></div></div>
<div class="ttc" id="classCModel_html_aec54a4715a593a6c742193fabf74cb8da9f609837d3126bd90ad7039b048500fc"><div class="ttname"><a href="../../d4/d04/classCModel.html#aec54a4715a593a6c742193fabf74cb8da9f609837d3126bd90ad7039b048500fc">CModel::l</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d90/CModel_8h_source.html#l00056">CModel.h:56</a></div></div>
<div class="ttc" id="classCModel_html_aec54a4715a593a6c742193fabf74cb8da59e245c56dd97ee4d692f0b1e005bff3"><div class="ttname"><a href="../../d4/d04/classCModel.html#aec54a4715a593a6c742193fabf74cb8da59e245c56dd97ee4d692f0b1e005bff3">CModel::m3</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d90/CModel_8h_source.html#l00056">CModel.h:56</a></div></div>
<div class="ttc" id="classCModel_html_aec54a4715a593a6c742193fabf74cb8dac2cc47ee18f413bdc5075467b65188c4"><div class="ttname"><a href="../../d4/d04/classCModel.html#aec54a4715a593a6c742193fabf74cb8dac2cc47ee18f413bdc5075467b65188c4">CModel::dimensionlessVolume</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d90/CModel_8h_source.html#l00056">CModel.h:56</a></div></div>
<div class="ttc" id="classCModel_html_aec54a4715a593a6c742193fabf74cb8dac0c305dcc4cbbcd48a1e84746e9faf8f"><div class="ttname"><a href="../../d4/d04/classCModel.html#aec54a4715a593a6c742193fabf74cb8dac0c305dcc4cbbcd48a1e84746e9faf8f">CModel::pl</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d90/CModel_8h_source.html#l00056">CModel.h:56</a></div></div>
<div class="ttc" id="classCModel_html_aec54a4715a593a6c742193fabf74cb8dacd6796229ce2b87681f2229c485dcdb0"><div class="ttname"><a href="../../d4/d04/classCModel.html#aec54a4715a593a6c742193fabf74cb8dacd6796229ce2b87681f2229c485dcdb0">CModel::microl</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d90/CModel_8h_source.html#l00056">CModel.h:56</a></div></div>
<div class="ttc" id="classCCopasiMessage_html_a2ea1ed32494ff5c8d84353efcec7a5e4a568f885d73f0ea36bedfe92f6e533071"><div class="ttname"><a href="../../d2/df0/classCCopasiMessage.html#a2ea1ed32494ff5c8d84353efcec7a5e4a568f885d73f0ea36bedfe92f6e533071">CCopasiMessage::EXCEPTION</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d2d/CCopasiMessage_8h_source.html#l00093">CCopasiMessage.h:93</a></div></div>
<div class="ttc" id="classCSBMLExporter_html_af1bc50a307a46adcce8aa8abde6dab96"><div class="ttname"><a href="../../df/d80/classCSBMLExporter.html#af1bc50a307a46adcce8aa8abde6dab96">CSBMLExporter::mSBMLVersion</a></div><div class="ttdeci">unsigned int mSBMLVersion</div><div class="ttdef"><b>Definition:</b> <a href="../../da/d7f/CSBMLExporter_8h_source.html#l00057">CSBMLExporter.h:57</a></div></div>
<div class="ttc" id="classCModel_html_aec54a4715a593a6c742193fabf74cb8da3ba69239cfbf0ab3a25d06947f42ca51"><div class="ttname"><a href="../../d4/d04/classCModel.html#aec54a4715a593a6c742193fabf74cb8da3ba69239cfbf0ab3a25d06947f42ca51">CModel::fl</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d90/CModel_8h_source.html#l00056">CModel.h:56</a></div></div>
<div class="ttc" id="classCCopasiMessage_html"><div class="ttname"><a href="../../d2/df0/classCCopasiMessage.html">CCopasiMessage</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d2d/CCopasiMessage_8h_source.html#l00078">CCopasiMessage.h:78</a></div></div>
<div class="ttc" id="classCModel_html_aec54a4715a593a6c742193fabf74cb8daba185fad0dcba451bb810f1108a72743"><div class="ttname"><a href="../../d4/d04/classCModel.html#aec54a4715a593a6c742193fabf74cb8daba185fad0dcba451bb810f1108a72743">CModel::ml</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d90/CModel_8h_source.html#l00056">CModel.h:56</a></div></div>
<div class="ttc" id="classCModel_html_aec54a4715a593a6c742193fabf74cb8da3358c69fe012a06b1bda1a4e31ff001c"><div class="ttname"><a href="../../d4/d04/classCModel.html#aec54a4715a593a6c742193fabf74cb8da3358c69fe012a06b1bda1a4e31ff001c">CModel::nl</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d90/CModel_8h_source.html#l00056">CModel.h:56</a></div></div>
<div class="ttc" id="CSBMLExporter_8cpp_html_a6c9f65aeea9a7ce079171b3a9a5b2673"><div class="ttname"><a href="../../d5/d2f/CSBMLExporter_8cpp.html#a6c9f65aeea9a7ce079171b3a9a5b2673">INIT_DEFAULTS</a></div><div class="ttdeci">#define INIT_DEFAULTS(element)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d2f/CSBMLExporter_8cpp_source.html#l00048">CSBMLExporter.cpp:48</a></div></div>
<div class="ttc" id="classCModel_html_ac6f4546d7f08d3bb5ce82d23b715bc1a"><div class="ttname"><a href="../../d4/d04/classCModel.html#ac6f4546d7f08d3bb5ce82d23b715bc1a">CModel::getVolumeUnitEnum</a></div><div class="ttdeci">CModel::VolumeUnit getVolumeUnitEnum() const </div><div class="ttdef"><b>Definition:</b> <a href="../../df/d08/CModel_8cpp_source.html#l02175">CModel.cpp:2175</a></div></div>
<div class="ttc" id="classSBMLImporter_html_a61d10c15681b398f297bee71eaa75dbe"><div class="ttname"><a href="../../d7/d6d/classSBMLImporter.html#a61d10c15681b398f297bee71eaa75dbe">SBMLImporter::areSBMLUnitDefinitionsIdentical</a></div><div class="ttdeci">static bool areSBMLUnitDefinitionsIdentical(const UnitDefinition *pUdef1, const UnitDefinition *pUdef2)</div><div class="ttdef"><b>Definition:</b> <a href="../../df/dfd/SBMLImporter_8cpp_source.html#l08297">SBMLImporter.cpp:8297</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="aac5a5936e071d3b5ec81e39afa3a4f72"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d3/d05/CChemEqParser__yacc_8cpp.html#aa76fec002b4ba91adc88f68d56ba730c">void</a> CSBMLExporter::disownSBMLDocument </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>This method assures that the SBMLDocument is not deleted by the destructor of the exporter. This allows us to get the SBMLDocument from the exporter and store it in the data model without having to copy it. </p>

<p>Definition at line <a class="el" href="../../d5/d2f/CSBMLExporter_8cpp_source.html#l07181">7181</a> of file <a class="el" href="../../d5/d2f/CSBMLExporter_8cpp_source.html">CSBMLExporter.cpp</a>.</p>

<p>References <a class="el" href="../../df/d80/classCSBMLExporter.html#ae954f269c9e427f047f5d461591d1130">mDocumentDisowned</a>.</p>

<p>Referenced by <a class="el" href="../../d4/d18/classCCopasiDataModel.html#afecb31bf654ecfbf61db3be87059c8c7">CCopasiDataModel::exportSBML()</a>, and <a class="el" href="../../d4/d18/classCCopasiDataModel.html#a0a29166d66b93b4326cfe4fb3cb74bd3">CCopasiDataModel::exportSBMLToString()</a>.</p>
<div class="fragment"><div class="line"><a name="l07182"></a><span class="lineno"> 7182</span>&#160;{</div>
<div class="line"><a name="l07183"></a><span class="lineno"> 7183</span>&#160;  this-&gt;<a class="code" href="../../df/d80/classCSBMLExporter.html#ae954f269c9e427f047f5d461591d1130">mDocumentDisowned</a> = <span class="keyword">true</span>;</div>
<div class="line"><a name="l07184"></a><span class="lineno"> 7184</span>&#160;}</div>
<div class="ttc" id="classCSBMLExporter_html_ae954f269c9e427f047f5d461591d1130"><div class="ttname"><a href="../../df/d80/classCSBMLExporter.html#ae954f269c9e427f047f5d461591d1130">CSBMLExporter::mDocumentDisowned</a></div><div class="ttdeci">bool mDocumentDisowned</div><div class="ttdef"><b>Definition:</b> <a href="../../da/d7f/CSBMLExporter_8h_source.html#l00073">CSBMLExporter.h:73</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="aefbd6278e618486186192aff4bdff76e"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d3/d05/CChemEqParser__yacc_8cpp.html#aa76fec002b4ba91adc88f68d56ba730c">void</a> CSBMLExporter::exportEventAssignments </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="../../da/d3f/classCEvent.html">CEvent</a> &amp;&#160;</td>
          <td class="paramname"><em>event</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">Event *&#160;</td>
          <td class="paramname"><em>pSBMLEvent</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d4/d18/classCCopasiDataModel.html">CCopasiDataModel</a> &amp;&#160;</td>
          <td class="paramname"><em>dataModel</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>This method creates the individual event assignments for the given event. </p>

<p>Definition at line <a class="el" href="../../d5/d2f/CSBMLExporter_8cpp_source.html#l04294">4294</a> of file <a class="el" href="../../d5/d2f/CSBMLExporter_8cpp_source.html">CSBMLExporter.cpp</a>.</p>

<p>References <a class="el" href="../../d8/d2c/classCCopasiVector.html#acb26711fe72be0d2cb3a37c2fbcc031f">CCopasiVector&lt; T &gt;::begin()</a>, <a class="el" href="../../d5/d2f/CSBMLExporter_8cpp.html#a50d8b634c989579da580569f9f73e114">convertExpression()</a>, <a class="el" href="../../df/d80/classCSBMLExporter.html#ac61681ecd68ba2288e21ff1584ad20af">convertToASTNode()</a>, <a class="el" href="../../df/d80/classCSBMLExporter.html#a6dcd463b48c53c136e6c1af5b22251f2">createFunctionSetFromFunctionNames()</a>, <a class="el" href="../../d8/d2c/classCCopasiVector.html#a44c97a5f614c885495c437f2a8d20954">CCopasiVector&lt; T &gt;::end()</a>, <a class="el" href="../../d2/df0/classCCopasiMessage.html#a2ea1ed32494ff5c8d84353efcec7a5e4a568f885d73f0ea36bedfe92f6e533071">CCopasiMessage::EXCEPTION</a>, <a class="el" href="../../d9/d2d/CCopasiMessage_8h.html#a1e835c01335d6f956a78adf106ed1b15">fatalError</a>, <a class="el" href="../../df/d80/classCSBMLExporter.html#aa843eb9b5d1ae41d5dd2be78a864f2d5">findDirectlyUsedFunctions()</a>, <a class="el" href="../../d8/d5c/classCKeyFactory.html#a49fdca380d37f99f3195103465ba4c0f">CKeyFactory::get()</a>, <a class="el" href="../../dc/d44/classCMetab.html#a9774853fea3fd6c9b15ecd26df7ab349">CMetab::getCompartment()</a>, <a class="el" href="../../d4/dd4/classCCompartment.html#a977268782cb7d6cd7a01cab642b45c09">CCompartment::getDimensionality()</a>, <a class="el" href="../../d3/db1/classCCopasiRootContainer.html#afd5e8541f181260daf7515b28f0612c3">CCopasiRootContainer::getFunctionList()</a>, <a class="el" href="../../d1/d50/classCEvaluationTree.html#abab25dce8518661da82058c20bc5b5aa">CEvaluationTree::getInfix()</a>, <a class="el" href="../../d3/db1/classCCopasiRootContainer.html#acfd634e031d3fb4358b24bfcdd26830e">CCopasiRootContainer::getKeyFactory()</a>, <a class="el" href="../../d4/da8/classCCopasiObject.html#a879d6756b51f6b58d307940e1343bd10">CCopasiObject::getObjectName()</a>, <a class="el" href="../../d4/da8/classCCopasiObject.html#a33bb5035eec7ebc5e3ecac4771316405">CCopasiObject::getObjectParent()</a>, <a class="el" href="../../d4/da8/classCCopasiObject.html#a56790cb06e1980712599250f3e695c6a">CCopasiObject::getObjectType()</a>, <a class="el" href="../../d1/d50/classCEvaluationTree.html#a542e592cb978819d30a6da627411ba91">CEvaluationTree::getRoot()</a>, <a class="el" href="../../da/d3f/classCEvent.html#a15664a61c44cae7a83014b2e2fec32eb">CEvent::getSBMLId()</a>, <a class="el" href="../../d8/d9f/classCEvaluationNode.html#ae24b55d848d78cec0a359fd199c76562">CEvaluationNode::getType()</a>, <a class="el" href="../../d0/da0/classCModelEntity.html#a9ebbeda13eca4f795ca4463a444548fa">CModelEntity::getValueReference()</a>, <a class="el" href="../../d8/d9f/classCEvaluationNode.html#aeef59b7ae37d1323a4900e5d19140491a7492325b731420bde92a0fa2620dde0c">CEvaluationNode::INVALID</a>, <a class="el" href="../../df/d80/classCSBMLExporter.html#aefa0189aa8976611a461b6de4142fdc7">isExpressionSBMLCompatible()</a>, <a class="el" href="../../df/d80/classCSBMLExporter.html#aeb19f9866a1735848770125dad2aebad">mCOPASI2SBMLMap</a>, <a class="el" href="../../d9/d2d/CCopasiMessage_8h.html#a7f5ce9c8d3812b45cb6f33595fba5789">MCSBML</a>, <a class="el" href="../../df/d80/classCSBMLExporter.html#ae5ae5ec70c912323abe9c31b58de2652">mHandledSBMLObjects</a>, <a class="el" href="../../df/d80/classCSBMLExporter.html#a5bd855fe9020f8c400a6cab63fb87711">mIncompatibilities</a>, <a class="el" href="../../df/d80/classCSBMLExporter.html#ac743dca5c88be1b916af33f454d1a64a">mIncompleteExport</a>, <a class="el" href="../../df/d80/classCSBMLExporter.html#ab85366b96bfd18cd3f7cf5ecc9b9d76b">mInitialValueMap</a>, <a class="el" href="../../df/d80/classCSBMLExporter.html#aba959efc152f63f1709d5de60e97a651">mSBMLLevel</a>, <a class="el" href="../../df/d80/classCSBMLExporter.html#af1bc50a307a46adcce8aa8abde6dab96">mSBMLVersion</a>, <a class="el" href="../../df/d80/classCSBMLExporter.html#aa8f731ee31dccd8e0b8d81ed695d9b0b">multiplyByObject()</a>, <a class="el" href="../../df/d80/classCSBMLExporter.html#a4d5bc6e05778ebe1653f70b2c968564e">mUsedFunctions</a>, <a class="el" href="../../df/d80/classCSBMLExporter.html#a9cab2f1418b5678f726caac488f07858">outputIncompatibilities()</a>, <a class="el" href="../../df/d80/classCSBMLExporter.html#a8f73c8e9c1a56403427b179b2074f198">replace_local_parameters()</a>, <a class="el" href="../../df/d80/classCSBMLExporter.html#a030225cc274a7c545f010ba2ba7f13c3">replaceSpeciesReferences()</a>, <a class="el" href="../../d1/d50/classCEvaluationTree.html#a854ce243807e739edd85eb9bcae8ff19">CEvaluationTree::setInfix()</a>, <a class="el" href="../../d8/d9f/classCEvaluationNode.html#a9e5fcf60f22d2701417f90756847d37b">CEvaluationNode::type()</a>, and <a class="el" href="../../d2/df0/classCCopasiMessage.html#a2ea1ed32494ff5c8d84353efcec7a5e4ac789e90eead3612a24114b9eae58fdec">CCopasiMessage::WARNING</a>.</p>

<p>Referenced by <a class="el" href="../../df/d80/classCSBMLExporter.html#a79ba15ac876b6354e2aaff763b8a7c86">createEvent()</a>.</p>
<div class="fragment"><div class="line"><a name="l04295"></a><span class="lineno"> 4295</span>&#160;{</div>
<div class="line"><a name="l04296"></a><span class="lineno"> 4296</span>&#160;  <span class="comment">//  we export all event assignments</span></div>
<div class="line"><a name="l04297"></a><span class="lineno"> 4297</span>&#160;  <span class="comment">//    i) delete all event assignments and add them to a vector (see rules)</span></div>
<div class="line"><a name="l04298"></a><span class="lineno"> 4298</span>&#160;  std::map&lt;std::string, EventAssignment*&gt; assignmentMap;</div>
<div class="line"><a name="l04299"></a><span class="lineno"> 4299</span>&#160;</div>
<div class="line"><a name="l04300"></a><span class="lineno"> 4300</span>&#160;  <span class="keywordflow">while</span> (pSBMLEvent-&gt;getNumEventAssignments() != 0)</div>
<div class="line"><a name="l04301"></a><span class="lineno"> 4301</span>&#160;    {</div>
<div class="line"><a name="l04302"></a><span class="lineno"> 4302</span>&#160;      EventAssignment* pAssignment = pSBMLEvent-&gt;getEventAssignment(pSBMLEvent-&gt;getNumEventAssignments() - 1);</div>
<div class="line"><a name="l04303"></a><span class="lineno"> 4303</span>&#160;      assert(pAssignment != NULL);</div>
<div class="line"><a name="l04304"></a><span class="lineno"> 4304</span>&#160;      assignmentMap[pAssignment-&gt;getVariable()] = pAssignment;</div>
<div class="line"><a name="l04305"></a><span class="lineno"> 4305</span>&#160;      pSBMLEvent-&gt;getListOfEventAssignments()-&gt;remove(pSBMLEvent-&gt;getNumEventAssignments() - 1);</div>
<div class="line"><a name="l04306"></a><span class="lineno"> 4306</span>&#160;    }</div>
<div class="line"><a name="l04307"></a><span class="lineno"> 4307</span>&#160;</div>
<div class="line"><a name="l04308"></a><span class="lineno"> 4308</span>&#160;  <a class="code" href="../../d7/d08/classCCopasiVectorN.html">CCopasiVectorN&lt; CEventAssignment &gt;::const_iterator</a> itAssignment = <span class="keyword">event</span>.getAssignments().<a class="code" href="../../d8/d2c/classCCopasiVector.html#acb26711fe72be0d2cb3a37c2fbcc031f">begin</a>();</div>
<div class="line"><a name="l04309"></a><span class="lineno"> 4309</span>&#160;  <a class="code" href="../../d7/d08/classCCopasiVectorN.html">CCopasiVectorN&lt; CEventAssignment &gt;::const_iterator</a> endAssignment = <span class="keyword">event</span>.getAssignments().<a class="code" href="../../d8/d2c/classCCopasiVector.html#a44c97a5f614c885495c437f2a8d20954">end</a>();</div>
<div class="line"><a name="l04310"></a><span class="lineno"> 4310</span>&#160;</div>
<div class="line"><a name="l04311"></a><span class="lineno"> 4311</span>&#160;  <span class="keywordflow">for</span> (; itAssignment != endAssignment; ++itAssignment)</div>
<div class="line"><a name="l04312"></a><span class="lineno"> 4312</span>&#160;    {</div>
<div class="line"><a name="l04313"></a><span class="lineno"> 4313</span>&#160;      <span class="comment">//    ii) for each assignment, check if there already is an old assignment</span></div>
<div class="line"><a name="l04314"></a><span class="lineno"> 4314</span>&#160;      <span class="comment">//        for this variable</span></div>
<div class="line"><a name="l04315"></a><span class="lineno"> 4315</span>&#160;      std::string key = (*itAssignment)-&gt;getTargetKey();</div>
<div class="line"><a name="l04316"></a><span class="lineno"> 4316</span>&#160;</div>
<div class="line"><a name="l04317"></a><span class="lineno"> 4317</span>&#160;      <span class="comment">//        now we have to get the object for the key, check if the object is a</span></div>
<div class="line"><a name="l04318"></a><span class="lineno"> 4318</span>&#160;      <span class="comment">//        compartment, species or global parameter,</span></div>
<div class="line"><a name="l04319"></a><span class="lineno"> 4319</span>&#160;      <span class="keyword">const</span> <a class="code" href="../../d4/da8/classCCopasiObject.html">CCopasiObject</a>* pObject = <a class="code" href="../../d3/db1/classCCopasiRootContainer.html#acfd634e031d3fb4358b24bfcdd26830e">CCopasiRootContainer::getKeyFactory</a>()-&gt;<a class="code" href="../../d8/d5c/classCKeyFactory.html#a49fdca380d37f99f3195103465ba4c0f">get</a>(key);</div>
<div class="line"><a name="l04320"></a><span class="lineno"> 4320</span>&#160;      std::string <a class="code" href="../../d4/d12/ObjectBrowserItem_8h.html#a2a3cae49e6781726af07e98e7d9f2e30">objectType</a> = pObject-&gt;<a class="code" href="../../d4/da8/classCCopasiObject.html#a56790cb06e1980712599250f3e695c6a">getObjectType</a>();</div>
<div class="line"><a name="l04321"></a><span class="lineno"> 4321</span>&#160;</div>
<div class="line"><a name="l04322"></a><span class="lineno"> 4322</span>&#160;      <span class="keywordflow">if</span> (objectType == <span class="stringliteral">&quot;Reference&quot;</span>)</div>
<div class="line"><a name="l04323"></a><span class="lineno"> 4323</span>&#160;        {</div>
<div class="line"><a name="l04324"></a><span class="lineno"> 4324</span>&#160;          pObject = pObject-&gt;<a class="code" href="../../d4/da8/classCCopasiObject.html#a33bb5035eec7ebc5e3ecac4771316405">getObjectParent</a>();</div>
<div class="line"><a name="l04325"></a><span class="lineno"> 4325</span>&#160;          objectType = pObject-&gt;<a class="code" href="../../d4/da8/classCCopasiObject.html#a56790cb06e1980712599250f3e695c6a">getObjectType</a>();</div>
<div class="line"><a name="l04326"></a><span class="lineno"> 4326</span>&#160;        }</div>
<div class="line"><a name="l04327"></a><span class="lineno"> 4327</span>&#160;</div>
<div class="line"><a name="l04328"></a><span class="lineno"> 4328</span>&#160;      <span class="keywordflow">if</span> (objectType != <span class="stringliteral">&quot;Compartment&quot;</span> &amp;&amp; objectType != <span class="stringliteral">&quot;Metabolite&quot;</span> &amp;&amp; objectType != <span class="stringliteral">&quot;ModelValue&quot;</span>)</div>
<div class="line"><a name="l04329"></a><span class="lineno"> 4329</span>&#160;        {</div>
<div class="line"><a name="l04330"></a><span class="lineno"> 4330</span>&#160;          <span class="comment">// create an error message that only compartment, species and</span></div>
<div class="line"><a name="l04331"></a><span class="lineno"> 4331</span>&#160;          <span class="comment">// global parameters can be used in an event assignment</span></div>
<div class="line"><a name="l04332"></a><span class="lineno"> 4332</span>&#160;          <a class="code" href="../../d2/df0/classCCopasiMessage.html">CCopasiMessage</a>(<a class="code" href="../../d2/df0/classCCopasiMessage.html#a2ea1ed32494ff5c8d84353efcec7a5e4ac789e90eead3612a24114b9eae58fdec">CCopasiMessage::WARNING</a>, <a class="code" href="../../d9/d2d/CCopasiMessage_8h.html#a7f5ce9c8d3812b45cb6f33595fba5789">MCSBML</a> + 32, std::string(<span class="stringliteral">&quot;event assignment for event called \&quot;&quot;</span> + event.<a class="code" href="../../d4/da8/classCCopasiObject.html#a879d6756b51f6b58d307940e1343bd10">getObjectName</a>() + <span class="stringliteral">&quot;\&quot;&quot;</span>).c_str(), pObject-&gt;<a class="code" href="../../d4/da8/classCCopasiObject.html#a879d6756b51f6b58d307940e1343bd10">getObjectName</a>().c_str());</div>
<div class="line"><a name="l04333"></a><span class="lineno"> 4333</span>&#160;        }</div>
<div class="line"><a name="l04334"></a><span class="lineno"> 4334</span>&#160;</div>
<div class="line"><a name="l04335"></a><span class="lineno"> 4335</span>&#160;      std::map&lt;const CCopasiObject*, SBase*&gt;::const_iterator pos = this-&gt;<a class="code" href="../../df/d80/classCSBMLExporter.html#aeb19f9866a1735848770125dad2aebad">mCOPASI2SBMLMap</a>.find(pObject);</div>
<div class="line"><a name="l04336"></a><span class="lineno"> 4336</span>&#160;</div>
<div class="line"><a name="l04337"></a><span class="lineno"> 4337</span>&#160;      <span class="keywordflow">if</span> (pos == this-&gt;<a class="code" href="../../df/d80/classCSBMLExporter.html#aeb19f9866a1735848770125dad2aebad">mCOPASI2SBMLMap</a>.end())</div>
<div class="line"><a name="l04338"></a><span class="lineno"> 4338</span>&#160;        {</div>
<div class="line"><a name="l04339"></a><span class="lineno"> 4339</span>&#160;          <span class="comment">// create a general error message that the export of an event</span></div>
<div class="line"><a name="l04340"></a><span class="lineno"> 4340</span>&#160;          <span class="comment">// assignment failed and continue</span></div>
<div class="line"><a name="l04341"></a><span class="lineno"> 4341</span>&#160;          <a class="code" href="../../d2/df0/classCCopasiMessage.html">CCopasiMessage</a>(<a class="code" href="../../d2/df0/classCCopasiMessage.html#a2ea1ed32494ff5c8d84353efcec7a5e4ac789e90eead3612a24114b9eae58fdec">CCopasiMessage::WARNING</a>, <a class="code" href="../../d9/d2d/CCopasiMessage_8h.html#a7f5ce9c8d3812b45cb6f33595fba5789">MCSBML</a> + 73, std::string(<span class="stringliteral">&quot;event assignment for object called \&quot;&quot;</span> + pObject-&gt;<a class="code" href="../../d4/da8/classCCopasiObject.html#a879d6756b51f6b58d307940e1343bd10">getObjectName</a>() + <span class="stringliteral">&quot;\&quot; in evend named \&quot;&quot;</span> + <span class="keyword">event</span>.getObjectName() + <span class="stringliteral">&quot;\&quot;&quot;</span>).c_str(), <span class="stringliteral">&quot;event assignment&quot;</span>);</div>
<div class="line"><a name="l04342"></a><span class="lineno"> 4342</span>&#160;          <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l04343"></a><span class="lineno"> 4343</span>&#160;        }</div>
<div class="line"><a name="l04344"></a><span class="lineno"> 4344</span>&#160;</div>
<div class="line"><a name="l04345"></a><span class="lineno"> 4345</span>&#160;      <span class="comment">//  iii) for each assignment, check if the object that variable points to has been exported</span></div>
<div class="line"><a name="l04346"></a><span class="lineno"> 4346</span>&#160;      SBase* pSBase = pos-&gt;second;</div>
<div class="line"><a name="l04347"></a><span class="lineno"> 4347</span>&#160;      assert(pSBase != NULL);</div>
<div class="line"><a name="l04348"></a><span class="lineno"> 4348</span>&#160;</div>
<div class="line"><a name="l04349"></a><span class="lineno"> 4349</span>&#160;      <span class="keywordflow">if</span> (this-&gt;<a class="code" href="../../df/d80/classCSBMLExporter.html#ae5ae5ec70c912323abe9c31b58de2652">mHandledSBMLObjects</a>.find(pSBase) == this-&gt;<a class="code" href="../../df/d80/classCSBMLExporter.html#ae5ae5ec70c912323abe9c31b58de2652">mHandledSBMLObjects</a>.end())</div>
<div class="line"><a name="l04350"></a><span class="lineno"> 4350</span>&#160;        {</div>
<div class="line"><a name="l04351"></a><span class="lineno"> 4351</span>&#160;          <span class="comment">// create an error message that the event assignment is for an object</span></div>
<div class="line"><a name="l04352"></a><span class="lineno"> 4352</span>&#160;          <span class="comment">// that is no longer part of the model</span></div>
<div class="line"><a name="l04353"></a><span class="lineno"> 4353</span>&#160;          <span class="comment">// ignore it and continue</span></div>
<div class="line"><a name="l04354"></a><span class="lineno"> 4354</span>&#160;          <a class="code" href="../../d2/df0/classCCopasiMessage.html">CCopasiMessage</a>(<a class="code" href="../../d2/df0/classCCopasiMessage.html#a2ea1ed32494ff5c8d84353efcec7a5e4ac789e90eead3612a24114b9eae58fdec">CCopasiMessage::WARNING</a>, <a class="code" href="../../d9/d2d/CCopasiMessage_8h.html#a7f5ce9c8d3812b45cb6f33595fba5789">MCSBML</a> + 57, std::string(<span class="stringliteral">&quot;event assignment in event called \&quot;&quot;</span> + event.<a class="code" href="../../d4/da8/classCCopasiObject.html#a879d6756b51f6b58d307940e1343bd10">getObjectName</a>() + <span class="stringliteral">&quot;\&quot;&quot;</span>).c_str(), pSBase-&gt;getId().c_str());</div>
<div class="line"><a name="l04355"></a><span class="lineno"> 4355</span>&#160;          <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l04356"></a><span class="lineno"> 4356</span>&#160;        }</div>
<div class="line"><a name="l04357"></a><span class="lineno"> 4357</span>&#160;</div>
<div class="line"><a name="l04358"></a><span class="lineno"> 4358</span>&#160;      <span class="comment">// set the constant flag to false</span></div>
<div class="line"><a name="l04359"></a><span class="lineno"> 4359</span>&#160;      Compartment* pSBMLCompartment = NULL;</div>
<div class="line"><a name="l04360"></a><span class="lineno"> 4360</span>&#160;      Species* pSBMLSpecies = NULL;</div>
<div class="line"><a name="l04361"></a><span class="lineno"> 4361</span>&#160;      Parameter* pSBMLParameter = NULL;</div>
<div class="line"><a name="l04362"></a><span class="lineno"> 4362</span>&#160;</div>
<div class="line"><a name="l04363"></a><span class="lineno"> 4363</span>&#160;      <span class="keywordflow">switch</span> (pSBase-&gt;getTypeCode())</div>
<div class="line"><a name="l04364"></a><span class="lineno"> 4364</span>&#160;        {</div>
<div class="line"><a name="l04365"></a><span class="lineno"> 4365</span>&#160;          <span class="keywordflow">case</span> SBML_COMPARTMENT:</div>
<div class="line"><a name="l04366"></a><span class="lineno"> 4366</span>&#160;            pSBMLCompartment = <span class="keyword">dynamic_cast&lt;</span>Compartment*<span class="keyword">&gt;</span>(pSBase);</div>
<div class="line"><a name="l04367"></a><span class="lineno"> 4367</span>&#160;            assert(pSBMLCompartment != NULL);</div>
<div class="line"><a name="l04368"></a><span class="lineno"> 4368</span>&#160;</div>
<div class="line"><a name="l04369"></a><span class="lineno"> 4369</span>&#160;            <span class="keywordflow">if</span> (pSBMLCompartment-&gt;getConstant() == <span class="keyword">true</span>)</div>
<div class="line"><a name="l04370"></a><span class="lineno"> 4370</span>&#160;              {</div>
<div class="line"><a name="l04371"></a><span class="lineno"> 4371</span>&#160;                pSBMLCompartment-&gt;setConstant(<span class="keyword">false</span>);</div>
<div class="line"><a name="l04372"></a><span class="lineno"> 4372</span>&#160;              }</div>
<div class="line"><a name="l04373"></a><span class="lineno"> 4373</span>&#160;</div>
<div class="line"><a name="l04374"></a><span class="lineno"> 4374</span>&#160;            <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l04375"></a><span class="lineno"> 4375</span>&#160;</div>
<div class="line"><a name="l04376"></a><span class="lineno"> 4376</span>&#160;          <span class="keywordflow">case</span> SBML_SPECIES:</div>
<div class="line"><a name="l04377"></a><span class="lineno"> 4377</span>&#160;            pSBMLSpecies = <span class="keyword">dynamic_cast&lt;</span>Species*<span class="keyword">&gt;</span>(pSBase);</div>
<div class="line"><a name="l04378"></a><span class="lineno"> 4378</span>&#160;            assert(pSBMLSpecies != NULL);</div>
<div class="line"><a name="l04379"></a><span class="lineno"> 4379</span>&#160;</div>
<div class="line"><a name="l04380"></a><span class="lineno"> 4380</span>&#160;            <span class="keywordflow">if</span> (pSBMLSpecies-&gt;getConstant() == <span class="keyword">true</span>)</div>
<div class="line"><a name="l04381"></a><span class="lineno"> 4381</span>&#160;              {</div>
<div class="line"><a name="l04382"></a><span class="lineno"> 4382</span>&#160;                pSBMLSpecies-&gt;setConstant(<span class="keyword">false</span>);</div>
<div class="line"><a name="l04383"></a><span class="lineno"> 4383</span>&#160;              }</div>
<div class="line"><a name="l04384"></a><span class="lineno"> 4384</span>&#160;</div>
<div class="line"><a name="l04385"></a><span class="lineno"> 4385</span>&#160;            <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l04386"></a><span class="lineno"> 4386</span>&#160;</div>
<div class="line"><a name="l04387"></a><span class="lineno"> 4387</span>&#160;          <span class="keywordflow">case</span> SBML_PARAMETER:</div>
<div class="line"><a name="l04388"></a><span class="lineno"> 4388</span>&#160;            pSBMLParameter = <span class="keyword">dynamic_cast&lt;</span>Parameter*<span class="keyword">&gt;</span>(pSBase);</div>
<div class="line"><a name="l04389"></a><span class="lineno"> 4389</span>&#160;            assert(pSBMLParameter != NULL);</div>
<div class="line"><a name="l04390"></a><span class="lineno"> 4390</span>&#160;</div>
<div class="line"><a name="l04391"></a><span class="lineno"> 4391</span>&#160;            <span class="keywordflow">if</span> (pSBMLParameter-&gt;getConstant() == <span class="keyword">true</span>)</div>
<div class="line"><a name="l04392"></a><span class="lineno"> 4392</span>&#160;              {</div>
<div class="line"><a name="l04393"></a><span class="lineno"> 4393</span>&#160;                pSBMLParameter-&gt;setConstant(<span class="keyword">false</span>);</div>
<div class="line"><a name="l04394"></a><span class="lineno"> 4394</span>&#160;              }</div>
<div class="line"><a name="l04395"></a><span class="lineno"> 4395</span>&#160;</div>
<div class="line"><a name="l04396"></a><span class="lineno"> 4396</span>&#160;            <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l04397"></a><span class="lineno"> 4397</span>&#160;</div>
<div class="line"><a name="l04398"></a><span class="lineno"> 4398</span>&#160;          <span class="keywordflow">default</span>:</div>
<div class="line"><a name="l04399"></a><span class="lineno"> 4399</span>&#160;            <a class="code" href="../../d9/d2d/CCopasiMessage_8h.html#a1e835c01335d6f956a78adf106ed1b15">fatalError</a>();</div>
<div class="line"><a name="l04400"></a><span class="lineno"> 4400</span>&#160;            <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l04401"></a><span class="lineno"> 4401</span>&#160;        }</div>
<div class="line"><a name="l04402"></a><span class="lineno"> 4402</span>&#160;</div>
<div class="line"><a name="l04403"></a><span class="lineno"> 4403</span>&#160;      std::string sbmlId = pSBase-&gt;getId();</div>
<div class="line"><a name="l04404"></a><span class="lineno"> 4404</span>&#160;      assert(sbmlId.find_first_not_of(<span class="stringliteral">&quot;\t\r\n &quot;</span>) != std::string::npos);</div>
<div class="line"><a name="l04405"></a><span class="lineno"> 4405</span>&#160;      std::map&lt;std::string, EventAssignment*&gt;::iterator pos2 = assignmentMap.find(sbmlId);</div>
<div class="line"><a name="l04406"></a><span class="lineno"> 4406</span>&#160;      EventAssignment* pAssignment = NULL;</div>
<div class="line"><a name="l04407"></a><span class="lineno"> 4407</span>&#160;</div>
<div class="line"><a name="l04408"></a><span class="lineno"> 4408</span>&#160;      <span class="keywordflow">if</span> (pos2 != assignmentMap.end())</div>
<div class="line"><a name="l04409"></a><span class="lineno"> 4409</span>&#160;        {</div>
<div class="line"><a name="l04410"></a><span class="lineno"> 4410</span>&#160;          pAssignment = <span class="keyword">dynamic_cast&lt;</span>EventAssignment*<span class="keyword">&gt;</span>(pos2-&gt;second);</div>
<div class="line"><a name="l04411"></a><span class="lineno"> 4411</span>&#160;          assert(pAssignment != NULL);</div>
<div class="line"><a name="l04412"></a><span class="lineno"> 4412</span>&#160;          pSBMLEvent-&gt;getListOfEventAssignments()-&gt;appendAndOwn(pAssignment);</div>
<div class="line"><a name="l04413"></a><span class="lineno"> 4413</span>&#160;          <span class="comment">// remove the entry from the event assigment map</span></div>
<div class="line"><a name="l04414"></a><span class="lineno"> 4414</span>&#160;          assignmentMap.erase(pos2);</div>
<div class="line"><a name="l04415"></a><span class="lineno"> 4415</span>&#160;        }</div>
<div class="line"><a name="l04416"></a><span class="lineno"> 4416</span>&#160;</div>
<div class="line"><a name="l04417"></a><span class="lineno"> 4417</span>&#160;      <span class="keywordflow">if</span> (pAssignment == NULL)</div>
<div class="line"><a name="l04418"></a><span class="lineno"> 4418</span>&#160;        {</div>
<div class="line"><a name="l04419"></a><span class="lineno"> 4419</span>&#160;          pAssignment = pSBMLEvent-&gt;createEventAssignment();</div>
<div class="line"><a name="l04420"></a><span class="lineno"> 4420</span>&#160;        }</div>
<div class="line"><a name="l04421"></a><span class="lineno"> 4421</span>&#160;</div>
<div class="line"><a name="l04422"></a><span class="lineno"> 4422</span>&#160;      pAssignment-&gt;setVariable(sbmlId);</div>
<div class="line"><a name="l04423"></a><span class="lineno"> 4423</span>&#160;      <span class="comment">//    iv) for each assignment, check the assignment expression if it is valid</span></div>
<div class="line"><a name="l04424"></a><span class="lineno"> 4424</span>&#160;      <span class="keyword">const</span> <a class="code" href="../../dc/dbd/classCExpression.html">CExpression</a> * pExpression = (*itAssignment)-&gt;getExpressionPtr();</div>
<div class="line"><a name="l04425"></a><span class="lineno"> 4425</span>&#160;</div>
<div class="line"><a name="l04426"></a><span class="lineno"> 4426</span>&#160;      <span class="keywordflow">if</span> (pExpression != NULL)</div>
<div class="line"><a name="l04427"></a><span class="lineno"> 4427</span>&#160;        {</div>
<div class="line"><a name="l04428"></a><span class="lineno"> 4428</span>&#160;          std::vector&lt;SBMLIncompatibility&gt; result;</div>
<div class="line"><a name="l04429"></a><span class="lineno"> 4429</span>&#160;          <a class="code" href="../../df/d80/classCSBMLExporter.html#aefa0189aa8976611a461b6de4142fdc7">CSBMLExporter::isExpressionSBMLCompatible</a>(</div>
<div class="line"><a name="l04430"></a><span class="lineno"> 4430</span>&#160;            *pExpression</div>
<div class="line"><a name="l04431"></a><span class="lineno"> 4431</span>&#160;            , dataModel</div>
<div class="line"><a name="l04432"></a><span class="lineno"> 4432</span>&#160;            , this-&gt;<a class="code" href="../../df/d80/classCSBMLExporter.html#aba959efc152f63f1709d5de60e97a651">mSBMLLevel</a></div>
<div class="line"><a name="l04433"></a><span class="lineno"> 4433</span>&#160;            , this-&gt;<a class="code" href="../../df/d80/classCSBMLExporter.html#af1bc50a307a46adcce8aa8abde6dab96">mSBMLVersion</a></div>
<div class="line"><a name="l04434"></a><span class="lineno"> 4434</span>&#160;            , result</div>
<div class="line"><a name="l04435"></a><span class="lineno"> 4435</span>&#160;            , std::string(<span class="stringliteral">&quot;event assignment for variable \&quot;&quot;</span> + sbmlId + <span class="stringliteral">&quot;\&quot; in event with id\&quot;+&quot;</span> + event.<a class="code" href="../../da/d3f/classCEvent.html#a15664a61c44cae7a83014b2e2fec32eb">getSBMLId</a>() + <span class="stringliteral">&quot;\&quot;&quot;</span>)</div>
<div class="line"><a name="l04436"></a><span class="lineno"> 4436</span>&#160;            , <span class="keyword">false</span></div>
<div class="line"><a name="l04437"></a><span class="lineno"> 4437</span>&#160;            , &amp;<a class="code" href="../../df/d80/classCSBMLExporter.html#ab85366b96bfd18cd3f7cf5ecc9b9d76b">mInitialValueMap</a>);</div>
<div class="line"><a name="l04438"></a><span class="lineno"> 4438</span>&#160;</div>
<div class="line"><a name="l04439"></a><span class="lineno"> 4439</span>&#160;          <span class="comment">// collect directly used functions</span></div>
<div class="line"><a name="l04440"></a><span class="lineno"> 4440</span>&#160;          <span class="keywordflow">if</span> (result.empty())</div>
<div class="line"><a name="l04441"></a><span class="lineno"> 4441</span>&#160;            {</div>
<div class="line"><a name="l04442"></a><span class="lineno"> 4442</span>&#160;              std::set&lt;std::string&gt; directlyUsedFunctionNames;</div>
<div class="line"><a name="l04443"></a><span class="lineno"> 4443</span>&#160;              <a class="code" href="../../df/d80/classCSBMLExporter.html#aa843eb9b5d1ae41d5dd2be78a864f2d5">CSBMLExporter::findDirectlyUsedFunctions</a>(pExpression-&gt;<a class="code" href="../../d1/d50/classCEvaluationTree.html#a542e592cb978819d30a6da627411ba91">getRoot</a>(), directlyUsedFunctionNames);</div>
<div class="line"><a name="l04444"></a><span class="lineno"> 4444</span>&#160;              std::set&lt;CFunction*&gt; usedFunctions = <a class="code" href="../../df/d80/classCSBMLExporter.html#a6dcd463b48c53c136e6c1af5b22251f2">CSBMLExporter::createFunctionSetFromFunctionNames</a>(directlyUsedFunctionNames, <a class="code" href="../../d3/db1/classCCopasiRootContainer.html#afd5e8541f181260daf7515b28f0612c3">CCopasiRootContainer::getFunctionList</a>());</div>
<div class="line"><a name="l04445"></a><span class="lineno"> 4445</span>&#160;</div>
<div class="line"><a name="l04446"></a><span class="lineno"> 4446</span>&#160;<span class="preprocessor"># if defined _MSC_VER &amp;&amp; _MSC_VER &lt; 1201 // 1200 Identifies Visual C++ 6.0</span></div>
<div class="line"><a name="l04447"></a><span class="lineno"> 4447</span>&#160;<span class="preprocessor"></span>              {</div>
<div class="line"><a name="l04448"></a><span class="lineno"> 4448</span>&#160;                it = usedFunctions.begin();</div>
<div class="line"><a name="l04449"></a><span class="lineno"> 4449</span>&#160;                usedFunctions.end();</div>
<div class="line"><a name="l04450"></a><span class="lineno"> 4450</span>&#160;</div>
<div class="line"><a name="l04451"></a><span class="lineno"> 4451</span>&#160;                <span class="keywordflow">for</span> (; it != end; ++it)</div>
<div class="line"><a name="l04452"></a><span class="lineno"> 4452</span>&#160;                  this-&gt;<a class="code" href="../../df/d80/classCSBMLExporter.html#a4d5bc6e05778ebe1653f70b2c968564e">mUsedFunctions</a>.insert(*it);</div>
<div class="line"><a name="l04453"></a><span class="lineno"> 4453</span>&#160;              }</div>
<div class="line"><a name="l04454"></a><span class="lineno"> 4454</span>&#160;<span class="preprocessor">#else</span></div>
<div class="line"><a name="l04455"></a><span class="lineno"> 4455</span>&#160;<span class="preprocessor"></span>              this-&gt;<a class="code" href="../../df/d80/classCSBMLExporter.html#a4d5bc6e05778ebe1653f70b2c968564e">mUsedFunctions</a>.insert(usedFunctions.begin(), usedFunctions.end());</div>
<div class="line"><a name="l04456"></a><span class="lineno"> 4456</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l04457"></a><span class="lineno"> 4457</span>&#160;<span class="preprocessor"></span>            }</div>
<div class="line"><a name="l04458"></a><span class="lineno"> 4458</span>&#160;          <span class="keywordflow">else</span></div>
<div class="line"><a name="l04459"></a><span class="lineno"> 4459</span>&#160;            {</div>
<div class="line"><a name="l04460"></a><span class="lineno"> 4460</span>&#160;              this-&gt;<a class="code" href="../../df/d80/classCSBMLExporter.html#a5bd855fe9020f8c400a6cab63fb87711">mIncompatibilities</a>.insert(this-&gt;<a class="code" href="../../df/d80/classCSBMLExporter.html#a5bd855fe9020f8c400a6cab63fb87711">mIncompatibilities</a>.end(), result.begin(), result.end());</div>
<div class="line"><a name="l04461"></a><span class="lineno"> 4461</span>&#160;</div>
<div class="line"><a name="l04462"></a><span class="lineno"> 4462</span>&#160;              <span class="keywordflow">if</span> (!this-&gt;<a class="code" href="../../df/d80/classCSBMLExporter.html#ac743dca5c88be1b916af33f454d1a64a">mIncompleteExport</a>)</div>
<div class="line"><a name="l04463"></a><span class="lineno"> 4463</span>&#160;                {</div>
<div class="line"><a name="l04464"></a><span class="lineno"> 4464</span>&#160;                  this-&gt;<a class="code" href="../../df/d80/classCSBMLExporter.html#a9cab2f1418b5678f726caac488f07858">outputIncompatibilities</a>();</div>
<div class="line"><a name="l04465"></a><span class="lineno"> 4465</span>&#160;                  <a class="code" href="../../d2/df0/classCCopasiMessage.html">CCopasiMessage</a>(<a class="code" href="../../d2/df0/classCCopasiMessage.html#a2ea1ed32494ff5c8d84353efcec7a5e4a568f885d73f0ea36bedfe92f6e533071">CCopasiMessage::EXCEPTION</a>, <a class="code" href="../../d9/d2d/CCopasiMessage_8h.html#a7f5ce9c8d3812b45cb6f33595fba5789">MCSBML</a> + 60, std::string(<span class="stringliteral">&quot;event assignment for variable with id \&quot;&quot;</span> + sbmlId + <span class="stringliteral">&quot;\&quot;&quot;</span>).c_str(), <span class="stringliteral">&quot;event&quot;</span>, event.<a class="code" href="../../d4/da8/classCCopasiObject.html#a879d6756b51f6b58d307940e1343bd10">getObjectName</a>().c_str());</div>
<div class="line"><a name="l04466"></a><span class="lineno"> 4466</span>&#160;                }</div>
<div class="line"><a name="l04467"></a><span class="lineno"> 4467</span>&#160;            }</div>
<div class="line"><a name="l04468"></a><span class="lineno"> 4468</span>&#160;</div>
<div class="line"><a name="l04469"></a><span class="lineno"> 4469</span>&#160;          <span class="comment">//const CEvaluationNode* pOrigNode = pExpression-&gt;getRoot();</span></div>
<div class="line"><a name="l04470"></a><span class="lineno"> 4470</span>&#160;          <span class="keyword">const</span> std::string&amp; changedExpression = <a class="code" href="../../d5/d2f/CSBMLExporter_8cpp.html#a50d8b634c989579da580569f9f73e114">convertExpression</a>(pExpression-&gt;<a class="code" href="../../d1/d50/classCEvaluationTree.html#abab25dce8518661da82058c20bc5b5aa">getInfix</a>(), <a class="code" href="../../df/d80/classCSBMLExporter.html#ab85366b96bfd18cd3f7cf5ecc9b9d76b">mInitialValueMap</a>);</div>
<div class="line"><a name="l04471"></a><span class="lineno"> 4471</span>&#160;          <a class="code" href="../../d1/d50/classCEvaluationTree.html">CEvaluationTree</a> tree;</div>
<div class="line"><a name="l04472"></a><span class="lineno"> 4472</span>&#160;          tree.<a class="code" href="../../d1/d50/classCEvaluationTree.html#a854ce243807e739edd85eb9bcae8ff19">setInfix</a>(changedExpression);</div>
<div class="line"><a name="l04473"></a><span class="lineno"> 4473</span>&#160;          <span class="keyword">const</span> <a class="code" href="../../d8/d9f/classCEvaluationNode.html">CEvaluationNode</a>* pOrigNode = tree.getRoot();</div>
<div class="line"><a name="l04474"></a><span class="lineno"> 4474</span>&#160;</div>
<div class="line"><a name="l04475"></a><span class="lineno"> 4475</span>&#160;          <span class="keywordflow">if</span> (<a class="code" href="../../d8/d9f/classCEvaluationNode.html#a9e5fcf60f22d2701417f90756847d37b">CEvaluationNode::type</a>(pOrigNode-&gt;<a class="code" href="../../d8/d9f/classCEvaluationNode.html#ae24b55d848d78cec0a359fd199c76562">getType</a>()) == <a class="code" href="../../d8/d9f/classCEvaluationNode.html#aeef59b7ae37d1323a4900e5d19140491a7492325b731420bde92a0fa2620dde0c">CEvaluationNode::INVALID</a>)</div>
<div class="line"><a name="l04476"></a><span class="lineno"> 4476</span>&#160;            {</div>
<div class="line"><a name="l04477"></a><span class="lineno"> 4477</span>&#160;              <a class="code" href="../../d2/df0/classCCopasiMessage.html">CCopasiMessage</a>(<a class="code" href="../../d2/df0/classCCopasiMessage.html#a2ea1ed32494ff5c8d84353efcec7a5e4a568f885d73f0ea36bedfe92f6e533071">CCopasiMessage::EXCEPTION</a>, <a class="code" href="../../d9/d2d/CCopasiMessage_8h.html#a7f5ce9c8d3812b45cb6f33595fba5789">MCSBML</a> + 70, std::string(<span class="stringliteral">&quot;event assignment for variable with id \&quot;&quot;</span> + sbmlId + <span class="stringliteral">&quot;\&quot;&quot;</span>).c_str(), <span class="stringliteral">&quot;event&quot;</span>, event.<a class="code" href="../../d4/da8/classCCopasiObject.html#a879d6756b51f6b58d307940e1343bd10">getObjectName</a>().c_str());</div>
<div class="line"><a name="l04478"></a><span class="lineno"> 4478</span>&#160;            }</div>
<div class="line"><a name="l04479"></a><span class="lineno"> 4479</span>&#160;</div>
<div class="line"><a name="l04480"></a><span class="lineno"> 4480</span>&#160;          <span class="comment">// the next few lines replace references to species depending on whether</span></div>
<div class="line"><a name="l04481"></a><span class="lineno"> 4481</span>&#160;          <span class="comment">// it is a reference to an amount or a reference to a concentration.</span></div>
<div class="line"><a name="l04482"></a><span class="lineno"> 4482</span>&#160;          <span class="comment">// Other factors that influence this replacement are if the model</span></div>
<div class="line"><a name="l04483"></a><span class="lineno"> 4483</span>&#160;          <span class="comment">// contains variable volumes or if the quantity units are set to CModel::number</span></div>
<div class="line"><a name="l04484"></a><span class="lineno"> 4484</span>&#160;          pOrigNode = this-&gt;<a class="code" href="../../df/d80/classCSBMLExporter.html#a030225cc274a7c545f010ba2ba7f13c3">replaceSpeciesReferences</a>(pOrigNode, dataModel);</div>
<div class="line"><a name="l04485"></a><span class="lineno"> 4485</span>&#160;          assert(pOrigNode != NULL);</div>
<div class="line"><a name="l04486"></a><span class="lineno"> 4486</span>&#160;          <span class="comment">// check if the assignment belongs to an amount species</span></div>
<div class="line"><a name="l04487"></a><span class="lineno"> 4487</span>&#160;          <span class="comment">// if so, multiply the expression be the volume of the compartment that</span></div>
<div class="line"><a name="l04488"></a><span class="lineno"> 4488</span>&#160;          <span class="comment">// the species belongs to.</span></div>
<div class="line"><a name="l04489"></a><span class="lineno"> 4489</span>&#160;          <span class="keyword">const</span> <a class="code" href="../../dc/d44/classCMetab.html">CMetab</a>* pMetab = <span class="keyword">dynamic_cast&lt;</span><span class="keyword">const </span><a class="code" href="../../dc/d44/classCMetab.html">CMetab</a>*<span class="keyword">&gt;</span>(pObject);</div>
<div class="line"><a name="l04490"></a><span class="lineno"> 4490</span>&#160;</div>
<div class="line"><a name="l04491"></a><span class="lineno"> 4491</span>&#160;          <span class="keywordflow">if</span> (pMetab != NULL)</div>
<div class="line"><a name="l04492"></a><span class="lineno"> 4492</span>&#160;            {</div>
<div class="line"><a name="l04493"></a><span class="lineno"> 4493</span>&#160;              std::map&lt;const CCopasiObject*, SBase*&gt;::const_iterator pos = this-&gt;<a class="code" href="../../df/d80/classCSBMLExporter.html#aeb19f9866a1735848770125dad2aebad">mCOPASI2SBMLMap</a>.find(pObject);</div>
<div class="line"><a name="l04494"></a><span class="lineno"> 4494</span>&#160;              assert(pos != this-&gt;<a class="code" href="../../df/d80/classCSBMLExporter.html#aeb19f9866a1735848770125dad2aebad">mCOPASI2SBMLMap</a>.end());</div>
<div class="line"><a name="l04495"></a><span class="lineno"> 4495</span>&#160;</div>
<div class="line"><a name="l04496"></a><span class="lineno"> 4496</span>&#160;              <span class="keywordflow">if</span> (dynamic_cast&lt;const Species*&gt;(pos-&gt;second)-&gt;getHasOnlySubstanceUnits() == <span class="keyword">true</span>)</div>
<div class="line"><a name="l04497"></a><span class="lineno"> 4497</span>&#160;                {</div>
<div class="line"><a name="l04498"></a><span class="lineno"> 4498</span>&#160;                  <span class="keyword">const</span> <a class="code" href="../../d4/dd4/classCCompartment.html">CCompartment</a>* pCompartment = pMetab-&gt;<a class="code" href="../../dc/d44/classCMetab.html#a9774853fea3fd6c9b15ecd26df7ab349">getCompartment</a>();</div>
<div class="line"><a name="l04499"></a><span class="lineno"> 4499</span>&#160;</div>
<div class="line"><a name="l04500"></a><span class="lineno"> 4500</span>&#160;                  <span class="keywordflow">if</span> (pCompartment-&gt;<a class="code" href="../../d4/dd4/classCCompartment.html#a977268782cb7d6cd7a01cab642b45c09">getDimensionality</a>() != 0)</div>
<div class="line"><a name="l04501"></a><span class="lineno"> 4501</span>&#160;                    {</div>
<div class="line"><a name="l04502"></a><span class="lineno"> 4502</span>&#160;                      <a class="code" href="../../d8/d9f/classCEvaluationNode.html">CEvaluationNode</a>* pNode = <a class="code" href="../../df/d80/classCSBMLExporter.html#aa8f731ee31dccd8e0b8d81ed695d9b0b">CSBMLExporter::multiplyByObject</a>(pOrigNode, pCompartment-&gt;<a class="code" href="../../d0/da0/classCModelEntity.html#a9ebbeda13eca4f795ca4463a444548fa">getValueReference</a>());</div>
<div class="line"><a name="l04503"></a><span class="lineno"> 4503</span>&#160;                      assert(pNode != NULL);</div>
<div class="line"><a name="l04504"></a><span class="lineno"> 4504</span>&#160;</div>
<div class="line"><a name="l04505"></a><span class="lineno"> 4505</span>&#160;                      <span class="keywordflow">if</span> (pNode != NULL)</div>
<div class="line"><a name="l04506"></a><span class="lineno"> 4506</span>&#160;                        {</div>
<div class="line"><a name="l04507"></a><span class="lineno"> 4507</span>&#160;                          <span class="keyword">delete</span> pOrigNode;</div>
<div class="line"><a name="l04508"></a><span class="lineno"> 4508</span>&#160;                          pOrigNode = pNode;</div>
<div class="line"><a name="l04509"></a><span class="lineno"> 4509</span>&#160;                        }</div>
<div class="line"><a name="l04510"></a><span class="lineno"> 4510</span>&#160;                    }</div>
<div class="line"><a name="l04511"></a><span class="lineno"> 4511</span>&#160;                }</div>
<div class="line"><a name="l04512"></a><span class="lineno"> 4512</span>&#160;            }</div>
<div class="line"><a name="l04513"></a><span class="lineno"> 4513</span>&#160;</div>
<div class="line"><a name="l04514"></a><span class="lineno"> 4514</span>&#160;          ASTNode* pNode = this-&gt;<a class="code" href="../../df/d80/classCSBMLExporter.html#ac61681ecd68ba2288e21ff1584ad20af">convertToASTNode</a>(pOrigNode, dataModel);</div>
<div class="line"><a name="l04515"></a><span class="lineno"> 4515</span>&#160;          <span class="keyword">delete</span> pOrigNode;</div>
<div class="line"><a name="l04516"></a><span class="lineno"> 4516</span>&#160;          <span class="comment">// convert local parameters that are referenced in an expression to global</span></div>
<div class="line"><a name="l04517"></a><span class="lineno"> 4517</span>&#160;          <span class="comment">// parameters</span></div>
<div class="line"><a name="l04518"></a><span class="lineno"> 4518</span>&#160;          this-&gt;<a class="code" href="../../df/d80/classCSBMLExporter.html#a8f73c8e9c1a56403427b179b2074f198">replace_local_parameters</a>(pNode, dataModel);</div>
<div class="line"><a name="l04519"></a><span class="lineno"> 4519</span>&#160;</div>
<div class="line"><a name="l04520"></a><span class="lineno"> 4520</span>&#160;          <span class="keywordflow">if</span> (pNode != NULL)</div>
<div class="line"><a name="l04521"></a><span class="lineno"> 4521</span>&#160;            {</div>
<div class="line"><a name="l04522"></a><span class="lineno"> 4522</span>&#160;              pAssignment-&gt;setMath(pNode);</div>
<div class="line"><a name="l04523"></a><span class="lineno"> 4523</span>&#160;              <span class="keyword">delete</span> pNode;</div>
<div class="line"><a name="l04524"></a><span class="lineno"> 4524</span>&#160;            }</div>
<div class="line"><a name="l04525"></a><span class="lineno"> 4525</span>&#160;          <span class="keywordflow">else</span></div>
<div class="line"><a name="l04526"></a><span class="lineno"> 4526</span>&#160;            {</div>
<div class="line"><a name="l04527"></a><span class="lineno"> 4527</span>&#160;              <span class="keywordflow">if</span> (this-&gt;<a class="code" href="../../df/d80/classCSBMLExporter.html#ac743dca5c88be1b916af33f454d1a64a">mIncompleteExport</a> != <span class="keyword">true</span>)</div>
<div class="line"><a name="l04528"></a><span class="lineno"> 4528</span>&#160;                {</div>
<div class="line"><a name="l04529"></a><span class="lineno"> 4529</span>&#160;                  <a class="code" href="../../d2/df0/classCCopasiMessage.html">CCopasiMessage</a>(<a class="code" href="../../d2/df0/classCCopasiMessage.html#a2ea1ed32494ff5c8d84353efcec7a5e4a568f885d73f0ea36bedfe92f6e533071">CCopasiMessage::EXCEPTION</a>, <a class="code" href="../../d9/d2d/CCopasiMessage_8h.html#a7f5ce9c8d3812b45cb6f33595fba5789">MCSBML</a> + 60, std::string(<span class="stringliteral">&quot;event assignment for variable with id \&quot;&quot;</span> + sbmlId + <span class="stringliteral">&quot;\&quot;&quot;</span>).c_str(), <span class="stringliteral">&quot;event&quot;</span>, event.<a class="code" href="../../d4/da8/classCCopasiObject.html#a879d6756b51f6b58d307940e1343bd10">getObjectName</a>().c_str());</div>
<div class="line"><a name="l04530"></a><span class="lineno"> 4530</span>&#160;                }</div>
<div class="line"><a name="l04531"></a><span class="lineno"> 4531</span>&#160;            }</div>
<div class="line"><a name="l04532"></a><span class="lineno"> 4532</span>&#160;        }</div>
<div class="line"><a name="l04533"></a><span class="lineno"> 4533</span>&#160;      <span class="keywordflow">else</span></div>
<div class="line"><a name="l04534"></a><span class="lineno"> 4534</span>&#160;        {</div>
<div class="line"><a name="l04535"></a><span class="lineno"> 4535</span>&#160;          <span class="comment">// create an error message that the event assignment could not be</span></div>
<div class="line"><a name="l04536"></a><span class="lineno"> 4536</span>&#160;          <span class="comment">// created and continue</span></div>
<div class="line"><a name="l04537"></a><span class="lineno"> 4537</span>&#160;          <a class="code" href="../../d2/df0/classCCopasiMessage.html">CCopasiMessage</a>(<a class="code" href="../../d2/df0/classCCopasiMessage.html#a2ea1ed32494ff5c8d84353efcec7a5e4ac789e90eead3612a24114b9eae58fdec">CCopasiMessage::WARNING</a>, <a class="code" href="../../d9/d2d/CCopasiMessage_8h.html#a7f5ce9c8d3812b45cb6f33595fba5789">MCSBML</a> + 73, std::string(<span class="stringliteral">&quot;event assignment for variable with id \&quot;&quot;</span> + sbmlId + <span class="stringliteral">&quot;\&quot;&quot;</span>).c_str(), <span class="stringliteral">&quot;event assignment&quot;</span>);</div>
<div class="line"><a name="l04538"></a><span class="lineno"> 4538</span>&#160;          <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l04539"></a><span class="lineno"> 4539</span>&#160;        }</div>
<div class="line"><a name="l04540"></a><span class="lineno"> 4540</span>&#160;    }</div>
<div class="line"><a name="l04541"></a><span class="lineno"> 4541</span>&#160;</div>
<div class="line"><a name="l04542"></a><span class="lineno"> 4542</span>&#160;  <span class="comment">//    v) delete the old unused assignments</span></div>
<div class="line"><a name="l04543"></a><span class="lineno"> 4543</span>&#160;  std::map&lt;std::string, EventAssignment*&gt;::iterator it = assignmentMap.begin(), endit = assignmentMap.end();</div>
<div class="line"><a name="l04544"></a><span class="lineno"> 4544</span>&#160;</div>
<div class="line"><a name="l04545"></a><span class="lineno"> 4545</span>&#160;  <span class="keywordflow">while</span> (it != endit)</div>
<div class="line"><a name="l04546"></a><span class="lineno"> 4546</span>&#160;    {</div>
<div class="line"><a name="l04547"></a><span class="lineno"> 4547</span>&#160;      <span class="keyword">delete</span> it-&gt;second;</div>
<div class="line"><a name="l04548"></a><span class="lineno"> 4548</span>&#160;      ++it;</div>
<div class="line"><a name="l04549"></a><span class="lineno"> 4549</span>&#160;    }</div>
<div class="line"><a name="l04550"></a><span class="lineno"> 4550</span>&#160;}</div>
<div class="ttc" id="classCCopasiVectorN_html"><div class="ttname"><a href="../../d7/d08/classCCopasiVectorN.html">CCopasiVectorN</a></div><div class="ttdef"><b>Definition:</b> <a href="../../dd/df7/CCopasiDataModel_8h_source.html#l00047">CCopasiDataModel.h:47</a></div></div>
<div class="ttc" id="classCSBMLExporter_html_aa843eb9b5d1ae41d5dd2be78a864f2d5"><div class="ttname"><a href="../../df/d80/classCSBMLExporter.html#aa843eb9b5d1ae41d5dd2be78a864f2d5">CSBMLExporter::findDirectlyUsedFunctions</a></div><div class="ttdeci">static void findDirectlyUsedFunctions(const CEvaluationNode *pRootNode, std::set&lt; std::string &gt; &amp;result)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d2f/CSBMLExporter_8cpp_source.html#l04927">CSBMLExporter.cpp:4927</a></div></div>
<div class="ttc" id="classCSBMLExporter_html_aba959efc152f63f1709d5de60e97a651"><div class="ttname"><a href="../../df/d80/classCSBMLExporter.html#aba959efc152f63f1709d5de60e97a651">CSBMLExporter::mSBMLLevel</a></div><div class="ttdeci">unsigned int mSBMLLevel</div><div class="ttdef"><b>Definition:</b> <a href="../../da/d7f/CSBMLExporter_8h_source.html#l00056">CSBMLExporter.h:56</a></div></div>
<div class="ttc" id="classCExpression_html"><div class="ttname"><a href="../../dc/dbd/classCExpression.html">CExpression</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dcc/CExpression_8h_source.html#l00028">CExpression.h:28</a></div></div>
<div class="ttc" id="ObjectBrowserItem_8h_html_a2a3cae49e6781726af07e98e7d9f2e30"><div class="ttname"><a href="../../d4/d12/ObjectBrowserItem_8h.html#a2a3cae49e6781726af07e98e7d9f2e30">objectType</a></div><div class="ttdeci">objectType</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d12/ObjectBrowserItem_8h_source.html#l00056">ObjectBrowserItem.h:56</a></div></div>
<div class="ttc" id="classCSBMLExporter_html_a8f73c8e9c1a56403427b179b2074f198"><div class="ttname"><a href="../../df/d80/classCSBMLExporter.html#a8f73c8e9c1a56403427b179b2074f198">CSBMLExporter::replace_local_parameters</a></div><div class="ttdeci">void replace_local_parameters(ASTNode *pOrigNode, const CCopasiDataModel &amp;dataModel)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d2f/CSBMLExporter_8cpp_source.html#l07330">CSBMLExporter.cpp:7330</a></div></div>
<div class="ttc" id="CSBMLExporter_8cpp_html_a50d8b634c989579da580569f9f73e114"><div class="ttname"><a href="../../d5/d2f/CSBMLExporter_8cpp.html#a50d8b634c989579da580569f9f73e114">convertExpression</a></div><div class="ttdeci">std::string convertExpression(const std::string &amp;expression, const std::map&lt; const std::string, Parameter * &gt; &amp;initialValueMap)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d2f/CSBMLExporter_8cpp_source.html#l01810">CSBMLExporter.cpp:1810</a></div></div>
<div class="ttc" id="classCSBMLExporter_html_aa8f731ee31dccd8e0b8d81ed695d9b0b"><div class="ttname"><a href="../../df/d80/classCSBMLExporter.html#aa8f731ee31dccd8e0b8d81ed695d9b0b">CSBMLExporter::multiplyByObject</a></div><div class="ttdeci">static CEvaluationNode * multiplyByObject(const CEvaluationNode *pOrigNode, const CCopasiObject *pObject)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d2f/CSBMLExporter_8cpp_source.html#l07654">CSBMLExporter.cpp:7654</a></div></div>
<div class="ttc" id="classCCopasiObject_html_a879d6756b51f6b58d307940e1343bd10"><div class="ttname"><a href="../../d4/da8/classCCopasiObject.html#a879d6756b51f6b58d307940e1343bd10">CCopasiObject::getObjectName</a></div><div class="ttdeci">const std::string &amp; getObjectName() const </div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d22/CCopasiObject_8cpp_source.html#l00258">CCopasiObject.cpp:258</a></div></div>
<div class="ttc" id="classCCompartment_html_a977268782cb7d6cd7a01cab642b45c09"><div class="ttname"><a href="../../d4/dd4/classCCompartment.html#a977268782cb7d6cd7a01cab642b45c09">CCompartment::getDimensionality</a></div><div class="ttdeci">unsigned C_INT32 getDimensionality() const </div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d2d/CCompartment_8cpp_source.html#l00204">CCompartment.cpp:204</a></div></div>
<div class="ttc" id="classCKeyFactory_html_a49fdca380d37f99f3195103465ba4c0f"><div class="ttname"><a href="../../d8/d5c/classCKeyFactory.html#a49fdca380d37f99f3195103465ba4c0f">CKeyFactory::get</a></div><div class="ttdeci">CCopasiObject * get(const std::string &amp;key)</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dc8/CKeyFactory_8cpp_source.html#l00235">CKeyFactory.cpp:235</a></div></div>
<div class="ttc" id="classCCopasiVector_html_acb26711fe72be0d2cb3a37c2fbcc031f"><div class="ttname"><a href="../../d8/d2c/classCCopasiVector.html#acb26711fe72be0d2cb3a37c2fbcc031f">CCopasiVector::begin</a></div><div class="ttdeci">iterator begin()</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d51/CCopasiVector_8h_source.html#l00185">CCopasiVector.h:185</a></div></div>
<div class="ttc" id="CCopasiMessage_8h_html_a1e835c01335d6f956a78adf106ed1b15"><div class="ttname"><a href="../../d9/d2d/CCopasiMessage_8h.html#a1e835c01335d6f956a78adf106ed1b15">fatalError</a></div><div class="ttdeci">#define fatalError()</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d2d/CCopasiMessage_8h_source.html#l00074">CCopasiMessage.h:74</a></div></div>
<div class="ttc" id="classCEvaluationNode_html_ae24b55d848d78cec0a359fd199c76562"><div class="ttname"><a href="../../d8/d9f/classCEvaluationNode.html#ae24b55d848d78cec0a359fd199c76562">CEvaluationNode::getType</a></div><div class="ttdeci">const Type &amp; getType() const </div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d3d/CEvaluationNode_8cpp_source.html#l00357">CEvaluationNode.cpp:357</a></div></div>
<div class="ttc" id="classCCopasiMessage_html_a2ea1ed32494ff5c8d84353efcec7a5e4ac789e90eead3612a24114b9eae58fdec"><div class="ttname"><a href="../../d2/df0/classCCopasiMessage.html#a2ea1ed32494ff5c8d84353efcec7a5e4ac789e90eead3612a24114b9eae58fdec">CCopasiMessage::WARNING</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d2d/CCopasiMessage_8h_source.html#l00086">CCopasiMessage.h:86</a></div></div>
<div class="ttc" id="classCCopasiObject_html"><div class="ttname"><a href="../../d4/da8/classCCopasiObject.html">CCopasiObject</a></div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d9f/CCopasiObject_8h_source.html#l00216">CCopasiObject.h:216</a></div></div>
<div class="ttc" id="classCCopasiObject_html_a56790cb06e1980712599250f3e695c6a"><div class="ttname"><a href="../../d4/da8/classCCopasiObject.html#a56790cb06e1980712599250f3e695c6a">CCopasiObject::getObjectType</a></div><div class="ttdeci">const std::string &amp; getObjectType() const </div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d22/CCopasiObject_8cpp_source.html#l00260">CCopasiObject.cpp:260</a></div></div>
<div class="ttc" id="classCEvaluationTree_html"><div class="ttname"><a href="../../d1/d50/classCEvaluationTree.html">CEvaluationTree</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d46/CEvaluationTree_8h_source.html#l00028">CEvaluationTree.h:28</a></div></div>
<div class="ttc" id="classCSBMLExporter_html_ac743dca5c88be1b916af33f454d1a64a"><div class="ttname"><a href="../../df/d80/classCSBMLExporter.html#ac743dca5c88be1b916af33f454d1a64a">CSBMLExporter::mIncompleteExport</a></div><div class="ttdeci">bool mIncompleteExport</div><div class="ttdef"><b>Definition:</b> <a href="../../da/d7f/CSBMLExporter_8h_source.html#l00066">CSBMLExporter.h:66</a></div></div>
<div class="ttc" id="classCMetab_html"><div class="ttname"><a href="../../dc/d44/classCMetab.html">CMetab</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d3/df5/CMetab_8h_source.html#l00178">CMetab.h:178</a></div></div>
<div class="ttc" id="classCSBMLExporter_html_ab85366b96bfd18cd3f7cf5ecc9b9d76b"><div class="ttname"><a href="../../df/d80/classCSBMLExporter.html#ab85366b96bfd18cd3f7cf5ecc9b9d76b">CSBMLExporter::mInitialValueMap</a></div><div class="ttdeci">std::map&lt; const std::string, Parameter * &gt; mInitialValueMap</div><div class="ttdef"><b>Definition:</b> <a href="../../da/d7f/CSBMLExporter_8h_source.html#l00079">CSBMLExporter.h:79</a></div></div>
<div class="ttc" id="classCCopasiMessage_html_a2ea1ed32494ff5c8d84353efcec7a5e4a568f885d73f0ea36bedfe92f6e533071"><div class="ttname"><a href="../../d2/df0/classCCopasiMessage.html#a2ea1ed32494ff5c8d84353efcec7a5e4a568f885d73f0ea36bedfe92f6e533071">CCopasiMessage::EXCEPTION</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d2d/CCopasiMessage_8h_source.html#l00093">CCopasiMessage.h:93</a></div></div>
<div class="ttc" id="classCEvaluationNode_html_a9e5fcf60f22d2701417f90756847d37b"><div class="ttname"><a href="../../d8/d9f/classCEvaluationNode.html#a9e5fcf60f22d2701417f90756847d37b">CEvaluationNode::type</a></div><div class="ttdeci">static Type type(const Type &amp;type)</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d3d/CEvaluationNode_8cpp_source.html#l00123">CEvaluationNode.cpp:123</a></div></div>
<div class="ttc" id="CCopasiMessage_8h_html_a7f5ce9c8d3812b45cb6f33595fba5789"><div class="ttname"><a href="../../d9/d2d/CCopasiMessage_8h.html#a7f5ce9c8d3812b45cb6f33595fba5789">MCSBML</a></div><div class="ttdeci">#define MCSBML</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d2d/CCopasiMessage_8h_source.html#l00046">CCopasiMessage.h:46</a></div></div>
<div class="ttc" id="classCCopasiVector_html_a44c97a5f614c885495c437f2a8d20954"><div class="ttname"><a href="../../d8/d2c/classCCopasiVector.html#a44c97a5f614c885495c437f2a8d20954">CCopasiVector::end</a></div><div class="ttdeci">iterator end()</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d51/CCopasiVector_8h_source.html#l00191">CCopasiVector.h:191</a></div></div>
<div class="ttc" id="classCSBMLExporter_html_af1bc50a307a46adcce8aa8abde6dab96"><div class="ttname"><a href="../../df/d80/classCSBMLExporter.html#af1bc50a307a46adcce8aa8abde6dab96">CSBMLExporter::mSBMLVersion</a></div><div class="ttdeci">unsigned int mSBMLVersion</div><div class="ttdef"><b>Definition:</b> <a href="../../da/d7f/CSBMLExporter_8h_source.html#l00057">CSBMLExporter.h:57</a></div></div>
<div class="ttc" id="classCEvaluationNode_html_aeef59b7ae37d1323a4900e5d19140491a7492325b731420bde92a0fa2620dde0c"><div class="ttname"><a href="../../d8/d9f/classCEvaluationNode.html#aeef59b7ae37d1323a4900e5d19140491a7492325b731420bde92a0fa2620dde0c">CEvaluationNode::INVALID</a></div><div class="ttdef"><b>Definition:</b> <a href="../../de/dfa/CEvaluationNode_8h_source.html#l00041">CEvaluationNode.h:41</a></div></div>
<div class="ttc" id="classCCopasiRootContainer_html_afd5e8541f181260daf7515b28f0612c3"><div class="ttname"><a href="../../d3/db1/classCCopasiRootContainer.html#afd5e8541f181260daf7515b28f0612c3">CCopasiRootContainer::getFunctionList</a></div><div class="ttdeci">static CFunctionDB * getFunctionList()</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/d4b/CCopasiRootContainer_8cpp_source.html#l00137">CCopasiRootContainer.cpp:137</a></div></div>
<div class="ttc" id="classCCompartment_html"><div class="ttname"><a href="../../d4/dd4/classCCompartment.html">CCompartment</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d59/CCompartment_8h_source.html#l00037">CCompartment.h:37</a></div></div>
<div class="ttc" id="classCSBMLExporter_html_a5bd855fe9020f8c400a6cab63fb87711"><div class="ttname"><a href="../../df/d80/classCSBMLExporter.html#a5bd855fe9020f8c400a6cab63fb87711">CSBMLExporter::mIncompatibilities</a></div><div class="ttdeci">std::vector&lt; SBMLIncompatibility &gt; mIncompatibilities</div><div class="ttdef"><b>Definition:</b> <a href="../../da/d7f/CSBMLExporter_8h_source.html#l00065">CSBMLExporter.h:65</a></div></div>
<div class="ttc" id="classCSBMLExporter_html_aeb19f9866a1735848770125dad2aebad"><div class="ttname"><a href="../../df/d80/classCSBMLExporter.html#aeb19f9866a1735848770125dad2aebad">CSBMLExporter::mCOPASI2SBMLMap</a></div><div class="ttdeci">std::map&lt; const CCopasiObject *, SBase * &gt; mCOPASI2SBMLMap</div><div class="ttdef"><b>Definition:</b> <a href="../../da/d7f/CSBMLExporter_8h_source.html#l00061">CSBMLExporter.h:61</a></div></div>
<div class="ttc" id="classCCopasiMessage_html"><div class="ttname"><a href="../../d2/df0/classCCopasiMessage.html">CCopasiMessage</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d2d/CCopasiMessage_8h_source.html#l00078">CCopasiMessage.h:78</a></div></div>
<div class="ttc" id="classCEvaluationNode_html"><div class="ttname"><a href="../../d8/d9f/classCEvaluationNode.html">CEvaluationNode</a></div><div class="ttdef"><b>Definition:</b> <a href="../../de/dfa/CEvaluationNode_8h_source.html#l00033">CEvaluationNode.h:33</a></div></div>
<div class="ttc" id="classCCopasiRootContainer_html_acfd634e031d3fb4358b24bfcdd26830e"><div class="ttname"><a href="../../d3/db1/classCCopasiRootContainer.html#acfd634e031d3fb4358b24bfcdd26830e">CCopasiRootContainer::getKeyFactory</a></div><div class="ttdeci">static CKeyFactory * getKeyFactory()</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/d4b/CCopasiRootContainer_8cpp_source.html#l00163">CCopasiRootContainer.cpp:163</a></div></div>
<div class="ttc" id="classCSBMLExporter_html_ac61681ecd68ba2288e21ff1584ad20af"><div class="ttname"><a href="../../df/d80/classCSBMLExporter.html#ac61681ecd68ba2288e21ff1584ad20af">CSBMLExporter::convertToASTNode</a></div><div class="ttdeci">ASTNode * convertToASTNode(const CEvaluationNode *pOrig, CCopasiDataModel &amp;dataModel)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d2f/CSBMLExporter_8cpp_source.html#l07078">CSBMLExporter.cpp:7078</a></div></div>
<div class="ttc" id="classCSBMLExporter_html_aefa0189aa8976611a461b6de4142fdc7"><div class="ttname"><a href="../../df/d80/classCSBMLExporter.html#aefa0189aa8976611a461b6de4142fdc7">CSBMLExporter::isExpressionSBMLCompatible</a></div><div class="ttdeci">static void isExpressionSBMLCompatible(const CEvaluationTree &amp;expr, const CCopasiDataModel &amp;dataModel, int sbmlLevel, int sbmlVersion, std::vector&lt; SBMLIncompatibility &gt; &amp;result, const std::string &amp;objectDescription, bool initialExression=false, std::map&lt; const std::string, Parameter * &gt; *initialMap=NULL)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d2f/CSBMLExporter_8cpp_source.html#l02767">CSBMLExporter.cpp:2767</a></div></div>
<div class="ttc" id="classCSBMLExporter_html_a030225cc274a7c545f010ba2ba7f13c3"><div class="ttname"><a href="../../df/d80/classCSBMLExporter.html#a030225cc274a7c545f010ba2ba7f13c3">CSBMLExporter::replaceSpeciesReferences</a></div><div class="ttdeci">CEvaluationNode * replaceSpeciesReferences(const CEvaluationNode *pOrigNode, const CCopasiDataModel &amp;dataModel)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d2f/CSBMLExporter_8cpp_source.html#l06066">CSBMLExporter.cpp:6066</a></div></div>
<div class="ttc" id="classCSBMLExporter_html_a9cab2f1418b5678f726caac488f07858"><div class="ttname"><a href="../../df/d80/classCSBMLExporter.html#a9cab2f1418b5678f726caac488f07858">CSBMLExporter::outputIncompatibilities</a></div><div class="ttdeci">void outputIncompatibilities() const </div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d2f/CSBMLExporter_8cpp_source.html#l07160">CSBMLExporter.cpp:7160</a></div></div>
<div class="ttc" id="classCSBMLExporter_html_ae5ae5ec70c912323abe9c31b58de2652"><div class="ttname"><a href="../../df/d80/classCSBMLExporter.html#ae5ae5ec70c912323abe9c31b58de2652">CSBMLExporter::mHandledSBMLObjects</a></div><div class="ttdeci">std::set&lt; SBase * &gt; mHandledSBMLObjects</div><div class="ttdef"><b>Definition:</b> <a href="../../da/d7f/CSBMLExporter_8h_source.html#l00062">CSBMLExporter.h:62</a></div></div>
<div class="ttc" id="classCEvent_html_a15664a61c44cae7a83014b2e2fec32eb"><div class="ttname"><a href="../../da/d3f/classCEvent.html#a15664a61c44cae7a83014b2e2fec32eb">CEvent::getSBMLId</a></div><div class="ttdeci">const std::string &amp; getSBMLId() const </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d55/CEvent_8cpp_source.html#l00403">CEvent.cpp:403</a></div></div>
<div class="ttc" id="classCSBMLExporter_html_a6dcd463b48c53c136e6c1af5b22251f2"><div class="ttname"><a href="../../df/d80/classCSBMLExporter.html#a6dcd463b48c53c136e6c1af5b22251f2">CSBMLExporter::createFunctionSetFromFunctionNames</a></div><div class="ttdeci">static const std::set&lt; CFunction * &gt; createFunctionSetFromFunctionNames(const std::set&lt; std::string &gt; &amp;names, CFunctionDB *pFunDB)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d2f/CSBMLExporter_8cpp_source.html#l05054">CSBMLExporter.cpp:5054</a></div></div>
<div class="ttc" id="classCSBMLExporter_html_a4d5bc6e05778ebe1653f70b2c968564e"><div class="ttname"><a href="../../df/d80/classCSBMLExporter.html#a4d5bc6e05778ebe1653f70b2c968564e">CSBMLExporter::mUsedFunctions</a></div><div class="ttdeci">std::set&lt; CFunction * &gt; mUsedFunctions</div><div class="ttdef"><b>Definition:</b> <a href="../../da/d7f/CSBMLExporter_8h_source.html#l00063">CSBMLExporter.h:63</a></div></div>
<div class="ttc" id="classCMetab_html_a9774853fea3fd6c9b15ecd26df7ab349"><div class="ttname"><a href="../../dc/d44/classCMetab.html#a9774853fea3fd6c9b15ecd26df7ab349">CMetab::getCompartment</a></div><div class="ttdeci">const CCompartment * getCompartment() const </div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d70/CMetab_8cpp_source.html#l00222">CMetab.cpp:222</a></div></div>
<div class="ttc" id="classCEvaluationTree_html_a542e592cb978819d30a6da627411ba91"><div class="ttname"><a href="../../d1/d50/classCEvaluationTree.html#a542e592cb978819d30a6da627411ba91">CEvaluationTree::getRoot</a></div><div class="ttdeci">CEvaluationNode * getRoot()</div><div class="ttdef"><b>Definition:</b> <a href="../../da/d55/CEvaluationTree_8cpp_source.html#l00610">CEvaluationTree.cpp:610</a></div></div>
<div class="ttc" id="classCEvaluationTree_html_abab25dce8518661da82058c20bc5b5aa"><div class="ttname"><a href="../../d1/d50/classCEvaluationTree.html#abab25dce8518661da82058c20bc5b5aa">CEvaluationTree::getInfix</a></div><div class="ttdeci">const std::string &amp; getInfix() const </div><div class="ttdef"><b>Definition:</b> <a href="../../da/d55/CEvaluationTree_8cpp_source.html#l00188">CEvaluationTree.cpp:188</a></div></div>
<div class="ttc" id="classCCopasiObject_html_a33bb5035eec7ebc5e3ecac4771316405"><div class="ttname"><a href="../../d4/da8/classCCopasiObject.html#a33bb5035eec7ebc5e3ecac4771316405">CCopasiObject::getObjectParent</a></div><div class="ttdeci">CCopasiContainer * getObjectParent() const </div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d22/CCopasiObject_8cpp_source.html#l00276">CCopasiObject.cpp:276</a></div></div>
<div class="ttc" id="classCEvaluationTree_html_a854ce243807e739edd85eb9bcae8ff19"><div class="ttname"><a href="../../d1/d50/classCEvaluationTree.html#a854ce243807e739edd85eb9bcae8ff19">CEvaluationTree::setInfix</a></div><div class="ttdeci">virtual bool setInfix(const std::string &amp;infix)</div><div class="ttdef"><b>Definition:</b> <a href="../../da/d55/CEvaluationTree_8cpp_source.html#l00175">CEvaluationTree.cpp:175</a></div></div>
<div class="ttc" id="classCModelEntity_html_a9ebbeda13eca4f795ca4463a444548fa"><div class="ttname"><a href="../../d0/da0/classCModelEntity.html#a9ebbeda13eca4f795ca4463a444548fa">CModelEntity::getValueReference</a></div><div class="ttdeci">CCopasiObject * getValueReference() const </div><div class="ttdef"><b>Definition:</b> <a href="../../d8/da3/CModelValue_8cpp_source.html#l00370">CModelValue.cpp:370</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a8fe08bf1668db945b57b11d65f15713d"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool CSBMLExporter::exportModel </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d4/d18/classCCopasiDataModel.html">CCopasiDataModel</a> &amp;&#160;</td>
          <td class="paramname"><em>dataModel</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::string &amp;&#160;</td>
          <td class="paramname"><em>filename</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned int&#160;</td>
          <td class="paramname"><em>sbmlLevel</em> = <code>2</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned int&#160;</td>
          <td class="paramname"><em>sbmlVersion</em> = <code>1</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>overwrite</em> = <code>false</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Export the model to SBML. The model is written to the file given by filename. If the export fails, false is returned. </p>

<p>Definition at line <a class="el" href="../../d5/d2f/CSBMLExporter_8cpp_source.html#l03718">3718</a> of file <a class="el" href="../../d5/d2f/CSBMLExporter_8cpp_source.html">CSBMLExporter.cpp</a>.</p>

<p>References <a class="el" href="../../d2/df0/classCCopasiMessage.html#a2ea1ed32494ff5c8d84353efcec7a5e4a26a213bf509c2f6ee21982b4f7a18505">CCopasiMessage::ERROR</a>, <a class="el" href="../../df/d80/classCSBMLExporter.html#ac99801bba6bcd2a66fa83d83b6ba7f85">exportModelToString()</a>, <a class="el" href="../../d3/de9/classCLocaleString.html#ad8282b8631fbc6c232b1dadf190fa621">CLocaleString::fromUtf8()</a>, and <a class="el" href="../../d9/d2d/CCopasiMessage_8h.html#a7f4a44dd65fca02800ad5f49434791ca">MCDirEntry</a>.</p>

<p>Referenced by <a class="el" href="../../d4/d18/classCCopasiDataModel.html#afecb31bf654ecfbf61db3be87059c8c7">CCopasiDataModel::exportSBML()</a>.</p>
<div class="fragment"><div class="line"><a name="l03719"></a><span class="lineno"> 3719</span>&#160;{</div>
<div class="line"><a name="l03720"></a><span class="lineno"> 3720</span>&#160;  <span class="keywordtype">bool</span> success = <span class="keyword">true</span>;</div>
<div class="line"><a name="l03721"></a><span class="lineno"> 3721</span>&#160;  <span class="comment">/* create a string that represents the SBMLDocument */</span></div>
<div class="line"><a name="l03722"></a><span class="lineno"> 3722</span>&#160;  std::string str = this-&gt;<a class="code" href="../../df/d80/classCSBMLExporter.html#ac99801bba6bcd2a66fa83d83b6ba7f85">exportModelToString</a>(dataModel, sbmlLevel, sbmlVersion);</div>
<div class="line"><a name="l03723"></a><span class="lineno"> 3723</span>&#160;</div>
<div class="line"><a name="l03724"></a><span class="lineno"> 3724</span>&#160;  <span class="keywordflow">if</span> (!str.empty())</div>
<div class="line"><a name="l03725"></a><span class="lineno"> 3725</span>&#160;    {</div>
<div class="line"><a name="l03726"></a><span class="lineno"> 3726</span>&#160;      <span class="comment">/* check if the file already exists.</span></div>
<div class="line"><a name="l03727"></a><span class="lineno"> 3727</span>&#160;<span class="comment">         If yes, write if overwrite is true,</span></div>
<div class="line"><a name="l03728"></a><span class="lineno"> 3728</span>&#160;<span class="comment">         else create an appropriate  CCopasiMessage. */</span></div>
<div class="line"><a name="l03729"></a><span class="lineno"> 3729</span>&#160;      std::ifstream testInfile(<a class="code" href="../../d3/de9/classCLocaleString.html#ad8282b8631fbc6c232b1dadf190fa621">CLocaleString::fromUtf8</a>(filename).c_str(), std::ios::in);</div>
<div class="line"><a name="l03730"></a><span class="lineno"> 3730</span>&#160;</div>
<div class="line"><a name="l03731"></a><span class="lineno"> 3731</span>&#160;      <span class="keywordflow">if</span> (testInfile &amp;&amp; !overwrite)</div>
<div class="line"><a name="l03732"></a><span class="lineno"> 3732</span>&#160;        {</div>
<div class="line"><a name="l03733"></a><span class="lineno"> 3733</span>&#160;          <span class="comment">// create a CCopasiMessage with the appropriate error</span></div>
<div class="line"><a name="l03734"></a><span class="lineno"> 3734</span>&#160;          <a class="code" href="../../d2/df0/classCCopasiMessage.html">CCopasiMessage</a>(<a class="code" href="../../d2/df0/classCCopasiMessage.html#a2ea1ed32494ff5c8d84353efcec7a5e4a26a213bf509c2f6ee21982b4f7a18505">CCopasiMessage::ERROR</a>, <a class="code" href="../../d9/d2d/CCopasiMessage_8h.html#a7f4a44dd65fca02800ad5f49434791ca">MCDirEntry</a> + 1, filename.c_str());</div>
<div class="line"><a name="l03735"></a><span class="lineno"> 3735</span>&#160;          <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l03736"></a><span class="lineno"> 3736</span>&#160;        }</div>
<div class="line"><a name="l03737"></a><span class="lineno"> 3737</span>&#160;</div>
<div class="line"><a name="l03738"></a><span class="lineno"> 3738</span>&#160;      <span class="comment">/* write the document to a file */</span></div>
<div class="line"><a name="l03739"></a><span class="lineno"> 3739</span>&#160;      std::ofstream outfile(<a class="code" href="../../d3/de9/classCLocaleString.html#ad8282b8631fbc6c232b1dadf190fa621">CLocaleString::fromUtf8</a>(filename).c_str(), std::ios::out | std::ios::trunc);</div>
<div class="line"><a name="l03740"></a><span class="lineno"> 3740</span>&#160;      outfile &lt;&lt; str;</div>
<div class="line"><a name="l03741"></a><span class="lineno"> 3741</span>&#160;      outfile.close();</div>
<div class="line"><a name="l03742"></a><span class="lineno"> 3742</span>&#160;    }</div>
<div class="line"><a name="l03743"></a><span class="lineno"> 3743</span>&#160;  <span class="keywordflow">else</span></div>
<div class="line"><a name="l03744"></a><span class="lineno"> 3744</span>&#160;    {</div>
<div class="line"><a name="l03745"></a><span class="lineno"> 3745</span>&#160;      <span class="comment">/* if no SBMLDocument could be created return false */</span></div>
<div class="line"><a name="l03746"></a><span class="lineno"> 3746</span>&#160;      success = <span class="keyword">false</span>;</div>
<div class="line"><a name="l03747"></a><span class="lineno"> 3747</span>&#160;    }</div>
<div class="line"><a name="l03748"></a><span class="lineno"> 3748</span>&#160;</div>
<div class="line"><a name="l03749"></a><span class="lineno"> 3749</span>&#160;  <span class="keywordflow">return</span> success;</div>
<div class="line"><a name="l03750"></a><span class="lineno"> 3750</span>&#160;}</div>
<div class="ttc" id="CCopasiMessage_8h_html_a7f4a44dd65fca02800ad5f49434791ca"><div class="ttname"><a href="../../d9/d2d/CCopasiMessage_8h.html#a7f4a44dd65fca02800ad5f49434791ca">MCDirEntry</a></div><div class="ttdeci">#define MCDirEntry</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d2d/CCopasiMessage_8h_source.html#l00048">CCopasiMessage.h:48</a></div></div>
<div class="ttc" id="classCSBMLExporter_html_ac99801bba6bcd2a66fa83d83b6ba7f85"><div class="ttname"><a href="../../df/d80/classCSBMLExporter.html#ac99801bba6bcd2a66fa83d83b6ba7f85">CSBMLExporter::exportModelToString</a></div><div class="ttdeci">const std::string exportModelToString(CCopasiDataModel &amp;dataModel, unsigned int sbmlLevel, unsigned int sbmlVersion)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d2f/CSBMLExporter_8cpp_source.html#l03241">CSBMLExporter.cpp:3241</a></div></div>
<div class="ttc" id="classCCopasiMessage_html_a2ea1ed32494ff5c8d84353efcec7a5e4a26a213bf509c2f6ee21982b4f7a18505"><div class="ttname"><a href="../../d2/df0/classCCopasiMessage.html#a2ea1ed32494ff5c8d84353efcec7a5e4a26a213bf509c2f6ee21982b4f7a18505">CCopasiMessage::ERROR</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d2d/CCopasiMessage_8h_source.html#l00092">CCopasiMessage.h:92</a></div></div>
<div class="ttc" id="classCCopasiMessage_html"><div class="ttname"><a href="../../d2/df0/classCCopasiMessage.html">CCopasiMessage</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d2d/CCopasiMessage_8h_source.html#l00078">CCopasiMessage.h:78</a></div></div>
<div class="ttc" id="classCLocaleString_html_ad8282b8631fbc6c232b1dadf190fa621"><div class="ttname"><a href="../../d3/de9/classCLocaleString.html#ad8282b8631fbc6c232b1dadf190fa621">CLocaleString::fromUtf8</a></div><div class="ttdeci">static CLocaleString fromUtf8(const std::string &amp;utf8)</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/de6/CLocaleString_8cpp_source.html#l00050">CLocaleString.cpp:50</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="ac99801bba6bcd2a66fa83d83b6ba7f85"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const std::string CSBMLExporter::exportModelToString </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d4/d18/classCCopasiDataModel.html">CCopasiDataModel</a> &amp;&#160;</td>
          <td class="paramname"><em>dataModel</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned int&#160;</td>
          <td class="paramname"><em>sbmlLevel</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned int&#160;</td>
          <td class="paramname"><em>sbmlVersion</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Export the model to SBML. The SBML model is returned as a string. In case of an error, an empty string is returned. </p>

<p>Definition at line <a class="el" href="../../d5/d2f/CSBMLExporter_8cpp_source.html#l03241">3241</a> of file <a class="el" href="../../d5/d2f/CSBMLExporter_8cpp_source.html">CSBMLExporter.cpp</a>.</p>

<p>References <a class="el" href="../../df/d80/classCSBMLExporter.html#a1fbce90193396d8ae0407ae7d3c0e689">convert_to_l1v1()</a>, <a class="el" href="../../df/d80/classCSBMLExporter.html#a2b680d670c11c7c70a45bc12e236b2e8">createSBMLDocument()</a>, <a class="el" href="../../d1/d1d/classCSBMLunitInterface.html#a66595dd0b57dab5364f763a3efe90c4c">CSBMLunitInterface::determineUnits()</a>, <a class="el" href="../../d0/d08/classCListOfLayouts.html#a3cec9d0a17e0c4960299486959acacef">CListOfLayouts::exportToSBML()</a>, <a class="el" href="../../d7/d9c/CLDefaultStyles_8cpp.html#af0879653f5860d0ffbad0437a9ddcaf1">getDefaultStyle()</a>, <a class="el" href="../../d4/d18/classCCopasiDataModel.html#a464666ed4deeefad5e1133e045a0588f">CCopasiDataModel::getListOfLayouts()</a>, <a class="el" href="../../d7/d9c/CLDefaultStyles_8cpp.html#a5bcacb9de775e91384c3a284985f6a58">getNumDefaultStyles()</a>, <a class="el" href="../../df/d80/classCSBMLExporter.html#aeb19f9866a1735848770125dad2aebad">mCOPASI2SBMLMap</a>, <a class="el" href="../../df/d80/classCSBMLExporter.html#ae5ae5ec70c912323abe9c31b58de2652">mHandledSBMLObjects</a>, <a class="el" href="../../df/d80/classCSBMLExporter.html#a60ab409a11b90a1ca965d7702828af74">mIdMap</a>, <a class="el" href="../../df/d80/classCSBMLExporter.html#a1541a69b36b8e864883e49f0de244f81">mpSBMLDocument</a>, <a class="el" href="../../df/d80/classCSBMLExporter.html#aba959efc152f63f1709d5de60e97a651">mSBMLLevel</a>, <a class="el" href="../../df/d80/classCSBMLExporter.html#af1bc50a307a46adcce8aa8abde6dab96">mSBMLVersion</a>, <a class="el" href="../../dc/df8/copasi_8h.html#ac9efe23516fb43b7adc59fbad1c221b8">pdelete</a>, <a class="el" href="../../d5/d2f/CSBMLExporter_8cpp.html#a4c5d08a37889fafee8c29636d4785161">removeStickyTagFromElements()</a>, <a class="el" href="../../df/d80/classCSBMLExporter.html#ae377faa40e73c92770cb688b83db5508">removeUnusedObjects()</a>, <a class="el" href="../../d1/d1d/classCSBMLunitInterface.html#a50e1fbe8332de22005cab758f8a1a9bb">CSBMLunitInterface::setAssumeDimensionlessOne()</a>, <a class="el" href="../../d7/d2b/classCLGlobalRenderInformation.html#a2f48b852e6c498e0a11dd6f24084473e">CLGlobalRenderInformation::toSBML()</a>, and <a class="el" href="../../d3/d34/classCVersion.html#add42f7f7b6e9d08d745a114fb7b96e46">CVersion::VERSION</a>.</p>

<p>Referenced by <a class="el" href="../../df/d80/classCSBMLExporter.html#a8fe08bf1668db945b57b11d65f15713d">exportModel()</a>, and <a class="el" href="../../d4/d18/classCCopasiDataModel.html#a0a29166d66b93b4326cfe4fb3cb74bd3">CCopasiDataModel::exportSBMLToString()</a>.</p>
<div class="fragment"><div class="line"><a name="l03242"></a><span class="lineno"> 3242</span>&#160;{</div>
<div class="line"><a name="l03243"></a><span class="lineno"> 3243</span>&#160;  this-&gt;<a class="code" href="../../df/d80/classCSBMLExporter.html#aba959efc152f63f1709d5de60e97a651">mSBMLLevel</a> = sbmlLevel;</div>
<div class="line"><a name="l03244"></a><span class="lineno"> 3244</span>&#160;  this-&gt;<a class="code" href="../../df/d80/classCSBMLExporter.html#af1bc50a307a46adcce8aa8abde6dab96">mSBMLVersion</a> = sbmlVersion;</div>
<div class="line"><a name="l03245"></a><span class="lineno"> 3245</span>&#160;  <a class="code" href="../../df/d80/classCSBMLExporter.html#ae5ae5ec70c912323abe9c31b58de2652">mHandledSBMLObjects</a>.clear();</div>
<div class="line"><a name="l03246"></a><span class="lineno"> 3246</span>&#160;  <a class="code" href="../../df/d80/classCSBMLExporter.html#a2b680d670c11c7c70a45bc12e236b2e8">createSBMLDocument</a>(dataModel);</div>
<div class="line"><a name="l03247"></a><span class="lineno"> 3247</span>&#160;</div>
<div class="line"><a name="l03248"></a><span class="lineno"> 3248</span>&#160;  <span class="keywordflow">if</span> (this-&gt;<a class="code" href="../../df/d80/classCSBMLExporter.html#a1541a69b36b8e864883e49f0de244f81">mpSBMLDocument</a> &amp;&amp; this-&gt;<a class="code" href="../../df/d80/classCSBMLExporter.html#a1541a69b36b8e864883e49f0de244f81">mpSBMLDocument</a>-&gt;getModel())</div>
<div class="line"><a name="l03249"></a><span class="lineno"> 3249</span>&#160;    {</div>
<div class="line"><a name="l03250"></a><span class="lineno"> 3250</span>&#160;      LayoutModelPlugin* lmPlugin = <span class="keyword">static_cast&lt;</span>LayoutModelPlugin*<span class="keyword">&gt;</span>(this-&gt;<a class="code" href="../../df/d80/classCSBMLExporter.html#a1541a69b36b8e864883e49f0de244f81">mpSBMLDocument</a>-&gt;getModel()-&gt;getPlugin(<span class="stringliteral">&quot;layout&quot;</span>));</div>
<div class="line"><a name="l03251"></a><span class="lineno"> 3251</span>&#160;</div>
<div class="line"><a name="l03252"></a><span class="lineno"> 3252</span>&#160;      <span class="keywordflow">if</span> (lmPlugin != NULL &amp;&amp; sbmlLevel &gt; 1)</div>
<div class="line"><a name="l03253"></a><span class="lineno"> 3253</span>&#160;        {</div>
<div class="line"><a name="l03254"></a><span class="lineno"> 3254</span>&#160;          <span class="comment">// the layout can only be exported for Level 2 or Level 3</span></div>
<div class="line"><a name="l03255"></a><span class="lineno"> 3255</span>&#160;          dataModel.<a class="code" href="../../d4/d18/classCCopasiDataModel.html#a464666ed4deeefad5e1133e045a0588f">getListOfLayouts</a>()-&gt;<a class="code" href="../../d0/d08/classCListOfLayouts.html#a3cec9d0a17e0c4960299486959acacef">exportToSBML</a>(lmPlugin-&gt;getListOfLayouts(),</div>
<div class="line"><a name="l03256"></a><span class="lineno"> 3256</span>&#160;              this-&gt;<a class="code" href="../../df/d80/classCSBMLExporter.html#aeb19f9866a1735848770125dad2aebad">mCOPASI2SBMLMap</a>, <a class="code" href="../../df/d80/classCSBMLExporter.html#a60ab409a11b90a1ca965d7702828af74">mIdMap</a>, this-&gt;<a class="code" href="../../df/d80/classCSBMLExporter.html#a1541a69b36b8e864883e49f0de244f81">mpSBMLDocument</a>-&gt;getLevel(), this-&gt;<a class="code" href="../../df/d80/classCSBMLExporter.html#a1541a69b36b8e864883e49f0de244f81">mpSBMLDocument</a>-&gt;getVersion());</div>
<div class="line"><a name="l03257"></a><span class="lineno"> 3257</span>&#160;</div>
<div class="line"><a name="l03258"></a><span class="lineno"> 3258</span>&#160;<span class="preprocessor">#if LIBSBML_VERSION &gt;= 50400</span></div>
<div class="line"><a name="l03259"></a><span class="lineno"> 3259</span>&#160;<span class="preprocessor"></span></div>
<div class="line"><a name="l03260"></a><span class="lineno"> 3260</span>&#160;          <span class="comment">// also ensure ther is one global render information object</span></div>
<div class="line"><a name="l03261"></a><span class="lineno"> 3261</span>&#160;          <span class="keywordflow">if</span> (lmPlugin-&gt;getNumLayouts() &gt; 0 &amp;&amp; <a class="code" href="../../d7/d9c/CLDefaultStyles_8cpp.html#a5bcacb9de775e91384c3a284985f6a58">getNumDefaultStyles</a>() &gt; 0)</div>
<div class="line"><a name="l03262"></a><span class="lineno"> 3262</span>&#160;            {</div>
<div class="line"><a name="l03263"></a><span class="lineno"> 3263</span>&#160;              RenderListOfLayoutsPlugin* plugin = <span class="keyword">static_cast&lt;</span>RenderListOfLayoutsPlugin *<span class="keyword">&gt;</span>(lmPlugin-&gt;getListOfLayouts()-&gt;getPlugin(<span class="stringliteral">&quot;render&quot;</span>));</div>
<div class="line"><a name="l03264"></a><span class="lineno"> 3264</span>&#160;</div>
<div class="line"><a name="l03265"></a><span class="lineno"> 3265</span>&#160;              <span class="keywordflow">if</span> (plugin != NULL)</div>
<div class="line"><a name="l03266"></a><span class="lineno"> 3266</span>&#160;                {</div>
<div class="line"><a name="l03267"></a><span class="lineno"> 3267</span>&#160;                  <span class="keywordflow">if</span> (plugin-&gt;getNumGlobalRenderInformationObjects() == 0)</div>
<div class="line"><a name="l03268"></a><span class="lineno"> 3268</span>&#160;                    {</div>
<div class="line"><a name="l03269"></a><span class="lineno"> 3269</span>&#160;                      GlobalRenderInformation* info = plugin-&gt;createGlobalRenderInformation();</div>
<div class="line"><a name="l03270"></a><span class="lineno"> 3270</span>&#160;                      <a class="code" href="../../d7/d9c/CLDefaultStyles_8cpp.html#af0879653f5860d0ffbad0437a9ddcaf1">getDefaultStyle</a>(0)-&gt;<a class="code" href="../../d7/d2b/classCLGlobalRenderInformation.html#a2f48b852e6c498e0a11dd6f24084473e">toSBML</a>(info, this-&gt;<a class="code" href="../../df/d80/classCSBMLExporter.html#a1541a69b36b8e864883e49f0de244f81">mpSBMLDocument</a>-&gt;getLevel(), this-&gt;<a class="code" href="../../df/d80/classCSBMLExporter.html#a1541a69b36b8e864883e49f0de244f81">mpSBMLDocument</a>-&gt;getVersion());</div>
<div class="line"><a name="l03271"></a><span class="lineno"> 3271</span>&#160;                    }</div>
<div class="line"><a name="l03272"></a><span class="lineno"> 3272</span>&#160;                }</div>
<div class="line"><a name="l03273"></a><span class="lineno"> 3273</span>&#160;            }</div>
<div class="line"><a name="l03274"></a><span class="lineno"> 3274</span>&#160;</div>
<div class="line"><a name="l03275"></a><span class="lineno"> 3275</span>&#160;<span class="preprocessor">#endif // LIBSBML_VERSION &gt;= 50400</span></div>
<div class="line"><a name="l03276"></a><span class="lineno"> 3276</span>&#160;<span class="preprocessor"></span>        }</div>
<div class="line"><a name="l03277"></a><span class="lineno"> 3277</span>&#160;    }</div>
<div class="line"><a name="l03278"></a><span class="lineno"> 3278</span>&#160;</div>
<div class="line"><a name="l03279"></a><span class="lineno"> 3279</span>&#160;<span class="preprocessor">#ifdef USE_SBMLUNIT</span></div>
<div class="line"><a name="l03280"></a><span class="lineno"> 3280</span>&#160;<span class="preprocessor"></span></div>
<div class="line"><a name="l03281"></a><span class="lineno"> 3281</span>&#160;  <span class="keywordflow">if</span> (this-&gt;<a class="code" href="../../df/d80/classCSBMLExporter.html#a1541a69b36b8e864883e49f0de244f81">mpSBMLDocument</a> != NULL)</div>
<div class="line"><a name="l03282"></a><span class="lineno"> 3282</span>&#160;    {</div>
<div class="line"><a name="l03283"></a><span class="lineno"> 3283</span>&#160;      <a class="code" href="../../d1/d1d/classCSBMLunitInterface.html">CSBMLunitInterface</a> uif(this-&gt;<a class="code" href="../../df/d80/classCSBMLExporter.html#a1541a69b36b8e864883e49f0de244f81">mpSBMLDocument</a>-&gt;getModel(), <span class="keyword">true</span>);</div>
<div class="line"><a name="l03284"></a><span class="lineno"> 3284</span>&#160;      uif.<a class="code" href="../../d1/d1d/classCSBMLunitInterface.html#a66595dd0b57dab5364f763a3efe90c4c">determineUnits</a>();</div>
<div class="line"><a name="l03285"></a><span class="lineno"> 3285</span>&#160;</div>
<div class="line"><a name="l03286"></a><span class="lineno"> 3286</span>&#160;      <span class="comment">// check if there were conflicts</span></div>
<div class="line"><a name="l03287"></a><span class="lineno"> 3287</span>&#160;      <span class="keywordflow">if</span> (uif.getStatistics().all[5] == 0)</div>
<div class="line"><a name="l03288"></a><span class="lineno"> 3288</span>&#160;        {</div>
<div class="line"><a name="l03289"></a><span class="lineno"> 3289</span>&#160;          <span class="comment">// check if there are unresolved parameter units left</span></div>
<div class="line"><a name="l03290"></a><span class="lineno"> 3290</span>&#160;          <span class="keywordflow">if</span> ((uif.getStatistics().local[0] != 0 || uif.getStatistics().global[0] != 0) &amp;&amp; uif.getStatistics().numbers[0] != 0)</div>
<div class="line"><a name="l03291"></a><span class="lineno"> 3291</span>&#160;            {</div>
<div class="line"><a name="l03292"></a><span class="lineno"> 3292</span>&#160;              <span class="comment">// try with heuristics</span></div>
<div class="line"><a name="l03293"></a><span class="lineno"> 3293</span>&#160;              <a class="code" href="../../d1/d1d/classCSBMLunitInterface.html">CSBMLunitInterface</a> uif2(this-&gt;<a class="code" href="../../df/d80/classCSBMLExporter.html#a1541a69b36b8e864883e49f0de244f81">mpSBMLDocument</a>-&gt;getModel(), <span class="keyword">true</span>);</div>
<div class="line"><a name="l03294"></a><span class="lineno"> 3294</span>&#160;              uif2.<a class="code" href="../../d1/d1d/classCSBMLunitInterface.html#a50e1fbe8332de22005cab758f8a1a9bb">setAssumeDimensionlessOne</a>(<span class="keyword">true</span>);</div>
<div class="line"><a name="l03295"></a><span class="lineno"> 3295</span>&#160;              uif2.determineUnits();</div>
<div class="line"><a name="l03296"></a><span class="lineno"> 3296</span>&#160;</div>
<div class="line"><a name="l03297"></a><span class="lineno"> 3297</span>&#160;              <span class="comment">// check again if there have been conflicts</span></div>
<div class="line"><a name="l03298"></a><span class="lineno"> 3298</span>&#160;              <span class="keywordflow">if</span> (uif2.getStatistics().all[5] == 0)</div>
<div class="line"><a name="l03299"></a><span class="lineno"> 3299</span>&#160;                {</div>
<div class="line"><a name="l03300"></a><span class="lineno"> 3300</span>&#160;                  <span class="comment">// done use result from uif2</span></div>
<div class="line"><a name="l03301"></a><span class="lineno"> 3301</span>&#160;                  <span class="comment">// there were no conflicts, so we write the units that could be determined</span></div>
<div class="line"><a name="l03302"></a><span class="lineno"> 3302</span>&#160;                  uif2.writeBackToModel();</div>
<div class="line"><a name="l03303"></a><span class="lineno"> 3303</span>&#160;                  std::cerr &lt;&lt; <span class="stringliteral">&quot;undetermined: &quot;</span> &lt;&lt; uif2.getStatistics().global[0] +  uif2.getStatistics().local[0] &lt;&lt; std::endl;</div>
<div class="line"><a name="l03304"></a><span class="lineno"> 3304</span>&#160;                }</div>
<div class="line"><a name="l03305"></a><span class="lineno"> 3305</span>&#160;              <span class="keywordflow">else</span></div>
<div class="line"><a name="l03306"></a><span class="lineno"> 3306</span>&#160;                {</div>
<div class="line"><a name="l03307"></a><span class="lineno"> 3307</span>&#160;                  <span class="comment">// TODO create appropriate warning</span></div>
<div class="line"><a name="l03308"></a><span class="lineno"> 3308</span>&#160;                  std::cerr &lt;&lt; <span class="stringliteral">&quot;Warning. &quot;</span> &lt;&lt; uif2.getStatistics().all[5] &lt;&lt; <span class="stringliteral">&quot; conflicts found.&quot;</span> &lt;&lt; std::endl;</div>
<div class="line"><a name="l03309"></a><span class="lineno"> 3309</span>&#160;                }</div>
<div class="line"><a name="l03310"></a><span class="lineno"> 3310</span>&#160;            }</div>
<div class="line"><a name="l03311"></a><span class="lineno"> 3311</span>&#160;          <span class="keywordflow">else</span></div>
<div class="line"><a name="l03312"></a><span class="lineno"> 3312</span>&#160;            {</div>
<div class="line"><a name="l03313"></a><span class="lineno"> 3313</span>&#160;              <span class="comment">// no conflicts, so we can write the parameters that could be determined to the model</span></div>
<div class="line"><a name="l03314"></a><span class="lineno"> 3314</span>&#160;              uif.writeBackToModel();</div>
<div class="line"><a name="l03315"></a><span class="lineno"> 3315</span>&#160;              std::cerr &lt;&lt; <span class="stringliteral">&quot;undetermined: &quot;</span> &lt;&lt; uif.getStatistics().global[0] +  uif.getStatistics().local[0] &lt;&lt; std::endl;</div>
<div class="line"><a name="l03316"></a><span class="lineno"> 3316</span>&#160;            }</div>
<div class="line"><a name="l03317"></a><span class="lineno"> 3317</span>&#160;        }</div>
<div class="line"><a name="l03318"></a><span class="lineno"> 3318</span>&#160;      <span class="keywordflow">else</span></div>
<div class="line"><a name="l03319"></a><span class="lineno"> 3319</span>&#160;        {</div>
<div class="line"><a name="l03320"></a><span class="lineno"> 3320</span>&#160;          <span class="comment">// TODO create a warning</span></div>
<div class="line"><a name="l03321"></a><span class="lineno"> 3321</span>&#160;          std::cerr &lt;&lt; <span class="stringliteral">&quot;Warning. &quot;</span> &lt;&lt; uif.getStatistics().all[5] &lt;&lt; <span class="stringliteral">&quot; conflicts found.&quot;</span> &lt;&lt; std::endl;</div>
<div class="line"><a name="l03322"></a><span class="lineno"> 3322</span>&#160;        }</div>
<div class="line"><a name="l03323"></a><span class="lineno"> 3323</span>&#160;    }</div>
<div class="line"><a name="l03324"></a><span class="lineno"> 3324</span>&#160;</div>
<div class="line"><a name="l03325"></a><span class="lineno"> 3325</span>&#160;<span class="preprocessor">#endif // USE_SBMLUNIT</span></div>
<div class="line"><a name="l03326"></a><span class="lineno"> 3326</span>&#160;<span class="preprocessor"></span></div>
<div class="line"><a name="l03327"></a><span class="lineno"> 3327</span>&#160;  <span class="comment">// export the model to a string</span></div>
<div class="line"><a name="l03328"></a><span class="lineno"> 3328</span>&#160;  <span class="keywordflow">if</span> (this-&gt;<a class="code" href="../../df/d80/classCSBMLExporter.html#a1541a69b36b8e864883e49f0de244f81">mpSBMLDocument</a> == NULL) <span class="keywordflow">return</span> std::string();</div>
<div class="line"><a name="l03329"></a><span class="lineno"> 3329</span>&#160;</div>
<div class="line"><a name="l03330"></a><span class="lineno"> 3330</span>&#160;  <a class="code" href="../../df/d80/classCSBMLExporter.html#ae377faa40e73c92770cb688b83db5508">removeUnusedObjects</a>();</div>
<div class="line"><a name="l03331"></a><span class="lineno"> 3331</span>&#160;  SBMLWriter* writer = <span class="keyword">new</span> SBMLWriter();</div>
<div class="line"><a name="l03332"></a><span class="lineno"> 3332</span>&#160;</div>
<div class="line"><a name="l03333"></a><span class="lineno"> 3333</span>&#160;  writer-&gt;setProgramName(<span class="stringliteral">&quot;COPASI&quot;</span>);</div>
<div class="line"><a name="l03334"></a><span class="lineno"> 3334</span>&#160;  writer-&gt;setProgramVersion(<a class="code" href="../../d3/d34/classCVersion.html#add42f7f7b6e9d08d745a114fb7b96e46">CVersion::VERSION</a>.getVersion().c_str());</div>
<div class="line"><a name="l03335"></a><span class="lineno"> 3335</span>&#160;</div>
<div class="line"><a name="l03336"></a><span class="lineno"> 3336</span>&#160;  <span class="keywordtype">char</span>* d = writer-&gt;writeToString(this-&gt;<a class="code" href="../../df/d80/classCSBMLExporter.html#a1541a69b36b8e864883e49f0de244f81">mpSBMLDocument</a>);</div>
<div class="line"><a name="l03337"></a><span class="lineno"> 3337</span>&#160;  std::string returnValue = d;</div>
<div class="line"><a name="l03338"></a><span class="lineno"> 3338</span>&#160;</div>
<div class="line"><a name="l03339"></a><span class="lineno"> 3339</span>&#160;  <span class="keywordflow">if</span> (d) free(d);</div>
<div class="line"><a name="l03340"></a><span class="lineno"> 3340</span>&#160;</div>
<div class="line"><a name="l03341"></a><span class="lineno"> 3341</span>&#160;  <a class="code" href="../../dc/df8/copasi_8h.html#ac9efe23516fb43b7adc59fbad1c221b8">pdelete</a>(writer);</div>
<div class="line"><a name="l03342"></a><span class="lineno"> 3342</span>&#160;</div>
<div class="line"><a name="l03343"></a><span class="lineno"> 3343</span>&#160;  <span class="comment">// mark some temporary objects as no longer needed</span></div>
<div class="line"><a name="l03344"></a><span class="lineno"> 3344</span>&#160;  <a class="code" href="../../d5/d2f/CSBMLExporter_8cpp.html#a4c5d08a37889fafee8c29636d4785161">removeStickyTagFromElements</a>(<a class="code" href="../../df/d80/classCSBMLExporter.html#a1541a69b36b8e864883e49f0de244f81">mpSBMLDocument</a>);</div>
<div class="line"><a name="l03345"></a><span class="lineno"> 3345</span>&#160;</div>
<div class="line"><a name="l03346"></a><span class="lineno"> 3346</span>&#160;  <span class="comment">// the workaround is no longer necessary, as the libSBML &gt; 5.11.4 will include</span></div>
<div class="line"><a name="l03347"></a><span class="lineno"> 3347</span>&#160;  <span class="comment">// a converter that not only converts to l1v1 but also inlines the compartment</span></div>
<div class="line"><a name="l03348"></a><span class="lineno"> 3348</span>&#160;  <span class="comment">// sizes and changes pow implementation as needed by Gepasi</span></div>
<div class="line"><a name="l03349"></a><span class="lineno"> 3349</span>&#160;<span class="preprocessor">#if LIBSBML_VERSION &lt;= 51104</span></div>
<div class="line"><a name="l03350"></a><span class="lineno"> 3350</span>&#160;<span class="preprocessor"></span></div>
<div class="line"><a name="l03351"></a><span class="lineno"> 3351</span>&#160;  <span class="comment">// actually most of the work seems to be done by</span></div>
<div class="line"><a name="l03352"></a><span class="lineno"> 3352</span>&#160;  <span class="comment">// libsbml already, so the following method doesn&#39;t have to</span></div>
<div class="line"><a name="l03353"></a><span class="lineno"> 3353</span>&#160;  <span class="comment">// do much and most of the code is obsolete, at least for now</span></div>
<div class="line"><a name="l03354"></a><span class="lineno"> 3354</span>&#160;  <span class="keywordflow">if</span> (sbmlLevel == 1 &amp;&amp; sbmlVersion == 1)</div>
<div class="line"><a name="l03355"></a><span class="lineno"> 3355</span>&#160;    {</div>
<div class="line"><a name="l03356"></a><span class="lineno"> 3356</span>&#160;      <span class="comment">// if there is an exception in the routine, we hand it up to the calling routine</span></div>
<div class="line"><a name="l03357"></a><span class="lineno"> 3357</span>&#160;      <a class="code" href="../../df/d80/classCSBMLExporter.html#a1fbce90193396d8ae0407ae7d3c0e689">convert_to_l1v1</a>(returnValue);</div>
<div class="line"><a name="l03358"></a><span class="lineno"> 3358</span>&#160;    }</div>
<div class="line"><a name="l03359"></a><span class="lineno"> 3359</span>&#160;</div>
<div class="line"><a name="l03360"></a><span class="lineno"> 3360</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l03361"></a><span class="lineno"> 3361</span>&#160;<span class="preprocessor"></span></div>
<div class="line"><a name="l03362"></a><span class="lineno"> 3362</span>&#160;  <span class="keywordflow">return</span> returnValue;</div>
<div class="line"><a name="l03363"></a><span class="lineno"> 3363</span>&#160;}</div>
<div class="ttc" id="classCSBMLunitInterface_html_a50e1fbe8332de22005cab758f8a1a9bb"><div class="ttname"><a href="../../d1/d1d/classCSBMLunitInterface.html#a50e1fbe8332de22005cab758f8a1a9bb">CSBMLunitInterface::setAssumeDimensionlessOne</a></div><div class="ttdeci">void setAssumeDimensionlessOne(bool f)</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/db1/CSBMLunitInterface_8h_source.html#l00066">CSBMLunitInterface.h:66</a></div></div>
<div class="ttc" id="classCSBMLExporter_html_aba959efc152f63f1709d5de60e97a651"><div class="ttname"><a href="../../df/d80/classCSBMLExporter.html#aba959efc152f63f1709d5de60e97a651">CSBMLExporter::mSBMLLevel</a></div><div class="ttdeci">unsigned int mSBMLLevel</div><div class="ttdef"><b>Definition:</b> <a href="../../da/d7f/CSBMLExporter_8h_source.html#l00056">CSBMLExporter.h:56</a></div></div>
<div class="ttc" id="copasi_8h_html_ac9efe23516fb43b7adc59fbad1c221b8"><div class="ttname"><a href="../../dc/df8/copasi_8h.html#ac9efe23516fb43b7adc59fbad1c221b8">pdelete</a></div><div class="ttdeci">#define pdelete(p)</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/df8/copasi_8h_source.html#l00215">copasi.h:215</a></div></div>
<div class="ttc" id="classCSBMLExporter_html_a1541a69b36b8e864883e49f0de244f81"><div class="ttname"><a href="../../df/d80/classCSBMLExporter.html#a1541a69b36b8e864883e49f0de244f81">CSBMLExporter::mpSBMLDocument</a></div><div class="ttdeci">SBMLDocument * mpSBMLDocument</div><div class="ttdef"><b>Definition:</b> <a href="../../da/d7f/CSBMLExporter_8h_source.html#l00055">CSBMLExporter.h:55</a></div></div>
<div class="ttc" id="classCListOfLayouts_html_a3cec9d0a17e0c4960299486959acacef"><div class="ttname"><a href="../../d0/d08/classCListOfLayouts.html#a3cec9d0a17e0c4960299486959acacef">CListOfLayouts::exportToSBML</a></div><div class="ttdeci">void exportToSBML(ListOf *lol, std::map&lt; const CCopasiObject *, SBase * &gt; &amp;copasimodelmap, const std::map&lt; std::string, const SBase * &gt; &amp;idMap, unsigned int level, unsigned int version) const </div><div class="ttdef"><b>Definition:</b> <a href="../../df/d50/CListOfLayouts_8cpp_source.html#l00082">CListOfLayouts.cpp:82</a></div></div>
<div class="ttc" id="classCSBMLunitInterface_html_a66595dd0b57dab5364f763a3efe90c4c"><div class="ttname"><a href="../../d1/d1d/classCSBMLunitInterface.html#a66595dd0b57dab5364f763a3efe90c4c">CSBMLunitInterface::determineUnits</a></div><div class="ttdeci">void determineUnits()</div><div class="ttdef"><b>Definition:</b> <a href="../../db/de1/CSBMLunitInterface_8cpp_source.html#l00859">CSBMLunitInterface.cpp:859</a></div></div>
<div class="ttc" id="CSBMLExporter_8cpp_html_a4c5d08a37889fafee8c29636d4785161"><div class="ttname"><a href="../../d5/d2f/CSBMLExporter_8cpp.html#a4c5d08a37889fafee8c29636d4785161">removeStickyTagFromElements</a></div><div class="ttdeci">void removeStickyTagFromElements(SBMLDocument *pSBMLDocument)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d2f/CSBMLExporter_8cpp_source.html#l03222">CSBMLExporter.cpp:3222</a></div></div>
<div class="ttc" id="classCSBMLunitInterface_html"><div class="ttname"><a href="../../d1/d1d/classCSBMLunitInterface.html">CSBMLunitInterface</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d2/db1/CSBMLunitInterface_8h_source.html#l00027">CSBMLunitInterface.h:27</a></div></div>
<div class="ttc" id="classCSBMLExporter_html_a2b680d670c11c7c70a45bc12e236b2e8"><div class="ttname"><a href="../../df/d80/classCSBMLExporter.html#a2b680d670c11c7c70a45bc12e236b2e8">CSBMLExporter::createSBMLDocument</a></div><div class="ttdeci">void createSBMLDocument(CCopasiDataModel &amp;dataModel)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d2f/CSBMLExporter_8cpp_source.html#l03399">CSBMLExporter.cpp:3399</a></div></div>
<div class="ttc" id="classCSBMLExporter_html_a60ab409a11b90a1ca965d7702828af74"><div class="ttname"><a href="../../df/d80/classCSBMLExporter.html#a60ab409a11b90a1ca965d7702828af74">CSBMLExporter::mIdMap</a></div><div class="ttdeci">std::map&lt; std::string, const SBase * &gt; mIdMap</div><div class="ttdef"><b>Definition:</b> <a href="../../da/d7f/CSBMLExporter_8h_source.html#l00064">CSBMLExporter.h:64</a></div></div>
<div class="ttc" id="CLDefaultStyles_8cpp_html_af0879653f5860d0ffbad0437a9ddcaf1"><div class="ttname"><a href="../../d7/d9c/CLDefaultStyles_8cpp.html#af0879653f5860d0ffbad0437a9ddcaf1">getDefaultStyle</a></div><div class="ttdeci">CLGlobalRenderInformation * getDefaultStyle(size_t index)</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d9c/CLDefaultStyles_8cpp_source.html#l00824">CLDefaultStyles.cpp:824</a></div></div>
<div class="ttc" id="classCLGlobalRenderInformation_html_a2f48b852e6c498e0a11dd6f24084473e"><div class="ttname"><a href="../../d7/d2b/classCLGlobalRenderInformation.html#a2f48b852e6c498e0a11dd6f24084473e">CLGlobalRenderInformation::toSBML</a></div><div class="ttdeci">bool toSBML(GlobalRenderInformation *pGRI, unsigned int level, unsigned int version) const </div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d6d/CLGlobalRenderInformation_8cpp_source.html#l00118">CLGlobalRenderInformation.cpp:118</a></div></div>
<div class="ttc" id="CLDefaultStyles_8cpp_html_a5bcacb9de775e91384c3a284985f6a58"><div class="ttname"><a href="../../d7/d9c/CLDefaultStyles_8cpp.html#a5bcacb9de775e91384c3a284985f6a58">getNumDefaultStyles</a></div><div class="ttdeci">size_t getNumDefaultStyles()</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d9c/CLDefaultStyles_8cpp_source.html#l00803">CLDefaultStyles.cpp:803</a></div></div>
<div class="ttc" id="classCSBMLExporter_html_af1bc50a307a46adcce8aa8abde6dab96"><div class="ttname"><a href="../../df/d80/classCSBMLExporter.html#af1bc50a307a46adcce8aa8abde6dab96">CSBMLExporter::mSBMLVersion</a></div><div class="ttdeci">unsigned int mSBMLVersion</div><div class="ttdef"><b>Definition:</b> <a href="../../da/d7f/CSBMLExporter_8h_source.html#l00057">CSBMLExporter.h:57</a></div></div>
<div class="ttc" id="classCCopasiDataModel_html_a464666ed4deeefad5e1133e045a0588f"><div class="ttname"><a href="../../d4/d18/classCCopasiDataModel.html#a464666ed4deeefad5e1133e045a0588f">CCopasiDataModel::getListOfLayouts</a></div><div class="ttdeci">CListOfLayouts * getListOfLayouts()</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d38/CCopasiDataModel_8cpp_source.html#l01807">CCopasiDataModel.cpp:1807</a></div></div>
<div class="ttc" id="classCSBMLExporter_html_aeb19f9866a1735848770125dad2aebad"><div class="ttname"><a href="../../df/d80/classCSBMLExporter.html#aeb19f9866a1735848770125dad2aebad">CSBMLExporter::mCOPASI2SBMLMap</a></div><div class="ttdeci">std::map&lt; const CCopasiObject *, SBase * &gt; mCOPASI2SBMLMap</div><div class="ttdef"><b>Definition:</b> <a href="../../da/d7f/CSBMLExporter_8h_source.html#l00061">CSBMLExporter.h:61</a></div></div>
<div class="ttc" id="classCSBMLExporter_html_a1fbce90193396d8ae0407ae7d3c0e689"><div class="ttname"><a href="../../df/d80/classCSBMLExporter.html#a1fbce90193396d8ae0407ae7d3c0e689">CSBMLExporter::convert_to_l1v1</a></div><div class="ttdeci">static void convert_to_l1v1(std::string &amp;l1v2_string)</div></div>
<div class="ttc" id="classCSBMLExporter_html_ae5ae5ec70c912323abe9c31b58de2652"><div class="ttname"><a href="../../df/d80/classCSBMLExporter.html#ae5ae5ec70c912323abe9c31b58de2652">CSBMLExporter::mHandledSBMLObjects</a></div><div class="ttdeci">std::set&lt; SBase * &gt; mHandledSBMLObjects</div><div class="ttdef"><b>Definition:</b> <a href="../../da/d7f/CSBMLExporter_8h_source.html#l00062">CSBMLExporter.h:62</a></div></div>
<div class="ttc" id="classCSBMLExporter_html_ae377faa40e73c92770cb688b83db5508"><div class="ttname"><a href="../../df/d80/classCSBMLExporter.html#ae377faa40e73c92770cb688b83db5508">CSBMLExporter::removeUnusedObjects</a></div><div class="ttdeci">void removeUnusedObjects()</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d2f/CSBMLExporter_8cpp_source.html#l05646">CSBMLExporter.cpp:5646</a></div></div>
<div class="ttc" id="classCVersion_html_add42f7f7b6e9d08d745a114fb7b96e46"><div class="ttname"><a href="../../d3/d34/classCVersion.html#add42f7f7b6e9d08d745a114fb7b96e46">CVersion::VERSION</a></div><div class="ttdeci">static const CVersion VERSION</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d4f/CVersion_8h_source.html#l00164">CVersion.h:164</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="aaa3a1af5de4a31e157bd7515cf5ed671"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d3/d05/CChemEqParser__yacc_8cpp.html#aa76fec002b4ba91adc88f68d56ba730c">void</a> CSBMLExporter::findAvogadro </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="../../d4/d18/classCCopasiDataModel.html">CCopasiDataModel</a> &amp;&#160;</td>
          <td class="paramname"><em>dataModel</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Try to find a global parameter that represents avogadros number. </p>

<p>Definition at line <a class="el" href="../../d5/d2f/CSBMLExporter_8cpp_source.html#l06335">6335</a> of file <a class="el" href="../../d5/d2f/CSBMLExporter_8cpp_source.html">CSBMLExporter.cpp</a>.</p>

<p>References <a class="el" href="../../d8/d2c/classCCopasiVector.html#acb26711fe72be0d2cb3a37c2fbcc031f">CCopasiVector&lt; T &gt;::begin()</a>, <a class="el" href="../../d8/d2c/classCCopasiVector.html#a44c97a5f614c885495c437f2a8d20954">CCopasiVector&lt; T &gt;::end()</a>, <a class="el" href="../../d0/da0/classCModelEntity.html#a86cb8e66e255d66db258324064efc78aa8751c35af95ea9346908d9835a1b0570">CModelEntity::FIXED</a>, <a class="el" href="../../d4/d18/classCCopasiDataModel.html#a2e65952e0caf0b2709d381cf949fec69">CCopasiDataModel::getModel()</a>, <a class="el" href="../../d4/d04/classCModel.html#ab3481ad574a3e1935a7617339970eab2">CModel::getModelValues()</a>, <a class="el" href="../../d4/d04/classCModel.html#ab30b51797988903a4af4e7fed3d163fa">CModel::getQuantity2NumberFactor()</a>, and <a class="el" href="../../df/d80/classCSBMLExporter.html#acf59a37a6e25ed5735988fd792fb1109">mpAvogadro</a>.</p>

<p>Referenced by <a class="el" href="../../df/d80/classCSBMLExporter.html#a2b680d670c11c7c70a45bc12e236b2e8">createSBMLDocument()</a>.</p>
<div class="fragment"><div class="line"><a name="l06336"></a><span class="lineno"> 6336</span>&#160;{</div>
<div class="line"><a name="l06337"></a><span class="lineno"> 6337</span>&#160;  <span class="keywordtype">double</span> factor = dataModel.<a class="code" href="../../d4/d18/classCCopasiDataModel.html#a2e65952e0caf0b2709d381cf949fec69">getModel</a>()-&gt;<a class="code" href="../../d4/d04/classCModel.html#ab30b51797988903a4af4e7fed3d163fa">getQuantity2NumberFactor</a>();</div>
<div class="line"><a name="l06338"></a><span class="lineno"> 6338</span>&#160;  <a class="code" href="../../d7/d08/classCCopasiVectorN.html">CCopasiVectorN&lt;CModelValue&gt;::const_iterator</a> it = dataModel.<a class="code" href="../../d4/d18/classCCopasiDataModel.html#a2e65952e0caf0b2709d381cf949fec69">getModel</a>()-&gt;<a class="code" href="../../d4/d04/classCModel.html#ab3481ad574a3e1935a7617339970eab2">getModelValues</a>().<a class="code" href="../../d8/d2c/classCCopasiVector.html#acb26711fe72be0d2cb3a37c2fbcc031f">begin</a>(), endit = dataModel.<a class="code" href="../../d4/d18/classCCopasiDataModel.html#a2e65952e0caf0b2709d381cf949fec69">getModel</a>()-&gt;<a class="code" href="../../d4/d04/classCModel.html#ab3481ad574a3e1935a7617339970eab2">getModelValues</a>().<a class="code" href="../../d8/d2c/classCCopasiVector.html#a44c97a5f614c885495c437f2a8d20954">end</a>();</div>
<div class="line"><a name="l06339"></a><span class="lineno"> 6339</span>&#160;</div>
<div class="line"><a name="l06340"></a><span class="lineno"> 6340</span>&#160;  <span class="keywordflow">while</span> (it != endit)</div>
<div class="line"><a name="l06341"></a><span class="lineno"> 6341</span>&#160;    {</div>
<div class="line"><a name="l06342"></a><span class="lineno"> 6342</span>&#160;      <span class="keywordflow">if</span> ((*it)-&gt;getStatus() == <a class="code" href="../../d0/da0/classCModelEntity.html#a86cb8e66e255d66db258324064efc78aa8751c35af95ea9346908d9835a1b0570">CModelEntity::FIXED</a>)</div>
<div class="line"><a name="l06343"></a><span class="lineno"> 6343</span>&#160;        {</div>
<div class="line"><a name="l06344"></a><span class="lineno"> 6344</span>&#160;          <span class="keywordtype">double</span> value = (*it)-&gt;getInitialValue();</div>
<div class="line"><a name="l06345"></a><span class="lineno"> 6345</span>&#160;</div>
<div class="line"><a name="l06346"></a><span class="lineno"> 6346</span>&#160;          <span class="keywordflow">if</span> (fabs((factor - value) / factor) &lt;= 1e-3)</div>
<div class="line"><a name="l06347"></a><span class="lineno"> 6347</span>&#160;            {</div>
<div class="line"><a name="l06348"></a><span class="lineno"> 6348</span>&#160;              this-&gt;<a class="code" href="../../df/d80/classCSBMLExporter.html#acf59a37a6e25ed5735988fd792fb1109">mpAvogadro</a> = *it;</div>
<div class="line"><a name="l06349"></a><span class="lineno"> 6349</span>&#160;            }</div>
<div class="line"><a name="l06350"></a><span class="lineno"> 6350</span>&#160;        }</div>
<div class="line"><a name="l06351"></a><span class="lineno"> 6351</span>&#160;</div>
<div class="line"><a name="l06352"></a><span class="lineno"> 6352</span>&#160;      ++it;</div>
<div class="line"><a name="l06353"></a><span class="lineno"> 6353</span>&#160;    }</div>
<div class="line"><a name="l06354"></a><span class="lineno"> 6354</span>&#160;}</div>
<div class="ttc" id="classCCopasiVectorN_html"><div class="ttname"><a href="../../d7/d08/classCCopasiVectorN.html">CCopasiVectorN</a></div><div class="ttdef"><b>Definition:</b> <a href="../../dd/df7/CCopasiDataModel_8h_source.html#l00047">CCopasiDataModel.h:47</a></div></div>
<div class="ttc" id="classCCopasiDataModel_html_a2e65952e0caf0b2709d381cf949fec69"><div class="ttname"><a href="../../d4/d18/classCCopasiDataModel.html#a2e65952e0caf0b2709d381cf949fec69">CCopasiDataModel::getModel</a></div><div class="ttdeci">CModel * getModel()</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d38/CCopasiDataModel_8cpp_source.html#l01407">CCopasiDataModel.cpp:1407</a></div></div>
<div class="ttc" id="classCModel_html_ab3481ad574a3e1935a7617339970eab2"><div class="ttname"><a href="../../d4/d04/classCModel.html#ab3481ad574a3e1935a7617339970eab2">CModel::getModelValues</a></div><div class="ttdeci">const CCopasiVectorN&lt; CModelValue &gt; &amp; getModelValues() const </div><div class="ttdef"><b>Definition:</b> <a href="../../df/d08/CModel_8cpp_source.html#l01060">CModel.cpp:1060</a></div></div>
<div class="ttc" id="classCCopasiVector_html_acb26711fe72be0d2cb3a37c2fbcc031f"><div class="ttname"><a href="../../d8/d2c/classCCopasiVector.html#acb26711fe72be0d2cb3a37c2fbcc031f">CCopasiVector::begin</a></div><div class="ttdeci">iterator begin()</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d51/CCopasiVector_8h_source.html#l00185">CCopasiVector.h:185</a></div></div>
<div class="ttc" id="classCCopasiVector_html_a44c97a5f614c885495c437f2a8d20954"><div class="ttname"><a href="../../d8/d2c/classCCopasiVector.html#a44c97a5f614c885495c437f2a8d20954">CCopasiVector::end</a></div><div class="ttdeci">iterator end()</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d51/CCopasiVector_8h_source.html#l00191">CCopasiVector.h:191</a></div></div>
<div class="ttc" id="classCModel_html_ab30b51797988903a4af4e7fed3d163fa"><div class="ttname"><a href="../../d4/d04/classCModel.html#ab30b51797988903a4af4e7fed3d163fa">CModel::getQuantity2NumberFactor</a></div><div class="ttdeci">const C_FLOAT64 &amp; getQuantity2NumberFactor() const </div><div class="ttdef"><b>Definition:</b> <a href="../../df/d08/CModel_8cpp_source.html#l02354">CModel.cpp:2354</a></div></div>
<div class="ttc" id="classCModelEntity_html_a86cb8e66e255d66db258324064efc78aa8751c35af95ea9346908d9835a1b0570"><div class="ttname"><a href="../../d0/da0/classCModelEntity.html#a86cb8e66e255d66db258324064efc78aa8751c35af95ea9346908d9835a1b0570">CModelEntity::FIXED</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d1/da3/CModelValue_8h_source.html#l00055">CModelValue.h:55</a></div></div>
<div class="ttc" id="classCSBMLExporter_html_acf59a37a6e25ed5735988fd792fb1109"><div class="ttname"><a href="../../df/d80/classCSBMLExporter.html#acf59a37a6e25ed5735988fd792fb1109">CSBMLExporter::mpAvogadro</a></div><div class="ttdeci">const CModelValue * mpAvogadro</div><div class="ttdef"><b>Definition:</b> <a href="../../da/d7f/CSBMLExporter_8h_source.html#l00068">CSBMLExporter.h:68</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="aa843eb9b5d1ae41d5dd2be78a864f2d5"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d3/d05/CChemEqParser__yacc_8cpp.html#aa76fec002b4ba91adc88f68d56ba730c">void</a> CSBMLExporter::findDirectlyUsedFunctions </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="../../d8/d9f/classCEvaluationNode.html">CEvaluationNode</a> *&#160;</td>
          <td class="paramname"><em>pRootNode</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::set&lt; std::string &gt; &amp;&#160;</td>
          <td class="paramname"><em>result</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Go through a <a class="el" href="../../d8/d9f/classCEvaluationNode.html">CEvaluationNode</a> base tree and add the names of all functions directly called in this tree to the set. </p>

<p>Definition at line <a class="el" href="../../d5/d2f/CSBMLExporter_8cpp_source.html#l04927">4927</a> of file <a class="el" href="../../d5/d2f/CSBMLExporter_8cpp_source.html">CSBMLExporter.cpp</a>.</p>

<p>References <a class="el" href="../../d8/d9f/classCEvaluationNode.html#aeef59b7ae37d1323a4900e5d19140491a9850f90ad614378da22df5bab569a3b6">CEvaluationNode::CALL</a>, <a class="el" href="../../d9/d9d/classCCopasiNode.html#acad859fb98cfa7f9d328a1cf1ee57023">CCopasiNode&lt; _Data &gt;::getChild()</a>, <a class="el" href="../../d9/d9d/classCCopasiNode.html#a761f04c57a75e99a63ee0700c76fdafe">CCopasiNode&lt; _Data &gt;::getData()</a>, <a class="el" href="../../d9/d9d/classCCopasiNode.html#a0730aecebb9ca0f8401b7d0223e266e8">CCopasiNode&lt; _Data &gt;::getSibling()</a>, <a class="el" href="../../d8/d9f/classCEvaluationNode.html#ae24b55d848d78cec0a359fd199c76562">CEvaluationNode::getType()</a>, and <a class="el" href="../../d8/d9f/classCEvaluationNode.html#a9e5fcf60f22d2701417f90756847d37b">CEvaluationNode::type()</a>.</p>

<p>Referenced by <a class="el" href="../../df/d80/classCSBMLExporter.html#aeeac4e8650cfa507c42df9f0eae46474">checkForPiecewiseFunctions()</a>, <a class="el" href="../../df/d80/classCSBMLExporter.html#a79ba15ac876b6354e2aaff763b8a7c86">createEvent()</a>, <a class="el" href="../../df/d80/classCSBMLExporter.html#a2f052fa99d8b6695c0b7cf12d21f7833">createInitialAssignment()</a>, <a class="el" href="../../df/d80/classCSBMLExporter.html#a4e1fa35c0f3497f349b03147eb7326f0">createRule()</a>, <a class="el" href="../../df/d80/classCSBMLExporter.html#aefbd6278e618486186192aff4bdff76e">exportEventAssignments()</a>, <a class="el" href="../../df/d80/classCSBMLExporter.html#a6553f17e9fedbf662bb4512f15cf6216">findUsedFunctions()</a>, <a class="el" href="../../df/d80/classCSBMLExporter.html#a1168b4ab9a504c5a00b8914f99f49958">isEventAssignmentSBMLCompatible()</a>, <a class="el" href="../../df/d80/classCSBMLExporter.html#a7eae0b3b6b933c2807878441b456acf3">isEventSBMLCompatible()</a>, and <a class="el" href="../../df/d80/classCSBMLExporter.html#a740195f63c146c4b09170e29cb8977f6">isModelSBMLCompatible()</a>.</p>
<div class="fragment"><div class="line"><a name="l04928"></a><span class="lineno"> 4928</span>&#160;{</div>
<div class="line"><a name="l04929"></a><span class="lineno"> 4929</span>&#160;  <span class="keywordflow">if</span> (pRootNode == NULL) <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l04930"></a><span class="lineno"> 4930</span>&#160;</div>
<div class="line"><a name="l04931"></a><span class="lineno"> 4931</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="../../d8/d9f/classCEvaluationNode.html#a9e5fcf60f22d2701417f90756847d37b">CEvaluationNode::type</a>(pRootNode-&gt;<a class="code" href="../../d8/d9f/classCEvaluationNode.html#ae24b55d848d78cec0a359fd199c76562">getType</a>()) == <a class="code" href="../../d8/d9f/classCEvaluationNode.html#aeef59b7ae37d1323a4900e5d19140491a9850f90ad614378da22df5bab569a3b6">CEvaluationNode::CALL</a>)</div>
<div class="line"><a name="l04932"></a><span class="lineno"> 4932</span>&#160;    {</div>
<div class="line"><a name="l04933"></a><span class="lineno"> 4933</span>&#160;      result.insert(pRootNode-&gt;<a class="code" href="../../d9/d9d/classCCopasiNode.html#a761f04c57a75e99a63ee0700c76fdafe">getData</a>());</div>
<div class="line"><a name="l04934"></a><span class="lineno"> 4934</span>&#160;    }</div>
<div class="line"><a name="l04935"></a><span class="lineno"> 4935</span>&#160;</div>
<div class="line"><a name="l04936"></a><span class="lineno"> 4936</span>&#160;  <span class="keyword">const</span> <a class="code" href="../../d8/d9f/classCEvaluationNode.html">CEvaluationNode</a>* pChild = <span class="keyword">dynamic_cast&lt;</span><span class="keyword">const </span><a class="code" href="../../d8/d9f/classCEvaluationNode.html">CEvaluationNode</a>*<span class="keyword">&gt;</span>(pRootNode-&gt;<a class="code" href="../../d9/d9d/classCCopasiNode.html#acad859fb98cfa7f9d328a1cf1ee57023">getChild</a>());</div>
<div class="line"><a name="l04937"></a><span class="lineno"> 4937</span>&#160;</div>
<div class="line"><a name="l04938"></a><span class="lineno"> 4938</span>&#160;  <span class="keywordflow">while</span> (pChild != NULL)</div>
<div class="line"><a name="l04939"></a><span class="lineno"> 4939</span>&#160;    {</div>
<div class="line"><a name="l04940"></a><span class="lineno"> 4940</span>&#160;      <a class="code" href="../../df/d80/classCSBMLExporter.html#aa843eb9b5d1ae41d5dd2be78a864f2d5">CSBMLExporter::findDirectlyUsedFunctions</a>(pChild, result);</div>
<div class="line"><a name="l04941"></a><span class="lineno"> 4941</span>&#160;      pChild = <span class="keyword">dynamic_cast&lt;</span><span class="keyword">const </span><a class="code" href="../../d8/d9f/classCEvaluationNode.html">CEvaluationNode</a>*<span class="keyword">&gt;</span>(pChild-&gt;<a class="code" href="../../d9/d9d/classCCopasiNode.html#a0730aecebb9ca0f8401b7d0223e266e8">getSibling</a>());</div>
<div class="line"><a name="l04942"></a><span class="lineno"> 4942</span>&#160;    }</div>
<div class="line"><a name="l04943"></a><span class="lineno"> 4943</span>&#160;}</div>
<div class="ttc" id="classCSBMLExporter_html_aa843eb9b5d1ae41d5dd2be78a864f2d5"><div class="ttname"><a href="../../df/d80/classCSBMLExporter.html#aa843eb9b5d1ae41d5dd2be78a864f2d5">CSBMLExporter::findDirectlyUsedFunctions</a></div><div class="ttdeci">static void findDirectlyUsedFunctions(const CEvaluationNode *pRootNode, std::set&lt; std::string &gt; &amp;result)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d2f/CSBMLExporter_8cpp_source.html#l04927">CSBMLExporter.cpp:4927</a></div></div>
<div class="ttc" id="classCCopasiNode_html_a0730aecebb9ca0f8401b7d0223e266e8"><div class="ttname"><a href="../../d9/d9d/classCCopasiNode.html#a0730aecebb9ca0f8401b7d0223e266e8">CCopasiNode::getSibling</a></div><div class="ttdeci">CCopasiNode&lt; Data &gt; * getSibling()</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d24/CCopasiNode_8h_source.html#l00353">CCopasiNode.h:353</a></div></div>
<div class="ttc" id="classCEvaluationNode_html_ae24b55d848d78cec0a359fd199c76562"><div class="ttname"><a href="../../d8/d9f/classCEvaluationNode.html#ae24b55d848d78cec0a359fd199c76562">CEvaluationNode::getType</a></div><div class="ttdeci">const Type &amp; getType() const </div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d3d/CEvaluationNode_8cpp_source.html#l00357">CEvaluationNode.cpp:357</a></div></div>
<div class="ttc" id="classCEvaluationNode_html_a9e5fcf60f22d2701417f90756847d37b"><div class="ttname"><a href="../../d8/d9f/classCEvaluationNode.html#a9e5fcf60f22d2701417f90756847d37b">CEvaluationNode::type</a></div><div class="ttdeci">static Type type(const Type &amp;type)</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d3d/CEvaluationNode_8cpp_source.html#l00123">CEvaluationNode.cpp:123</a></div></div>
<div class="ttc" id="classCEvaluationNode_html"><div class="ttname"><a href="../../d8/d9f/classCEvaluationNode.html">CEvaluationNode</a></div><div class="ttdef"><b>Definition:</b> <a href="../../de/dfa/CEvaluationNode_8h_source.html#l00033">CEvaluationNode.h:33</a></div></div>
<div class="ttc" id="classCEvaluationNode_html_aeef59b7ae37d1323a4900e5d19140491a9850f90ad614378da22df5bab569a3b6"><div class="ttname"><a href="../../d8/d9f/classCEvaluationNode.html#aeef59b7ae37d1323a4900e5d19140491a9850f90ad614378da22df5bab569a3b6">CEvaluationNode::CALL</a></div><div class="ttdef"><b>Definition:</b> <a href="../../de/dfa/CEvaluationNode_8h_source.html#l00047">CEvaluationNode.h:47</a></div></div>
<div class="ttc" id="classCCopasiNode_html_a761f04c57a75e99a63ee0700c76fdafe"><div class="ttname"><a href="../../d9/d9d/classCCopasiNode.html#a761f04c57a75e99a63ee0700c76fdafe">CCopasiNode::getData</a></div><div class="ttdeci">virtual const Data &amp; getData() const </div><div class="ttdef"><b>Definition:</b> <a href="../../de/d24/CCopasiNode_8h_source.html#l00118">CCopasiNode.h:118</a></div></div>
<div class="ttc" id="classCCopasiNode_html_acad859fb98cfa7f9d328a1cf1ee57023"><div class="ttname"><a href="../../d9/d9d/classCCopasiNode.html#acad859fb98cfa7f9d328a1cf1ee57023">CCopasiNode::getChild</a></div><div class="ttdeci">CCopasiNode&lt; Data &gt; * getChild()</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d24/CCopasiNode_8h_source.html#l00210">CCopasiNode.h:210</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="ad4eba95146d9ea8565434e804b0cec04"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d3/d05/CChemEqParser__yacc_8cpp.html#aa76fec002b4ba91adc88f68d56ba730c">void</a> CSBMLExporter::findModelEntityDependencies </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="../../d8/d9f/classCEvaluationNode.html">CEvaluationNode</a> *&#160;</td>
          <td class="paramname"><em>pNode</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="../../d4/d18/classCCopasiDataModel.html">CCopasiDataModel</a> &amp;&#160;</td>
          <td class="paramname"><em>dataModel</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::set&lt; const <a class="el" href="../../d0/da0/classCModelEntity.html">CModelEntity</a> * &gt; &amp;&#160;</td>
          <td class="paramname"><em>dependencies</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Find all ModelEntities for which the given node and its children contains references. </p>

<p>Definition at line <a class="el" href="../../d5/d2f/CSBMLExporter_8cpp_source.html#l05188">5188</a> of file <a class="el" href="../../d5/d2f/CSBMLExporter_8cpp_source.html">CSBMLExporter.cpp</a>.</p>

<p>References <a class="el" href="../../d9/d2d/CCopasiMessage_8h.html#a1e835c01335d6f956a78adf106ed1b15">fatalError</a>, <a class="el" href="../../d9/d9d/classCCopasiNode.html#acad859fb98cfa7f9d328a1cf1ee57023">CCopasiNode&lt; _Data &gt;::getChild()</a>, <a class="el" href="../../d4/d18/classCCopasiDataModel.html#a63628f4b2c0f85ff87ffa2148d5e8c4d">CCopasiDataModel::getDataObject()</a>, <a class="el" href="../../d8/d28/classCEvaluationNodeObject.html#a2920cda3967b2538926f94175ce10db8">CEvaluationNodeObject::getObjectCN()</a>, <a class="el" href="../../d4/da8/classCCopasiObject.html#a33bb5035eec7ebc5e3ecac4771316405">CCopasiObject::getObjectParent()</a>, <a class="el" href="../../d9/d9d/classCCopasiNode.html#a0730aecebb9ca0f8401b7d0223e266e8">CCopasiNode&lt; _Data &gt;::getSibling()</a>, <a class="el" href="../../d8/d9f/classCEvaluationNode.html#ae24b55d848d78cec0a359fd199c76562">CEvaluationNode::getType()</a>, <a class="el" href="../../d4/da8/classCCopasiObject.html#aab9462de68df423ab9eaebaafabcf783">CCopasiObject::isReference()</a>, <a class="el" href="../../d8/d9f/classCEvaluationNode.html#aeef59b7ae37d1323a4900e5d19140491a373ef5eff2832cc83a380a1a6d5f17e7">CEvaluationNode::OBJECT</a>, and <a class="el" href="../../d8/d9f/classCEvaluationNode.html#a9e5fcf60f22d2701417f90756847d37b">CEvaluationNode::type()</a>.</p>

<p>Referenced by <a class="el" href="../../df/d80/classCSBMLExporter.html#aa851bea69ed748cfc304fb516470159c">orderRules()</a>.</p>
<div class="fragment"><div class="line"><a name="l05189"></a><span class="lineno"> 5189</span>&#160;{</div>
<div class="line"><a name="l05190"></a><span class="lineno"> 5190</span>&#160;  <span class="keywordflow">if</span> (pNode == NULL) <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l05191"></a><span class="lineno"> 5191</span>&#160;</div>
<div class="line"><a name="l05192"></a><span class="lineno"> 5192</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="../../d8/d9f/classCEvaluationNode.html#a9e5fcf60f22d2701417f90756847d37b">CEvaluationNode::type</a>(pNode-&gt;<a class="code" href="../../d8/d9f/classCEvaluationNode.html#ae24b55d848d78cec0a359fd199c76562">getType</a>()) == <a class="code" href="../../d8/d9f/classCEvaluationNode.html#aeef59b7ae37d1323a4900e5d19140491a373ef5eff2832cc83a380a1a6d5f17e7">CEvaluationNode::OBJECT</a>)</div>
<div class="line"><a name="l05193"></a><span class="lineno"> 5193</span>&#160;    {</div>
<div class="line"><a name="l05194"></a><span class="lineno"> 5194</span>&#160;      <span class="keyword">const</span> <a class="code" href="../../d8/d28/classCEvaluationNodeObject.html">CEvaluationNodeObject</a>* pObjectNode = <span class="keyword">dynamic_cast&lt;</span><span class="keyword">const </span><a class="code" href="../../d8/d28/classCEvaluationNodeObject.html">CEvaluationNodeObject</a>*<span class="keyword">&gt;</span>(pNode);</div>
<div class="line"><a name="l05195"></a><span class="lineno"> 5195</span>&#160;      assert(pObjectNode != NULL);</div>
<div class="line"><a name="l05196"></a><span class="lineno"> 5196</span>&#160;</div>
<div class="line"><a name="l05197"></a><span class="lineno"> 5197</span>&#160;      <span class="keywordflow">if</span> (pObjectNode != NULL)</div>
<div class="line"><a name="l05198"></a><span class="lineno"> 5198</span>&#160;        {</div>
<div class="line"><a name="l05199"></a><span class="lineno"> 5199</span>&#160;          <span class="keyword">const</span> <a class="code" href="../../d4/da8/classCCopasiObject.html">CCopasiObject</a>* pObject = dataModel.<a class="code" href="../../d4/d18/classCCopasiDataModel.html#a63628f4b2c0f85ff87ffa2148d5e8c4d">getDataObject</a>(pObjectNode-&gt;<a class="code" href="../../d8/d28/classCEvaluationNodeObject.html#a2920cda3967b2538926f94175ce10db8">getObjectCN</a>());</div>
<div class="line"><a name="l05200"></a><span class="lineno"> 5200</span>&#160;</div>
<div class="line"><a name="l05201"></a><span class="lineno"> 5201</span>&#160;          <span class="keywordflow">if</span> (!pObject)</div>
<div class="line"><a name="l05202"></a><span class="lineno"> 5202</span>&#160;            {</div>
<div class="line"><a name="l05203"></a><span class="lineno"> 5203</span>&#160;              <a class="code" href="../../d9/d2d/CCopasiMessage_8h.html#a1e835c01335d6f956a78adf106ed1b15">fatalError</a>();</div>
<div class="line"><a name="l05204"></a><span class="lineno"> 5204</span>&#160;            }</div>
<div class="line"><a name="l05205"></a><span class="lineno"> 5205</span>&#160;</div>
<div class="line"><a name="l05206"></a><span class="lineno"> 5206</span>&#160;          <span class="keywordflow">if</span> (pObject-&gt;<a class="code" href="../../d4/da8/classCCopasiObject.html#aab9462de68df423ab9eaebaafabcf783">isReference</a>())</div>
<div class="line"><a name="l05207"></a><span class="lineno"> 5207</span>&#160;            {</div>
<div class="line"><a name="l05208"></a><span class="lineno"> 5208</span>&#160;              pObject = pObject-&gt;<a class="code" href="../../d4/da8/classCCopasiObject.html#a33bb5035eec7ebc5e3ecac4771316405">getObjectParent</a>();</div>
<div class="line"><a name="l05209"></a><span class="lineno"> 5209</span>&#160;              assert(pObject != NULL);</div>
<div class="line"><a name="l05210"></a><span class="lineno"> 5210</span>&#160;            }</div>
<div class="line"><a name="l05211"></a><span class="lineno"> 5211</span>&#160;</div>
<div class="line"><a name="l05212"></a><span class="lineno"> 5212</span>&#160;          <span class="keyword">const</span> <a class="code" href="../../d0/da0/classCModelEntity.html">CModelEntity</a>* pME = <span class="keyword">dynamic_cast&lt;</span><span class="keyword">const </span><a class="code" href="../../d0/da0/classCModelEntity.html">CModelEntity</a>*<span class="keyword">&gt;</span>(pObject);</div>
<div class="line"><a name="l05213"></a><span class="lineno"> 5213</span>&#160;</div>
<div class="line"><a name="l05214"></a><span class="lineno"> 5214</span>&#160;          <span class="keywordflow">if</span> (pME != NULL)</div>
<div class="line"><a name="l05215"></a><span class="lineno"> 5215</span>&#160;            {</div>
<div class="line"><a name="l05216"></a><span class="lineno"> 5216</span>&#160;              dependencies.insert(pME);</div>
<div class="line"><a name="l05217"></a><span class="lineno"> 5217</span>&#160;            }</div>
<div class="line"><a name="l05218"></a><span class="lineno"> 5218</span>&#160;        }</div>
<div class="line"><a name="l05219"></a><span class="lineno"> 5219</span>&#160;    }</div>
<div class="line"><a name="l05220"></a><span class="lineno"> 5220</span>&#160;</div>
<div class="line"><a name="l05221"></a><span class="lineno"> 5221</span>&#160;  <span class="keyword">const</span> <a class="code" href="../../d8/d9f/classCEvaluationNode.html">CEvaluationNode</a>* pChild = <span class="keyword">dynamic_cast&lt;</span><span class="keyword">const </span><a class="code" href="../../d8/d9f/classCEvaluationNode.html">CEvaluationNode</a>*<span class="keyword">&gt;</span>(pNode-&gt;<a class="code" href="../../d9/d9d/classCCopasiNode.html#acad859fb98cfa7f9d328a1cf1ee57023">getChild</a>());</div>
<div class="line"><a name="l05222"></a><span class="lineno"> 5222</span>&#160;</div>
<div class="line"><a name="l05223"></a><span class="lineno"> 5223</span>&#160;  <span class="keywordflow">while</span> (pChild != NULL)</div>
<div class="line"><a name="l05224"></a><span class="lineno"> 5224</span>&#160;    {</div>
<div class="line"><a name="l05225"></a><span class="lineno"> 5225</span>&#160;      <a class="code" href="../../df/d80/classCSBMLExporter.html#ad4eba95146d9ea8565434e804b0cec04">CSBMLExporter::findModelEntityDependencies</a>(pChild, dataModel, dependencies);</div>
<div class="line"><a name="l05226"></a><span class="lineno"> 5226</span>&#160;      pChild = <span class="keyword">dynamic_cast&lt;</span><span class="keyword">const </span><a class="code" href="../../d8/d9f/classCEvaluationNode.html">CEvaluationNode</a>*<span class="keyword">&gt;</span>(pChild-&gt;<a class="code" href="../../d9/d9d/classCCopasiNode.html#a0730aecebb9ca0f8401b7d0223e266e8">getSibling</a>());</div>
<div class="line"><a name="l05227"></a><span class="lineno"> 5227</span>&#160;    }</div>
<div class="line"><a name="l05228"></a><span class="lineno"> 5228</span>&#160;}</div>
<div class="ttc" id="classCCopasiDataModel_html_a63628f4b2c0f85ff87ffa2148d5e8c4d"><div class="ttname"><a href="../../d4/d18/classCCopasiDataModel.html#a63628f4b2c0f85ff87ffa2148d5e8c4d">CCopasiDataModel::getDataObject</a></div><div class="ttdeci">CCopasiObject * getDataObject(const CCopasiObjectName &amp;CN) const </div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d38/CCopasiDataModel_8cpp_source.html#l01947">CCopasiDataModel.cpp:1947</a></div></div>
<div class="ttc" id="classCCopasiNode_html_a0730aecebb9ca0f8401b7d0223e266e8"><div class="ttname"><a href="../../d9/d9d/classCCopasiNode.html#a0730aecebb9ca0f8401b7d0223e266e8">CCopasiNode::getSibling</a></div><div class="ttdeci">CCopasiNode&lt; Data &gt; * getSibling()</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d24/CCopasiNode_8h_source.html#l00353">CCopasiNode.h:353</a></div></div>
<div class="ttc" id="classCModelEntity_html"><div class="ttname"><a href="../../d0/da0/classCModelEntity.html">CModelEntity</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d1/da3/CModelValue_8h_source.html#l00039">CModelValue.h:39</a></div></div>
<div class="ttc" id="classCEvaluationNodeObject_html_a2920cda3967b2538926f94175ce10db8"><div class="ttname"><a href="../../d8/d28/classCEvaluationNodeObject.html#a2920cda3967b2538926f94175ce10db8">CEvaluationNodeObject::getObjectCN</a></div><div class="ttdeci">const CRegisteredObjectName &amp; getObjectCN() const </div><div class="ttdef"><b>Definition:</b> <a href="../../d8/db2/CEvaluationNodeObject_8cpp_source.html#l00351">CEvaluationNodeObject.cpp:351</a></div></div>
<div class="ttc" id="classCSBMLExporter_html_ad4eba95146d9ea8565434e804b0cec04"><div class="ttname"><a href="../../df/d80/classCSBMLExporter.html#ad4eba95146d9ea8565434e804b0cec04">CSBMLExporter::findModelEntityDependencies</a></div><div class="ttdeci">static void findModelEntityDependencies(const CEvaluationNode *pNode, const CCopasiDataModel &amp;dataModel, std::set&lt; const CModelEntity * &gt; &amp;dependencies)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d2f/CSBMLExporter_8cpp_source.html#l05188">CSBMLExporter.cpp:5188</a></div></div>
<div class="ttc" id="CCopasiMessage_8h_html_a1e835c01335d6f956a78adf106ed1b15"><div class="ttname"><a href="../../d9/d2d/CCopasiMessage_8h.html#a1e835c01335d6f956a78adf106ed1b15">fatalError</a></div><div class="ttdeci">#define fatalError()</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d2d/CCopasiMessage_8h_source.html#l00074">CCopasiMessage.h:74</a></div></div>
<div class="ttc" id="classCEvaluationNode_html_ae24b55d848d78cec0a359fd199c76562"><div class="ttname"><a href="../../d8/d9f/classCEvaluationNode.html#ae24b55d848d78cec0a359fd199c76562">CEvaluationNode::getType</a></div><div class="ttdeci">const Type &amp; getType() const </div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d3d/CEvaluationNode_8cpp_source.html#l00357">CEvaluationNode.cpp:357</a></div></div>
<div class="ttc" id="classCCopasiObject_html"><div class="ttname"><a href="../../d4/da8/classCCopasiObject.html">CCopasiObject</a></div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d9f/CCopasiObject_8h_source.html#l00216">CCopasiObject.h:216</a></div></div>
<div class="ttc" id="classCEvaluationNode_html_aeef59b7ae37d1323a4900e5d19140491a373ef5eff2832cc83a380a1a6d5f17e7"><div class="ttname"><a href="../../d8/d9f/classCEvaluationNode.html#aeef59b7ae37d1323a4900e5d19140491a373ef5eff2832cc83a380a1a6d5f17e7">CEvaluationNode::OBJECT</a></div><div class="ttdef"><b>Definition:</b> <a href="../../de/dfa/CEvaluationNode_8h_source.html#l00045">CEvaluationNode.h:45</a></div></div>
<div class="ttc" id="classCEvaluationNode_html_a9e5fcf60f22d2701417f90756847d37b"><div class="ttname"><a href="../../d8/d9f/classCEvaluationNode.html#a9e5fcf60f22d2701417f90756847d37b">CEvaluationNode::type</a></div><div class="ttdeci">static Type type(const Type &amp;type)</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d3d/CEvaluationNode_8cpp_source.html#l00123">CEvaluationNode.cpp:123</a></div></div>
<div class="ttc" id="classCCopasiObject_html_aab9462de68df423ab9eaebaafabcf783"><div class="ttname"><a href="../../d4/da8/classCCopasiObject.html#aab9462de68df423ab9eaebaafabcf783">CCopasiObject::isReference</a></div><div class="ttdeci">bool isReference() const </div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d22/CCopasiObject_8cpp_source.html#l00572">CCopasiObject.cpp:572</a></div></div>
<div class="ttc" id="classCEvaluationNode_html"><div class="ttname"><a href="../../d8/d9f/classCEvaluationNode.html">CEvaluationNode</a></div><div class="ttdef"><b>Definition:</b> <a href="../../de/dfa/CEvaluationNode_8h_source.html#l00033">CEvaluationNode.h:33</a></div></div>
<div class="ttc" id="classCEvaluationNodeObject_html"><div class="ttname"><a href="../../d8/d28/classCEvaluationNodeObject.html">CEvaluationNodeObject</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d59/CEvaluationNodeObject_8h_source.html#l00034">CEvaluationNodeObject.h:34</a></div></div>
<div class="ttc" id="classCCopasiNode_html_acad859fb98cfa7f9d328a1cf1ee57023"><div class="ttname"><a href="../../d9/d9d/classCCopasiNode.html#acad859fb98cfa7f9d328a1cf1ee57023">CCopasiNode::getChild</a></div><div class="ttdeci">CCopasiNode&lt; Data &gt; * getChild()</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d24/CCopasiNode_8h_source.html#l00210">CCopasiNode.h:210</a></div></div>
<div class="ttc" id="classCCopasiObject_html_a33bb5035eec7ebc5e3ecac4771316405"><div class="ttname"><a href="../../d4/da8/classCCopasiObject.html#a33bb5035eec7ebc5e3ecac4771316405">CCopasiObject::getObjectParent</a></div><div class="ttdeci">CCopasiContainer * getObjectParent() const </div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d22/CCopasiObject_8cpp_source.html#l00276">CCopasiObject.cpp:276</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a6553f17e9fedbf662bb4512f15cf6216"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const std::vector&lt; <a class="el" href="../../d9/d86/classCFunction.html">CFunction</a> * &gt; CSBMLExporter::findUsedFunctions </td>
          <td>(</td>
          <td class="paramtype">std::set&lt; <a class="el" href="../../d9/d86/classCFunction.html">CFunction</a> * &gt; &amp;&#160;</td>
          <td class="paramname"><em>functions</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../db/d9a/classCFunctionDB.html">CFunctionDB</a> *&#160;</td>
          <td class="paramname"><em>pFunctionDB</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Takes a set of functions and recursively finds functions used by those functions </p>

<p>Definition at line <a class="el" href="../../d5/d2f/CSBMLExporter_8cpp_source.html#l04945">4945</a> of file <a class="el" href="../../d5/d2f/CSBMLExporter_8cpp_source.html">CSBMLExporter.cpp</a>.</p>

<p>References <a class="el" href="../../df/d80/classCSBMLExporter.html#a6dcd463b48c53c136e6c1af5b22251f2">createFunctionSetFromFunctionNames()</a>, <a class="el" href="../../d2/df0/classCCopasiMessage.html#a2ea1ed32494ff5c8d84353efcec7a5e4a568f885d73f0ea36bedfe92f6e533071">CCopasiMessage::EXCEPTION</a>, and <a class="el" href="../../df/d80/classCSBMLExporter.html#aa843eb9b5d1ae41d5dd2be78a864f2d5">findDirectlyUsedFunctions()</a>.</p>

<p>Referenced by <a class="el" href="../../df/d80/classCSBMLExporter.html#aeeac4e8650cfa507c42df9f0eae46474">checkForPiecewiseFunctions()</a>, and <a class="el" href="../../df/d80/classCSBMLExporter.html#a5349f8758c324eef2da6a4ecfe0df888">createFunctionDefinitions()</a>.</p>
<div class="fragment"><div class="line"><a name="l04946"></a><span class="lineno"> 4946</span>&#160;{</div>
<div class="line"><a name="l04947"></a><span class="lineno"> 4947</span>&#160;  std::map&lt;CFunction*, std::set&lt;CFunction*&gt; &gt; functionDependencyMap;</div>
<div class="line"><a name="l04948"></a><span class="lineno"> 4948</span>&#160;  std::set&lt;CFunction*&gt;::iterator setit = functions.begin(), setendit = functions.end();</div>
<div class="line"><a name="l04949"></a><span class="lineno"> 4949</span>&#160;</div>
<div class="line"><a name="l04950"></a><span class="lineno"> 4950</span>&#160;  <span class="comment">// create the dependency map</span></div>
<div class="line"><a name="l04951"></a><span class="lineno"> 4951</span>&#160;  <span class="keywordflow">while</span> (setit != setendit)</div>
<div class="line"><a name="l04952"></a><span class="lineno"> 4952</span>&#160;    {</div>
<div class="line"><a name="l04953"></a><span class="lineno"> 4953</span>&#160;      std::set&lt;std::string&gt; usedFunctionNames;</div>
<div class="line"><a name="l04954"></a><span class="lineno"> 4954</span>&#160;      <a class="code" href="../../df/d80/classCSBMLExporter.html#aa843eb9b5d1ae41d5dd2be78a864f2d5">CSBMLExporter::findDirectlyUsedFunctions</a>(const_cast&lt;CFunction*&gt;(*setit)-&gt;getRoot(), usedFunctionNames);</div>
<div class="line"><a name="l04955"></a><span class="lineno"> 4955</span>&#160;      std::set&lt;CFunction*&gt; usedFunctions = <a class="code" href="../../df/d80/classCSBMLExporter.html#a6dcd463b48c53c136e6c1af5b22251f2">CSBMLExporter::createFunctionSetFromFunctionNames</a>(usedFunctionNames, pFunctionDB);</div>
<div class="line"><a name="l04956"></a><span class="lineno"> 4956</span>&#160;      functionDependencyMap[*setit] = usedFunctions;</div>
<div class="line"><a name="l04957"></a><span class="lineno"> 4957</span>&#160;      ++setit;</div>
<div class="line"><a name="l04958"></a><span class="lineno"> 4958</span>&#160;    }</div>
<div class="line"><a name="l04959"></a><span class="lineno"> 4959</span>&#160;</div>
<div class="line"><a name="l04960"></a><span class="lineno"> 4960</span>&#160;  <span class="keywordtype">bool</span> found = <span class="keyword">true</span>;</div>
<div class="line"><a name="l04961"></a><span class="lineno"> 4961</span>&#160;</div>
<div class="line"><a name="l04962"></a><span class="lineno"> 4962</span>&#160;  <span class="keywordflow">while</span> (found)</div>
<div class="line"><a name="l04963"></a><span class="lineno"> 4963</span>&#160;    {</div>
<div class="line"><a name="l04964"></a><span class="lineno"> 4964</span>&#160;      found = <span class="keyword">false</span>;</div>
<div class="line"><a name="l04965"></a><span class="lineno"> 4965</span>&#160;      std::map&lt;CFunction*, std::set&lt;CFunction*&gt; &gt;::iterator mapIt = functionDependencyMap.begin(), mapEndit = functionDependencyMap.end();</div>
<div class="line"><a name="l04966"></a><span class="lineno"> 4966</span>&#160;</div>
<div class="line"><a name="l04967"></a><span class="lineno"> 4967</span>&#160;      <span class="keywordflow">while</span> (mapIt != mapEndit)</div>
<div class="line"><a name="l04968"></a><span class="lineno"> 4968</span>&#160;        {</div>
<div class="line"><a name="l04969"></a><span class="lineno"> 4969</span>&#160;          setit = mapIt-&gt;second.begin(), setendit = mapIt-&gt;second.end();</div>
<div class="line"><a name="l04970"></a><span class="lineno"> 4970</span>&#160;</div>
<div class="line"><a name="l04971"></a><span class="lineno"> 4971</span>&#160;          <span class="keywordflow">while</span> (setit != setendit)</div>
<div class="line"><a name="l04972"></a><span class="lineno"> 4972</span>&#160;            {</div>
<div class="line"><a name="l04973"></a><span class="lineno"> 4973</span>&#160;              <span class="comment">// check if we already have the dependencies for the function</span></div>
<div class="line"><a name="l04974"></a><span class="lineno"> 4974</span>&#160;              <span class="keywordflow">if</span> (functionDependencyMap.find(*setit) == functionDependencyMap.end())</div>
<div class="line"><a name="l04975"></a><span class="lineno"> 4975</span>&#160;                {</div>
<div class="line"><a name="l04976"></a><span class="lineno"> 4976</span>&#160;                  found = <span class="keyword">true</span>;</div>
<div class="line"><a name="l04977"></a><span class="lineno"> 4977</span>&#160;                  std::set&lt;std::string&gt; usedFunctionNames;</div>
<div class="line"><a name="l04978"></a><span class="lineno"> 4978</span>&#160;                  <a class="code" href="../../df/d80/classCSBMLExporter.html#aa843eb9b5d1ae41d5dd2be78a864f2d5">CSBMLExporter::findDirectlyUsedFunctions</a>(const_cast&lt;CFunction*&gt;(*setit)-&gt;getRoot(), usedFunctionNames);</div>
<div class="line"><a name="l04979"></a><span class="lineno"> 4979</span>&#160;                  std::set&lt;CFunction*&gt; usedFunctions = <a class="code" href="../../df/d80/classCSBMLExporter.html#a6dcd463b48c53c136e6c1af5b22251f2">CSBMLExporter::createFunctionSetFromFunctionNames</a>(usedFunctionNames, pFunctionDB);</div>
<div class="line"><a name="l04980"></a><span class="lineno"> 4980</span>&#160;                  functionDependencyMap[*setit] = usedFunctions;</div>
<div class="line"><a name="l04981"></a><span class="lineno"> 4981</span>&#160;                }</div>
<div class="line"><a name="l04982"></a><span class="lineno"> 4982</span>&#160;</div>
<div class="line"><a name="l04983"></a><span class="lineno"> 4983</span>&#160;              ++setit;</div>
<div class="line"><a name="l04984"></a><span class="lineno"> 4984</span>&#160;            }</div>
<div class="line"><a name="l04985"></a><span class="lineno"> 4985</span>&#160;</div>
<div class="line"><a name="l04986"></a><span class="lineno"> 4986</span>&#160;          <span class="comment">// if we changed the map, we have to stop the inner loop since the</span></div>
<div class="line"><a name="l04987"></a><span class="lineno"> 4987</span>&#160;          <span class="comment">// map iterator is now invalid</span></div>
<div class="line"><a name="l04988"></a><span class="lineno"> 4988</span>&#160;          <span class="keywordflow">if</span> (found)</div>
<div class="line"><a name="l04989"></a><span class="lineno"> 4989</span>&#160;            {</div>
<div class="line"><a name="l04990"></a><span class="lineno"> 4990</span>&#160;              <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l04991"></a><span class="lineno"> 4991</span>&#160;            }</div>
<div class="line"><a name="l04992"></a><span class="lineno"> 4992</span>&#160;</div>
<div class="line"><a name="l04993"></a><span class="lineno"> 4993</span>&#160;          ++mapIt;</div>
<div class="line"><a name="l04994"></a><span class="lineno"> 4994</span>&#160;        }</div>
<div class="line"><a name="l04995"></a><span class="lineno"> 4995</span>&#160;    }</div>
<div class="line"><a name="l04996"></a><span class="lineno"> 4996</span>&#160;</div>
<div class="line"><a name="l04997"></a><span class="lineno"> 4997</span>&#160;  <span class="keywordtype">bool</span> removed = <span class="keyword">true</span>;</div>
<div class="line"><a name="l04998"></a><span class="lineno"> 4998</span>&#160;  std::vector&lt;CFunction*&gt; functionVector;</div>
<div class="line"><a name="l04999"></a><span class="lineno"> 4999</span>&#160;</div>
<div class="line"><a name="l05000"></a><span class="lineno"> 5000</span>&#160;  <span class="keywordflow">while</span> (!functionDependencyMap.empty() &amp;&amp; removed == <span class="keyword">true</span>)</div>
<div class="line"><a name="l05001"></a><span class="lineno"> 5001</span>&#160;    {</div>
<div class="line"><a name="l05002"></a><span class="lineno"> 5002</span>&#160;      std::map&lt;CFunction*, std::set&lt;CFunction*&gt; &gt;::iterator mapIt = functionDependencyMap.begin(), mapEndit = functionDependencyMap.end();</div>
<div class="line"><a name="l05003"></a><span class="lineno"> 5003</span>&#160;      removed = <span class="keyword">false</span>;</div>
<div class="line"><a name="l05004"></a><span class="lineno"> 5004</span>&#160;</div>
<div class="line"><a name="l05005"></a><span class="lineno"> 5005</span>&#160;      <span class="comment">// go through the map and find functions that have no dependencies</span></div>
<div class="line"><a name="l05006"></a><span class="lineno"> 5006</span>&#160;      <span class="keywordflow">while</span> (mapIt != mapEndit)</div>
<div class="line"><a name="l05007"></a><span class="lineno"> 5007</span>&#160;        {</div>
<div class="line"><a name="l05008"></a><span class="lineno"> 5008</span>&#160;          <span class="keywordflow">if</span> (mapIt-&gt;second.empty())</div>
<div class="line"><a name="l05009"></a><span class="lineno"> 5009</span>&#160;            {</div>
<div class="line"><a name="l05010"></a><span class="lineno"> 5010</span>&#160;              <span class="comment">// set remove to true so that we know that at least one</span></div>
<div class="line"><a name="l05011"></a><span class="lineno"> 5011</span>&#160;              <span class="comment">// function definition without dependencies has been found</span></div>
<div class="line"><a name="l05012"></a><span class="lineno"> 5012</span>&#160;              <span class="comment">// otherwise we might end up in an endless loop</span></div>
<div class="line"><a name="l05013"></a><span class="lineno"> 5013</span>&#160;              removed = <span class="keyword">true</span>;</div>
<div class="line"><a name="l05014"></a><span class="lineno"> 5014</span>&#160;              <span class="comment">// add the function to the front</span></div>
<div class="line"><a name="l05015"></a><span class="lineno"> 5015</span>&#160;              functionVector.push_back(mapIt-&gt;first);</div>
<div class="line"><a name="l05016"></a><span class="lineno"> 5016</span>&#160;              <span class="comment">// remove this function from the dependency list of all other</span></div>
<div class="line"><a name="l05017"></a><span class="lineno"> 5017</span>&#160;              <span class="comment">// functions</span></div>
<div class="line"><a name="l05018"></a><span class="lineno"> 5018</span>&#160;              std::map&lt;CFunction*, std::set&lt;CFunction*&gt; &gt;::iterator mapIt2 = functionDependencyMap.begin(), mapEndit2 = functionDependencyMap.end();</div>
<div class="line"><a name="l05019"></a><span class="lineno"> 5019</span>&#160;</div>
<div class="line"><a name="l05020"></a><span class="lineno"> 5020</span>&#160;              <span class="keywordflow">while</span> (mapIt2 != mapEndit2)</div>
<div class="line"><a name="l05021"></a><span class="lineno"> 5021</span>&#160;                {</div>
<div class="line"><a name="l05022"></a><span class="lineno"> 5022</span>&#160;                  std::set&lt;CFunction*&gt;::iterator pos = mapIt2-&gt;second.find(mapIt-&gt;first);</div>
<div class="line"><a name="l05023"></a><span class="lineno"> 5023</span>&#160;</div>
<div class="line"><a name="l05024"></a><span class="lineno"> 5024</span>&#160;                  <span class="keywordflow">if</span> (pos != mapIt2-&gt;second.end())</div>
<div class="line"><a name="l05025"></a><span class="lineno"> 5025</span>&#160;                    {</div>
<div class="line"><a name="l05026"></a><span class="lineno"> 5026</span>&#160;                      mapIt2-&gt;second.erase(pos);</div>
<div class="line"><a name="l05027"></a><span class="lineno"> 5027</span>&#160;                    }</div>
<div class="line"><a name="l05028"></a><span class="lineno"> 5028</span>&#160;</div>
<div class="line"><a name="l05029"></a><span class="lineno"> 5029</span>&#160;                  ++mapIt2;</div>
<div class="line"><a name="l05030"></a><span class="lineno"> 5030</span>&#160;                }</div>
<div class="line"><a name="l05031"></a><span class="lineno"> 5031</span>&#160;</div>
<div class="line"><a name="l05032"></a><span class="lineno"> 5032</span>&#160;              <span class="comment">// delete the entry of this function from the depenency map</span></div>
<div class="line"><a name="l05033"></a><span class="lineno"> 5033</span>&#160;              std::map&lt;CFunction*, std::set&lt;CFunction*&gt; &gt;::iterator pos = mapIt;</div>
<div class="line"><a name="l05034"></a><span class="lineno"> 5034</span>&#160;              ++mapIt;</div>
<div class="line"><a name="l05035"></a><span class="lineno"> 5035</span>&#160;              functionDependencyMap.erase(pos);</div>
<div class="line"><a name="l05036"></a><span class="lineno"> 5036</span>&#160;            }</div>
<div class="line"><a name="l05037"></a><span class="lineno"> 5037</span>&#160;          <span class="keywordflow">else</span></div>
<div class="line"><a name="l05038"></a><span class="lineno"> 5038</span>&#160;            {</div>
<div class="line"><a name="l05039"></a><span class="lineno"> 5039</span>&#160;              ++mapIt;</div>
<div class="line"><a name="l05040"></a><span class="lineno"> 5040</span>&#160;            }</div>
<div class="line"><a name="l05041"></a><span class="lineno"> 5041</span>&#160;        }</div>
<div class="line"><a name="l05042"></a><span class="lineno"> 5042</span>&#160;    }</div>
<div class="line"><a name="l05043"></a><span class="lineno"> 5043</span>&#160;</div>
<div class="line"><a name="l05044"></a><span class="lineno"> 5044</span>&#160;  <span class="comment">// check if the dependency map is empty. If not, there must be a dependency</span></div>
<div class="line"><a name="l05045"></a><span class="lineno"> 5045</span>&#160;  <span class="comment">// loop</span></div>
<div class="line"><a name="l05046"></a><span class="lineno"> 5046</span>&#160;  <span class="keywordflow">if</span> (!functionDependencyMap.empty())</div>
<div class="line"><a name="l05047"></a><span class="lineno"> 5047</span>&#160;    {</div>
<div class="line"><a name="l05048"></a><span class="lineno"> 5048</span>&#160;      <a class="code" href="../../d2/df0/classCCopasiMessage.html">CCopasiMessage</a>(<a class="code" href="../../d2/df0/classCCopasiMessage.html#a2ea1ed32494ff5c8d84353efcec7a5e4a568f885d73f0ea36bedfe92f6e533071">CCopasiMessage::EXCEPTION</a>, <span class="stringliteral">&quot;Dependency loop found in function definitions.&quot;</span>);</div>
<div class="line"><a name="l05049"></a><span class="lineno"> 5049</span>&#160;    }</div>
<div class="line"><a name="l05050"></a><span class="lineno"> 5050</span>&#160;</div>
<div class="line"><a name="l05051"></a><span class="lineno"> 5051</span>&#160;  <span class="keywordflow">return</span> functionVector;</div>
<div class="line"><a name="l05052"></a><span class="lineno"> 5052</span>&#160;}</div>
<div class="ttc" id="classCSBMLExporter_html_aa843eb9b5d1ae41d5dd2be78a864f2d5"><div class="ttname"><a href="../../df/d80/classCSBMLExporter.html#aa843eb9b5d1ae41d5dd2be78a864f2d5">CSBMLExporter::findDirectlyUsedFunctions</a></div><div class="ttdeci">static void findDirectlyUsedFunctions(const CEvaluationNode *pRootNode, std::set&lt; std::string &gt; &amp;result)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d2f/CSBMLExporter_8cpp_source.html#l04927">CSBMLExporter.cpp:4927</a></div></div>
<div class="ttc" id="classCCopasiMessage_html_a2ea1ed32494ff5c8d84353efcec7a5e4a568f885d73f0ea36bedfe92f6e533071"><div class="ttname"><a href="../../d2/df0/classCCopasiMessage.html#a2ea1ed32494ff5c8d84353efcec7a5e4a568f885d73f0ea36bedfe92f6e533071">CCopasiMessage::EXCEPTION</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d2d/CCopasiMessage_8h_source.html#l00093">CCopasiMessage.h:93</a></div></div>
<div class="ttc" id="classCCopasiMessage_html"><div class="ttname"><a href="../../d2/df0/classCCopasiMessage.html">CCopasiMessage</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d2d/CCopasiMessage_8h_source.html#l00078">CCopasiMessage.h:78</a></div></div>
<div class="ttc" id="classCSBMLExporter_html_a6dcd463b48c53c136e6c1af5b22251f2"><div class="ttname"><a href="../../df/d80/classCSBMLExporter.html#a6dcd463b48c53c136e6c1af5b22251f2">CSBMLExporter::createFunctionSetFromFunctionNames</a></div><div class="ttdeci">static const std::set&lt; CFunction * &gt; createFunctionSetFromFunctionNames(const std::set&lt; std::string &gt; &amp;names, CFunctionDB *pFunDB)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d2f/CSBMLExporter_8cpp_source.html#l05054">CSBMLExporter.cpp:5054</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a15ae839c1ac305bfa1e4186a1a9e7901"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const std::map&lt; const <a class="el" href="../../d4/da8/classCCopasiObject.html">CCopasiObject</a> *, SBase * &gt; &amp; CSBMLExporter::getCOPASI2SBMLMap </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Returns a const pointer to the COPASI2SBMLMap. </p>

<p>Definition at line <a class="el" href="../../d5/d2f/CSBMLExporter_8cpp_source.html#l07186">7186</a> of file <a class="el" href="../../d5/d2f/CSBMLExporter_8cpp_source.html">CSBMLExporter.cpp</a>.</p>

<p>References <a class="el" href="../../df/d80/classCSBMLExporter.html#aeb19f9866a1735848770125dad2aebad">mCOPASI2SBMLMap</a>.</p>

<p>Referenced by <a class="el" href="../../d4/d18/classCCopasiDataModel.html#afecb31bf654ecfbf61db3be87059c8c7">CCopasiDataModel::exportSBML()</a>, and <a class="el" href="../../d4/d18/classCCopasiDataModel.html#a0a29166d66b93b4326cfe4fb3cb74bd3">CCopasiDataModel::exportSBMLToString()</a>.</p>
<div class="fragment"><div class="line"><a name="l07187"></a><span class="lineno"> 7187</span>&#160;{</div>
<div class="line"><a name="l07188"></a><span class="lineno"> 7188</span>&#160;  <span class="keywordflow">return</span> this-&gt;<a class="code" href="../../df/d80/classCSBMLExporter.html#aeb19f9866a1735848770125dad2aebad">mCOPASI2SBMLMap</a>;</div>
<div class="line"><a name="l07189"></a><span class="lineno"> 7189</span>&#160;}</div>
<div class="ttc" id="classCSBMLExporter_html_aeb19f9866a1735848770125dad2aebad"><div class="ttname"><a href="../../df/d80/classCSBMLExporter.html#aeb19f9866a1735848770125dad2aebad">CSBMLExporter::mCOPASI2SBMLMap</a></div><div class="ttdeci">std::map&lt; const CCopasiObject *, SBase * &gt; mCOPASI2SBMLMap</div><div class="ttdef"><b>Definition:</b> <a href="../../da/d7f/CSBMLExporter_8h_source.html#l00061">CSBMLExporter.h:61</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a5d6b9908874764616e0e7c036f7a128a"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">SBMLDocument* CSBMLExporter::getSBMLDocument </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="../../da/d7f/CSBMLExporter_8h_source.html#l00095">95</a> of file <a class="el" href="../../da/d7f/CSBMLExporter_8h_source.html">CSBMLExporter.h</a>.</p>

<p>References <a class="el" href="../../df/d80/classCSBMLExporter.html#a1541a69b36b8e864883e49f0de244f81">mpSBMLDocument</a>.</p>

<p>Referenced by <a class="el" href="../../d4/d18/classCCopasiDataModel.html#afecb31bf654ecfbf61db3be87059c8c7">CCopasiDataModel::exportSBML()</a>, and <a class="el" href="../../d4/d18/classCCopasiDataModel.html#a0a29166d66b93b4326cfe4fb3cb74bd3">CCopasiDataModel::exportSBMLToString()</a>.</p>
<div class="fragment"><div class="line"><a name="l00095"></a><span class="lineno">   95</span>&#160;{<span class="keywordflow">return</span> this-&gt;<a class="code" href="../../df/d80/classCSBMLExporter.html#a1541a69b36b8e864883e49f0de244f81">mpSBMLDocument</a>;};</div>
<div class="ttc" id="classCSBMLExporter_html_a1541a69b36b8e864883e49f0de244f81"><div class="ttname"><a href="../../df/d80/classCSBMLExporter.html#a1541a69b36b8e864883e49f0de244f81">CSBMLExporter::mpSBMLDocument</a></div><div class="ttdeci">SBMLDocument * mpSBMLDocument</div><div class="ttdef"><b>Definition:</b> <a href="../../da/d7f/CSBMLExporter_8h_source.html#l00055">CSBMLExporter.h:55</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="adfb1a82cc1a827d3ef1f353937cfad49"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool CSBMLExporter::hasVolumeAssignment </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="../../d4/d18/classCCopasiDataModel.html">CCopasiDataModel</a> &amp;&#160;</td>
          <td class="paramname"><em>dataModel</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>This method goes through all compartments and events and checks if there is an assignment to a volume. </p>

<p>Definition at line <a class="el" href="../../d5/d2f/CSBMLExporter_8cpp_source.html#l07578">7578</a> of file <a class="el" href="../../d5/d2f/CSBMLExporter_8cpp_source.html">CSBMLExporter.cpp</a>.</p>

<p>References <a class="el" href="../../d0/da0/classCModelEntity.html#a86cb8e66e255d66db258324064efc78aa3bfd50e7d8e4dd09716a51e0ca62dedb">CModelEntity::ASSIGNMENT</a>, <a class="el" href="../../d8/d2c/classCCopasiVector.html#acb26711fe72be0d2cb3a37c2fbcc031f">CCopasiVector&lt; T &gt;::begin()</a>, <a class="el" href="../../d8/d2c/classCCopasiVector.html#a44c97a5f614c885495c437f2a8d20954">CCopasiVector&lt; T &gt;::end()</a>, <a class="el" href="../../d8/d5c/classCKeyFactory.html#a49fdca380d37f99f3195103465ba4c0f">CKeyFactory::get()</a>, <a class="el" href="../../d4/d04/classCModel.html#a7d405db8dc8120b942aa0ec1e80db399">CModel::getCompartments()</a>, <a class="el" href="../../d4/d04/classCModel.html#ad55cc48064428d703cee3e69b71e4703">CModel::getEvents()</a>, <a class="el" href="../../d3/db1/classCCopasiRootContainer.html#acfd634e031d3fb4358b24bfcdd26830e">CCopasiRootContainer::getKeyFactory()</a>, <a class="el" href="../../d4/d18/classCCopasiDataModel.html#a2e65952e0caf0b2709d381cf949fec69">CCopasiDataModel::getModel()</a>, <a class="el" href="../../d4/da8/classCCopasiObject.html#a33bb5035eec7ebc5e3ecac4771316405">CCopasiObject::getObjectParent()</a>, <a class="el" href="../../d4/da8/classCCopasiObject.html#a56790cb06e1980712599250f3e695c6a">CCopasiObject::getObjectType()</a>, <a class="el" href="../../df/d80/classCSBMLExporter.html#a1541a69b36b8e864883e49f0de244f81">mpSBMLDocument</a>, <a class="el" href="../../df/d80/classCSBMLExporter.html#aba959efc152f63f1709d5de60e97a651">mSBMLLevel</a>, <a class="el" href="../../df/d80/classCSBMLExporter.html#af1bc50a307a46adcce8aa8abde6dab96">mSBMLVersion</a>, and <a class="el" href="../../d0/da0/classCModelEntity.html#a86cb8e66e255d66db258324064efc78aa3c62c1c3a449e106a5f1eb2f4ff01ec3">CModelEntity::ODE</a>.</p>

<p>Referenced by <a class="el" href="../../df/d80/classCSBMLExporter.html#a2b680d670c11c7c70a45bc12e236b2e8">createSBMLDocument()</a>.</p>
<div class="fragment"><div class="line"><a name="l07579"></a><span class="lineno"> 7579</span>&#160;{</div>
<div class="line"><a name="l07580"></a><span class="lineno"> 7580</span>&#160;  <span class="keywordtype">bool</span> result = <span class="keyword">false</span>;</div>
<div class="line"><a name="l07581"></a><span class="lineno"> 7581</span>&#160;</div>
<div class="line"><a name="l07582"></a><span class="lineno"> 7582</span>&#160;  <span class="comment">// make sure the SBML Document already exists and that it has a Model set</span></div>
<div class="line"><a name="l07583"></a><span class="lineno"> 7583</span>&#160;  <span class="keywordflow">if</span> (dataModel.<a class="code" href="../../d4/d18/classCCopasiDataModel.html#a2e65952e0caf0b2709d381cf949fec69">getModel</a>() == NULL || this-&gt;<a class="code" href="../../df/d80/classCSBMLExporter.html#a1541a69b36b8e864883e49f0de244f81">mpSBMLDocument</a> == NULL || this-&gt;<a class="code" href="../../df/d80/classCSBMLExporter.html#a1541a69b36b8e864883e49f0de244f81">mpSBMLDocument</a>-&gt;getModel() == NULL) <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l07584"></a><span class="lineno"> 7584</span>&#160;</div>
<div class="line"><a name="l07585"></a><span class="lineno"> 7585</span>&#160;  <a class="code" href="../../d9/db9/classCCopasiVectorNS.html">CCopasiVectorNS&lt;CCompartment&gt;::const_iterator</a> it = dataModel.<a class="code" href="../../d4/d18/classCCopasiDataModel.html#a2e65952e0caf0b2709d381cf949fec69">getModel</a>()-&gt;<a class="code" href="../../d4/d04/classCModel.html#a7d405db8dc8120b942aa0ec1e80db399">getCompartments</a>().<a class="code" href="../../d8/d2c/classCCopasiVector.html#acb26711fe72be0d2cb3a37c2fbcc031f">begin</a>(), endit = dataModel.<a class="code" href="../../d4/d18/classCCopasiDataModel.html#a2e65952e0caf0b2709d381cf949fec69">getModel</a>()-&gt;<a class="code" href="../../d4/d04/classCModel.html#a7d405db8dc8120b942aa0ec1e80db399">getCompartments</a>().<a class="code" href="../../d8/d2c/classCCopasiVector.html#a44c97a5f614c885495c437f2a8d20954">end</a>();</div>
<div class="line"><a name="l07586"></a><span class="lineno"> 7586</span>&#160;  <a class="code" href="../../d0/da0/classCModelEntity.html#a86cb8e66e255d66db258324064efc78a">CModelEntity::Status</a> status;</div>
<div class="line"><a name="l07587"></a><span class="lineno"> 7587</span>&#160;</div>
<div class="line"><a name="l07588"></a><span class="lineno"> 7588</span>&#160;  <span class="keywordflow">while</span> (it != endit &amp;&amp; result == <span class="keyword">false</span>)</div>
<div class="line"><a name="l07589"></a><span class="lineno"> 7589</span>&#160;    {</div>
<div class="line"><a name="l07590"></a><span class="lineno"> 7590</span>&#160;      status = (*it)-&gt;getStatus();</div>
<div class="line"><a name="l07591"></a><span class="lineno"> 7591</span>&#160;</div>
<div class="line"><a name="l07592"></a><span class="lineno"> 7592</span>&#160;      <span class="keywordflow">if</span> (status == <a class="code" href="../../d0/da0/classCModelEntity.html#a86cb8e66e255d66db258324064efc78aa3bfd50e7d8e4dd09716a51e0ca62dedb">CModelEntity::ASSIGNMENT</a> || status == <a class="code" href="../../d0/da0/classCModelEntity.html#a86cb8e66e255d66db258324064efc78aa3c62c1c3a449e106a5f1eb2f4ff01ec3">CModelEntity::ODE</a>)</div>
<div class="line"><a name="l07593"></a><span class="lineno"> 7593</span>&#160;        {</div>
<div class="line"><a name="l07594"></a><span class="lineno"> 7594</span>&#160;          result = <span class="keyword">true</span>;</div>
<div class="line"><a name="l07595"></a><span class="lineno"> 7595</span>&#160;        }</div>
<div class="line"><a name="l07596"></a><span class="lineno"> 7596</span>&#160;</div>
<div class="line"><a name="l07597"></a><span class="lineno"> 7597</span>&#160;      <span class="keywordflow">if</span> ((*it)-&gt;getInitialExpression() != <span class="stringliteral">&quot;&quot;</span> &amp;&amp; result == <span class="keyword">false</span>)</div>
<div class="line"><a name="l07598"></a><span class="lineno"> 7598</span>&#160;        {</div>
<div class="line"><a name="l07599"></a><span class="lineno"> 7599</span>&#160;          <span class="keywordflow">if</span> (this-&gt;<a class="code" href="../../df/d80/classCSBMLExporter.html#aba959efc152f63f1709d5de60e97a651">mSBMLLevel</a> &gt; 2 || (this-&gt;<a class="code" href="../../df/d80/classCSBMLExporter.html#aba959efc152f63f1709d5de60e97a651">mSBMLLevel</a> == 2 &amp;&amp; this-&gt;<a class="code" href="../../df/d80/classCSBMLExporter.html#af1bc50a307a46adcce8aa8abde6dab96">mSBMLVersion</a> &gt;= 2))</div>
<div class="line"><a name="l07600"></a><span class="lineno"> 7600</span>&#160;            {</div>
<div class="line"><a name="l07601"></a><span class="lineno"> 7601</span>&#160;              result = <span class="keyword">true</span>;</div>
<div class="line"><a name="l07602"></a><span class="lineno"> 7602</span>&#160;            }</div>
<div class="line"><a name="l07603"></a><span class="lineno"> 7603</span>&#160;        }</div>
<div class="line"><a name="l07604"></a><span class="lineno"> 7604</span>&#160;</div>
<div class="line"><a name="l07605"></a><span class="lineno"> 7605</span>&#160;      ++it;</div>
<div class="line"><a name="l07606"></a><span class="lineno"> 7606</span>&#160;    }</div>
<div class="line"><a name="l07607"></a><span class="lineno"> 7607</span>&#160;</div>
<div class="line"><a name="l07608"></a><span class="lineno"> 7608</span>&#160;  <a class="code" href="../../d7/d08/classCCopasiVectorN.html">CCopasiVectorN&lt;CEvent&gt;::const_iterator</a> eit = dataModel.<a class="code" href="../../d4/d18/classCCopasiDataModel.html#a2e65952e0caf0b2709d381cf949fec69">getModel</a>()-&gt;<a class="code" href="../../d4/d04/classCModel.html#ad55cc48064428d703cee3e69b71e4703">getEvents</a>().<a class="code" href="../../d8/d2c/classCCopasiVector.html#acb26711fe72be0d2cb3a37c2fbcc031f">begin</a>(), eendit = dataModel.<a class="code" href="../../d4/d18/classCCopasiDataModel.html#a2e65952e0caf0b2709d381cf949fec69">getModel</a>()-&gt;<a class="code" href="../../d4/d04/classCModel.html#ad55cc48064428d703cee3e69b71e4703">getEvents</a>().<a class="code" href="../../d8/d2c/classCCopasiVector.html#a44c97a5f614c885495c437f2a8d20954">end</a>();</div>
<div class="line"><a name="l07609"></a><span class="lineno"> 7609</span>&#160;</div>
<div class="line"><a name="l07610"></a><span class="lineno"> 7610</span>&#160;  std::string key;</div>
<div class="line"><a name="l07611"></a><span class="lineno"> 7611</span>&#160;  <span class="keyword">const</span> <a class="code" href="../../d4/da8/classCCopasiObject.html">CCopasiObject</a>* pObject = NULL;</div>
<div class="line"><a name="l07612"></a><span class="lineno"> 7612</span>&#160;  std::string <a class="code" href="../../d4/d12/ObjectBrowserItem_8h.html#a2a3cae49e6781726af07e98e7d9f2e30">objectType</a>;</div>
<div class="line"><a name="l07613"></a><span class="lineno"> 7613</span>&#160;</div>
<div class="line"><a name="l07614"></a><span class="lineno"> 7614</span>&#160;  <span class="keywordflow">while</span> (eit != eendit &amp;&amp; result == <span class="keyword">false</span>)</div>
<div class="line"><a name="l07615"></a><span class="lineno"> 7615</span>&#160;    {</div>
<div class="line"><a name="l07616"></a><span class="lineno"> 7616</span>&#160;      <a class="code" href="../../d7/d08/classCCopasiVectorN.html">CCopasiVectorN&lt; CEventAssignment &gt;::const_iterator</a> itAssignment = (*eit)-&gt;getAssignments().<a class="code" href="../../d8/d2c/classCCopasiVector.html#acb26711fe72be0d2cb3a37c2fbcc031f">begin</a>();</div>
<div class="line"><a name="l07617"></a><span class="lineno"> 7617</span>&#160;      <a class="code" href="../../d7/d08/classCCopasiVectorN.html">CCopasiVectorN&lt; CEventAssignment &gt;::const_iterator</a> endAssignment = (*eit)-&gt;getAssignments().<a class="code" href="../../d8/d2c/classCCopasiVector.html#a44c97a5f614c885495c437f2a8d20954">end</a>();</div>
<div class="line"><a name="l07618"></a><span class="lineno"> 7618</span>&#160;</div>
<div class="line"><a name="l07619"></a><span class="lineno"> 7619</span>&#160;      <span class="keywordflow">while</span> (itAssignment != endAssignment &amp;&amp; result == <span class="keyword">false</span>)</div>
<div class="line"><a name="l07620"></a><span class="lineno"> 7620</span>&#160;        {</div>
<div class="line"><a name="l07621"></a><span class="lineno"> 7621</span>&#160;          key = (*itAssignment)-&gt;getTargetKey();</div>
<div class="line"><a name="l07622"></a><span class="lineno"> 7622</span>&#160;</div>
<div class="line"><a name="l07623"></a><span class="lineno"> 7623</span>&#160;          <span class="comment">//        now we have to get the object for the key, check if the object is a</span></div>
<div class="line"><a name="l07624"></a><span class="lineno"> 7624</span>&#160;          <span class="comment">//        compartment, species or global parameter,</span></div>
<div class="line"><a name="l07625"></a><span class="lineno"> 7625</span>&#160;          pObject = <a class="code" href="../../d3/db1/classCCopasiRootContainer.html#acfd634e031d3fb4358b24bfcdd26830e">CCopasiRootContainer::getKeyFactory</a>()-&gt;<a class="code" href="../../d8/d5c/classCKeyFactory.html#a49fdca380d37f99f3195103465ba4c0f">get</a>(key);</div>
<div class="line"><a name="l07626"></a><span class="lineno"> 7626</span>&#160;          assert(pObject != NULL);</div>
<div class="line"><a name="l07627"></a><span class="lineno"> 7627</span>&#160;          objectType = pObject-&gt;<a class="code" href="../../d4/da8/classCCopasiObject.html#a56790cb06e1980712599250f3e695c6a">getObjectType</a>();</div>
<div class="line"><a name="l07628"></a><span class="lineno"> 7628</span>&#160;</div>
<div class="line"><a name="l07629"></a><span class="lineno"> 7629</span>&#160;          <span class="keywordflow">if</span> (objectType == <span class="stringliteral">&quot;Reference&quot;</span>)</div>
<div class="line"><a name="l07630"></a><span class="lineno"> 7630</span>&#160;            {</div>
<div class="line"><a name="l07631"></a><span class="lineno"> 7631</span>&#160;              pObject = pObject-&gt;<a class="code" href="../../d4/da8/classCCopasiObject.html#a33bb5035eec7ebc5e3ecac4771316405">getObjectParent</a>();</div>
<div class="line"><a name="l07632"></a><span class="lineno"> 7632</span>&#160;              assert(pObject != NULL);</div>
<div class="line"><a name="l07633"></a><span class="lineno"> 7633</span>&#160;              objectType = pObject-&gt;<a class="code" href="../../d4/da8/classCCopasiObject.html#a56790cb06e1980712599250f3e695c6a">getObjectType</a>();</div>
<div class="line"><a name="l07634"></a><span class="lineno"> 7634</span>&#160;            }</div>
<div class="line"><a name="l07635"></a><span class="lineno"> 7635</span>&#160;</div>
<div class="line"><a name="l07636"></a><span class="lineno"> 7636</span>&#160;          <span class="keywordflow">if</span> (objectType == <span class="stringliteral">&quot;Compartment&quot;</span>)</div>
<div class="line"><a name="l07637"></a><span class="lineno"> 7637</span>&#160;            {</div>
<div class="line"><a name="l07638"></a><span class="lineno"> 7638</span>&#160;              result = <span class="keyword">true</span>;</div>
<div class="line"><a name="l07639"></a><span class="lineno"> 7639</span>&#160;            }</div>
<div class="line"><a name="l07640"></a><span class="lineno"> 7640</span>&#160;</div>
<div class="line"><a name="l07641"></a><span class="lineno"> 7641</span>&#160;          ++itAssignment;</div>
<div class="line"><a name="l07642"></a><span class="lineno"> 7642</span>&#160;        }</div>
<div class="line"><a name="l07643"></a><span class="lineno"> 7643</span>&#160;</div>
<div class="line"><a name="l07644"></a><span class="lineno"> 7644</span>&#160;      ++eit;</div>
<div class="line"><a name="l07645"></a><span class="lineno"> 7645</span>&#160;    }</div>
<div class="line"><a name="l07646"></a><span class="lineno"> 7646</span>&#160;</div>
<div class="line"><a name="l07647"></a><span class="lineno"> 7647</span>&#160;  <span class="keywordflow">return</span> result;</div>
<div class="line"><a name="l07648"></a><span class="lineno"> 7648</span>&#160;}</div>
<div class="ttc" id="classCCopasiVectorN_html"><div class="ttname"><a href="../../d7/d08/classCCopasiVectorN.html">CCopasiVectorN</a></div><div class="ttdef"><b>Definition:</b> <a href="../../dd/df7/CCopasiDataModel_8h_source.html#l00047">CCopasiDataModel.h:47</a></div></div>
<div class="ttc" id="classCSBMLExporter_html_aba959efc152f63f1709d5de60e97a651"><div class="ttname"><a href="../../df/d80/classCSBMLExporter.html#aba959efc152f63f1709d5de60e97a651">CSBMLExporter::mSBMLLevel</a></div><div class="ttdeci">unsigned int mSBMLLevel</div><div class="ttdef"><b>Definition:</b> <a href="../../da/d7f/CSBMLExporter_8h_source.html#l00056">CSBMLExporter.h:56</a></div></div>
<div class="ttc" id="classCSBMLExporter_html_a1541a69b36b8e864883e49f0de244f81"><div class="ttname"><a href="../../df/d80/classCSBMLExporter.html#a1541a69b36b8e864883e49f0de244f81">CSBMLExporter::mpSBMLDocument</a></div><div class="ttdeci">SBMLDocument * mpSBMLDocument</div><div class="ttdef"><b>Definition:</b> <a href="../../da/d7f/CSBMLExporter_8h_source.html#l00055">CSBMLExporter.h:55</a></div></div>
<div class="ttc" id="ObjectBrowserItem_8h_html_a2a3cae49e6781726af07e98e7d9f2e30"><div class="ttname"><a href="../../d4/d12/ObjectBrowserItem_8h.html#a2a3cae49e6781726af07e98e7d9f2e30">objectType</a></div><div class="ttdeci">objectType</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d12/ObjectBrowserItem_8h_source.html#l00056">ObjectBrowserItem.h:56</a></div></div>
<div class="ttc" id="classCModel_html_ad55cc48064428d703cee3e69b71e4703"><div class="ttname"><a href="../../d4/d04/classCModel.html#ad55cc48064428d703cee3e69b71e4703">CModel::getEvents</a></div><div class="ttdeci">CCopasiVectorN&lt; CEvent &gt; &amp; getEvents()</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d08/CModel_8cpp_source.html#l01110">CModel.cpp:1110</a></div></div>
<div class="ttc" id="classCCopasiDataModel_html_a2e65952e0caf0b2709d381cf949fec69"><div class="ttname"><a href="../../d4/d18/classCCopasiDataModel.html#a2e65952e0caf0b2709d381cf949fec69">CCopasiDataModel::getModel</a></div><div class="ttdeci">CModel * getModel()</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d38/CCopasiDataModel_8cpp_source.html#l01407">CCopasiDataModel.cpp:1407</a></div></div>
<div class="ttc" id="classCKeyFactory_html_a49fdca380d37f99f3195103465ba4c0f"><div class="ttname"><a href="../../d8/d5c/classCKeyFactory.html#a49fdca380d37f99f3195103465ba4c0f">CKeyFactory::get</a></div><div class="ttdeci">CCopasiObject * get(const std::string &amp;key)</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dc8/CKeyFactory_8cpp_source.html#l00235">CKeyFactory.cpp:235</a></div></div>
<div class="ttc" id="classCCopasiVector_html_acb26711fe72be0d2cb3a37c2fbcc031f"><div class="ttname"><a href="../../d8/d2c/classCCopasiVector.html#acb26711fe72be0d2cb3a37c2fbcc031f">CCopasiVector::begin</a></div><div class="ttdeci">iterator begin()</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d51/CCopasiVector_8h_source.html#l00185">CCopasiVector.h:185</a></div></div>
<div class="ttc" id="classCCopasiObject_html"><div class="ttname"><a href="../../d4/da8/classCCopasiObject.html">CCopasiObject</a></div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d9f/CCopasiObject_8h_source.html#l00216">CCopasiObject.h:216</a></div></div>
<div class="ttc" id="classCCopasiObject_html_a56790cb06e1980712599250f3e695c6a"><div class="ttname"><a href="../../d4/da8/classCCopasiObject.html#a56790cb06e1980712599250f3e695c6a">CCopasiObject::getObjectType</a></div><div class="ttdeci">const std::string &amp; getObjectType() const </div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d22/CCopasiObject_8cpp_source.html#l00260">CCopasiObject.cpp:260</a></div></div>
<div class="ttc" id="classCModelEntity_html_a86cb8e66e255d66db258324064efc78aa3bfd50e7d8e4dd09716a51e0ca62dedb"><div class="ttname"><a href="../../d0/da0/classCModelEntity.html#a86cb8e66e255d66db258324064efc78aa3bfd50e7d8e4dd09716a51e0ca62dedb">CModelEntity::ASSIGNMENT</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d1/da3/CModelValue_8h_source.html#l00056">CModelValue.h:56</a></div></div>
<div class="ttc" id="classCCopasiVectorNS_html"><div class="ttname"><a href="../../d9/db9/classCCopasiVectorNS.html">CCopasiVectorNS</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d51/CCopasiVector_8h_source.html#l00800">CCopasiVector.h:800</a></div></div>
<div class="ttc" id="classCCopasiVector_html_a44c97a5f614c885495c437f2a8d20954"><div class="ttname"><a href="../../d8/d2c/classCCopasiVector.html#a44c97a5f614c885495c437f2a8d20954">CCopasiVector::end</a></div><div class="ttdeci">iterator end()</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d51/CCopasiVector_8h_source.html#l00191">CCopasiVector.h:191</a></div></div>
<div class="ttc" id="classCSBMLExporter_html_af1bc50a307a46adcce8aa8abde6dab96"><div class="ttname"><a href="../../df/d80/classCSBMLExporter.html#af1bc50a307a46adcce8aa8abde6dab96">CSBMLExporter::mSBMLVersion</a></div><div class="ttdeci">unsigned int mSBMLVersion</div><div class="ttdef"><b>Definition:</b> <a href="../../da/d7f/CSBMLExporter_8h_source.html#l00057">CSBMLExporter.h:57</a></div></div>
<div class="ttc" id="classCModelEntity_html_a86cb8e66e255d66db258324064efc78a"><div class="ttname"><a href="../../d0/da0/classCModelEntity.html#a86cb8e66e255d66db258324064efc78a">CModelEntity::Status</a></div><div class="ttdeci">Status</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/da3/CModelValue_8h_source.html#l00053">CModelValue.h:53</a></div></div>
<div class="ttc" id="classCModel_html_a7d405db8dc8120b942aa0ec1e80db399"><div class="ttname"><a href="../../d4/d04/classCModel.html#a7d405db8dc8120b942aa0ec1e80db399">CModel::getCompartments</a></div><div class="ttdeci">CCopasiVectorNS&lt; CCompartment &gt; &amp; getCompartments()</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d08/CModel_8cpp_source.html#l01145">CModel.cpp:1145</a></div></div>
<div class="ttc" id="classCCopasiRootContainer_html_acfd634e031d3fb4358b24bfcdd26830e"><div class="ttname"><a href="../../d3/db1/classCCopasiRootContainer.html#acfd634e031d3fb4358b24bfcdd26830e">CCopasiRootContainer::getKeyFactory</a></div><div class="ttdeci">static CKeyFactory * getKeyFactory()</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/d4b/CCopasiRootContainer_8cpp_source.html#l00163">CCopasiRootContainer.cpp:163</a></div></div>
<div class="ttc" id="classCModelEntity_html_a86cb8e66e255d66db258324064efc78aa3c62c1c3a449e106a5f1eb2f4ff01ec3"><div class="ttname"><a href="../../d0/da0/classCModelEntity.html#a86cb8e66e255d66db258324064efc78aa3c62c1c3a449e106a5f1eb2f4ff01ec3">CModelEntity::ODE</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d1/da3/CModelValue_8h_source.html#l00060">CModelValue.h:60</a></div></div>
<div class="ttc" id="classCCopasiObject_html_a33bb5035eec7ebc5e3ecac4771316405"><div class="ttname"><a href="../../d4/da8/classCCopasiObject.html#a33bb5035eec7ebc5e3ecac4771316405">CCopasiObject::getObjectParent</a></div><div class="ttdeci">CCopasiContainer * getObjectParent() const </div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d22/CCopasiObject_8cpp_source.html#l00276">CCopasiObject.cpp:276</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a2ed7dc522ad9ad1a743a7c02d976f519"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">ASTNode * CSBMLExporter::isDividedByVolume </td>
          <td>(</td>
          <td class="paramtype">const ASTNode *&#160;</td>
          <td class="paramname"><em>pRootNode</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::string &amp;&#160;</td>
          <td class="paramname"><em>compartmentId</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>checks if the given ASTNode based tree is divided by the volume of the compartment identified by the given id string. </p>

<p>Definition at line <a class="el" href="../../d5/d2f/CSBMLExporter_8cpp_source.html#l04738">4738</a> of file <a class="el" href="../../d5/d2f/CSBMLExporter_8cpp_source.html">CSBMLExporter.cpp</a>.</p>

<p>References <a class="el" href="../../d7/de4/CQTSSAResultSubWidget_8cpp.html#a015b908fb74f75922e0bc448af09d9d1">pResult</a>.</p>

<p>Referenced by <a class="el" href="../../df/d80/classCSBMLExporter.html#a1ac2102cd8012a24253ac6edd0379198">createKineticLaw()</a>.</p>
<div class="fragment"><div class="line"><a name="l04739"></a><span class="lineno"> 4739</span>&#160;{</div>
<div class="line"><a name="l04740"></a><span class="lineno"> 4740</span>&#160;  ASTNode* <a class="code" href="../../d7/de4/CQTSSAResultSubWidget_8cpp.html#a015b908fb74f75922e0bc448af09d9d1">pResult</a> = NULL;</div>
<div class="line"><a name="l04741"></a><span class="lineno"> 4741</span>&#160;</div>
<div class="line"><a name="l04742"></a><span class="lineno"> 4742</span>&#160;  <span class="keywordflow">if</span> (pRootNode-&gt;getType() == AST_DIVIDE || pRootNode-&gt;getType() == AST_TIMES)</div>
<div class="line"><a name="l04743"></a><span class="lineno"> 4743</span>&#160;    {</div>
<div class="line"><a name="l04744"></a><span class="lineno"> 4744</span>&#160;      ASTNode* pTmpResultNode = <span class="keyword">new</span> <a class="code" href="../../d5/dcc/classConverterASTNode.html">ConverterASTNode</a>(pRootNode-&gt;getType());</div>
<div class="line"><a name="l04745"></a><span class="lineno"> 4745</span>&#160;      <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> i, iMax = pRootNode-&gt;getNumChildren();</div>
<div class="line"><a name="l04746"></a><span class="lineno"> 4746</span>&#160;      <span class="keywordtype">bool</span> found = <span class="keyword">false</span>;</div>
<div class="line"><a name="l04747"></a><span class="lineno"> 4747</span>&#160;</div>
<div class="line"><a name="l04748"></a><span class="lineno"> 4748</span>&#160;      <span class="keywordflow">for</span> (i = 0; i &lt; iMax; ++i)</div>
<div class="line"><a name="l04749"></a><span class="lineno"> 4749</span>&#160;        {</div>
<div class="line"><a name="l04750"></a><span class="lineno"> 4750</span>&#160;          <span class="keyword">const</span> ASTNode* pChild = pRootNode-&gt;getChild(i);</div>
<div class="line"><a name="l04751"></a><span class="lineno"> 4751</span>&#160;</div>
<div class="line"><a name="l04752"></a><span class="lineno"> 4752</span>&#160;          <span class="keywordflow">if</span> (pRootNode-&gt;getType() == AST_DIVIDE &amp;&amp; pChild-&gt;getType() == AST_NAME &amp;&amp; pChild-&gt;getName() == compartmentId)</div>
<div class="line"><a name="l04753"></a><span class="lineno"> 4753</span>&#160;            {</div>
<div class="line"><a name="l04754"></a><span class="lineno"> 4754</span>&#160;              found = <span class="keyword">true</span>;</div>
<div class="line"><a name="l04755"></a><span class="lineno"> 4755</span>&#160;            }</div>
<div class="line"><a name="l04756"></a><span class="lineno"> 4756</span>&#160;          <span class="keywordflow">else</span> <span class="keywordflow">if</span> ((!found) &amp;&amp; (pChild-&gt;getType() == AST_DIVIDE || pChild-&gt;getType() == AST_TIMES))</div>
<div class="line"><a name="l04757"></a><span class="lineno"> 4757</span>&#160;            {</div>
<div class="line"><a name="l04758"></a><span class="lineno"> 4758</span>&#160;              ASTNode* pSubResult = <a class="code" href="../../df/d80/classCSBMLExporter.html#a2ed7dc522ad9ad1a743a7c02d976f519">CSBMLExporter::isDividedByVolume</a>(pChild, compartmentId);</div>
<div class="line"><a name="l04759"></a><span class="lineno"> 4759</span>&#160;</div>
<div class="line"><a name="l04760"></a><span class="lineno"> 4760</span>&#160;              <span class="keywordflow">if</span> (pSubResult != NULL)</div>
<div class="line"><a name="l04761"></a><span class="lineno"> 4761</span>&#160;                {</div>
<div class="line"><a name="l04762"></a><span class="lineno"> 4762</span>&#160;                  found = <span class="keyword">true</span>;</div>
<div class="line"><a name="l04763"></a><span class="lineno"> 4763</span>&#160;</div>
<div class="line"><a name="l04764"></a><span class="lineno"> 4764</span>&#160;                  <span class="keywordflow">if</span> (pSubResult-&gt;getNumChildren() &gt; 1)</div>
<div class="line"><a name="l04765"></a><span class="lineno"> 4765</span>&#160;                    {</div>
<div class="line"><a name="l04766"></a><span class="lineno"> 4766</span>&#160;                      pTmpResultNode-&gt;addChild(pSubResult);</div>
<div class="line"><a name="l04767"></a><span class="lineno"> 4767</span>&#160;                    }</div>
<div class="line"><a name="l04768"></a><span class="lineno"> 4768</span>&#160;                  <span class="keywordflow">else</span> <span class="keywordflow">if</span> (pSubResult-&gt;getNumChildren() == 1)</div>
<div class="line"><a name="l04769"></a><span class="lineno"> 4769</span>&#160;                    {</div>
<div class="line"><a name="l04770"></a><span class="lineno"> 4770</span>&#160;                      pTmpResultNode-&gt;addChild(static_cast&lt;ASTNode*&gt;(static_cast&lt;ConverterASTNode*&gt;(pSubResult)-&gt;removeChild(0)));</div>
<div class="line"><a name="l04771"></a><span class="lineno"> 4771</span>&#160;                      <span class="keyword">delete</span> pSubResult;</div>
<div class="line"><a name="l04772"></a><span class="lineno"> 4772</span>&#160;                    }</div>
<div class="line"><a name="l04773"></a><span class="lineno"> 4773</span>&#160;                  <span class="keywordflow">else</span></div>
<div class="line"><a name="l04774"></a><span class="lineno"> 4774</span>&#160;                    {</div>
<div class="line"><a name="l04775"></a><span class="lineno"> 4775</span>&#160;                      <span class="keyword">delete</span> pSubResult;</div>
<div class="line"><a name="l04776"></a><span class="lineno"> 4776</span>&#160;                    }</div>
<div class="line"><a name="l04777"></a><span class="lineno"> 4777</span>&#160;                }</div>
<div class="line"><a name="l04778"></a><span class="lineno"> 4778</span>&#160;              <span class="keywordflow">else</span></div>
<div class="line"><a name="l04779"></a><span class="lineno"> 4779</span>&#160;                {</div>
<div class="line"><a name="l04780"></a><span class="lineno"> 4780</span>&#160;                  pTmpResultNode-&gt;addChild(<span class="keyword">new</span> <a class="code" href="../../d5/dcc/classConverterASTNode.html">ConverterASTNode</a>(*pChild));</div>
<div class="line"><a name="l04781"></a><span class="lineno"> 4781</span>&#160;                }</div>
<div class="line"><a name="l04782"></a><span class="lineno"> 4782</span>&#160;            }</div>
<div class="line"><a name="l04783"></a><span class="lineno"> 4783</span>&#160;          <span class="keywordflow">else</span></div>
<div class="line"><a name="l04784"></a><span class="lineno"> 4784</span>&#160;            {</div>
<div class="line"><a name="l04785"></a><span class="lineno"> 4785</span>&#160;              pTmpResultNode-&gt;addChild(<span class="keyword">new</span> <a class="code" href="../../d5/dcc/classConverterASTNode.html">ConverterASTNode</a>(*pChild));</div>
<div class="line"><a name="l04786"></a><span class="lineno"> 4786</span>&#160;            }</div>
<div class="line"><a name="l04787"></a><span class="lineno"> 4787</span>&#160;        }</div>
<div class="line"><a name="l04788"></a><span class="lineno"> 4788</span>&#160;</div>
<div class="line"><a name="l04789"></a><span class="lineno"> 4789</span>&#160;      <span class="keywordflow">if</span> (found)</div>
<div class="line"><a name="l04790"></a><span class="lineno"> 4790</span>&#160;        {</div>
<div class="line"><a name="l04791"></a><span class="lineno"> 4791</span>&#160;          pResult = pTmpResultNode;</div>
<div class="line"><a name="l04792"></a><span class="lineno"> 4792</span>&#160;        }</div>
<div class="line"><a name="l04793"></a><span class="lineno"> 4793</span>&#160;      <span class="keywordflow">else</span></div>
<div class="line"><a name="l04794"></a><span class="lineno"> 4794</span>&#160;        {</div>
<div class="line"><a name="l04795"></a><span class="lineno"> 4795</span>&#160;          <span class="keyword">delete</span> pTmpResultNode;</div>
<div class="line"><a name="l04796"></a><span class="lineno"> 4796</span>&#160;        }</div>
<div class="line"><a name="l04797"></a><span class="lineno"> 4797</span>&#160;    }</div>
<div class="line"><a name="l04798"></a><span class="lineno"> 4798</span>&#160;</div>
<div class="line"><a name="l04799"></a><span class="lineno"> 4799</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="../../d7/de4/CQTSSAResultSubWidget_8cpp.html#a015b908fb74f75922e0bc448af09d9d1">pResult</a>;</div>
<div class="line"><a name="l04800"></a><span class="lineno"> 4800</span>&#160;}</div>
<div class="ttc" id="classConverterASTNode_html"><div class="ttname"><a href="../../d5/dcc/classConverterASTNode.html">ConverterASTNode</a></div><div class="ttdef"><b>Definition:</b> <a href="../../de/d6b/ConverterASTNode_8h_source.html#l00023">ConverterASTNode.h:23</a></div></div>
<div class="ttc" id="classCSBMLExporter_html_a2ed7dc522ad9ad1a743a7c02d976f519"><div class="ttname"><a href="../../df/d80/classCSBMLExporter.html#a2ed7dc522ad9ad1a743a7c02d976f519">CSBMLExporter::isDividedByVolume</a></div><div class="ttdeci">static ASTNode * isDividedByVolume(const ASTNode *pRootNode, const std::string &amp;compartmentId)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d2f/CSBMLExporter_8cpp_source.html#l04738">CSBMLExporter.cpp:4738</a></div></div>
<div class="ttc" id="CQTSSAResultSubWidget_8cpp_html_a015b908fb74f75922e0bc448af09d9d1"><div class="ttname"><a href="../../d7/de4/CQTSSAResultSubWidget_8cpp.html#a015b908fb74f75922e0bc448af09d9d1">pResult</a></div><div class="ttdeci">const CArrayAnnotation * pResult</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/de4/CQTSSAResultSubWidget_8cpp_source.html#l00028">CQTSSAResultSubWidget.cpp:28</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a1168b4ab9a504c5a00b8914f99f49958"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d3/d05/CChemEqParser__yacc_8cpp.html#aa76fec002b4ba91adc88f68d56ba730c">void</a> CSBMLExporter::isEventAssignmentSBMLCompatible </td>
          <td>(</td>
          <td class="paramtype">std::string &amp;&#160;</td>
          <td class="paramname"><em>key</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="../../dc/dbd/classCExpression.html">CExpression</a> *&#160;</td>
          <td class="paramname"><em>pExpression</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="../../d4/d18/classCCopasiDataModel.html">CCopasiDataModel</a> &amp;&#160;</td>
          <td class="paramname"><em>dataModel</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned int&#160;</td>
          <td class="paramname"><em>sbmlLevel</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned int&#160;</td>
          <td class="paramname"><em>sbmlVersion</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::string &amp;&#160;</td>
          <td class="paramname"><em>eventName</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::vector&lt; <a class="el" href="../../d7/de3/classSBMLIncompatibility.html">SBMLIncompatibility</a> &gt; &amp;&#160;</td>
          <td class="paramname"><em>result</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>This method checks if the given event assignment object is SBML compatible. </p>

<p>Definition at line <a class="el" href="../../d5/d2f/CSBMLExporter_8cpp_source.html#l07264">7264</a> of file <a class="el" href="../../d5/d2f/CSBMLExporter_8cpp_source.html">CSBMLExporter.cpp</a>.</p>

<p>References <a class="el" href="../../d0/da0/classCModelEntity.html#a86cb8e66e255d66db258324064efc78aa3bfd50e7d8e4dd09716a51e0ca62dedb">CModelEntity::ASSIGNMENT</a>, <a class="el" href="../../df/d80/classCSBMLExporter.html#aa843eb9b5d1ae41d5dd2be78a864f2d5">findDirectlyUsedFunctions()</a>, <a class="el" href="../../d0/da0/classCModelEntity.html#a86cb8e66e255d66db258324064efc78aa8751c35af95ea9346908d9835a1b0570">CModelEntity::FIXED</a>, <a class="el" href="../../d8/d5c/classCKeyFactory.html#a49fdca380d37f99f3195103465ba4c0f">CKeyFactory::get()</a>, <a class="el" href="../../d3/db1/classCCopasiRootContainer.html#acfd634e031d3fb4358b24bfcdd26830e">CCopasiRootContainer::getKeyFactory()</a>, <a class="el" href="../../d4/da8/classCCopasiObject.html#a879d6756b51f6b58d307940e1343bd10">CCopasiObject::getObjectName()</a>, <a class="el" href="../../d4/da8/classCCopasiObject.html#a56790cb06e1980712599250f3e695c6a">CCopasiObject::getObjectType()</a>, <a class="el" href="../../d1/d50/classCEvaluationTree.html#a542e592cb978819d30a6da627411ba91">CEvaluationTree::getRoot()</a>, <a class="el" href="../../d0/da0/classCModelEntity.html#ad6bdcaa2e8887271f61fc363262cc9ed">CModelEntity::getStatus()</a>, <a class="el" href="../../d8/d9f/classCEvaluationNode.html#ae24b55d848d78cec0a359fd199c76562">CEvaluationNode::getType()</a>, <a class="el" href="../../d8/d9f/classCEvaluationNode.html#aeef59b7ae37d1323a4900e5d19140491a7492325b731420bde92a0fa2620dde0c">CEvaluationNode::INVALID</a>, <a class="el" href="../../df/d80/classCSBMLExporter.html#aefa0189aa8976611a461b6de4142fdc7">isExpressionSBMLCompatible()</a>, <a class="el" href="../../d2/df0/classCCopasiMessage.html#a2ea1ed32494ff5c8d84353efcec7a5e4aa2830ad243d8f7b958b891ffe3cf02db">CCopasiMessage::RAW</a>, and <a class="el" href="../../d8/d9f/classCEvaluationNode.html#a9e5fcf60f22d2701417f90756847d37b">CEvaluationNode::type()</a>.</p>

<p>Referenced by <a class="el" href="../../df/d80/classCSBMLExporter.html#a7eae0b3b6b933c2807878441b456acf3">isEventSBMLCompatible()</a>.</p>
<div class="fragment"><div class="line"><a name="l07265"></a><span class="lineno"> 7265</span>&#160;{</div>
<div class="line"><a name="l07266"></a><span class="lineno"> 7266</span>&#160;  <span class="comment">// check if the key points to a compartment, species or global value</span></div>
<div class="line"><a name="l07267"></a><span class="lineno"> 7267</span>&#160;  <span class="keyword">const</span> <a class="code" href="../../d4/da8/classCCopasiObject.html">CCopasiObject</a>* pObject = <a class="code" href="../../d3/db1/classCCopasiRootContainer.html#acfd634e031d3fb4358b24bfcdd26830e">CCopasiRootContainer::getKeyFactory</a>()-&gt;<a class="code" href="../../d8/d5c/classCKeyFactory.html#a49fdca380d37f99f3195103465ba4c0f">get</a>(key);</div>
<div class="line"><a name="l07268"></a><span class="lineno"> 7268</span>&#160;  assert(pObject != NULL);</div>
<div class="line"><a name="l07269"></a><span class="lineno"> 7269</span>&#160;  <span class="keyword">const</span> <a class="code" href="../../d0/da0/classCModelEntity.html">CModelEntity</a>* pME = <span class="keyword">dynamic_cast&lt;</span><span class="keyword">const </span><a class="code" href="../../d0/da0/classCModelEntity.html">CModelEntity</a>*<span class="keyword">&gt;</span>(pObject);</div>
<div class="line"><a name="l07270"></a><span class="lineno"> 7270</span>&#160;</div>
<div class="line"><a name="l07271"></a><span class="lineno"> 7271</span>&#160;  <span class="keywordflow">if</span> (pME == NULL)</div>
<div class="line"><a name="l07272"></a><span class="lineno"> 7272</span>&#160;    {</div>
<div class="line"><a name="l07273"></a><span class="lineno"> 7273</span>&#160;      <span class="comment">// create an error message since the object is not a</span></div>
<div class="line"><a name="l07274"></a><span class="lineno"> 7274</span>&#160;      <span class="comment">// compartment, species or model value</span></div>
<div class="line"><a name="l07275"></a><span class="lineno"> 7275</span>&#160;    }</div>
<div class="line"><a name="l07276"></a><span class="lineno"> 7276</span>&#160;  <span class="keywordflow">else</span></div>
<div class="line"><a name="l07277"></a><span class="lineno"> 7277</span>&#160;    {</div>
<div class="line"><a name="l07278"></a><span class="lineno"> 7278</span>&#160;      std::string <a class="code" href="../../d4/d12/ObjectBrowserItem_8h.html#a2a3cae49e6781726af07e98e7d9f2e30">objectType</a> = pME-&gt;<a class="code" href="../../d4/da8/classCCopasiObject.html#a56790cb06e1980712599250f3e695c6a">getObjectType</a>();</div>
<div class="line"><a name="l07279"></a><span class="lineno"> 7279</span>&#160;</div>
<div class="line"><a name="l07280"></a><span class="lineno"> 7280</span>&#160;      <span class="keywordflow">if</span> (objectType != <span class="stringliteral">&quot;Compartment&quot;</span> &amp;&amp; objectType != <span class="stringliteral">&quot;Metabolite&quot;</span> &amp;&amp; objectType != <span class="stringliteral">&quot;ModelValue&quot;</span>)</div>
<div class="line"><a name="l07281"></a><span class="lineno"> 7281</span>&#160;        {</div>
<div class="line"><a name="l07282"></a><span class="lineno"> 7282</span>&#160;          <span class="comment">// create an error message since the object is not a</span></div>
<div class="line"><a name="l07283"></a><span class="lineno"> 7283</span>&#160;          <span class="comment">// compartment, species or model value</span></div>
<div class="line"><a name="l07284"></a><span class="lineno"> 7284</span>&#160;          result.push_back(<a class="code" href="../../d7/de3/classSBMLIncompatibility.html">SBMLIncompatibility</a>(9, pObject-&gt;<a class="code" href="../../d4/da8/classCCopasiObject.html#a879d6756b51f6b58d307940e1343bd10">getObjectName</a>().c_str(), std::string(<span class="stringliteral">&quot;event called \&quot;&quot;</span> + eventName + <span class="stringliteral">&quot;\&quot;&quot;</span>).c_str()));</div>
<div class="line"><a name="l07285"></a><span class="lineno"> 7285</span>&#160;        }</div>
<div class="line"><a name="l07286"></a><span class="lineno"> 7286</span>&#160;      <span class="keywordflow">else</span></div>
<div class="line"><a name="l07287"></a><span class="lineno"> 7287</span>&#160;        {</div>
<div class="line"><a name="l07288"></a><span class="lineno"> 7288</span>&#160;          <span class="comment">// make sure the component that is assigned to is not constant</span></div>
<div class="line"><a name="l07289"></a><span class="lineno"> 7289</span>&#160;          <span class="keywordflow">if</span> (pME-&gt;<a class="code" href="../../d0/da0/classCModelEntity.html#ad6bdcaa2e8887271f61fc363262cc9ed">getStatus</a>() == <a class="code" href="../../d0/da0/classCModelEntity.html#a86cb8e66e255d66db258324064efc78aa8751c35af95ea9346908d9835a1b0570">CModelEntity::FIXED</a>)</div>
<div class="line"><a name="l07290"></a><span class="lineno"> 7290</span>&#160;            {</div>
<div class="line"><a name="l07291"></a><span class="lineno"> 7291</span>&#160;              <span class="comment">// create an nerror message since the entity may not be</span></div>
<div class="line"><a name="l07292"></a><span class="lineno"> 7292</span>&#160;              <span class="comment">// constant</span></div>
<div class="line"><a name="l07293"></a><span class="lineno"> 7293</span>&#160;              <span class="comment">// This is a raw message since I do expect COPASI to have the same</span></div>
<div class="line"><a name="l07294"></a><span class="lineno"> 7294</span>&#160;              <span class="comment">// restriction as SBML, so this should never happen</span></div>
<div class="line"><a name="l07295"></a><span class="lineno"> 7295</span>&#160;              <a class="code" href="../../d2/df0/classCCopasiMessage.html">CCopasiMessage</a>(<a class="code" href="../../d2/df0/classCCopasiMessage.html#a2ea1ed32494ff5c8d84353efcec7a5e4aa2830ad243d8f7b958b891ffe3cf02db">CCopasiMessage::RAW</a>, std::string(<span class="stringliteral">&quot;Error. Event assignment to constant object named \&quot;&quot;</span> + pObject-&gt;<a class="code" href="../../d4/da8/classCCopasiObject.html#a879d6756b51f6b58d307940e1343bd10">getObjectName</a>() + <span class="stringliteral">&quot;\&quot; in event named \&quot;&quot;</span> + eventName + <span class="stringliteral">&quot;\&quot;.&quot;</span>).c_str());</div>
<div class="line"><a name="l07296"></a><span class="lineno"> 7296</span>&#160;            }</div>
<div class="line"><a name="l07297"></a><span class="lineno"> 7297</span>&#160;          <span class="comment">// make sure there is no assignment rule for the variable</span></div>
<div class="line"><a name="l07298"></a><span class="lineno"> 7298</span>&#160;          <span class="keywordflow">else</span> <span class="keywordflow">if</span> (pME-&gt;<a class="code" href="../../d0/da0/classCModelEntity.html#ad6bdcaa2e8887271f61fc363262cc9ed">getStatus</a>() == <a class="code" href="../../d0/da0/classCModelEntity.html#a86cb8e66e255d66db258324064efc78aa3bfd50e7d8e4dd09716a51e0ca62dedb">CModelEntity::ASSIGNMENT</a>)</div>
<div class="line"><a name="l07299"></a><span class="lineno"> 7299</span>&#160;            {</div>
<div class="line"><a name="l07300"></a><span class="lineno"> 7300</span>&#160;              <span class="comment">// create an nerror message since the entity may not be</span></div>
<div class="line"><a name="l07301"></a><span class="lineno"> 7301</span>&#160;              <span class="comment">// determined by an assignment</span></div>
<div class="line"><a name="l07302"></a><span class="lineno"> 7302</span>&#160;              <span class="comment">// This is a raw message since I do expect COPASI to have the same</span></div>
<div class="line"><a name="l07303"></a><span class="lineno"> 7303</span>&#160;              <span class="comment">// restriction as SBML, so this should never happen</span></div>
<div class="line"><a name="l07304"></a><span class="lineno"> 7304</span>&#160;              <a class="code" href="../../d2/df0/classCCopasiMessage.html">CCopasiMessage</a>(<a class="code" href="../../d2/df0/classCCopasiMessage.html#a2ea1ed32494ff5c8d84353efcec7a5e4aa2830ad243d8f7b958b891ffe3cf02db">CCopasiMessage::RAW</a>, std::string(<span class="stringliteral">&quot;Error. Event assignment to object called \&quot;&quot;</span> + pObject-&gt;<a class="code" href="../../d4/da8/classCCopasiObject.html#a879d6756b51f6b58d307940e1343bd10">getObjectName</a>() + <span class="stringliteral">&quot;\&quot; in event named \&quot;&quot;</span> + eventName + <span class="stringliteral">&quot;\&quot;, which is determined by an assignment rule.&quot;</span>).c_str());</div>
<div class="line"><a name="l07305"></a><span class="lineno"> 7305</span>&#160;            }</div>
<div class="line"><a name="l07306"></a><span class="lineno"> 7306</span>&#160;</div>
<div class="line"><a name="l07307"></a><span class="lineno"> 7307</span>&#160;          <span class="comment">// check if the expression only references allowed model entities</span></div>
<div class="line"><a name="l07308"></a><span class="lineno"> 7308</span>&#160;          <span class="keywordflow">if</span> (pExpression != NULL &amp;&amp; <a class="code" href="../../d8/d9f/classCEvaluationNode.html#a9e5fcf60f22d2701417f90756847d37b">CEvaluationNode::type</a>(pExpression-&gt;<a class="code" href="../../d1/d50/classCEvaluationTree.html#a542e592cb978819d30a6da627411ba91">getRoot</a>()-&gt;<a class="code" href="../../d8/d9f/classCEvaluationNode.html#ae24b55d848d78cec0a359fd199c76562">getType</a>()) != <a class="code" href="../../d8/d9f/classCEvaluationNode.html#aeef59b7ae37d1323a4900e5d19140491a7492325b731420bde92a0fa2620dde0c">CEvaluationNode::INVALID</a>)</div>
<div class="line"><a name="l07309"></a><span class="lineno"> 7309</span>&#160;            {</div>
<div class="line"><a name="l07310"></a><span class="lineno"> 7310</span>&#160;</div>
<div class="line"><a name="l07311"></a><span class="lineno"> 7311</span>&#160;              std::set&lt;std::string&gt; usedFunctionNames;</div>
<div class="line"><a name="l07312"></a><span class="lineno"> 7312</span>&#160;              <a class="code" href="../../df/d80/classCSBMLExporter.html#aefa0189aa8976611a461b6de4142fdc7">CSBMLExporter::isExpressionSBMLCompatible</a>(*pExpression, dataModel, sbmlLevel, sbmlVersion, result, std::string(<span class="stringliteral">&quot;assignment expression for variable named \&quot;&quot;</span> + pObject-&gt;<a class="code" href="../../d4/da8/classCCopasiObject.html#a879d6756b51f6b58d307940e1343bd10">getObjectName</a>() + <span class="stringliteral">&quot;\&quot; in event named \&quot;&quot;</span> + eventName + <span class="stringliteral">&quot;\&quot;&quot;</span>).c_str());</div>
<div class="line"><a name="l07313"></a><span class="lineno"> 7313</span>&#160;              <a class="code" href="../../df/d80/classCSBMLExporter.html#aa843eb9b5d1ae41d5dd2be78a864f2d5">CSBMLExporter::findDirectlyUsedFunctions</a>(pExpression-&gt;<a class="code" href="../../d1/d50/classCEvaluationTree.html#a542e592cb978819d30a6da627411ba91">getRoot</a>(), usedFunctionNames);</div>
<div class="line"><a name="l07314"></a><span class="lineno"> 7314</span>&#160;            }</div>
<div class="line"><a name="l07315"></a><span class="lineno"> 7315</span>&#160;          <span class="keywordflow">else</span></div>
<div class="line"><a name="l07316"></a><span class="lineno"> 7316</span>&#160;            {</div>
<div class="line"><a name="l07317"></a><span class="lineno"> 7317</span>&#160;              <span class="comment">// This is a raw message since I do expect COPASI to always have</span></div>
<div class="line"><a name="l07318"></a><span class="lineno"> 7318</span>&#160;              <span class="comment">// an assignment expression</span></div>
<div class="line"><a name="l07319"></a><span class="lineno"> 7319</span>&#160;              <a class="code" href="../../d2/df0/classCCopasiMessage.html">CCopasiMessage</a>(<a class="code" href="../../d2/df0/classCCopasiMessage.html#a2ea1ed32494ff5c8d84353efcec7a5e4aa2830ad243d8f7b958b891ffe3cf02db">CCopasiMessage::RAW</a>, std::string(<span class="stringliteral">&quot;Error. No expression set for event assignment to object called \&quot;&quot;</span> + pObject-&gt;<a class="code" href="../../d4/da8/classCCopasiObject.html#a879d6756b51f6b58d307940e1343bd10">getObjectName</a>() + <span class="stringliteral">&quot;\&quot; in event named \&quot;&quot;</span> + eventName + <span class="stringliteral">&quot;\&quot;.&quot;</span>).c_str());</div>
<div class="line"><a name="l07320"></a><span class="lineno"> 7320</span>&#160;            }</div>
<div class="line"><a name="l07321"></a><span class="lineno"> 7321</span>&#160;        }</div>
<div class="line"><a name="l07322"></a><span class="lineno"> 7322</span>&#160;    }</div>
<div class="line"><a name="l07323"></a><span class="lineno"> 7323</span>&#160;}</div>
<div class="ttc" id="classCSBMLExporter_html_aa843eb9b5d1ae41d5dd2be78a864f2d5"><div class="ttname"><a href="../../df/d80/classCSBMLExporter.html#aa843eb9b5d1ae41d5dd2be78a864f2d5">CSBMLExporter::findDirectlyUsedFunctions</a></div><div class="ttdeci">static void findDirectlyUsedFunctions(const CEvaluationNode *pRootNode, std::set&lt; std::string &gt; &amp;result)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d2f/CSBMLExporter_8cpp_source.html#l04927">CSBMLExporter.cpp:4927</a></div></div>
<div class="ttc" id="ObjectBrowserItem_8h_html_a2a3cae49e6781726af07e98e7d9f2e30"><div class="ttname"><a href="../../d4/d12/ObjectBrowserItem_8h.html#a2a3cae49e6781726af07e98e7d9f2e30">objectType</a></div><div class="ttdeci">objectType</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d12/ObjectBrowserItem_8h_source.html#l00056">ObjectBrowserItem.h:56</a></div></div>
<div class="ttc" id="classCCopasiMessage_html_a2ea1ed32494ff5c8d84353efcec7a5e4aa2830ad243d8f7b958b891ffe3cf02db"><div class="ttname"><a href="../../d2/df0/classCCopasiMessage.html#a2ea1ed32494ff5c8d84353efcec7a5e4aa2830ad243d8f7b958b891ffe3cf02db">CCopasiMessage::RAW</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d2d/CCopasiMessage_8h_source.html#l00083">CCopasiMessage.h:83</a></div></div>
<div class="ttc" id="classCCopasiObject_html_a879d6756b51f6b58d307940e1343bd10"><div class="ttname"><a href="../../d4/da8/classCCopasiObject.html#a879d6756b51f6b58d307940e1343bd10">CCopasiObject::getObjectName</a></div><div class="ttdeci">const std::string &amp; getObjectName() const </div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d22/CCopasiObject_8cpp_source.html#l00258">CCopasiObject.cpp:258</a></div></div>
<div class="ttc" id="classCModelEntity_html"><div class="ttname"><a href="../../d0/da0/classCModelEntity.html">CModelEntity</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d1/da3/CModelValue_8h_source.html#l00039">CModelValue.h:39</a></div></div>
<div class="ttc" id="classCKeyFactory_html_a49fdca380d37f99f3195103465ba4c0f"><div class="ttname"><a href="../../d8/d5c/classCKeyFactory.html#a49fdca380d37f99f3195103465ba4c0f">CKeyFactory::get</a></div><div class="ttdeci">CCopasiObject * get(const std::string &amp;key)</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dc8/CKeyFactory_8cpp_source.html#l00235">CKeyFactory.cpp:235</a></div></div>
<div class="ttc" id="classCEvaluationNode_html_ae24b55d848d78cec0a359fd199c76562"><div class="ttname"><a href="../../d8/d9f/classCEvaluationNode.html#ae24b55d848d78cec0a359fd199c76562">CEvaluationNode::getType</a></div><div class="ttdeci">const Type &amp; getType() const </div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d3d/CEvaluationNode_8cpp_source.html#l00357">CEvaluationNode.cpp:357</a></div></div>
<div class="ttc" id="classCCopasiObject_html"><div class="ttname"><a href="../../d4/da8/classCCopasiObject.html">CCopasiObject</a></div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d9f/CCopasiObject_8h_source.html#l00216">CCopasiObject.h:216</a></div></div>
<div class="ttc" id="classCCopasiObject_html_a56790cb06e1980712599250f3e695c6a"><div class="ttname"><a href="../../d4/da8/classCCopasiObject.html#a56790cb06e1980712599250f3e695c6a">CCopasiObject::getObjectType</a></div><div class="ttdeci">const std::string &amp; getObjectType() const </div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d22/CCopasiObject_8cpp_source.html#l00260">CCopasiObject.cpp:260</a></div></div>
<div class="ttc" id="classCModelEntity_html_a86cb8e66e255d66db258324064efc78aa3bfd50e7d8e4dd09716a51e0ca62dedb"><div class="ttname"><a href="../../d0/da0/classCModelEntity.html#a86cb8e66e255d66db258324064efc78aa3bfd50e7d8e4dd09716a51e0ca62dedb">CModelEntity::ASSIGNMENT</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d1/da3/CModelValue_8h_source.html#l00056">CModelValue.h:56</a></div></div>
<div class="ttc" id="classSBMLIncompatibility_html"><div class="ttname"><a href="../../d7/de3/classSBMLIncompatibility.html">SBMLIncompatibility</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d95/SBMLIncompatibility_8h_source.html#l00024">SBMLIncompatibility.h:24</a></div></div>
<div class="ttc" id="classCEvaluationNode_html_a9e5fcf60f22d2701417f90756847d37b"><div class="ttname"><a href="../../d8/d9f/classCEvaluationNode.html#a9e5fcf60f22d2701417f90756847d37b">CEvaluationNode::type</a></div><div class="ttdeci">static Type type(const Type &amp;type)</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d3d/CEvaluationNode_8cpp_source.html#l00123">CEvaluationNode.cpp:123</a></div></div>
<div class="ttc" id="classCModelEntity_html_a86cb8e66e255d66db258324064efc78aa8751c35af95ea9346908d9835a1b0570"><div class="ttname"><a href="../../d0/da0/classCModelEntity.html#a86cb8e66e255d66db258324064efc78aa8751c35af95ea9346908d9835a1b0570">CModelEntity::FIXED</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d1/da3/CModelValue_8h_source.html#l00055">CModelValue.h:55</a></div></div>
<div class="ttc" id="classCEvaluationNode_html_aeef59b7ae37d1323a4900e5d19140491a7492325b731420bde92a0fa2620dde0c"><div class="ttname"><a href="../../d8/d9f/classCEvaluationNode.html#aeef59b7ae37d1323a4900e5d19140491a7492325b731420bde92a0fa2620dde0c">CEvaluationNode::INVALID</a></div><div class="ttdef"><b>Definition:</b> <a href="../../de/dfa/CEvaluationNode_8h_source.html#l00041">CEvaluationNode.h:41</a></div></div>
<div class="ttc" id="classCCopasiMessage_html"><div class="ttname"><a href="../../d2/df0/classCCopasiMessage.html">CCopasiMessage</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d2d/CCopasiMessage_8h_source.html#l00078">CCopasiMessage.h:78</a></div></div>
<div class="ttc" id="classCCopasiRootContainer_html_acfd634e031d3fb4358b24bfcdd26830e"><div class="ttname"><a href="../../d3/db1/classCCopasiRootContainer.html#acfd634e031d3fb4358b24bfcdd26830e">CCopasiRootContainer::getKeyFactory</a></div><div class="ttdeci">static CKeyFactory * getKeyFactory()</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/d4b/CCopasiRootContainer_8cpp_source.html#l00163">CCopasiRootContainer.cpp:163</a></div></div>
<div class="ttc" id="classCSBMLExporter_html_aefa0189aa8976611a461b6de4142fdc7"><div class="ttname"><a href="../../df/d80/classCSBMLExporter.html#aefa0189aa8976611a461b6de4142fdc7">CSBMLExporter::isExpressionSBMLCompatible</a></div><div class="ttdeci">static void isExpressionSBMLCompatible(const CEvaluationTree &amp;expr, const CCopasiDataModel &amp;dataModel, int sbmlLevel, int sbmlVersion, std::vector&lt; SBMLIncompatibility &gt; &amp;result, const std::string &amp;objectDescription, bool initialExression=false, std::map&lt; const std::string, Parameter * &gt; *initialMap=NULL)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d2f/CSBMLExporter_8cpp_source.html#l02767">CSBMLExporter.cpp:2767</a></div></div>
<div class="ttc" id="classCModelEntity_html_ad6bdcaa2e8887271f61fc363262cc9ed"><div class="ttname"><a href="../../d0/da0/classCModelEntity.html#ad6bdcaa2e8887271f61fc363262cc9ed">CModelEntity::getStatus</a></div><div class="ttdeci">const CModelEntity::Status &amp; getStatus() const </div><div class="ttdef"><b>Definition:</b> <a href="../../d8/da3/CModelValue_8cpp_source.html#l00141">CModelValue.cpp:141</a></div></div>
<div class="ttc" id="classCEvaluationTree_html_a542e592cb978819d30a6da627411ba91"><div class="ttname"><a href="../../d1/d50/classCEvaluationTree.html#a542e592cb978819d30a6da627411ba91">CEvaluationTree::getRoot</a></div><div class="ttdeci">CEvaluationNode * getRoot()</div><div class="ttdef"><b>Definition:</b> <a href="../../da/d55/CEvaluationTree_8cpp_source.html#l00610">CEvaluationTree.cpp:610</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a7eae0b3b6b933c2807878441b456acf3"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d3/d05/CChemEqParser__yacc_8cpp.html#aa76fec002b4ba91adc88f68d56ba730c">void</a> CSBMLExporter::isEventSBMLCompatible </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="../../da/d3f/classCEvent.html">CEvent</a> *&#160;</td>
          <td class="paramname"><em>pEvent</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="../../d4/d18/classCCopasiDataModel.html">CCopasiDataModel</a> &amp;&#160;</td>
          <td class="paramname"><em>dataModel</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned int&#160;</td>
          <td class="paramname"><em>sbmlLevel</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned int&#160;</td>
          <td class="paramname"><em>sbmlVersion</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::vector&lt; <a class="el" href="../../d7/de3/classSBMLIncompatibility.html">SBMLIncompatibility</a> &gt; &amp;&#160;</td>
          <td class="paramname"><em>result</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>This method checks if the given event object is SBML compatible. </p>

<p>Definition at line <a class="el" href="../../d5/d2f/CSBMLExporter_8cpp_source.html#l07201">7201</a> of file <a class="el" href="../../d5/d2f/CSBMLExporter_8cpp_source.html">CSBMLExporter.cpp</a>.</p>

<p>References <a class="el" href="../../d8/d2c/classCCopasiVector.html#acb26711fe72be0d2cb3a37c2fbcc031f">CCopasiVector&lt; T &gt;::begin()</a>, <a class="el" href="../../d8/d2c/classCCopasiVector.html#a44c97a5f614c885495c437f2a8d20954">CCopasiVector&lt; T &gt;::end()</a>, <a class="el" href="../../df/d80/classCSBMLExporter.html#aa843eb9b5d1ae41d5dd2be78a864f2d5">findDirectlyUsedFunctions()</a>, <a class="el" href="../../d8/d5c/classCKeyFactory.html#a49fdca380d37f99f3195103465ba4c0f">CKeyFactory::get()</a>, <a class="el" href="../../da/d3f/classCEvent.html#a07d073e597757d5baae882ddfceba58d">CEvent::getAssignments()</a>, <a class="el" href="../../da/d3f/classCEvent.html#ac26a530ca2520550d5779f3c8cd39504">CEvent::getDelayExpressionPtr()</a>, <a class="el" href="../../d3/db1/classCCopasiRootContainer.html#acfd634e031d3fb4358b24bfcdd26830e">CCopasiRootContainer::getKeyFactory()</a>, <a class="el" href="../../d4/da8/classCCopasiObject.html#a879d6756b51f6b58d307940e1343bd10">CCopasiObject::getObjectName()</a>, <a class="el" href="../../d1/d50/classCEvaluationTree.html#a542e592cb978819d30a6da627411ba91">CEvaluationTree::getRoot()</a>, <a class="el" href="../../da/d3f/classCEvent.html#a5dfb8078bab18671d4c459ecd6ae9909">CEvent::getTriggerExpressionPtr()</a>, <a class="el" href="../../df/d80/classCSBMLExporter.html#a1168b4ab9a504c5a00b8914f99f49958">isEventAssignmentSBMLCompatible()</a>, <a class="el" href="../../df/d80/classCSBMLExporter.html#aefa0189aa8976611a461b6de4142fdc7">isExpressionSBMLCompatible()</a>, and <a class="el" href="../../d2/df0/classCCopasiMessage.html#a2ea1ed32494ff5c8d84353efcec7a5e4aa2830ad243d8f7b958b891ffe3cf02db">CCopasiMessage::RAW</a>.</p>

<p>Referenced by <a class="el" href="../../df/d80/classCSBMLExporter.html#a740195f63c146c4b09170e29cb8977f6">isModelSBMLCompatible()</a>.</p>
<div class="fragment"><div class="line"><a name="l07202"></a><span class="lineno"> 7202</span>&#160;{</div>
<div class="line"><a name="l07203"></a><span class="lineno"> 7203</span>&#160;  <span class="keywordflow">if</span> (pEvent == NULL) <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l07204"></a><span class="lineno"> 7204</span>&#160;</div>
<div class="line"><a name="l07205"></a><span class="lineno"> 7205</span>&#160;  <span class="comment">// check if the trigger and the delay expression only reference allowed</span></div>
<div class="line"><a name="l07206"></a><span class="lineno"> 7206</span>&#160;  <span class="comment">// model entities</span></div>
<div class="line"><a name="l07207"></a><span class="lineno"> 7207</span>&#160;  <span class="comment">// make sure no two event assignments assign to the same variable</span></div>
<div class="line"><a name="l07208"></a><span class="lineno"> 7208</span>&#160;  std::set&lt;std::string&gt; usedFunctionNames;</div>
<div class="line"><a name="l07209"></a><span class="lineno"> 7209</span>&#160;  <span class="keyword">const</span> <a class="code" href="../../dc/dbd/classCExpression.html">CExpression</a>* pExpression = pEvent-&gt;<a class="code" href="../../da/d3f/classCEvent.html#a5dfb8078bab18671d4c459ecd6ae9909">getTriggerExpressionPtr</a>();</div>
<div class="line"><a name="l07210"></a><span class="lineno"> 7210</span>&#160;</div>
<div class="line"><a name="l07211"></a><span class="lineno"> 7211</span>&#160;  <span class="keywordflow">if</span> (pExpression != NULL)</div>
<div class="line"><a name="l07212"></a><span class="lineno"> 7212</span>&#160;    {</div>
<div class="line"><a name="l07213"></a><span class="lineno"> 7213</span>&#160;      <span class="comment">// check for unsupported object references and unsupported function</span></div>
<div class="line"><a name="l07214"></a><span class="lineno"> 7214</span>&#160;      <span class="comment">// calls</span></div>
<div class="line"><a name="l07215"></a><span class="lineno"> 7215</span>&#160;      <a class="code" href="../../df/d80/classCSBMLExporter.html#aefa0189aa8976611a461b6de4142fdc7">CSBMLExporter::isExpressionSBMLCompatible</a>(*pExpression, dataModel, sbmlLevel, sbmlVersion, result, std::string(<span class="stringliteral">&quot;trigger expression for event named \&quot;&quot;</span> + pEvent-&gt;<a class="code" href="../../d4/da8/classCCopasiObject.html#a879d6756b51f6b58d307940e1343bd10">getObjectName</a>() + <span class="stringliteral">&quot;\&quot;&quot;</span>).c_str());</div>
<div class="line"><a name="l07216"></a><span class="lineno"> 7216</span>&#160;      usedFunctionNames.clear();</div>
<div class="line"><a name="l07217"></a><span class="lineno"> 7217</span>&#160;      <a class="code" href="../../df/d80/classCSBMLExporter.html#aa843eb9b5d1ae41d5dd2be78a864f2d5">CSBMLExporter::findDirectlyUsedFunctions</a>(pExpression-&gt;<a class="code" href="../../d1/d50/classCEvaluationTree.html#a542e592cb978819d30a6da627411ba91">getRoot</a>(), usedFunctionNames);</div>
<div class="line"><a name="l07218"></a><span class="lineno"> 7218</span>&#160;    }</div>
<div class="line"><a name="l07219"></a><span class="lineno"> 7219</span>&#160;</div>
<div class="line"><a name="l07220"></a><span class="lineno"> 7220</span>&#160;  pExpression = pEvent-&gt;<a class="code" href="../../da/d3f/classCEvent.html#ac26a530ca2520550d5779f3c8cd39504">getDelayExpressionPtr</a>();</div>
<div class="line"><a name="l07221"></a><span class="lineno"> 7221</span>&#160;</div>
<div class="line"><a name="l07222"></a><span class="lineno"> 7222</span>&#160;  <span class="keywordflow">if</span> (pExpression != NULL)</div>
<div class="line"><a name="l07223"></a><span class="lineno"> 7223</span>&#160;    {</div>
<div class="line"><a name="l07224"></a><span class="lineno"> 7224</span>&#160;      <span class="comment">// check for unsupported object references and unsupported function</span></div>
<div class="line"><a name="l07225"></a><span class="lineno"> 7225</span>&#160;      <span class="comment">// calls</span></div>
<div class="line"><a name="l07226"></a><span class="lineno"> 7226</span>&#160;      <a class="code" href="../../df/d80/classCSBMLExporter.html#aefa0189aa8976611a461b6de4142fdc7">CSBMLExporter::isExpressionSBMLCompatible</a>(*pExpression, dataModel, sbmlLevel, sbmlVersion, result, std::string(<span class="stringliteral">&quot;delay expression for event named \&quot;&quot;</span> + pEvent-&gt;<a class="code" href="../../d4/da8/classCCopasiObject.html#a879d6756b51f6b58d307940e1343bd10">getObjectName</a>() + <span class="stringliteral">&quot;\&quot;&quot;</span>).c_str());</div>
<div class="line"><a name="l07227"></a><span class="lineno"> 7227</span>&#160;      usedFunctionNames.clear();</div>
<div class="line"><a name="l07228"></a><span class="lineno"> 7228</span>&#160;      <a class="code" href="../../df/d80/classCSBMLExporter.html#aa843eb9b5d1ae41d5dd2be78a864f2d5">CSBMLExporter::findDirectlyUsedFunctions</a>(pExpression-&gt;<a class="code" href="../../d1/d50/classCEvaluationTree.html#a542e592cb978819d30a6da627411ba91">getRoot</a>(), usedFunctionNames);</div>
<div class="line"><a name="l07229"></a><span class="lineno"> 7229</span>&#160;    }</div>
<div class="line"><a name="l07230"></a><span class="lineno"> 7230</span>&#160;</div>
<div class="line"><a name="l07231"></a><span class="lineno"> 7231</span>&#160;  std::set&lt;std::string&gt; objectKeys;</div>
<div class="line"><a name="l07232"></a><span class="lineno"> 7232</span>&#160;  std::set&lt;std::string&gt; nonUniqueObjectKeys;</div>
<div class="line"><a name="l07233"></a><span class="lineno"> 7233</span>&#160;</div>
<div class="line"><a name="l07234"></a><span class="lineno"> 7234</span>&#160;  <a class="code" href="../../d7/d08/classCCopasiVectorN.html">CCopasiVectorN&lt; CEventAssignment &gt;::const_iterator</a> itAssignment = pEvent-&gt;<a class="code" href="../../da/d3f/classCEvent.html#a07d073e597757d5baae882ddfceba58d">getAssignments</a>().<a class="code" href="../../d8/d2c/classCCopasiVector.html#acb26711fe72be0d2cb3a37c2fbcc031f">begin</a>();</div>
<div class="line"><a name="l07235"></a><span class="lineno"> 7235</span>&#160;  <a class="code" href="../../d7/d08/classCCopasiVectorN.html">CCopasiVectorN&lt; CEventAssignment &gt;::const_iterator</a> endAssignment = pEvent-&gt;<a class="code" href="../../da/d3f/classCEvent.html#a07d073e597757d5baae882ddfceba58d">getAssignments</a>().<a class="code" href="../../d8/d2c/classCCopasiVector.html#a44c97a5f614c885495c437f2a8d20954">end</a>();</div>
<div class="line"><a name="l07236"></a><span class="lineno"> 7236</span>&#160;</div>
<div class="line"><a name="l07237"></a><span class="lineno"> 7237</span>&#160;  <span class="keywordflow">for</span> (; itAssignment != endAssignment; ++itAssignment)</div>
<div class="line"><a name="l07238"></a><span class="lineno"> 7238</span>&#160;    {</div>
<div class="line"><a name="l07239"></a><span class="lineno"> 7239</span>&#160;      std::string key = (*itAssignment)-&gt;getTargetKey();</div>
<div class="line"><a name="l07240"></a><span class="lineno"> 7240</span>&#160;</div>
<div class="line"><a name="l07241"></a><span class="lineno"> 7241</span>&#160;      <span class="keywordflow">if</span> (objectKeys.find(key) == objectKeys.end())</div>
<div class="line"><a name="l07242"></a><span class="lineno"> 7242</span>&#160;        {</div>
<div class="line"><a name="l07243"></a><span class="lineno"> 7243</span>&#160;          objectKeys.insert(key);</div>
<div class="line"><a name="l07244"></a><span class="lineno"> 7244</span>&#160;        }</div>
<div class="line"><a name="l07245"></a><span class="lineno"> 7245</span>&#160;      <span class="keywordflow">else</span></div>
<div class="line"><a name="l07246"></a><span class="lineno"> 7246</span>&#160;        {</div>
<div class="line"><a name="l07247"></a><span class="lineno"> 7247</span>&#160;          <span class="comment">// This should never happen since I assume that COPASI will have</span></div>
<div class="line"><a name="l07248"></a><span class="lineno"> 7248</span>&#160;          <span class="comment">// the same restriction as SBML with respect to unique assignments</span></div>
<div class="line"><a name="l07249"></a><span class="lineno"> 7249</span>&#160;          <span class="comment">// within an event</span></div>
<div class="line"><a name="l07250"></a><span class="lineno"> 7250</span>&#160;          <span class="keywordflow">if</span> (nonUniqueObjectKeys.find(key) == nonUniqueObjectKeys.end())</div>
<div class="line"><a name="l07251"></a><span class="lineno"> 7251</span>&#160;            {</div>
<div class="line"><a name="l07252"></a><span class="lineno"> 7252</span>&#160;              nonUniqueObjectKeys.insert(key);</div>
<div class="line"><a name="l07253"></a><span class="lineno"> 7253</span>&#160;              <span class="keyword">const</span> <a class="code" href="../../d4/da8/classCCopasiObject.html">CCopasiObject</a>* pObject = <a class="code" href="../../d3/db1/classCCopasiRootContainer.html#acfd634e031d3fb4358b24bfcdd26830e">CCopasiRootContainer::getKeyFactory</a>()-&gt;<a class="code" href="../../d8/d5c/classCKeyFactory.html#a49fdca380d37f99f3195103465ba4c0f">get</a>(key);</div>
<div class="line"><a name="l07254"></a><span class="lineno"> 7254</span>&#160;              assert(pObject != NULL);</div>
<div class="line"><a name="l07255"></a><span class="lineno"> 7255</span>&#160;              <a class="code" href="../../d2/df0/classCCopasiMessage.html">CCopasiMessage</a>(<a class="code" href="../../d2/df0/classCCopasiMessage.html#a2ea1ed32494ff5c8d84353efcec7a5e4aa2830ad243d8f7b958b891ffe3cf02db">CCopasiMessage::RAW</a>, std::string(<span class="stringliteral">&quot;Error. Event called \&quot;&quot;</span> + pEvent-&gt;<a class="code" href="../../d4/da8/classCCopasiObject.html#a879d6756b51f6b58d307940e1343bd10">getObjectName</a>() + <span class="stringliteral">&quot;\&quot; has several assignments to the same object called \&quot;&quot;</span> + pObject-&gt;<a class="code" href="../../d4/da8/classCCopasiObject.html#a879d6756b51f6b58d307940e1343bd10">getObjectName</a>() + <span class="stringliteral">&quot;\&quot;.&quot;</span>).c_str());</div>
<div class="line"><a name="l07256"></a><span class="lineno"> 7256</span>&#160;            }</div>
<div class="line"><a name="l07257"></a><span class="lineno"> 7257</span>&#160;        }</div>
<div class="line"><a name="l07258"></a><span class="lineno"> 7258</span>&#160;</div>
<div class="line"><a name="l07259"></a><span class="lineno"> 7259</span>&#160;      <a class="code" href="../../df/d80/classCSBMLExporter.html#a1168b4ab9a504c5a00b8914f99f49958">CSBMLExporter::isEventAssignmentSBMLCompatible</a>(key, (*itAssignment)-&gt;getExpressionPtr(),</div>
<div class="line"><a name="l07260"></a><span class="lineno"> 7260</span>&#160;          dataModel, sbmlLevel, sbmlVersion, pEvent-&gt;<a class="code" href="../../d4/da8/classCCopasiObject.html#a879d6756b51f6b58d307940e1343bd10">getObjectName</a>(), result);</div>
<div class="line"><a name="l07261"></a><span class="lineno"> 7261</span>&#160;    }</div>
<div class="line"><a name="l07262"></a><span class="lineno"> 7262</span>&#160;}</div>
<div class="ttc" id="classCCopasiVectorN_html"><div class="ttname"><a href="../../d7/d08/classCCopasiVectorN.html">CCopasiVectorN</a></div><div class="ttdef"><b>Definition:</b> <a href="../../dd/df7/CCopasiDataModel_8h_source.html#l00047">CCopasiDataModel.h:47</a></div></div>
<div class="ttc" id="classCEvent_html_a07d073e597757d5baae882ddfceba58d"><div class="ttname"><a href="../../da/d3f/classCEvent.html#a07d073e597757d5baae882ddfceba58d">CEvent::getAssignments</a></div><div class="ttdeci">const CCopasiVectorN&lt; CEventAssignment &gt; &amp; getAssignments() const </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d55/CEvent_8cpp_source.html#l00678">CEvent.cpp:678</a></div></div>
<div class="ttc" id="classCSBMLExporter_html_aa843eb9b5d1ae41d5dd2be78a864f2d5"><div class="ttname"><a href="../../df/d80/classCSBMLExporter.html#aa843eb9b5d1ae41d5dd2be78a864f2d5">CSBMLExporter::findDirectlyUsedFunctions</a></div><div class="ttdeci">static void findDirectlyUsedFunctions(const CEvaluationNode *pRootNode, std::set&lt; std::string &gt; &amp;result)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d2f/CSBMLExporter_8cpp_source.html#l04927">CSBMLExporter.cpp:4927</a></div></div>
<div class="ttc" id="classCExpression_html"><div class="ttname"><a href="../../dc/dbd/classCExpression.html">CExpression</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dcc/CExpression_8h_source.html#l00028">CExpression.h:28</a></div></div>
<div class="ttc" id="classCSBMLExporter_html_a1168b4ab9a504c5a00b8914f99f49958"><div class="ttname"><a href="../../df/d80/classCSBMLExporter.html#a1168b4ab9a504c5a00b8914f99f49958">CSBMLExporter::isEventAssignmentSBMLCompatible</a></div><div class="ttdeci">static void isEventAssignmentSBMLCompatible(std::string &amp;key, const CExpression *pExpression, const CCopasiDataModel &amp;dataModel, unsigned int sbmlLevel, unsigned int sbmlVersion, const std::string &amp;eventName, std::vector&lt; SBMLIncompatibility &gt; &amp;result)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d2f/CSBMLExporter_8cpp_source.html#l07264">CSBMLExporter.cpp:7264</a></div></div>
<div class="ttc" id="classCCopasiMessage_html_a2ea1ed32494ff5c8d84353efcec7a5e4aa2830ad243d8f7b958b891ffe3cf02db"><div class="ttname"><a href="../../d2/df0/classCCopasiMessage.html#a2ea1ed32494ff5c8d84353efcec7a5e4aa2830ad243d8f7b958b891ffe3cf02db">CCopasiMessage::RAW</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d2d/CCopasiMessage_8h_source.html#l00083">CCopasiMessage.h:83</a></div></div>
<div class="ttc" id="classCCopasiObject_html_a879d6756b51f6b58d307940e1343bd10"><div class="ttname"><a href="../../d4/da8/classCCopasiObject.html#a879d6756b51f6b58d307940e1343bd10">CCopasiObject::getObjectName</a></div><div class="ttdeci">const std::string &amp; getObjectName() const </div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d22/CCopasiObject_8cpp_source.html#l00258">CCopasiObject.cpp:258</a></div></div>
<div class="ttc" id="classCKeyFactory_html_a49fdca380d37f99f3195103465ba4c0f"><div class="ttname"><a href="../../d8/d5c/classCKeyFactory.html#a49fdca380d37f99f3195103465ba4c0f">CKeyFactory::get</a></div><div class="ttdeci">CCopasiObject * get(const std::string &amp;key)</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dc8/CKeyFactory_8cpp_source.html#l00235">CKeyFactory.cpp:235</a></div></div>
<div class="ttc" id="classCCopasiVector_html_acb26711fe72be0d2cb3a37c2fbcc031f"><div class="ttname"><a href="../../d8/d2c/classCCopasiVector.html#acb26711fe72be0d2cb3a37c2fbcc031f">CCopasiVector::begin</a></div><div class="ttdeci">iterator begin()</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d51/CCopasiVector_8h_source.html#l00185">CCopasiVector.h:185</a></div></div>
<div class="ttc" id="classCCopasiObject_html"><div class="ttname"><a href="../../d4/da8/classCCopasiObject.html">CCopasiObject</a></div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d9f/CCopasiObject_8h_source.html#l00216">CCopasiObject.h:216</a></div></div>
<div class="ttc" id="classCEvent_html_ac26a530ca2520550d5779f3c8cd39504"><div class="ttname"><a href="../../da/d3f/classCEvent.html#ac26a530ca2520550d5779f3c8cd39504">CEvent::getDelayExpressionPtr</a></div><div class="ttdeci">CExpression * getDelayExpressionPtr()</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d55/CEvent_8cpp_source.html#l00606">CEvent.cpp:606</a></div></div>
<div class="ttc" id="classCCopasiVector_html_a44c97a5f614c885495c437f2a8d20954"><div class="ttname"><a href="../../d8/d2c/classCCopasiVector.html#a44c97a5f614c885495c437f2a8d20954">CCopasiVector::end</a></div><div class="ttdeci">iterator end()</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d51/CCopasiVector_8h_source.html#l00191">CCopasiVector.h:191</a></div></div>
<div class="ttc" id="classCEvent_html_a5dfb8078bab18671d4c459ecd6ae9909"><div class="ttname"><a href="../../da/d3f/classCEvent.html#a5dfb8078bab18671d4c459ecd6ae9909">CEvent::getTriggerExpressionPtr</a></div><div class="ttdeci">const CExpression * getTriggerExpressionPtr() const </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d55/CEvent_8cpp_source.html#l00534">CEvent.cpp:534</a></div></div>
<div class="ttc" id="classCCopasiMessage_html"><div class="ttname"><a href="../../d2/df0/classCCopasiMessage.html">CCopasiMessage</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d2d/CCopasiMessage_8h_source.html#l00078">CCopasiMessage.h:78</a></div></div>
<div class="ttc" id="classCCopasiRootContainer_html_acfd634e031d3fb4358b24bfcdd26830e"><div class="ttname"><a href="../../d3/db1/classCCopasiRootContainer.html#acfd634e031d3fb4358b24bfcdd26830e">CCopasiRootContainer::getKeyFactory</a></div><div class="ttdeci">static CKeyFactory * getKeyFactory()</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/d4b/CCopasiRootContainer_8cpp_source.html#l00163">CCopasiRootContainer.cpp:163</a></div></div>
<div class="ttc" id="classCSBMLExporter_html_aefa0189aa8976611a461b6de4142fdc7"><div class="ttname"><a href="../../df/d80/classCSBMLExporter.html#aefa0189aa8976611a461b6de4142fdc7">CSBMLExporter::isExpressionSBMLCompatible</a></div><div class="ttdeci">static void isExpressionSBMLCompatible(const CEvaluationTree &amp;expr, const CCopasiDataModel &amp;dataModel, int sbmlLevel, int sbmlVersion, std::vector&lt; SBMLIncompatibility &gt; &amp;result, const std::string &amp;objectDescription, bool initialExression=false, std::map&lt; const std::string, Parameter * &gt; *initialMap=NULL)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d2f/CSBMLExporter_8cpp_source.html#l02767">CSBMLExporter.cpp:2767</a></div></div>
<div class="ttc" id="classCEvaluationTree_html_a542e592cb978819d30a6da627411ba91"><div class="ttname"><a href="../../d1/d50/classCEvaluationTree.html#a542e592cb978819d30a6da627411ba91">CEvaluationTree::getRoot</a></div><div class="ttdeci">CEvaluationNode * getRoot()</div><div class="ttdef"><b>Definition:</b> <a href="../../da/d55/CEvaluationTree_8cpp_source.html#l00610">CEvaluationTree.cpp:610</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="aefa0189aa8976611a461b6de4142fdc7"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d3/d05/CChemEqParser__yacc_8cpp.html#aa76fec002b4ba91adc88f68d56ba730c">void</a> CSBMLExporter::isExpressionSBMLCompatible </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="../../d1/d50/classCEvaluationTree.html">CEvaluationTree</a> &amp;&#160;</td>
          <td class="paramname"><em>expr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="../../d4/d18/classCCopasiDataModel.html">CCopasiDataModel</a> &amp;&#160;</td>
          <td class="paramname"><em>dataModel</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>sbmlLevel</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>sbmlVersion</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::vector&lt; <a class="el" href="../../d7/de3/classSBMLIncompatibility.html">SBMLIncompatibility</a> &gt; &amp;&#160;</td>
          <td class="paramname"><em>result</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::string &amp;&#160;</td>
          <td class="paramname"><em>objectDescription</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>initialExpression</em> = <code>false</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::map&lt; const std::string, Parameter * &gt; *&#160;</td>
          <td class="paramname"><em>initialMap</em> = <code>NULL</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Checks wether the rule in the given model entity can be exported to the specified version of SBML. If it can be exported, the result vector will be empty, otherwise it will contain a number of messages that specify why it can't be exported.</p>
<p>Checks whether the rule in the given model entity can be exported to the specified version of SBML. If it can be exported, the result vector will be empty, otherwise it will contain a number of messages that specify why it can't be exported. </p>

<p>Definition at line <a class="el" href="../../d5/d2f/CSBMLExporter_8cpp_source.html#l02767">2767</a> of file <a class="el" href="../../d5/d2f/CSBMLExporter_8cpp_source.html">CSBMLExporter.cpp</a>.</p>

<p>References <a class="el" href="../../df/d80/classCSBMLExporter.html#a28e0706f0f87d1483643b251104ff00b">checkForUnsupportedFunctionCalls()</a>, <a class="el" href="../../df/d80/classCSBMLExporter.html#a6d7dd5df891e397605186a3c02862c9f">checkForUnsupportedObjectReferences()</a>, <a class="el" href="../../df/d80/classCSBMLExporter.html#acf189051ffef9fb8b55543a9d59d8817">createUnsupportedFunctionTypeSet()</a>, and <a class="el" href="../../d1/d50/classCEvaluationTree.html#a542e592cb978819d30a6da627411ba91">CEvaluationTree::getRoot()</a>.</p>

<p>Referenced by <a class="el" href="../../df/d80/classCSBMLExporter.html#a79ba15ac876b6354e2aaff763b8a7c86">createEvent()</a>, <a class="el" href="../../df/d80/classCSBMLExporter.html#abc1d139f7b654051b43958675056e34c">createFunctionDefinition()</a>, <a class="el" href="../../df/d80/classCSBMLExporter.html#a2f052fa99d8b6695c0b7cf12d21f7833">createInitialAssignment()</a>, <a class="el" href="../../df/d80/classCSBMLExporter.html#a4e1fa35c0f3497f349b03147eb7326f0">createRule()</a>, <a class="el" href="../../df/d80/classCSBMLExporter.html#aefbd6278e618486186192aff4bdff76e">exportEventAssignments()</a>, <a class="el" href="../../df/d80/classCSBMLExporter.html#a1168b4ab9a504c5a00b8914f99f49958">isEventAssignmentSBMLCompatible()</a>, <a class="el" href="../../df/d80/classCSBMLExporter.html#a7eae0b3b6b933c2807878441b456acf3">isEventSBMLCompatible()</a>, and <a class="el" href="../../df/d80/classCSBMLExporter.html#a740195f63c146c4b09170e29cb8977f6">isModelSBMLCompatible()</a>.</p>
<div class="fragment"><div class="line"><a name="l02775"></a><span class="lineno"> 2775</span>&#160;{</div>
<div class="line"><a name="l02776"></a><span class="lineno"> 2776</span>&#160;  <a class="code" href="../../df/d80/classCSBMLExporter.html#a6d7dd5df891e397605186a3c02862c9f">checkForUnsupportedObjectReferences</a>(expr, dataModel, sbmlLevel, sbmlVersion, result, initialExpression, initialMap);</div>
<div class="line"><a name="l02777"></a><span class="lineno"> 2777</span>&#160;  std::set&lt;CEvaluationNodeFunction::SubType&gt; unsupportedFunctionTypes = <a class="code" href="../../df/d80/classCSBMLExporter.html#acf189051ffef9fb8b55543a9d59d8817">CSBMLExporter::createUnsupportedFunctionTypeSet</a>(sbmlLevel);</div>
<div class="line"><a name="l02778"></a><span class="lineno"> 2778</span>&#160;  <a class="code" href="../../df/d80/classCSBMLExporter.html#a28e0706f0f87d1483643b251104ff00b">checkForUnsupportedFunctionCalls</a>(*expr.<a class="code" href="../../d1/d50/classCEvaluationTree.html#a542e592cb978819d30a6da627411ba91">getRoot</a>(), unsupportedFunctionTypes, result, objectDescription);</div>
<div class="line"><a name="l02779"></a><span class="lineno"> 2779</span>&#160;}</div>
<div class="ttc" id="classCSBMLExporter_html_a28e0706f0f87d1483643b251104ff00b"><div class="ttname"><a href="../../df/d80/classCSBMLExporter.html#a28e0706f0f87d1483643b251104ff00b">CSBMLExporter::checkForUnsupportedFunctionCalls</a></div><div class="ttdeci">void checkForUnsupportedFunctionCalls(const CCopasiDataModel &amp;dataModel, unsigned int sbmlLEvel, unsigned int sbmlVersion, std::vector&lt; SBMLIncompatibility &gt; &amp;result)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d2f/CSBMLExporter_8cpp_source.html#l02786">CSBMLExporter.cpp:2786</a></div></div>
<div class="ttc" id="classCSBMLExporter_html_acf189051ffef9fb8b55543a9d59d8817"><div class="ttname"><a href="../../df/d80/classCSBMLExporter.html#acf189051ffef9fb8b55543a9d59d8817">CSBMLExporter::createUnsupportedFunctionTypeSet</a></div><div class="ttdeci">static const std::set&lt; CEvaluationNodeFunction::SubType &gt; createUnsupportedFunctionTypeSet(unsigned int sbmlLevel)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d2f/CSBMLExporter_8cpp_source.html#l03680">CSBMLExporter.cpp:3680</a></div></div>
<div class="ttc" id="classCEvaluationTree_html_a542e592cb978819d30a6da627411ba91"><div class="ttname"><a href="../../d1/d50/classCEvaluationTree.html#a542e592cb978819d30a6da627411ba91">CEvaluationTree::getRoot</a></div><div class="ttdeci">CEvaluationNode * getRoot()</div><div class="ttdef"><b>Definition:</b> <a href="../../da/d55/CEvaluationTree_8cpp_source.html#l00610">CEvaluationTree.cpp:610</a></div></div>
<div class="ttc" id="classCSBMLExporter_html_a6d7dd5df891e397605186a3c02862c9f"><div class="ttname"><a href="../../df/d80/classCSBMLExporter.html#a6d7dd5df891e397605186a3c02862c9f">CSBMLExporter::checkForUnsupportedObjectReferences</a></div><div class="ttdeci">void checkForUnsupportedObjectReferences(const CCopasiDataModel &amp;dataModel, unsigned int sbmlLevel, unsigned int sbmlVersion, std::vector&lt; SBMLIncompatibility &gt; &amp;result)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d2f/CSBMLExporter_8cpp_source.html#l02284">CSBMLExporter.cpp:2284</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="ad438218ce66108e4d0a3783dc80053e9"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static <a class="el" href="../../d3/d05/CChemEqParser__yacc_8cpp.html#aa76fec002b4ba91adc88f68d56ba730c">void</a> CSBMLExporter::isExpressionSBMLL1Compatible </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="../../d1/d50/classCEvaluationTree.html">CEvaluationTree</a> &amp;&#160;</td>
          <td class="paramname"><em>expr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="../../d4/d18/classCCopasiDataModel.html">CCopasiDataModel</a> &amp;&#160;</td>
          <td class="paramname"><em>dataModel</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::vector&lt; <a class="el" href="../../d7/de3/classSBMLIncompatibility.html">SBMLIncompatibility</a> &gt; &amp;&#160;</td>
          <td class="paramname"><em>result</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Checks wether the rule in the given model entity can be exported to SBML Level2 Version1. If it can be exported, the result vector will be empty, otherwise it will contain a number of messages that specify why it can't be exported. </p>

</div>
</div>
<a class="anchor" id="a8f455f8929db3380aab081f62e8dc8a4"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static <a class="el" href="../../d3/d05/CChemEqParser__yacc_8cpp.html#aa76fec002b4ba91adc88f68d56ba730c">void</a> CSBMLExporter::isExpressionSBMLL2V1Compatible </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="../../d1/d50/classCEvaluationTree.html">CEvaluationTree</a> &amp;&#160;</td>
          <td class="paramname"><em>expr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="../../d4/d18/classCCopasiDataModel.html">CCopasiDataModel</a> &amp;&#160;</td>
          <td class="paramname"><em>dataModel</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::vector&lt; <a class="el" href="../../d7/de3/classSBMLIncompatibility.html">SBMLIncompatibility</a> &gt; &amp;&#160;</td>
          <td class="paramname"><em>result</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Checks wether the rule in the given model entity can be exported to SBML Level2 Version1. If it can be exported, the result vector will be empty, otherwise it will contain a number of messages that specify why it can't be exported. </p>

</div>
</div>
<a class="anchor" id="acbc3493ff7780234012c9842d8a47a64"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static <a class="el" href="../../d3/d05/CChemEqParser__yacc_8cpp.html#aa76fec002b4ba91adc88f68d56ba730c">void</a> CSBMLExporter::isExpressionSBMLL2V3Compatible </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="../../d1/d50/classCEvaluationTree.html">CEvaluationTree</a> &amp;&#160;</td>
          <td class="paramname"><em>expression</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="../../d4/d18/classCCopasiDataModel.html">CCopasiDataModel</a> &amp;&#160;</td>
          <td class="paramname"><em>pDataModel</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::vector&lt; <a class="el" href="../../d7/de3/classSBMLIncompatibility.html">SBMLIncompatibility</a> &gt; &amp;&#160;</td>
          <td class="paramname"><em>result</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Checks wether the rule in the given model entity can be exported to SBML Level2 Version3. If it can be exported, the result vector will be empty, otherwise it will contain a number of messages that specify why it can't be exported. </p>

</div>
</div>
<a class="anchor" id="a740195f63c146c4b09170e29cb8977f6"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const std::vector&lt; <a class="el" href="../../d7/de3/classSBMLIncompatibility.html">SBMLIncompatibility</a> &gt; CSBMLExporter::isModelSBMLCompatible </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="../../d4/d18/classCCopasiDataModel.html">CCopasiDataModel</a> &amp;&#160;</td>
          <td class="paramname"><em>dataModel</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>sbmlLevel</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>sbmlVersion</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Checks wether the given data model can be exported to a certain version of SBML. If it can be exported, the result vector will be empty, otherwise it will contain a number of messages that specify why it can't be exported.</p>
<p>Checks whether the given data model can be exported to a certain version of SBML. If it can be exported, the result vector will be empty, otherwise it will contain a number of messages that specify why it can't be exported. </p>

<p>Definition at line <a class="el" href="../../d5/d2f/CSBMLExporter_8cpp_source.html#l03757">3757</a> of file <a class="el" href="../../d5/d2f/CSBMLExporter_8cpp_source.html">CSBMLExporter.cpp</a>.</p>

<p>References <a class="el" href="../../d0/da0/classCModelEntity.html#a86cb8e66e255d66db258324064efc78aa3bfd50e7d8e4dd09716a51e0ca62dedb">CModelEntity::ASSIGNMENT</a>, <a class="el" href="../../d8/d2c/classCCopasiVector.html#acb26711fe72be0d2cb3a37c2fbcc031f">CCopasiVector&lt; T &gt;::begin()</a>, <a class="el" href="../../df/d80/classCSBMLExporter.html#a67c34d6bd969cc569131d34677fc8247">checkForODESpeciesInNonfixedCompartment()</a>, <a class="el" href="../../d8/d2c/classCCopasiVector.html#a44c97a5f614c885495c437f2a8d20954">CCopasiVector&lt; T &gt;::end()</a>, <a class="el" href="../../df/d80/classCSBMLExporter.html#aa843eb9b5d1ae41d5dd2be78a864f2d5">findDirectlyUsedFunctions()</a>, <a class="el" href="../../d4/d04/classCModel.html#a7d405db8dc8120b942aa0ec1e80db399">CModel::getCompartments()</a>, <a class="el" href="../../d4/d04/classCModel.html#ad55cc48064428d703cee3e69b71e4703">CModel::getEvents()</a>, <a class="el" href="../../d4/d04/classCModel.html#a73a8a52c2190b1aae2f1427e4e9eb0e1">CModel::getMetabolites()</a>, <a class="el" href="../../d4/d18/classCCopasiDataModel.html#a2e65952e0caf0b2709d381cf949fec69">CCopasiDataModel::getModel()</a>, <a class="el" href="../../d4/d04/classCModel.html#ab3481ad574a3e1935a7617339970eab2">CModel::getModelValues()</a>, <a class="el" href="../../d1/d50/classCEvaluationTree.html#a542e592cb978819d30a6da627411ba91">CEvaluationTree::getRoot()</a>, <a class="el" href="../../df/d80/classCSBMLExporter.html#a7eae0b3b6b933c2807878441b456acf3">isEventSBMLCompatible()</a>, <a class="el" href="../../df/d80/classCSBMLExporter.html#aefa0189aa8976611a461b6de4142fdc7">isExpressionSBMLCompatible()</a>, <a class="el" href="../../df/d80/classCSBMLExporter.html#a72f143a792d030152e5721903727c06c">isModelSBMLL1Compatible()</a>, <a class="el" href="../../df/d80/classCSBMLExporter.html#aab8893bb42f3c23886a7a76282ae4c70">isModelSBMLL2V1Compatible()</a>, <a class="el" href="../../df/d80/classCSBMLExporter.html#a980c8aa07cb93bff4e387188ec371131">isModelSBMLL2V3Compatible()</a>, and <a class="el" href="../../d0/da0/classCModelEntity.html#a86cb8e66e255d66db258324064efc78aa3c62c1c3a449e106a5f1eb2f4ff01ec3">CModelEntity::ODE</a>.</p>
<div class="fragment"><div class="line"><a name="l03758"></a><span class="lineno"> 3758</span>&#160;{</div>
<div class="line"><a name="l03759"></a><span class="lineno"> 3759</span>&#160;  <span class="keyword">const</span> <a class="code" href="../../d4/d04/classCModel.html">CModel</a>* pModel = dataModel.<a class="code" href="../../d4/d18/classCCopasiDataModel.html#a2e65952e0caf0b2709d381cf949fec69">getModel</a>();</div>
<div class="line"><a name="l03760"></a><span class="lineno"> 3760</span>&#160;  std::vector&lt;SBMLIncompatibility&gt; result;</div>
<div class="line"><a name="l03761"></a><span class="lineno"> 3761</span>&#160;</div>
<div class="line"><a name="l03762"></a><span class="lineno"> 3762</span>&#160;  <span class="keywordflow">if</span> (pModel == NULL) <span class="keywordflow">return</span> result;</div>
<div class="line"><a name="l03763"></a><span class="lineno"> 3763</span>&#160;</div>
<div class="line"><a name="l03764"></a><span class="lineno"> 3764</span>&#160;  <span class="comment">// general checks</span></div>
<div class="line"><a name="l03765"></a><span class="lineno"> 3765</span>&#160;  <span class="comment">// check if there is a species with an ode rule that is in a nonfixed</span></div>
<div class="line"><a name="l03766"></a><span class="lineno"> 3766</span>&#160;  <span class="comment">// compartment</span></div>
<div class="line"><a name="l03767"></a><span class="lineno"> 3767</span>&#160;  <a class="code" href="../../df/d80/classCSBMLExporter.html#a67c34d6bd969cc569131d34677fc8247">checkForODESpeciesInNonfixedCompartment</a>(dataModel, result);</div>
<div class="line"><a name="l03768"></a><span class="lineno"> 3768</span>&#160;</div>
<div class="line"><a name="l03769"></a><span class="lineno"> 3769</span>&#160;  <span class="comment">// check if the model contains references to model entities that can not be</span></div>
<div class="line"><a name="l03770"></a><span class="lineno"> 3770</span>&#160;  <span class="comment">// represented in SBML like the initial value of something as opposed to the</span></div>
<div class="line"><a name="l03771"></a><span class="lineno"> 3771</span>&#160;  <span class="comment">// transient value</span></div>
<div class="line"><a name="l03772"></a><span class="lineno"> 3772</span>&#160;  <span class="comment">// check if the model contains calls to functions that are not supported in</span></div>
<div class="line"><a name="l03773"></a><span class="lineno"> 3773</span>&#160;  <span class="comment">// the given version of SBML</span></div>
<div class="line"><a name="l03774"></a><span class="lineno"> 3774</span>&#160;  <a class="code" href="../../d0/da0/classCModelEntity.html#a86cb8e66e255d66db258324064efc78a">CModelEntity::Status</a> status;</div>
<div class="line"><a name="l03775"></a><span class="lineno"> 3775</span>&#160;  <span class="keyword">const</span> <a class="code" href="../../dc/dbd/classCExpression.html">CExpression</a>* pExpression = NULL;</div>
<div class="line"><a name="l03776"></a><span class="lineno"> 3776</span>&#160;  std::set&lt;std::string&gt; usedFunctionNames;</div>
<div class="line"><a name="l03777"></a><span class="lineno"> 3777</span>&#160;  <a class="code" href="../../d9/db9/classCCopasiVectorNS.html">CCopasiVectorNS&lt;CCompartment&gt;::const_iterator</a> compIt = pModel-&gt;<a class="code" href="../../d4/d04/classCModel.html#a7d405db8dc8120b942aa0ec1e80db399">getCompartments</a>().<a class="code" href="../../d8/d2c/classCCopasiVector.html#acb26711fe72be0d2cb3a37c2fbcc031f">begin</a>();</div>
<div class="line"><a name="l03778"></a><span class="lineno"> 3778</span>&#160;  <a class="code" href="../../d9/db9/classCCopasiVectorNS.html">CCopasiVectorNS&lt;CCompartment&gt;::const_iterator</a> compEndit = pModel-&gt;<a class="code" href="../../d4/d04/classCModel.html#a7d405db8dc8120b942aa0ec1e80db399">getCompartments</a>().<a class="code" href="../../d8/d2c/classCCopasiVector.html#a44c97a5f614c885495c437f2a8d20954">end</a>();</div>
<div class="line"><a name="l03779"></a><span class="lineno"> 3779</span>&#160;</div>
<div class="line"><a name="l03780"></a><span class="lineno"> 3780</span>&#160;  <span class="keywordflow">while</span> (compIt != compEndit)</div>
<div class="line"><a name="l03781"></a><span class="lineno"> 3781</span>&#160;    {</div>
<div class="line"><a name="l03782"></a><span class="lineno"> 3782</span>&#160;      status = (*compIt)-&gt;getStatus();</div>
<div class="line"><a name="l03783"></a><span class="lineno"> 3783</span>&#160;</div>
<div class="line"><a name="l03784"></a><span class="lineno"> 3784</span>&#160;      <span class="keywordflow">if</span> (status == <a class="code" href="../../d0/da0/classCModelEntity.html#a86cb8e66e255d66db258324064efc78aa3c62c1c3a449e106a5f1eb2f4ff01ec3">CModelEntity::ODE</a> || status == <a class="code" href="../../d0/da0/classCModelEntity.html#a86cb8e66e255d66db258324064efc78aa3bfd50e7d8e4dd09716a51e0ca62dedb">CModelEntity::ASSIGNMENT</a>)</div>
<div class="line"><a name="l03785"></a><span class="lineno"> 3785</span>&#160;        {</div>
<div class="line"><a name="l03786"></a><span class="lineno"> 3786</span>&#160;          pExpression = (*compIt)-&gt;getExpressionPtr();</div>
<div class="line"><a name="l03787"></a><span class="lineno"> 3787</span>&#160;          assert(pExpression != NULL);</div>
<div class="line"><a name="l03788"></a><span class="lineno"> 3788</span>&#160;</div>
<div class="line"><a name="l03789"></a><span class="lineno"> 3789</span>&#160;          <span class="keywordflow">if</span> (pExpression != NULL)</div>
<div class="line"><a name="l03790"></a><span class="lineno"> 3790</span>&#160;            {</div>
<div class="line"><a name="l03791"></a><span class="lineno"> 3791</span>&#160;              <span class="comment">// check for unsupported object references and unsupported function</span></div>
<div class="line"><a name="l03792"></a><span class="lineno"> 3792</span>&#160;              <span class="comment">// calls</span></div>
<div class="line"><a name="l03793"></a><span class="lineno"> 3793</span>&#160;              usedFunctionNames.clear();</div>
<div class="line"><a name="l03794"></a><span class="lineno"> 3794</span>&#160;              <a class="code" href="../../df/d80/classCSBMLExporter.html#aefa0189aa8976611a461b6de4142fdc7">CSBMLExporter::isExpressionSBMLCompatible</a>(*pExpression, dataModel, sbmlLevel, sbmlVersion, result, std::string(<span class="stringliteral">&quot;compartment with name \&quot;&quot;</span> + (*compIt)-&gt;getObjectName() + <span class="stringliteral">&quot;\&quot;&quot;</span>).c_str());</div>
<div class="line"><a name="l03795"></a><span class="lineno"> 3795</span>&#160;              <a class="code" href="../../df/d80/classCSBMLExporter.html#aa843eb9b5d1ae41d5dd2be78a864f2d5">CSBMLExporter::findDirectlyUsedFunctions</a>(pExpression-&gt;<a class="code" href="../../d1/d50/classCEvaluationTree.html#a542e592cb978819d30a6da627411ba91">getRoot</a>(), usedFunctionNames);</div>
<div class="line"><a name="l03796"></a><span class="lineno"> 3796</span>&#160;            }</div>
<div class="line"><a name="l03797"></a><span class="lineno"> 3797</span>&#160;        }</div>
<div class="line"><a name="l03798"></a><span class="lineno"> 3798</span>&#160;</div>
<div class="line"><a name="l03799"></a><span class="lineno"> 3799</span>&#160;      pExpression = (*compIt)-&gt;getInitialExpressionPtr();</div>
<div class="line"><a name="l03800"></a><span class="lineno"> 3800</span>&#160;</div>
<div class="line"><a name="l03801"></a><span class="lineno"> 3801</span>&#160;      <span class="keywordflow">if</span> (pExpression != NULL)</div>
<div class="line"><a name="l03802"></a><span class="lineno"> 3802</span>&#160;        {</div>
<div class="line"><a name="l03803"></a><span class="lineno"> 3803</span>&#160;          <span class="comment">// check for unsupported object references and unsupported function</span></div>
<div class="line"><a name="l03804"></a><span class="lineno"> 3804</span>&#160;          <span class="comment">// calls</span></div>
<div class="line"><a name="l03805"></a><span class="lineno"> 3805</span>&#160;          <a class="code" href="../../df/d80/classCSBMLExporter.html#aefa0189aa8976611a461b6de4142fdc7">CSBMLExporter::isExpressionSBMLCompatible</a>(*pExpression, dataModel, sbmlLevel, sbmlVersion, result, std::string(<span class="stringliteral">&quot;initial expression for compartment named \&quot;&quot;</span> + (*compIt)-&gt;getObjectName() + <span class="stringliteral">&quot;\&quot;&quot;</span>).c_str());</div>
<div class="line"><a name="l03806"></a><span class="lineno"> 3806</span>&#160;          usedFunctionNames.clear();</div>
<div class="line"><a name="l03807"></a><span class="lineno"> 3807</span>&#160;          <a class="code" href="../../df/d80/classCSBMLExporter.html#aa843eb9b5d1ae41d5dd2be78a864f2d5">CSBMLExporter::findDirectlyUsedFunctions</a>(pExpression-&gt;<a class="code" href="../../d1/d50/classCEvaluationTree.html#a542e592cb978819d30a6da627411ba91">getRoot</a>(), usedFunctionNames);</div>
<div class="line"><a name="l03808"></a><span class="lineno"> 3808</span>&#160;        }</div>
<div class="line"><a name="l03809"></a><span class="lineno"> 3809</span>&#160;</div>
<div class="line"><a name="l03810"></a><span class="lineno"> 3810</span>&#160;      ++compIt;</div>
<div class="line"><a name="l03811"></a><span class="lineno"> 3811</span>&#160;    }</div>
<div class="line"><a name="l03812"></a><span class="lineno"> 3812</span>&#160;</div>
<div class="line"><a name="l03813"></a><span class="lineno"> 3813</span>&#160;  <a class="code" href="../../d8/d2c/classCCopasiVector.html">CCopasiVector&lt;CMetab&gt;::const_iterator</a> metabIt = pModel-&gt;<a class="code" href="../../d4/d04/classCModel.html#a73a8a52c2190b1aae2f1427e4e9eb0e1">getMetabolites</a>().<a class="code" href="../../d8/d2c/classCCopasiVector.html#acb26711fe72be0d2cb3a37c2fbcc031f">begin</a>();</div>
<div class="line"><a name="l03814"></a><span class="lineno"> 3814</span>&#160;  <a class="code" href="../../d8/d2c/classCCopasiVector.html">CCopasiVector&lt;CMetab&gt;::const_iterator</a> metabEndit = pModel-&gt;<a class="code" href="../../d4/d04/classCModel.html#a73a8a52c2190b1aae2f1427e4e9eb0e1">getMetabolites</a>().<a class="code" href="../../d8/d2c/classCCopasiVector.html#a44c97a5f614c885495c437f2a8d20954">end</a>();</div>
<div class="line"><a name="l03815"></a><span class="lineno"> 3815</span>&#160;</div>
<div class="line"><a name="l03816"></a><span class="lineno"> 3816</span>&#160;  <span class="keywordflow">while</span> (metabIt != metabEndit)</div>
<div class="line"><a name="l03817"></a><span class="lineno"> 3817</span>&#160;    {</div>
<div class="line"><a name="l03818"></a><span class="lineno"> 3818</span>&#160;      status = (*metabIt)-&gt;getStatus();</div>
<div class="line"><a name="l03819"></a><span class="lineno"> 3819</span>&#160;</div>
<div class="line"><a name="l03820"></a><span class="lineno"> 3820</span>&#160;      <span class="keywordflow">if</span> (status == <a class="code" href="../../d0/da0/classCModelEntity.html#a86cb8e66e255d66db258324064efc78aa3c62c1c3a449e106a5f1eb2f4ff01ec3">CModelEntity::ODE</a> || status == <a class="code" href="../../d0/da0/classCModelEntity.html#a86cb8e66e255d66db258324064efc78aa3bfd50e7d8e4dd09716a51e0ca62dedb">CModelEntity::ASSIGNMENT</a>)</div>
<div class="line"><a name="l03821"></a><span class="lineno"> 3821</span>&#160;        {</div>
<div class="line"><a name="l03822"></a><span class="lineno"> 3822</span>&#160;          pExpression = (*metabIt)-&gt;getExpressionPtr();</div>
<div class="line"><a name="l03823"></a><span class="lineno"> 3823</span>&#160;          assert(pExpression != NULL);</div>
<div class="line"><a name="l03824"></a><span class="lineno"> 3824</span>&#160;</div>
<div class="line"><a name="l03825"></a><span class="lineno"> 3825</span>&#160;          <span class="keywordflow">if</span> (pExpression != NULL)</div>
<div class="line"><a name="l03826"></a><span class="lineno"> 3826</span>&#160;            {</div>
<div class="line"><a name="l03827"></a><span class="lineno"> 3827</span>&#160;              <span class="comment">// check for unsupported object references and unsupported function</span></div>
<div class="line"><a name="l03828"></a><span class="lineno"> 3828</span>&#160;              <span class="comment">// calls</span></div>
<div class="line"><a name="l03829"></a><span class="lineno"> 3829</span>&#160;              <a class="code" href="../../df/d80/classCSBMLExporter.html#aefa0189aa8976611a461b6de4142fdc7">CSBMLExporter::isExpressionSBMLCompatible</a>(*pExpression, dataModel, sbmlLevel, sbmlVersion, result, std::string(<span class="stringliteral">&quot;rule for species named \&quot;&quot;</span> + (*metabIt)-&gt;getObjectName() + <span class="stringliteral">&quot;\&quot;&quot;</span>).c_str());</div>
<div class="line"><a name="l03830"></a><span class="lineno"> 3830</span>&#160;              usedFunctionNames.clear();</div>
<div class="line"><a name="l03831"></a><span class="lineno"> 3831</span>&#160;              <a class="code" href="../../df/d80/classCSBMLExporter.html#aa843eb9b5d1ae41d5dd2be78a864f2d5">CSBMLExporter::findDirectlyUsedFunctions</a>(pExpression-&gt;<a class="code" href="../../d1/d50/classCEvaluationTree.html#a542e592cb978819d30a6da627411ba91">getRoot</a>(), usedFunctionNames);</div>
<div class="line"><a name="l03832"></a><span class="lineno"> 3832</span>&#160;            }</div>
<div class="line"><a name="l03833"></a><span class="lineno"> 3833</span>&#160;        }</div>
<div class="line"><a name="l03834"></a><span class="lineno"> 3834</span>&#160;</div>
<div class="line"><a name="l03835"></a><span class="lineno"> 3835</span>&#160;      pExpression = (*metabIt)-&gt;getInitialExpressionPtr();</div>
<div class="line"><a name="l03836"></a><span class="lineno"> 3836</span>&#160;</div>
<div class="line"><a name="l03837"></a><span class="lineno"> 3837</span>&#160;      <span class="keywordflow">if</span> (pExpression != NULL)</div>
<div class="line"><a name="l03838"></a><span class="lineno"> 3838</span>&#160;        {</div>
<div class="line"><a name="l03839"></a><span class="lineno"> 3839</span>&#160;          <span class="comment">// check for unsupported object references and unsupported function</span></div>
<div class="line"><a name="l03840"></a><span class="lineno"> 3840</span>&#160;          <span class="comment">// calls</span></div>
<div class="line"><a name="l03841"></a><span class="lineno"> 3841</span>&#160;          <a class="code" href="../../df/d80/classCSBMLExporter.html#aefa0189aa8976611a461b6de4142fdc7">CSBMLExporter::isExpressionSBMLCompatible</a>(*pExpression, dataModel, sbmlLevel, sbmlVersion, result, std::string(<span class="stringliteral">&quot;initial species for metabolite named \&quot;&quot;</span> + (*metabIt)-&gt;getObjectName() + <span class="stringliteral">&quot;\&quot;&quot;</span>).c_str());</div>
<div class="line"><a name="l03842"></a><span class="lineno"> 3842</span>&#160;          usedFunctionNames.clear();</div>
<div class="line"><a name="l03843"></a><span class="lineno"> 3843</span>&#160;          <a class="code" href="../../df/d80/classCSBMLExporter.html#aa843eb9b5d1ae41d5dd2be78a864f2d5">CSBMLExporter::findDirectlyUsedFunctions</a>(pExpression-&gt;<a class="code" href="../../d1/d50/classCEvaluationTree.html#a542e592cb978819d30a6da627411ba91">getRoot</a>(), usedFunctionNames);</div>
<div class="line"><a name="l03844"></a><span class="lineno"> 3844</span>&#160;        }</div>
<div class="line"><a name="l03845"></a><span class="lineno"> 3845</span>&#160;</div>
<div class="line"><a name="l03846"></a><span class="lineno"> 3846</span>&#160;      ++metabIt;</div>
<div class="line"><a name="l03847"></a><span class="lineno"> 3847</span>&#160;    }</div>
<div class="line"><a name="l03848"></a><span class="lineno"> 3848</span>&#160;</div>
<div class="line"><a name="l03849"></a><span class="lineno"> 3849</span>&#160;  <a class="code" href="../../d7/d08/classCCopasiVectorN.html">CCopasiVectorN&lt;CModelValue&gt;::const_iterator</a> mvIt = pModel-&gt;<a class="code" href="../../d4/d04/classCModel.html#ab3481ad574a3e1935a7617339970eab2">getModelValues</a>().<a class="code" href="../../d8/d2c/classCCopasiVector.html#acb26711fe72be0d2cb3a37c2fbcc031f">begin</a>();</div>
<div class="line"><a name="l03850"></a><span class="lineno"> 3850</span>&#160;  <a class="code" href="../../d7/d08/classCCopasiVectorN.html">CCopasiVectorN&lt;CModelValue&gt;::const_iterator</a> mvEndit = pModel-&gt;<a class="code" href="../../d4/d04/classCModel.html#ab3481ad574a3e1935a7617339970eab2">getModelValues</a>().<a class="code" href="../../d8/d2c/classCCopasiVector.html#a44c97a5f614c885495c437f2a8d20954">end</a>();</div>
<div class="line"><a name="l03851"></a><span class="lineno"> 3851</span>&#160;</div>
<div class="line"><a name="l03852"></a><span class="lineno"> 3852</span>&#160;  <span class="keywordflow">while</span> (mvIt != mvEndit)</div>
<div class="line"><a name="l03853"></a><span class="lineno"> 3853</span>&#160;    {</div>
<div class="line"><a name="l03854"></a><span class="lineno"> 3854</span>&#160;      status = (*mvIt)-&gt;getStatus();</div>
<div class="line"><a name="l03855"></a><span class="lineno"> 3855</span>&#160;</div>
<div class="line"><a name="l03856"></a><span class="lineno"> 3856</span>&#160;      <span class="keywordflow">if</span> (status == <a class="code" href="../../d0/da0/classCModelEntity.html#a86cb8e66e255d66db258324064efc78aa3c62c1c3a449e106a5f1eb2f4ff01ec3">CModelEntity::ODE</a> || status == <a class="code" href="../../d0/da0/classCModelEntity.html#a86cb8e66e255d66db258324064efc78aa3bfd50e7d8e4dd09716a51e0ca62dedb">CModelEntity::ASSIGNMENT</a>)</div>
<div class="line"><a name="l03857"></a><span class="lineno"> 3857</span>&#160;        {</div>
<div class="line"><a name="l03858"></a><span class="lineno"> 3858</span>&#160;          pExpression = (*mvIt)-&gt;getExpressionPtr();</div>
<div class="line"><a name="l03859"></a><span class="lineno"> 3859</span>&#160;          assert(pExpression != NULL);</div>
<div class="line"><a name="l03860"></a><span class="lineno"> 3860</span>&#160;</div>
<div class="line"><a name="l03861"></a><span class="lineno"> 3861</span>&#160;          <span class="keywordflow">if</span> (pExpression != NULL)</div>
<div class="line"><a name="l03862"></a><span class="lineno"> 3862</span>&#160;            {</div>
<div class="line"><a name="l03863"></a><span class="lineno"> 3863</span>&#160;              <span class="comment">// check for unsupported object references and unsupported function</span></div>
<div class="line"><a name="l03864"></a><span class="lineno"> 3864</span>&#160;              <span class="comment">// calls</span></div>
<div class="line"><a name="l03865"></a><span class="lineno"> 3865</span>&#160;              <a class="code" href="../../df/d80/classCSBMLExporter.html#aefa0189aa8976611a461b6de4142fdc7">CSBMLExporter::isExpressionSBMLCompatible</a>(*pExpression, dataModel, sbmlLevel, sbmlVersion, result, std::string(<span class="stringliteral">&quot;rule for global parameter named \&quot;&quot;</span> + (*mvIt)-&gt;getObjectName() + <span class="stringliteral">&quot;\&quot;&quot;</span>).c_str());</div>
<div class="line"><a name="l03866"></a><span class="lineno"> 3866</span>&#160;              usedFunctionNames.clear();</div>
<div class="line"><a name="l03867"></a><span class="lineno"> 3867</span>&#160;              <a class="code" href="../../df/d80/classCSBMLExporter.html#aa843eb9b5d1ae41d5dd2be78a864f2d5">CSBMLExporter::findDirectlyUsedFunctions</a>(pExpression-&gt;<a class="code" href="../../d1/d50/classCEvaluationTree.html#a542e592cb978819d30a6da627411ba91">getRoot</a>(), usedFunctionNames);</div>
<div class="line"><a name="l03868"></a><span class="lineno"> 3868</span>&#160;            }</div>
<div class="line"><a name="l03869"></a><span class="lineno"> 3869</span>&#160;        }</div>
<div class="line"><a name="l03870"></a><span class="lineno"> 3870</span>&#160;</div>
<div class="line"><a name="l03871"></a><span class="lineno"> 3871</span>&#160;      pExpression = (*mvIt)-&gt;getInitialExpressionPtr();</div>
<div class="line"><a name="l03872"></a><span class="lineno"> 3872</span>&#160;</div>
<div class="line"><a name="l03873"></a><span class="lineno"> 3873</span>&#160;      <span class="keywordflow">if</span> (pExpression != NULL)</div>
<div class="line"><a name="l03874"></a><span class="lineno"> 3874</span>&#160;        {</div>
<div class="line"><a name="l03875"></a><span class="lineno"> 3875</span>&#160;          <span class="comment">// check for unsupported object references and unsupported function</span></div>
<div class="line"><a name="l03876"></a><span class="lineno"> 3876</span>&#160;          <span class="comment">// calls</span></div>
<div class="line"><a name="l03877"></a><span class="lineno"> 3877</span>&#160;          <a class="code" href="../../df/d80/classCSBMLExporter.html#aefa0189aa8976611a461b6de4142fdc7">CSBMLExporter::isExpressionSBMLCompatible</a>(*pExpression, dataModel, sbmlLevel, sbmlVersion, result, std::string(<span class="stringliteral">&quot;initial expression for global parameter named \&quot;&quot;</span> + (*mvIt)-&gt;getObjectName() + <span class="stringliteral">&quot;\&quot;&quot;</span>).c_str());</div>
<div class="line"><a name="l03878"></a><span class="lineno"> 3878</span>&#160;          usedFunctionNames.clear();</div>
<div class="line"><a name="l03879"></a><span class="lineno"> 3879</span>&#160;          <a class="code" href="../../df/d80/classCSBMLExporter.html#aa843eb9b5d1ae41d5dd2be78a864f2d5">CSBMLExporter::findDirectlyUsedFunctions</a>(pExpression-&gt;<a class="code" href="../../d1/d50/classCEvaluationTree.html#a542e592cb978819d30a6da627411ba91">getRoot</a>(), usedFunctionNames);</div>
<div class="line"><a name="l03880"></a><span class="lineno"> 3880</span>&#160;        }</div>
<div class="line"><a name="l03881"></a><span class="lineno"> 3881</span>&#160;</div>
<div class="line"><a name="l03882"></a><span class="lineno"> 3882</span>&#160;      ++mvIt;</div>
<div class="line"><a name="l03883"></a><span class="lineno"> 3883</span>&#160;    }</div>
<div class="line"><a name="l03884"></a><span class="lineno"> 3884</span>&#160;</div>
<div class="line"><a name="l03885"></a><span class="lineno"> 3885</span>&#160;  <span class="comment">// since all kinetic laws in COPASI are simple function calls and the</span></div>
<div class="line"><a name="l03886"></a><span class="lineno"> 3886</span>&#160;  <span class="comment">// arguments to the call can only be parameters or species, the expressions</span></div>
<div class="line"><a name="l03887"></a><span class="lineno"> 3887</span>&#160;  <span class="comment">// in kinetic laws are always automatically valid for SBML export</span></div>
<div class="line"><a name="l03888"></a><span class="lineno"> 3888</span>&#160;  <span class="comment">// However the functions that are called must not be valid</span></div>
<div class="line"><a name="l03889"></a><span class="lineno"> 3889</span>&#160;</div>
<div class="line"><a name="l03890"></a><span class="lineno"> 3890</span>&#160;  <span class="comment">// check all functions that are used if they contain invalid function calls</span></div>
<div class="line"><a name="l03891"></a><span class="lineno"> 3891</span>&#160;</div>
<div class="line"><a name="l03892"></a><span class="lineno"> 3892</span>&#160;  <span class="comment">// level dependent checks</span></div>
<div class="line"><a name="l03893"></a><span class="lineno"> 3893</span>&#160;  <a class="code" href="../../d7/d08/classCCopasiVectorN.html">CCopasiVectorN&lt;CEvent&gt;::const_iterator</a> eventIt, eventEndit;</div>
<div class="line"><a name="l03894"></a><span class="lineno"> 3894</span>&#160;</div>
<div class="line"><a name="l03895"></a><span class="lineno"> 3895</span>&#160;  <span class="keywordflow">switch</span> (sbmlLevel)</div>
<div class="line"><a name="l03896"></a><span class="lineno"> 3896</span>&#160;    {</div>
<div class="line"><a name="l03897"></a><span class="lineno"> 3897</span>&#160;      <span class="keywordflow">case</span> 2:</div>
<div class="line"><a name="l03898"></a><span class="lineno"> 3898</span>&#160;        <span class="comment">// check all events</span></div>
<div class="line"><a name="l03899"></a><span class="lineno"> 3899</span>&#160;        eventIt = pModel-&gt;<a class="code" href="../../d4/d04/classCModel.html#ad55cc48064428d703cee3e69b71e4703">getEvents</a>().<a class="code" href="../../d8/d2c/classCCopasiVector.html#acb26711fe72be0d2cb3a37c2fbcc031f">begin</a>();</div>
<div class="line"><a name="l03900"></a><span class="lineno"> 3900</span>&#160;        eventEndit = pModel-&gt;<a class="code" href="../../d4/d04/classCModel.html#ad55cc48064428d703cee3e69b71e4703">getEvents</a>().<a class="code" href="../../d8/d2c/classCCopasiVector.html#a44c97a5f614c885495c437f2a8d20954">end</a>();</div>
<div class="line"><a name="l03901"></a><span class="lineno"> 3901</span>&#160;</div>
<div class="line"><a name="l03902"></a><span class="lineno"> 3902</span>&#160;        <span class="keywordflow">while</span> (eventIt != eventEndit)</div>
<div class="line"><a name="l03903"></a><span class="lineno"> 3903</span>&#160;          {</div>
<div class="line"><a name="l03904"></a><span class="lineno"> 3904</span>&#160;            <a class="code" href="../../df/d80/classCSBMLExporter.html#a7eae0b3b6b933c2807878441b456acf3">CSBMLExporter::isEventSBMLCompatible</a>(*eventIt, dataModel, sbmlLevel, sbmlVersion, result);</div>
<div class="line"><a name="l03905"></a><span class="lineno"> 3905</span>&#160;            ++eventIt;</div>
<div class="line"><a name="l03906"></a><span class="lineno"> 3906</span>&#160;          }</div>
<div class="line"><a name="l03907"></a><span class="lineno"> 3907</span>&#160;</div>
<div class="line"><a name="l03908"></a><span class="lineno"> 3908</span>&#160;        <span class="keywordflow">switch</span> (sbmlVersion)</div>
<div class="line"><a name="l03909"></a><span class="lineno"> 3909</span>&#160;          {</div>
<div class="line"><a name="l03910"></a><span class="lineno"> 3910</span>&#160;            <span class="keywordflow">case</span> 1:</div>
<div class="line"><a name="l03911"></a><span class="lineno"> 3911</span>&#160;              <a class="code" href="../../df/d80/classCSBMLExporter.html#aab8893bb42f3c23886a7a76282ae4c70">CSBMLExporter::isModelSBMLL2V1Compatible</a>(dataModel, result);</div>
<div class="line"><a name="l03912"></a><span class="lineno"> 3912</span>&#160;              <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l03913"></a><span class="lineno"> 3913</span>&#160;</div>
<div class="line"><a name="l03914"></a><span class="lineno"> 3914</span>&#160;            <span class="keywordflow">case</span> 2:</div>
<div class="line"><a name="l03915"></a><span class="lineno"> 3915</span>&#160;            <span class="keywordflow">case</span> 3:</div>
<div class="line"><a name="l03916"></a><span class="lineno"> 3916</span>&#160;              <a class="code" href="../../df/d80/classCSBMLExporter.html#a980c8aa07cb93bff4e387188ec371131">CSBMLExporter::isModelSBMLL2V3Compatible</a>(dataModel, result);</div>
<div class="line"><a name="l03917"></a><span class="lineno"> 3917</span>&#160;              <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l03918"></a><span class="lineno"> 3918</span>&#160;</div>
<div class="line"><a name="l03919"></a><span class="lineno"> 3919</span>&#160;            <span class="keywordflow">default</span>:</div>
<div class="line"><a name="l03920"></a><span class="lineno"> 3920</span>&#160;              result.push_back(<a class="code" href="../../d7/de3/classSBMLIncompatibility.html">SBMLIncompatibility</a>(6, sbmlLevel, sbmlVersion));</div>
<div class="line"><a name="l03921"></a><span class="lineno"> 3921</span>&#160;              <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l03922"></a><span class="lineno"> 3922</span>&#160;          }</div>
<div class="line"><a name="l03923"></a><span class="lineno"> 3923</span>&#160;</div>
<div class="line"><a name="l03924"></a><span class="lineno"> 3924</span>&#160;        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l03925"></a><span class="lineno"> 3925</span>&#160;</div>
<div class="line"><a name="l03926"></a><span class="lineno"> 3926</span>&#160;      <span class="keywordflow">case</span> 1:</div>
<div class="line"><a name="l03927"></a><span class="lineno"> 3927</span>&#160;        <a class="code" href="../../df/d80/classCSBMLExporter.html#a72f143a792d030152e5721903727c06c">CSBMLExporter::isModelSBMLL1Compatible</a>(dataModel, result);</div>
<div class="line"><a name="l03928"></a><span class="lineno"> 3928</span>&#160;        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l03929"></a><span class="lineno"> 3929</span>&#160;</div>
<div class="line"><a name="l03930"></a><span class="lineno"> 3930</span>&#160;      <span class="keywordflow">default</span>:</div>
<div class="line"><a name="l03931"></a><span class="lineno"> 3931</span>&#160;        result.push_back(<a class="code" href="../../d7/de3/classSBMLIncompatibility.html">SBMLIncompatibility</a>(6, sbmlLevel, sbmlVersion));</div>
<div class="line"><a name="l03932"></a><span class="lineno"> 3932</span>&#160;        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l03933"></a><span class="lineno"> 3933</span>&#160;    }</div>
<div class="line"><a name="l03934"></a><span class="lineno"> 3934</span>&#160;</div>
<div class="line"><a name="l03935"></a><span class="lineno"> 3935</span>&#160;  <span class="keywordflow">return</span> result;</div>
<div class="line"><a name="l03936"></a><span class="lineno"> 3936</span>&#160;}</div>
<div class="ttc" id="classCCopasiVectorN_html"><div class="ttname"><a href="../../d7/d08/classCCopasiVectorN.html">CCopasiVectorN</a></div><div class="ttdef"><b>Definition:</b> <a href="../../dd/df7/CCopasiDataModel_8h_source.html#l00047">CCopasiDataModel.h:47</a></div></div>
<div class="ttc" id="classCSBMLExporter_html_aa843eb9b5d1ae41d5dd2be78a864f2d5"><div class="ttname"><a href="../../df/d80/classCSBMLExporter.html#aa843eb9b5d1ae41d5dd2be78a864f2d5">CSBMLExporter::findDirectlyUsedFunctions</a></div><div class="ttdeci">static void findDirectlyUsedFunctions(const CEvaluationNode *pRootNode, std::set&lt; std::string &gt; &amp;result)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d2f/CSBMLExporter_8cpp_source.html#l04927">CSBMLExporter.cpp:4927</a></div></div>
<div class="ttc" id="classCExpression_html"><div class="ttname"><a href="../../dc/dbd/classCExpression.html">CExpression</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dcc/CExpression_8h_source.html#l00028">CExpression.h:28</a></div></div>
<div class="ttc" id="classCModel_html_ad55cc48064428d703cee3e69b71e4703"><div class="ttname"><a href="../../d4/d04/classCModel.html#ad55cc48064428d703cee3e69b71e4703">CModel::getEvents</a></div><div class="ttdeci">CCopasiVectorN&lt; CEvent &gt; &amp; getEvents()</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d08/CModel_8cpp_source.html#l01110">CModel.cpp:1110</a></div></div>
<div class="ttc" id="classCCopasiDataModel_html_a2e65952e0caf0b2709d381cf949fec69"><div class="ttname"><a href="../../d4/d18/classCCopasiDataModel.html#a2e65952e0caf0b2709d381cf949fec69">CCopasiDataModel::getModel</a></div><div class="ttdeci">CModel * getModel()</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d38/CCopasiDataModel_8cpp_source.html#l01407">CCopasiDataModel.cpp:1407</a></div></div>
<div class="ttc" id="classCModel_html_a73a8a52c2190b1aae2f1427e4e9eb0e1"><div class="ttname"><a href="../../d4/d04/classCModel.html#a73a8a52c2190b1aae2f1427e4e9eb0e1">CModel::getMetabolites</a></div><div class="ttdeci">const CCopasiVector&lt; CMetab &gt; &amp; getMetabolites() const </div><div class="ttdef"><b>Definition:</b> <a href="../../df/d08/CModel_8cpp_source.html#l01051">CModel.cpp:1051</a></div></div>
<div class="ttc" id="classCModel_html_ab3481ad574a3e1935a7617339970eab2"><div class="ttname"><a href="../../d4/d04/classCModel.html#ab3481ad574a3e1935a7617339970eab2">CModel::getModelValues</a></div><div class="ttdeci">const CCopasiVectorN&lt; CModelValue &gt; &amp; getModelValues() const </div><div class="ttdef"><b>Definition:</b> <a href="../../df/d08/CModel_8cpp_source.html#l01060">CModel.cpp:1060</a></div></div>
<div class="ttc" id="classCCopasiVector_html_acb26711fe72be0d2cb3a37c2fbcc031f"><div class="ttname"><a href="../../d8/d2c/classCCopasiVector.html#acb26711fe72be0d2cb3a37c2fbcc031f">CCopasiVector::begin</a></div><div class="ttdeci">iterator begin()</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d51/CCopasiVector_8h_source.html#l00185">CCopasiVector.h:185</a></div></div>
<div class="ttc" id="classCSBMLExporter_html_a67c34d6bd969cc569131d34677fc8247"><div class="ttname"><a href="../../df/d80/classCSBMLExporter.html#a67c34d6bd969cc569131d34677fc8247">CSBMLExporter::checkForODESpeciesInNonfixedCompartment</a></div><div class="ttdeci">static void checkForODESpeciesInNonfixedCompartment(const CCopasiDataModel &amp;dataModel, std::vector&lt; SBMLIncompatibility &gt; result)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d2f/CSBMLExporter_8cpp_source.html#l02738">CSBMLExporter.cpp:2738</a></div></div>
<div class="ttc" id="classCModelEntity_html_a86cb8e66e255d66db258324064efc78aa3bfd50e7d8e4dd09716a51e0ca62dedb"><div class="ttname"><a href="../../d0/da0/classCModelEntity.html#a86cb8e66e255d66db258324064efc78aa3bfd50e7d8e4dd09716a51e0ca62dedb">CModelEntity::ASSIGNMENT</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d1/da3/CModelValue_8h_source.html#l00056">CModelValue.h:56</a></div></div>
<div class="ttc" id="classSBMLIncompatibility_html"><div class="ttname"><a href="../../d7/de3/classSBMLIncompatibility.html">SBMLIncompatibility</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d95/SBMLIncompatibility_8h_source.html#l00024">SBMLIncompatibility.h:24</a></div></div>
<div class="ttc" id="classCCopasiVectorNS_html"><div class="ttname"><a href="../../d9/db9/classCCopasiVectorNS.html">CCopasiVectorNS</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d51/CCopasiVector_8h_source.html#l00800">CCopasiVector.h:800</a></div></div>
<div class="ttc" id="classCCopasiVector_html_a44c97a5f614c885495c437f2a8d20954"><div class="ttname"><a href="../../d8/d2c/classCCopasiVector.html#a44c97a5f614c885495c437f2a8d20954">CCopasiVector::end</a></div><div class="ttdeci">iterator end()</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d51/CCopasiVector_8h_source.html#l00191">CCopasiVector.h:191</a></div></div>
<div class="ttc" id="classCSBMLExporter_html_a7eae0b3b6b933c2807878441b456acf3"><div class="ttname"><a href="../../df/d80/classCSBMLExporter.html#a7eae0b3b6b933c2807878441b456acf3">CSBMLExporter::isEventSBMLCompatible</a></div><div class="ttdeci">static void isEventSBMLCompatible(const CEvent *pEvent, const CCopasiDataModel &amp;dataModel, unsigned int sbmlLevel, unsigned int sbmlVersion, std::vector&lt; SBMLIncompatibility &gt; &amp;result)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d2f/CSBMLExporter_8cpp_source.html#l07201">CSBMLExporter.cpp:7201</a></div></div>
<div class="ttc" id="classCModelEntity_html_a86cb8e66e255d66db258324064efc78a"><div class="ttname"><a href="../../d0/da0/classCModelEntity.html#a86cb8e66e255d66db258324064efc78a">CModelEntity::Status</a></div><div class="ttdeci">Status</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/da3/CModelValue_8h_source.html#l00053">CModelValue.h:53</a></div></div>
<div class="ttc" id="classCModel_html_a7d405db8dc8120b942aa0ec1e80db399"><div class="ttname"><a href="../../d4/d04/classCModel.html#a7d405db8dc8120b942aa0ec1e80db399">CModel::getCompartments</a></div><div class="ttdeci">CCopasiVectorNS&lt; CCompartment &gt; &amp; getCompartments()</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d08/CModel_8cpp_source.html#l01145">CModel.cpp:1145</a></div></div>
<div class="ttc" id="classCSBMLExporter_html_aefa0189aa8976611a461b6de4142fdc7"><div class="ttname"><a href="../../df/d80/classCSBMLExporter.html#aefa0189aa8976611a461b6de4142fdc7">CSBMLExporter::isExpressionSBMLCompatible</a></div><div class="ttdeci">static void isExpressionSBMLCompatible(const CEvaluationTree &amp;expr, const CCopasiDataModel &amp;dataModel, int sbmlLevel, int sbmlVersion, std::vector&lt; SBMLIncompatibility &gt; &amp;result, const std::string &amp;objectDescription, bool initialExression=false, std::map&lt; const std::string, Parameter * &gt; *initialMap=NULL)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d2f/CSBMLExporter_8cpp_source.html#l02767">CSBMLExporter.cpp:2767</a></div></div>
<div class="ttc" id="classCModelEntity_html_a86cb8e66e255d66db258324064efc78aa3c62c1c3a449e106a5f1eb2f4ff01ec3"><div class="ttname"><a href="../../d0/da0/classCModelEntity.html#a86cb8e66e255d66db258324064efc78aa3c62c1c3a449e106a5f1eb2f4ff01ec3">CModelEntity::ODE</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d1/da3/CModelValue_8h_source.html#l00060">CModelValue.h:60</a></div></div>
<div class="ttc" id="classCSBMLExporter_html_a72f143a792d030152e5721903727c06c"><div class="ttname"><a href="../../df/d80/classCSBMLExporter.html#a72f143a792d030152e5721903727c06c">CSBMLExporter::isModelSBMLL1Compatible</a></div><div class="ttdeci">static void isModelSBMLL1Compatible(const CCopasiDataModel &amp;dataModel, std::vector&lt; SBMLIncompatibility &gt; &amp;result)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d2f/CSBMLExporter_8cpp_source.html#l02551">CSBMLExporter.cpp:2551</a></div></div>
<div class="ttc" id="classCModel_html"><div class="ttname"><a href="../../d4/d04/classCModel.html">CModel</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d90/CModel_8h_source.html#l00050">CModel.h:50</a></div></div>
<div class="ttc" id="classCSBMLExporter_html_a980c8aa07cb93bff4e387188ec371131"><div class="ttname"><a href="../../df/d80/classCSBMLExporter.html#a980c8aa07cb93bff4e387188ec371131">CSBMLExporter::isModelSBMLL2V3Compatible</a></div><div class="ttdeci">static void isModelSBMLL2V3Compatible(const CCopasiDataModel &amp;dataModel, std::vector&lt; SBMLIncompatibility &gt; &amp;result)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d2f/CSBMLExporter_8cpp_source.html#l02579">CSBMLExporter.cpp:2579</a></div></div>
<div class="ttc" id="classCEvaluationTree_html_a542e592cb978819d30a6da627411ba91"><div class="ttname"><a href="../../d1/d50/classCEvaluationTree.html#a542e592cb978819d30a6da627411ba91">CEvaluationTree::getRoot</a></div><div class="ttdeci">CEvaluationNode * getRoot()</div><div class="ttdef"><b>Definition:</b> <a href="../../da/d55/CEvaluationTree_8cpp_source.html#l00610">CEvaluationTree.cpp:610</a></div></div>
<div class="ttc" id="classCSBMLExporter_html_aab8893bb42f3c23886a7a76282ae4c70"><div class="ttname"><a href="../../df/d80/classCSBMLExporter.html#aab8893bb42f3c23886a7a76282ae4c70">CSBMLExporter::isModelSBMLL2V1Compatible</a></div><div class="ttdeci">static void isModelSBMLL2V1Compatible(const CCopasiDataModel &amp;dataModel, std::vector&lt; SBMLIncompatibility &gt; &amp;result)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d2f/CSBMLExporter_8cpp_source.html#l02568">CSBMLExporter.cpp:2568</a></div></div>
<div class="ttc" id="classCCopasiVector_html"><div class="ttname"><a href="../../d8/d2c/classCCopasiVector.html">CCopasiVector</a></div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d60/compare__utilities_8h_source.html#l00034">compare_utilities.h:34</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a72f143a792d030152e5721903727c06c"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d3/d05/CChemEqParser__yacc_8cpp.html#aa76fec002b4ba91adc88f68d56ba730c">void</a> CSBMLExporter::isModelSBMLL1Compatible </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="../../d4/d18/classCCopasiDataModel.html">CCopasiDataModel</a> &amp;&#160;</td>
          <td class="paramname"><em>dataModel</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::vector&lt; <a class="el" href="../../d7/de3/classSBMLIncompatibility.html">SBMLIncompatibility</a> &gt; &amp;&#160;</td>
          <td class="paramname"><em>result</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Checks wether the given data model can be exported to SBML Level1 If it can be exported, the result vector will be empty, otherwise it will contain a number of messages that specify why it can't be exported.</p>
<p>Checks whether the given data model can be exported to SBML Level1 If it can be exported, the result vector will be empty, otherwise it will contain a number of messages that specify why it can't be exported. </p>

<p>Definition at line <a class="el" href="../../d5/d2f/CSBMLExporter_8cpp_source.html#l02551">2551</a> of file <a class="el" href="../../d5/d2f/CSBMLExporter_8cpp_source.html">CSBMLExporter.cpp</a>.</p>

<p>References <a class="el" href="../../df/d80/classCSBMLExporter.html#a2ff9071e1a2ac3039de6b4311c40e336">checkForEvents()</a>, <a class="el" href="../../df/d80/classCSBMLExporter.html#a773138e50be3ecf6cd3e42d002d553e4">checkForInitialAssignments()</a>, and <a class="el" href="../../df/d80/classCSBMLExporter.html#aeeac4e8650cfa507c42df9f0eae46474">checkForPiecewiseFunctions()</a>.</p>

<p>Referenced by <a class="el" href="../../df/d80/classCSBMLExporter.html#a740195f63c146c4b09170e29cb8977f6">isModelSBMLCompatible()</a>.</p>
<div class="fragment"><div class="line"><a name="l02552"></a><span class="lineno"> 2552</span>&#160;{</div>
<div class="line"><a name="l02553"></a><span class="lineno"> 2553</span>&#160;  <span class="comment">// check for piecewise functions</span></div>
<div class="line"><a name="l02554"></a><span class="lineno"> 2554</span>&#160;  <a class="code" href="../../df/d80/classCSBMLExporter.html#aeeac4e8650cfa507c42df9f0eae46474">checkForPiecewiseFunctions</a>(dataModel, result);</div>
<div class="line"><a name="l02555"></a><span class="lineno"> 2555</span>&#160;</div>
<div class="line"><a name="l02556"></a><span class="lineno"> 2556</span>&#160;  <span class="comment">// check for initial assignments</span></div>
<div class="line"><a name="l02557"></a><span class="lineno"> 2557</span>&#160;  <a class="code" href="../../df/d80/classCSBMLExporter.html#a773138e50be3ecf6cd3e42d002d553e4">checkForInitialAssignments</a>(dataModel, result);</div>
<div class="line"><a name="l02558"></a><span class="lineno"> 2558</span>&#160;</div>
<div class="line"><a name="l02559"></a><span class="lineno"> 2559</span>&#160;  <span class="comment">// check for event</span></div>
<div class="line"><a name="l02560"></a><span class="lineno"> 2560</span>&#160;  <a class="code" href="../../df/d80/classCSBMLExporter.html#a2ff9071e1a2ac3039de6b4311c40e336">checkForEvents</a>(dataModel, result);</div>
<div class="line"><a name="l02561"></a><span class="lineno"> 2561</span>&#160;}</div>
<div class="ttc" id="classCSBMLExporter_html_aeeac4e8650cfa507c42df9f0eae46474"><div class="ttname"><a href="../../df/d80/classCSBMLExporter.html#aeeac4e8650cfa507c42df9f0eae46474">CSBMLExporter::checkForPiecewiseFunctions</a></div><div class="ttdeci">static void checkForPiecewiseFunctions(const CCopasiDataModel &amp;dataModel, std::vector&lt; SBMLIncompatibility &gt; &amp;result)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d2f/CSBMLExporter_8cpp_source.html#l05531">CSBMLExporter.cpp:5531</a></div></div>
<div class="ttc" id="classCSBMLExporter_html_a2ff9071e1a2ac3039de6b4311c40e336"><div class="ttname"><a href="../../df/d80/classCSBMLExporter.html#a2ff9071e1a2ac3039de6b4311c40e336">CSBMLExporter::checkForEvents</a></div><div class="ttdeci">static void checkForEvents(const CCopasiDataModel &amp;dataModel, std::vector&lt; SBMLIncompatibility &gt; &amp;result)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d2f/CSBMLExporter_8cpp_source.html#l04552">CSBMLExporter.cpp:4552</a></div></div>
<div class="ttc" id="classCSBMLExporter_html_a773138e50be3ecf6cd3e42d002d553e4"><div class="ttname"><a href="../../df/d80/classCSBMLExporter.html#a773138e50be3ecf6cd3e42d002d553e4">CSBMLExporter::checkForInitialAssignments</a></div><div class="ttdeci">static void checkForInitialAssignments(const CCopasiDataModel &amp;dataModel, std::vector&lt; SBMLIncompatibility &gt; &amp;result)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d2f/CSBMLExporter_8cpp_source.html#l02887">CSBMLExporter.cpp:2887</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="aab8893bb42f3c23886a7a76282ae4c70"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d3/d05/CChemEqParser__yacc_8cpp.html#aa76fec002b4ba91adc88f68d56ba730c">void</a> CSBMLExporter::isModelSBMLL2V1Compatible </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="../../d4/d18/classCCopasiDataModel.html">CCopasiDataModel</a> &amp;&#160;</td>
          <td class="paramname"><em>dataModel</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::vector&lt; <a class="el" href="../../d7/de3/classSBMLIncompatibility.html">SBMLIncompatibility</a> &gt; &amp;&#160;</td>
          <td class="paramname"><em>result</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Checks wether the given data model can be exported to SBML Level2 Version1. If it can be exported, the result vector will be empty, otherwise it will contain a number of messages that specify why it can't be exported.</p>
<p>Checks whether the given data model can be exported to SBML Level2 Version1. If it can be exported, the result vector will be empty, otherwise it will contain a number of messages that specify why it can't be exported. </p>

<p>Definition at line <a class="el" href="../../d5/d2f/CSBMLExporter_8cpp_source.html#l02568">2568</a> of file <a class="el" href="../../d5/d2f/CSBMLExporter_8cpp_source.html">CSBMLExporter.cpp</a>.</p>

<p>References <a class="el" href="../../df/d80/classCSBMLExporter.html#a773138e50be3ecf6cd3e42d002d553e4">checkForInitialAssignments()</a>.</p>

<p>Referenced by <a class="el" href="../../df/d80/classCSBMLExporter.html#a740195f63c146c4b09170e29cb8977f6">isModelSBMLCompatible()</a>.</p>
<div class="fragment"><div class="line"><a name="l02569"></a><span class="lineno"> 2569</span>&#160;{</div>
<div class="line"><a name="l02570"></a><span class="lineno"> 2570</span>&#160;  <span class="comment">// check for initial assignments</span></div>
<div class="line"><a name="l02571"></a><span class="lineno"> 2571</span>&#160;  <a class="code" href="../../df/d80/classCSBMLExporter.html#a773138e50be3ecf6cd3e42d002d553e4">CSBMLExporter::checkForInitialAssignments</a>(dataModel, result);</div>
<div class="line"><a name="l02572"></a><span class="lineno"> 2572</span>&#160;}</div>
<div class="ttc" id="classCSBMLExporter_html_a773138e50be3ecf6cd3e42d002d553e4"><div class="ttname"><a href="../../df/d80/classCSBMLExporter.html#a773138e50be3ecf6cd3e42d002d553e4">CSBMLExporter::checkForInitialAssignments</a></div><div class="ttdeci">static void checkForInitialAssignments(const CCopasiDataModel &amp;dataModel, std::vector&lt; SBMLIncompatibility &gt; &amp;result)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d2f/CSBMLExporter_8cpp_source.html#l02887">CSBMLExporter.cpp:2887</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a980c8aa07cb93bff4e387188ec371131"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d3/d05/CChemEqParser__yacc_8cpp.html#aa76fec002b4ba91adc88f68d56ba730c">void</a> CSBMLExporter::isModelSBMLL2V3Compatible </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="../../d4/d18/classCCopasiDataModel.html">CCopasiDataModel</a> &amp;&#160;</td>
          <td class="paramname"><em>dataModel</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::vector&lt; <a class="el" href="../../d7/de3/classSBMLIncompatibility.html">SBMLIncompatibility</a> &gt; &amp;&#160;</td>
          <td class="paramname"><em>result</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Checks wether the given data model can be exported to SBML Level2 Version3. If it can be exported, the result vector will be empty, otherwise it will contain a number of messages that specify why it can't be exported.</p>
<p>Checks whether the given data model can be exported to SBML Level2 Version3. If it can be exported, the result vector will be empty, otherwise it will contain a number of messages that specify why it can't be exported. </p>

<p>Definition at line <a class="el" href="../../d5/d2f/CSBMLExporter_8cpp_source.html#l02579">2579</a> of file <a class="el" href="../../d5/d2f/CSBMLExporter_8cpp_source.html">CSBMLExporter.cpp</a>.</p>

<p>References <a class="el" href="../../df/d80/classCSBMLExporter.html#a434c0e84d0593abf69165c1a73760b9e">check_for_spatial_size_units()</a>.</p>

<p>Referenced by <a class="el" href="../../df/d80/classCSBMLExporter.html#a740195f63c146c4b09170e29cb8977f6">isModelSBMLCompatible()</a>.</p>
<div class="fragment"><div class="line"><a name="l02580"></a><span class="lineno"> 2580</span>&#160;{</div>
<div class="line"><a name="l02581"></a><span class="lineno"> 2581</span>&#160;  <span class="comment">// if there is an SBML model, which means the model was imported from SBML,</span></div>
<div class="line"><a name="l02582"></a><span class="lineno"> 2582</span>&#160;  <span class="comment">// we have to check for spatial size units on species in the SBML model</span></div>
<div class="line"><a name="l02583"></a><span class="lineno"> 2583</span>&#160;  <span class="comment">// because those are not allowed in SBMLLl2V3 and above</span></div>
<div class="line"><a name="l02584"></a><span class="lineno"> 2584</span>&#160;  <a class="code" href="../../df/d80/classCSBMLExporter.html#a434c0e84d0593abf69165c1a73760b9e">check_for_spatial_size_units</a>(dataModel, result);</div>
<div class="line"><a name="l02585"></a><span class="lineno"> 2585</span>&#160;}</div>
<div class="ttc" id="classCSBMLExporter_html_a434c0e84d0593abf69165c1a73760b9e"><div class="ttname"><a href="../../df/d80/classCSBMLExporter.html#a434c0e84d0593abf69165c1a73760b9e">CSBMLExporter::check_for_spatial_size_units</a></div><div class="ttdeci">static void check_for_spatial_size_units(const CCopasiDataModel &amp;dataModel, std::vector&lt; SBMLIncompatibility &gt; &amp;result)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d2f/CSBMLExporter_8cpp_source.html#l02597">CSBMLExporter.cpp:2597</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a2390380da40af62204a45a4307cb7517"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool CSBMLExporter::isSetExportCOPASIMIRIAM </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Returns whether the exporter is supposed to export COPASIs MIRIAM annotation in addition to SBML MIRIAM. </p>

<p>Definition at line <a class="el" href="../../d5/d2f/CSBMLExporter_8cpp_source.html#l07191">7191</a> of file <a class="el" href="../../d5/d2f/CSBMLExporter_8cpp_source.html">CSBMLExporter.cpp</a>.</p>

<p>References <a class="el" href="../../df/d80/classCSBMLExporter.html#a64aed2b18e03f12e362aaa0cabdbb471">mExportCOPASIMIRIAM</a>.</p>
<div class="fragment"><div class="line"><a name="l07192"></a><span class="lineno"> 7192</span>&#160;{</div>
<div class="line"><a name="l07193"></a><span class="lineno"> 7193</span>&#160;  <span class="keywordflow">return</span> this-&gt;<a class="code" href="../../df/d80/classCSBMLExporter.html#a64aed2b18e03f12e362aaa0cabdbb471">mExportCOPASIMIRIAM</a>;</div>
<div class="line"><a name="l07194"></a><span class="lineno"> 7194</span>&#160;}</div>
<div class="ttc" id="classCSBMLExporter_html_a64aed2b18e03f12e362aaa0cabdbb471"><div class="ttname"><a href="../../df/d80/classCSBMLExporter.html#a64aed2b18e03f12e362aaa0cabdbb471">CSBMLExporter::mExportCOPASIMIRIAM</a></div><div class="ttdeci">bool mExportCOPASIMIRIAM</div><div class="ttdef"><b>Definition:</b> <a href="../../da/d7f/CSBMLExporter_8h_source.html#l00074">CSBMLExporter.h:74</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a885487cfd1570979b180bee89571c271"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool CSBMLExporter::isValidSId </td>
          <td>(</td>
          <td class="paramtype">const std::string &amp;&#160;</td>
          <td class="paramname"><em>id</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Checks if the given string is a valid SId </p>

<p>Definition at line <a class="el" href="../../d5/d2f/CSBMLExporter_8cpp_source.html#l05993">5993</a> of file <a class="el" href="../../d5/d2f/CSBMLExporter_8cpp_source.html">CSBMLExporter.cpp</a>.</p>

<p>Referenced by <a class="el" href="../../df/d80/classCSBMLExporter.html#abc1d139f7b654051b43958675056e34c">createFunctionDefinition()</a>, and <a class="el" href="../../df/d80/classCSBMLExporter.html#a36e8f281bf2ae61c6f6de64a3d34da79">setFunctionSBMLIds()</a>.</p>
<div class="fragment"><div class="line"><a name="l05994"></a><span class="lineno"> 5994</span>&#160;{</div>
<div class="line"><a name="l05995"></a><span class="lineno"> 5995</span>&#160;  <span class="keywordtype">bool</span> result = <span class="keyword">true</span>;</div>
<div class="line"><a name="l05996"></a><span class="lineno"> 5996</span>&#160;</div>
<div class="line"><a name="l05997"></a><span class="lineno"> 5997</span>&#160;  <span class="keywordflow">if</span> (<span class="keywordtype">id</span>.length() &gt; 0)</div>
<div class="line"><a name="l05998"></a><span class="lineno"> 5998</span>&#160;    {</div>
<div class="line"><a name="l05999"></a><span class="lineno"> 5999</span>&#160;      <span class="keywordtype">char</span> c = <span class="keywordtype">id</span>[0];</div>
<div class="line"><a name="l06000"></a><span class="lineno"> 6000</span>&#160;      result = (c == <span class="charliteral">&#39;_&#39;</span> || (c &gt; 64 &amp;&amp; c &lt; 91) || (c &gt; 96 &amp;&amp; c &lt; 123));</div>
<div class="line"><a name="l06001"></a><span class="lineno"> 6001</span>&#160;      <span class="keywordtype">size_t</span> i, iMax = <span class="keywordtype">id</span>.length();</div>
<div class="line"><a name="l06002"></a><span class="lineno"> 6002</span>&#160;</div>
<div class="line"><a name="l06003"></a><span class="lineno"> 6003</span>&#160;      <span class="keywordflow">for</span> (i = 1; (i &lt; iMax) &amp;&amp; result; ++i)</div>
<div class="line"><a name="l06004"></a><span class="lineno"> 6004</span>&#160;        {</div>
<div class="line"><a name="l06005"></a><span class="lineno"> 6005</span>&#160;          c = <span class="keywordtype">id</span>[i];</div>
<div class="line"><a name="l06006"></a><span class="lineno"> 6006</span>&#160;          result = (c == <span class="charliteral">&#39;_&#39;</span> || (c &gt; 64 &amp;&amp; c &lt; 91) || (c &gt; 96 &amp;&amp; c &lt; 123) || (c &gt; 47 &amp;&amp; c &lt; 58));</div>
<div class="line"><a name="l06007"></a><span class="lineno"> 6007</span>&#160;        }</div>
<div class="line"><a name="l06008"></a><span class="lineno"> 6008</span>&#160;    }</div>
<div class="line"><a name="l06009"></a><span class="lineno"> 6009</span>&#160;  <span class="keywordflow">else</span></div>
<div class="line"><a name="l06010"></a><span class="lineno"> 6010</span>&#160;    {</div>
<div class="line"><a name="l06011"></a><span class="lineno"> 6011</span>&#160;      result = <span class="keyword">false</span>;</div>
<div class="line"><a name="l06012"></a><span class="lineno"> 6012</span>&#160;    }</div>
<div class="line"><a name="l06013"></a><span class="lineno"> 6013</span>&#160;</div>
<div class="line"><a name="l06014"></a><span class="lineno"> 6014</span>&#160;  <span class="keywordflow">return</span> result;</div>
<div class="line"><a name="l06015"></a><span class="lineno"> 6015</span>&#160;}</div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="aa8f731ee31dccd8e0b8d81ed695d9b0b"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d8/d9f/classCEvaluationNode.html">CEvaluationNode</a> * CSBMLExporter::multiplyByObject </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="../../d8/d9f/classCEvaluationNode.html">CEvaluationNode</a> *&#160;</td>
          <td class="paramname"><em>pOrigNode</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="../../d4/da8/classCCopasiObject.html">CCopasiObject</a> *&#160;</td>
          <td class="paramname"><em>pObject</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>This method multiplies a given expression by the given object. The caller is responsible for freeing the memory for the new expression. </p>

<p>Definition at line <a class="el" href="../../d5/d2f/CSBMLExporter_8cpp_source.html#l07654">7654</a> of file <a class="el" href="../../d5/d2f/CSBMLExporter_8cpp_source.html">CSBMLExporter.cpp</a>.</p>

<p>References <a class="el" href="../../d9/d9d/classCCopasiNode.html#a76b012dfe6d52644d19808875a71db4e">CCopasiNode&lt; _Data &gt;::addChild()</a>, <a class="el" href="../../d8/d28/classCEvaluationNodeObject.html#ac395d4a167d9c1848c3872ee94074d86af646af56f5c9953bce5ba78b399fee72">CEvaluationNodeObject::CN</a>, <a class="el" href="../../d8/d9f/classCEvaluationNode.html#a76178fce53d44b1f5c6c7e95dae460d5">CEvaluationNode::copyBranch()</a>, <a class="el" href="../../d5/de4/classCEvaluationNodeOperator.html#a39e738b7acfcf431f7c72e76b68ffa98ac57c4c4ad14989329031b3805fed9137">CEvaluationNodeOperator::DIVIDE</a>, <a class="el" href="../../d9/d9d/classCCopasiNode.html#acad859fb98cfa7f9d328a1cf1ee57023">CCopasiNode&lt; _Data &gt;::getChild()</a>, <a class="el" href="../../d4/da8/classCCopasiObject.html#a1f5e2625716c1ac192561974bd17b3cb">CCopasiObject::getCN()</a>, <a class="el" href="../../d8/d9f/classCEvaluationNode.html#ae24b55d848d78cec0a359fd199c76562">CEvaluationNode::getType()</a>, <a class="el" href="../../d5/de4/classCEvaluationNodeOperator.html#a39e738b7acfcf431f7c72e76b68ffa98af9d4b686c9ae4f20ca8f1cd707fbe6a0">CEvaluationNodeOperator::MULTIPLY</a>, <a class="el" href="../../d8/d9f/classCEvaluationNode.html#aeef59b7ae37d1323a4900e5d19140491a373ef5eff2832cc83a380a1a6d5f17e7">CEvaluationNode::OBJECT</a>, <a class="el" href="../../d8/d9f/classCEvaluationNode.html#aeef59b7ae37d1323a4900e5d19140491a745531dbd3babe952bfaa4176744dbac">CEvaluationNode::OPERATOR</a>, <a class="el" href="../../d7/de4/CQTSSAResultSubWidget_8cpp.html#a015b908fb74f75922e0bc448af09d9d1">pResult</a>, <a class="el" href="../../d8/d9f/classCEvaluationNode.html#a2cb02df3d57dad7ad1f9654941135c31">CEvaluationNode::subType()</a>, and <a class="el" href="../../d8/d9f/classCEvaluationNode.html#a9e5fcf60f22d2701417f90756847d37b">CEvaluationNode::type()</a>.</p>

<p>Referenced by <a class="el" href="../../df/d80/classCSBMLExporter.html#a2f052fa99d8b6695c0b7cf12d21f7833">createInitialAssignment()</a>, <a class="el" href="../../df/d80/classCSBMLExporter.html#a4e1fa35c0f3497f349b03147eb7326f0">createRule()</a>, and <a class="el" href="../../df/d80/classCSBMLExporter.html#aefbd6278e618486186192aff4bdff76e">exportEventAssignments()</a>.</p>
<div class="fragment"><div class="line"><a name="l07655"></a><span class="lineno"> 7655</span>&#160;{</div>
<div class="line"><a name="l07656"></a><span class="lineno"> 7656</span>&#160;  <span class="keywordtype">bool</span> reverse = <span class="keyword">false</span>;</div>
<div class="line"><a name="l07657"></a><span class="lineno"> 7657</span>&#160;  <a class="code" href="../../d8/d9f/classCEvaluationNode.html">CEvaluationNode</a>* <a class="code" href="../../d7/de4/CQTSSAResultSubWidget_8cpp.html#a015b908fb74f75922e0bc448af09d9d1">pResult</a> = NULL;</div>
<div class="line"><a name="l07658"></a><span class="lineno"> 7658</span>&#160;  assert(pOrigNode != NULL);</div>
<div class="line"><a name="l07659"></a><span class="lineno"> 7659</span>&#160;  assert(pObject != NULL);</div>
<div class="line"><a name="l07660"></a><span class="lineno"> 7660</span>&#160;</div>
<div class="line"><a name="l07661"></a><span class="lineno"> 7661</span>&#160;  <span class="keywordflow">if</span> (pOrigNode != NULL &amp;&amp; pObject != NULL)</div>
<div class="line"><a name="l07662"></a><span class="lineno"> 7662</span>&#160;    {</div>
<div class="line"><a name="l07663"></a><span class="lineno"> 7663</span>&#160;      <span class="comment">// first we check if this is thie reverse operation with the object</span></div>
<div class="line"><a name="l07664"></a><span class="lineno"> 7664</span>&#160;      <span class="comment">// if so, we just drop the reverse operation, otherwise we apply the operation with the</span></div>
<div class="line"><a name="l07665"></a><span class="lineno"> 7665</span>&#160;      <span class="comment">// object</span></div>
<div class="line"><a name="l07666"></a><span class="lineno"> 7666</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="../../d8/d9f/classCEvaluationNode.html#a9e5fcf60f22d2701417f90756847d37b">CEvaluationNode::type</a>(pOrigNode-&gt;<a class="code" href="../../d8/d9f/classCEvaluationNode.html#ae24b55d848d78cec0a359fd199c76562">getType</a>()) == <a class="code" href="../../d8/d9f/classCEvaluationNode.html#aeef59b7ae37d1323a4900e5d19140491a745531dbd3babe952bfaa4176744dbac">CEvaluationNode::OPERATOR</a> &amp;&amp;</div>
<div class="line"><a name="l07667"></a><span class="lineno"> 7667</span>&#160;          (<a class="code" href="../../d5/de4/classCEvaluationNodeOperator.html#a39e738b7acfcf431f7c72e76b68ffa98">CEvaluationNodeOperator::SubType</a>)<a class="code" href="../../d8/d9f/classCEvaluationNode.html#a2cb02df3d57dad7ad1f9654941135c31">CEvaluationNode::subType</a>(pOrigNode-&gt;<a class="code" href="../../d8/d9f/classCEvaluationNode.html#ae24b55d848d78cec0a359fd199c76562">getType</a>()) == <a class="code" href="../../d5/de4/classCEvaluationNodeOperator.html#a39e738b7acfcf431f7c72e76b68ffa98ac57c4c4ad14989329031b3805fed9137">CEvaluationNodeOperator::DIVIDE</a>)</div>
<div class="line"><a name="l07668"></a><span class="lineno"> 7668</span>&#160;        {</div>
<div class="line"><a name="l07669"></a><span class="lineno"> 7669</span>&#160;          <span class="comment">// only the second child can be the object</span></div>
<div class="line"><a name="l07670"></a><span class="lineno"> 7670</span>&#160;          <span class="keyword">const</span> <a class="code" href="../../d8/d9f/classCEvaluationNode.html">CEvaluationNode</a>* pChild = <span class="keyword">dynamic_cast&lt;</span><span class="keyword">const </span><a class="code" href="../../d8/d9f/classCEvaluationNode.html">CEvaluationNode</a>*<span class="keyword">&gt;</span>(pOrigNode-&gt;<a class="code" href="../../d9/d9d/classCCopasiNode.html#acad859fb98cfa7f9d328a1cf1ee57023">getChild</a>()-&gt;getSibling());</div>
<div class="line"><a name="l07671"></a><span class="lineno"> 7671</span>&#160;</div>
<div class="line"><a name="l07672"></a><span class="lineno"> 7672</span>&#160;          <span class="keywordflow">if</span> (<a class="code" href="../../d8/d9f/classCEvaluationNode.html#a9e5fcf60f22d2701417f90756847d37b">CEvaluationNode::type</a>(pChild-&gt;<a class="code" href="../../d8/d9f/classCEvaluationNode.html#ae24b55d848d78cec0a359fd199c76562">getType</a>()) == <a class="code" href="../../d8/d9f/classCEvaluationNode.html#aeef59b7ae37d1323a4900e5d19140491a373ef5eff2832cc83a380a1a6d5f17e7">CEvaluationNode::OBJECT</a> &amp;&amp; dynamic_cast&lt;const CEvaluationNodeObject*&gt;(pChild)-&gt;getData() == std::string(<span class="stringliteral">&quot;&lt;&quot;</span> + pObject-&gt;<a class="code" href="../../d4/da8/classCCopasiObject.html#a1f5e2625716c1ac192561974bd17b3cb">getCN</a>() + <span class="stringliteral">&quot;&gt;&quot;</span>))</div>
<div class="line"><a name="l07673"></a><span class="lineno"> 7673</span>&#160;            {</div>
<div class="line"><a name="l07674"></a><span class="lineno"> 7674</span>&#160;</div>
<div class="line"><a name="l07675"></a><span class="lineno"> 7675</span>&#160;              pResult = <span class="keyword">dynamic_cast&lt;</span><span class="keyword">const </span><a class="code" href="../../d8/d9f/classCEvaluationNode.html">CEvaluationNode</a>*<span class="keyword">&gt;</span>(pOrigNode-&gt;<a class="code" href="../../d9/d9d/classCCopasiNode.html#acad859fb98cfa7f9d328a1cf1ee57023">getChild</a>())-&gt;copyBranch();</div>
<div class="line"><a name="l07676"></a><span class="lineno"> 7676</span>&#160;              reverse = <span class="keyword">true</span>;</div>
<div class="line"><a name="l07677"></a><span class="lineno"> 7677</span>&#160;            }</div>
<div class="line"><a name="l07678"></a><span class="lineno"> 7678</span>&#160;        }</div>
<div class="line"><a name="l07679"></a><span class="lineno"> 7679</span>&#160;</div>
<div class="line"><a name="l07680"></a><span class="lineno"> 7680</span>&#160;      <span class="keywordflow">if</span> (reverse == <span class="keyword">false</span>)</div>
<div class="line"><a name="l07681"></a><span class="lineno"> 7681</span>&#160;        {</div>
<div class="line"><a name="l07682"></a><span class="lineno"> 7682</span>&#160;          <a class="code" href="../../d8/d28/classCEvaluationNodeObject.html">CEvaluationNodeObject</a>* pVolumeNode = <span class="keyword">new</span> <a class="code" href="../../d8/d28/classCEvaluationNodeObject.html">CEvaluationNodeObject</a>(<a class="code" href="../../d8/d28/classCEvaluationNodeObject.html#ac395d4a167d9c1848c3872ee94074d86af646af56f5c9953bce5ba78b399fee72">CEvaluationNodeObject::CN</a>, <span class="stringliteral">&quot;&lt;&quot;</span> + pObject-&gt;<a class="code" href="../../d4/da8/classCCopasiObject.html#a1f5e2625716c1ac192561974bd17b3cb">getCN</a>() + <span class="stringliteral">&quot;&gt;&quot;</span>);</div>
<div class="line"><a name="l07683"></a><span class="lineno"> 7683</span>&#160;          pResult = <span class="keyword">new</span> <a class="code" href="../../d5/de4/classCEvaluationNodeOperator.html">CEvaluationNodeOperator</a>(<a class="code" href="../../d5/de4/classCEvaluationNodeOperator.html#a39e738b7acfcf431f7c72e76b68ffa98af9d4b686c9ae4f20ca8f1cd707fbe6a0">CEvaluationNodeOperator::MULTIPLY</a>, <span class="stringliteral">&quot;*&quot;</span>);</div>
<div class="line"><a name="l07684"></a><span class="lineno"> 7684</span>&#160;          pResult-&gt;<a class="code" href="../../d9/d9d/classCCopasiNode.html#a76b012dfe6d52644d19808875a71db4e">addChild</a>(pOrigNode-&gt;<a class="code" href="../../d8/d9f/classCEvaluationNode.html#a76178fce53d44b1f5c6c7e95dae460d5">copyBranch</a>());</div>
<div class="line"><a name="l07685"></a><span class="lineno"> 7685</span>&#160;          pResult-&gt;<a class="code" href="../../d9/d9d/classCCopasiNode.html#a76b012dfe6d52644d19808875a71db4e">addChild</a>(pVolumeNode);</div>
<div class="line"><a name="l07686"></a><span class="lineno"> 7686</span>&#160;        }</div>
<div class="line"><a name="l07687"></a><span class="lineno"> 7687</span>&#160;    }</div>
<div class="line"><a name="l07688"></a><span class="lineno"> 7688</span>&#160;</div>
<div class="line"><a name="l07689"></a><span class="lineno"> 7689</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="../../d7/de4/CQTSSAResultSubWidget_8cpp.html#a015b908fb74f75922e0bc448af09d9d1">pResult</a>;</div>
<div class="line"><a name="l07690"></a><span class="lineno"> 7690</span>&#160;}</div>
<div class="ttc" id="classCEvaluationNode_html_a76178fce53d44b1f5c6c7e95dae460d5"><div class="ttname"><a href="../../d8/d9f/classCEvaluationNode.html#a76178fce53d44b1f5c6c7e95dae460d5">CEvaluationNode::copyBranch</a></div><div class="ttdeci">CEvaluationNode * copyBranch() const </div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d3d/CEvaluationNode_8cpp_source.html#l00404">CEvaluationNode.cpp:404</a></div></div>
<div class="ttc" id="classCCopasiObject_html_a1f5e2625716c1ac192561974bd17b3cb"><div class="ttname"><a href="../../d4/da8/classCCopasiObject.html#a1f5e2625716c1ac192561974bd17b3cb">CCopasiObject::getCN</a></div><div class="ttdeci">virtual CCopasiObjectName getCN() const </div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d22/CCopasiObject_8cpp_source.html#l00103">CCopasiObject.cpp:103</a></div></div>
<div class="ttc" id="classCEvaluationNode_html_ae24b55d848d78cec0a359fd199c76562"><div class="ttname"><a href="../../d8/d9f/classCEvaluationNode.html#ae24b55d848d78cec0a359fd199c76562">CEvaluationNode::getType</a></div><div class="ttdeci">const Type &amp; getType() const </div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d3d/CEvaluationNode_8cpp_source.html#l00357">CEvaluationNode.cpp:357</a></div></div>
<div class="ttc" id="classCEvaluationNode_html_aeef59b7ae37d1323a4900e5d19140491a373ef5eff2832cc83a380a1a6d5f17e7"><div class="ttname"><a href="../../d8/d9f/classCEvaluationNode.html#aeef59b7ae37d1323a4900e5d19140491a373ef5eff2832cc83a380a1a6d5f17e7">CEvaluationNode::OBJECT</a></div><div class="ttdef"><b>Definition:</b> <a href="../../de/dfa/CEvaluationNode_8h_source.html#l00045">CEvaluationNode.h:45</a></div></div>
<div class="ttc" id="classCEvaluationNodeOperator_html_a39e738b7acfcf431f7c72e76b68ffa98af9d4b686c9ae4f20ca8f1cd707fbe6a0"><div class="ttname"><a href="../../d5/de4/classCEvaluationNodeOperator.html#a39e738b7acfcf431f7c72e76b68ffa98af9d4b686c9ae4f20ca8f1cd707fbe6a0">CEvaluationNodeOperator::MULTIPLY</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d39/CEvaluationNodeOperator_8h_source.html#l00042">CEvaluationNodeOperator.h:42</a></div></div>
<div class="ttc" id="classCEvaluationNodeOperator_html_a39e738b7acfcf431f7c72e76b68ffa98"><div class="ttname"><a href="../../d5/de4/classCEvaluationNodeOperator.html#a39e738b7acfcf431f7c72e76b68ffa98">CEvaluationNodeOperator::SubType</a></div><div class="ttdeci">SubType</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d39/CEvaluationNodeOperator_8h_source.html#l00038">CEvaluationNodeOperator.h:38</a></div></div>
<div class="ttc" id="classCEvaluationNode_html_a9e5fcf60f22d2701417f90756847d37b"><div class="ttname"><a href="../../d8/d9f/classCEvaluationNode.html#a9e5fcf60f22d2701417f90756847d37b">CEvaluationNode::type</a></div><div class="ttdeci">static Type type(const Type &amp;type)</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d3d/CEvaluationNode_8cpp_source.html#l00123">CEvaluationNode.cpp:123</a></div></div>
<div class="ttc" id="classCEvaluationNodeObject_html_ac395d4a167d9c1848c3872ee94074d86af646af56f5c9953bce5ba78b399fee72"><div class="ttname"><a href="../../d8/d28/classCEvaluationNodeObject.html#ac395d4a167d9c1848c3872ee94074d86af646af56f5c9953bce5ba78b399fee72">CEvaluationNodeObject::CN</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d59/CEvaluationNodeObject_8h_source.html#l00044">CEvaluationNodeObject.h:44</a></div></div>
<div class="ttc" id="classCCopasiNode_html_a76b012dfe6d52644d19808875a71db4e"><div class="ttname"><a href="../../d9/d9d/classCCopasiNode.html#a76b012dfe6d52644d19808875a71db4e">CCopasiNode::addChild</a></div><div class="ttdeci">virtual bool addChild(CCopasiNode&lt; Data &gt; *pChild, CCopasiNode&lt; Data &gt; *pAfter=NULL)</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d24/CCopasiNode_8h_source.html#l00156">CCopasiNode.h:156</a></div></div>
<div class="ttc" id="CQTSSAResultSubWidget_8cpp_html_a015b908fb74f75922e0bc448af09d9d1"><div class="ttname"><a href="../../d7/de4/CQTSSAResultSubWidget_8cpp.html#a015b908fb74f75922e0bc448af09d9d1">pResult</a></div><div class="ttdeci">const CArrayAnnotation * pResult</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/de4/CQTSSAResultSubWidget_8cpp_source.html#l00028">CQTSSAResultSubWidget.cpp:28</a></div></div>
<div class="ttc" id="classCEvaluationNode_html_a2cb02df3d57dad7ad1f9654941135c31"><div class="ttname"><a href="../../d8/d9f/classCEvaluationNode.html#a2cb02df3d57dad7ad1f9654941135c31">CEvaluationNode::subType</a></div><div class="ttdeci">static Type subType(const Type &amp;type)</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d3d/CEvaluationNode_8cpp_source.html#l00120">CEvaluationNode.cpp:120</a></div></div>
<div class="ttc" id="classCEvaluationNodeOperator_html_a39e738b7acfcf431f7c72e76b68ffa98ac57c4c4ad14989329031b3805fed9137"><div class="ttname"><a href="../../d5/de4/classCEvaluationNodeOperator.html#a39e738b7acfcf431f7c72e76b68ffa98ac57c4c4ad14989329031b3805fed9137">CEvaluationNodeOperator::DIVIDE</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d39/CEvaluationNodeOperator_8h_source.html#l00043">CEvaluationNodeOperator.h:43</a></div></div>
<div class="ttc" id="classCEvaluationNode_html"><div class="ttname"><a href="../../d8/d9f/classCEvaluationNode.html">CEvaluationNode</a></div><div class="ttdef"><b>Definition:</b> <a href="../../de/dfa/CEvaluationNode_8h_source.html#l00033">CEvaluationNode.h:33</a></div></div>
<div class="ttc" id="classCEvaluationNode_html_aeef59b7ae37d1323a4900e5d19140491a745531dbd3babe952bfaa4176744dbac"><div class="ttname"><a href="../../d8/d9f/classCEvaluationNode.html#aeef59b7ae37d1323a4900e5d19140491a745531dbd3babe952bfaa4176744dbac">CEvaluationNode::OPERATOR</a></div><div class="ttdef"><b>Definition:</b> <a href="../../de/dfa/CEvaluationNode_8h_source.html#l00044">CEvaluationNode.h:44</a></div></div>
<div class="ttc" id="classCEvaluationNodeObject_html"><div class="ttname"><a href="../../d8/d28/classCEvaluationNodeObject.html">CEvaluationNodeObject</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d59/CEvaluationNodeObject_8h_source.html#l00034">CEvaluationNodeObject.h:34</a></div></div>
<div class="ttc" id="classCCopasiNode_html_acad859fb98cfa7f9d328a1cf1ee57023"><div class="ttname"><a href="../../d9/d9d/classCCopasiNode.html#acad859fb98cfa7f9d328a1cf1ee57023">CCopasiNode::getChild</a></div><div class="ttdeci">CCopasiNode&lt; Data &gt; * getChild()</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d24/CCopasiNode_8h_source.html#l00210">CCopasiNode.h:210</a></div></div>
<div class="ttc" id="classCEvaluationNodeOperator_html"><div class="ttname"><a href="../../d5/de4/classCEvaluationNodeOperator.html">CEvaluationNodeOperator</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d39/CEvaluationNodeOperator_8h_source.html#l00032">CEvaluationNodeOperator.h:32</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="aa851bea69ed748cfc304fb516470159c"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::vector&lt; <a class="el" href="../../d0/da0/classCModelEntity.html">CModelEntity</a> * &gt; CSBMLExporter::orderRules </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="../../d4/d18/classCCopasiDataModel.html">CCopasiDataModel</a> &amp;&#160;</td>
          <td class="paramname"><em>dataModel</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Sorts the rules. </p>

<p>Definition at line <a class="el" href="../../d5/d2f/CSBMLExporter_8cpp_source.html#l05084">5084</a> of file <a class="el" href="../../d5/d2f/CSBMLExporter_8cpp_source.html">CSBMLExporter.cpp</a>.</p>

<p>References <a class="el" href="../../df/d80/classCSBMLExporter.html#ad4eba95146d9ea8565434e804b0cec04">findModelEntityDependencies()</a>, <a class="el" href="../../d1/d50/classCEvaluationTree.html#a542e592cb978819d30a6da627411ba91">CEvaluationTree::getRoot()</a>, and <a class="el" href="../../df/d80/classCSBMLExporter.html#ae2467a5206a20eae7445885970958380">mAssignmentVector</a>.</p>

<p>Referenced by <a class="el" href="../../df/d80/classCSBMLExporter.html#a9c713fa0fc07f12f35ee1c59ba65db01">createRules()</a>.</p>
<div class="fragment"><div class="line"><a name="l05085"></a><span class="lineno"> 5085</span>&#160;{</div>
<div class="line"><a name="l05086"></a><span class="lineno"> 5086</span>&#160;  <span class="comment">// make sure the vector of rules is filled</span></div>
<div class="line"><a name="l05087"></a><span class="lineno"> 5087</span>&#160;  std::map&lt;CModelEntity*, std::set&lt;const CModelEntity*&gt; &gt; dependencyMap;</div>
<div class="line"><a name="l05088"></a><span class="lineno"> 5088</span>&#160;  std::vector&lt;CModelEntity*&gt;::iterator it = this-&gt;<a class="code" href="../../df/d80/classCSBMLExporter.html#ae2467a5206a20eae7445885970958380">mAssignmentVector</a>.begin(), endit = this-&gt;<a class="code" href="../../df/d80/classCSBMLExporter.html#ae2467a5206a20eae7445885970958380">mAssignmentVector</a>.end();</div>
<div class="line"><a name="l05089"></a><span class="lineno"> 5089</span>&#160;</div>
<div class="line"><a name="l05090"></a><span class="lineno"> 5090</span>&#160;  <span class="keywordflow">while</span> (it != endit)</div>
<div class="line"><a name="l05091"></a><span class="lineno"> 5091</span>&#160;    {</div>
<div class="line"><a name="l05092"></a><span class="lineno"> 5092</span>&#160;      <span class="keyword">const</span> <a class="code" href="../../dc/dbd/classCExpression.html">CExpression</a>* pExpr = (*it)-&gt;getExpressionPtr();</div>
<div class="line"><a name="l05093"></a><span class="lineno"> 5093</span>&#160;      assert(pExpr != NULL);</div>
<div class="line"><a name="l05094"></a><span class="lineno"> 5094</span>&#160;      std::set&lt;const CModelEntity*&gt; dependencies;</div>
<div class="line"><a name="l05095"></a><span class="lineno"> 5095</span>&#160;      <a class="code" href="../../df/d80/classCSBMLExporter.html#ad4eba95146d9ea8565434e804b0cec04">CSBMLExporter::findModelEntityDependencies</a>(pExpr-&gt;<a class="code" href="../../d1/d50/classCEvaluationTree.html#a542e592cb978819d30a6da627411ba91">getRoot</a>(), dataModel, dependencies);</div>
<div class="line"><a name="l05096"></a><span class="lineno"> 5096</span>&#160;      <span class="comment">/*</span></div>
<div class="line"><a name="l05097"></a><span class="lineno"> 5097</span>&#160;<span class="comment">      std::vector&lt;CModelEntity*&gt;::iterator it2 = this-&gt;mAssignmentVector.begin(), endit2 = this-&gt;mAssignmentVector.end();</span></div>
<div class="line"><a name="l05098"></a><span class="lineno"> 5098</span>&#160;<span class="comment">      while (it2 != endit2)</span></div>
<div class="line"><a name="l05099"></a><span class="lineno"> 5099</span>&#160;<span class="comment">        {</span></div>
<div class="line"><a name="l05100"></a><span class="lineno"> 5100</span>&#160;<span class="comment">          std::set&lt;const CModelEntity*&gt;::iterator pos = dependencies.find(*it2);</span></div>
<div class="line"><a name="l05101"></a><span class="lineno"> 5101</span>&#160;<span class="comment">          if (pos != dependencies.end())</span></div>
<div class="line"><a name="l05102"></a><span class="lineno"> 5102</span>&#160;<span class="comment">            {</span></div>
<div class="line"><a name="l05103"></a><span class="lineno"> 5103</span>&#160;<span class="comment">              dependencies.erase(pos);</span></div>
<div class="line"><a name="l05104"></a><span class="lineno"> 5104</span>&#160;<span class="comment">            }</span></div>
<div class="line"><a name="l05105"></a><span class="lineno"> 5105</span>&#160;<span class="comment">          ++it2;</span></div>
<div class="line"><a name="l05106"></a><span class="lineno"> 5106</span>&#160;<span class="comment">        }</span></div>
<div class="line"><a name="l05107"></a><span class="lineno"> 5107</span>&#160;<span class="comment">        */</span></div>
<div class="line"><a name="l05108"></a><span class="lineno"> 5108</span>&#160;      dependencyMap[*it] = dependencies;</div>
<div class="line"><a name="l05109"></a><span class="lineno"> 5109</span>&#160;      ++it;</div>
<div class="line"><a name="l05110"></a><span class="lineno"> 5110</span>&#160;    }</div>
<div class="line"><a name="l05111"></a><span class="lineno"> 5111</span>&#160;</div>
<div class="line"><a name="l05112"></a><span class="lineno"> 5112</span>&#160;  <span class="comment">// now sort the entities according to their dependencies</span></div>
<div class="line"><a name="l05113"></a><span class="lineno"> 5113</span>&#160;  <span class="keywordtype">bool</span> error = <span class="keyword">false</span>;</div>
<div class="line"><a name="l05114"></a><span class="lineno"> 5114</span>&#160;  std::vector&lt;CModelEntity*&gt; orderedRules;</div>
<div class="line"><a name="l05115"></a><span class="lineno"> 5115</span>&#160;  <span class="comment">// remove all dependencies that don&#39;t have assignment rules themselves</span></div>
<div class="line"><a name="l05116"></a><span class="lineno"> 5116</span>&#160;  std::map&lt;CModelEntity*, std::set&lt;const CModelEntity*&gt; &gt; reducedDependencyMap;</div>
<div class="line"><a name="l05117"></a><span class="lineno"> 5117</span>&#160;  std::map&lt;CModelEntity*, std::set&lt;const CModelEntity*&gt; &gt;::iterator mapIt = dependencyMap.begin(), mapEndit = dependencyMap.end();</div>
<div class="line"><a name="l05118"></a><span class="lineno"> 5118</span>&#160;</div>
<div class="line"><a name="l05119"></a><span class="lineno"> 5119</span>&#160;  <span class="keywordflow">while</span> (mapIt != mapEndit)</div>
<div class="line"><a name="l05120"></a><span class="lineno"> 5120</span>&#160;    {</div>
<div class="line"><a name="l05121"></a><span class="lineno"> 5121</span>&#160;      std::set&lt;const CModelEntity*&gt; dependencies;</div>
<div class="line"><a name="l05122"></a><span class="lineno"> 5122</span>&#160;      std::set&lt;const CModelEntity*&gt;::const_iterator setIt = mapIt-&gt;second.begin(), setEndit = mapIt-&gt;second.end();</div>
<div class="line"><a name="l05123"></a><span class="lineno"> 5123</span>&#160;</div>
<div class="line"><a name="l05124"></a><span class="lineno"> 5124</span>&#160;      <span class="keywordflow">while</span> (setIt != setEndit)</div>
<div class="line"><a name="l05125"></a><span class="lineno"> 5125</span>&#160;        {</div>
<div class="line"><a name="l05126"></a><span class="lineno"> 5126</span>&#160;          <span class="keywordflow">if</span> (dependencyMap.find(const_cast&lt;CModelEntity*&gt;(*setIt)) != dependencyMap.end())</div>
<div class="line"><a name="l05127"></a><span class="lineno"> 5127</span>&#160;            {</div>
<div class="line"><a name="l05128"></a><span class="lineno"> 5128</span>&#160;              dependencies.insert(*setIt);</div>
<div class="line"><a name="l05129"></a><span class="lineno"> 5129</span>&#160;            }</div>
<div class="line"><a name="l05130"></a><span class="lineno"> 5130</span>&#160;</div>
<div class="line"><a name="l05131"></a><span class="lineno"> 5131</span>&#160;          ++setIt;</div>
<div class="line"><a name="l05132"></a><span class="lineno"> 5132</span>&#160;        }</div>
<div class="line"><a name="l05133"></a><span class="lineno"> 5133</span>&#160;</div>
<div class="line"><a name="l05134"></a><span class="lineno"> 5134</span>&#160;      reducedDependencyMap[mapIt-&gt;first] = dependencies;</div>
<div class="line"><a name="l05135"></a><span class="lineno"> 5135</span>&#160;      ++mapIt;</div>
<div class="line"><a name="l05136"></a><span class="lineno"> 5136</span>&#160;    }</div>
<div class="line"><a name="l05137"></a><span class="lineno"> 5137</span>&#160;</div>
<div class="line"><a name="l05138"></a><span class="lineno"> 5138</span>&#160;  <span class="keywordflow">while</span> (error == <span class="keyword">false</span> &amp;&amp; !reducedDependencyMap.empty())</div>
<div class="line"><a name="l05139"></a><span class="lineno"> 5139</span>&#160;    {</div>
<div class="line"><a name="l05140"></a><span class="lineno"> 5140</span>&#160;      mapIt = reducedDependencyMap.begin(), mapEndit = reducedDependencyMap.end();</div>
<div class="line"><a name="l05141"></a><span class="lineno"> 5141</span>&#160;      <span class="comment">// if we cant&#39;t remove anything in one round, we have a circular</span></div>
<div class="line"><a name="l05142"></a><span class="lineno"> 5142</span>&#160;      <span class="comment">// dependency</span></div>
<div class="line"><a name="l05143"></a><span class="lineno"> 5143</span>&#160;      error = <span class="keyword">true</span>;</div>
<div class="line"><a name="l05144"></a><span class="lineno"> 5144</span>&#160;</div>
<div class="line"><a name="l05145"></a><span class="lineno"> 5145</span>&#160;      <span class="keywordflow">while</span> (mapIt != mapEndit)</div>
<div class="line"><a name="l05146"></a><span class="lineno"> 5146</span>&#160;        {</div>
<div class="line"><a name="l05147"></a><span class="lineno"> 5147</span>&#160;          <span class="comment">// if the dependency list of the item is not empty</span></div>
<div class="line"><a name="l05148"></a><span class="lineno"> 5148</span>&#160;          <span class="comment">// we remove all entities that have been removed already</span></div>
<div class="line"><a name="l05149"></a><span class="lineno"> 5149</span>&#160;          <span class="keywordflow">if</span> (!mapIt-&gt;second.empty())</div>
<div class="line"><a name="l05150"></a><span class="lineno"> 5150</span>&#160;            {</div>
<div class="line"><a name="l05151"></a><span class="lineno"> 5151</span>&#160;              std::vector&lt;CModelEntity*&gt;::iterator vIt = orderedRules.begin(), vEndit = orderedRules.end();</div>
<div class="line"><a name="l05152"></a><span class="lineno"> 5152</span>&#160;</div>
<div class="line"><a name="l05153"></a><span class="lineno"> 5153</span>&#160;              <span class="keywordflow">while</span> (vIt != vEndit)</div>
<div class="line"><a name="l05154"></a><span class="lineno"> 5154</span>&#160;                {</div>
<div class="line"><a name="l05155"></a><span class="lineno"> 5155</span>&#160;                  std::set&lt;const CModelEntity*&gt;::iterator pos = mapIt-&gt;second.find(*vIt);</div>
<div class="line"><a name="l05156"></a><span class="lineno"> 5156</span>&#160;</div>
<div class="line"><a name="l05157"></a><span class="lineno"> 5157</span>&#160;                  <span class="keywordflow">if</span> (pos != mapIt-&gt;second.end())</div>
<div class="line"><a name="l05158"></a><span class="lineno"> 5158</span>&#160;                    {</div>
<div class="line"><a name="l05159"></a><span class="lineno"> 5159</span>&#160;                      mapIt-&gt;second.erase(pos);</div>
<div class="line"><a name="l05160"></a><span class="lineno"> 5160</span>&#160;                    }</div>
<div class="line"><a name="l05161"></a><span class="lineno"> 5161</span>&#160;</div>
<div class="line"><a name="l05162"></a><span class="lineno"> 5162</span>&#160;                  ++vIt;</div>
<div class="line"><a name="l05163"></a><span class="lineno"> 5163</span>&#160;                }</div>
<div class="line"><a name="l05164"></a><span class="lineno"> 5164</span>&#160;            }</div>
<div class="line"><a name="l05165"></a><span class="lineno"> 5165</span>&#160;</div>
<div class="line"><a name="l05166"></a><span class="lineno"> 5166</span>&#160;          <span class="keywordflow">if</span> (mapIt-&gt;second.empty())</div>
<div class="line"><a name="l05167"></a><span class="lineno"> 5167</span>&#160;            {</div>
<div class="line"><a name="l05168"></a><span class="lineno"> 5168</span>&#160;              <span class="comment">// since the dependencies are empty, we can add the rule to be</span></div>
<div class="line"><a name="l05169"></a><span class="lineno"> 5169</span>&#160;              <span class="comment">// exported</span></div>
<div class="line"><a name="l05170"></a><span class="lineno"> 5170</span>&#160;              orderedRules.push_back(mapIt-&gt;first);</div>
<div class="line"><a name="l05171"></a><span class="lineno"> 5171</span>&#160;              <span class="comment">// now we know that we could remove something in this round</span></div>
<div class="line"><a name="l05172"></a><span class="lineno"> 5172</span>&#160;              error = <span class="keyword">false</span>;</div>
<div class="line"><a name="l05173"></a><span class="lineno"> 5173</span>&#160;              <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l05174"></a><span class="lineno"> 5174</span>&#160;            }</div>
<div class="line"><a name="l05175"></a><span class="lineno"> 5175</span>&#160;</div>
<div class="line"><a name="l05176"></a><span class="lineno"> 5176</span>&#160;          ++mapIt;</div>
<div class="line"><a name="l05177"></a><span class="lineno"> 5177</span>&#160;        }</div>
<div class="line"><a name="l05178"></a><span class="lineno"> 5178</span>&#160;</div>
<div class="line"><a name="l05179"></a><span class="lineno"> 5179</span>&#160;      <span class="keywordflow">if</span> (error == <span class="keyword">false</span>)</div>
<div class="line"><a name="l05180"></a><span class="lineno"> 5180</span>&#160;        {</div>
<div class="line"><a name="l05181"></a><span class="lineno"> 5181</span>&#160;          reducedDependencyMap.erase(mapIt);</div>
<div class="line"><a name="l05182"></a><span class="lineno"> 5182</span>&#160;        }</div>
<div class="line"><a name="l05183"></a><span class="lineno"> 5183</span>&#160;    }</div>
<div class="line"><a name="l05184"></a><span class="lineno"> 5184</span>&#160;</div>
<div class="line"><a name="l05185"></a><span class="lineno"> 5185</span>&#160;  <span class="keywordflow">return</span> orderedRules;</div>
<div class="line"><a name="l05186"></a><span class="lineno"> 5186</span>&#160;}</div>
<div class="ttc" id="classCExpression_html"><div class="ttname"><a href="../../dc/dbd/classCExpression.html">CExpression</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dcc/CExpression_8h_source.html#l00028">CExpression.h:28</a></div></div>
<div class="ttc" id="classCSBMLExporter_html_ad4eba95146d9ea8565434e804b0cec04"><div class="ttname"><a href="../../df/d80/classCSBMLExporter.html#ad4eba95146d9ea8565434e804b0cec04">CSBMLExporter::findModelEntityDependencies</a></div><div class="ttdeci">static void findModelEntityDependencies(const CEvaluationNode *pNode, const CCopasiDataModel &amp;dataModel, std::set&lt; const CModelEntity * &gt; &amp;dependencies)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d2f/CSBMLExporter_8cpp_source.html#l05188">CSBMLExporter.cpp:5188</a></div></div>
<div class="ttc" id="classCSBMLExporter_html_ae2467a5206a20eae7445885970958380"><div class="ttname"><a href="../../df/d80/classCSBMLExporter.html#ae2467a5206a20eae7445885970958380">CSBMLExporter::mAssignmentVector</a></div><div class="ttdeci">std::vector&lt; CModelEntity * &gt; mAssignmentVector</div><div class="ttdef"><b>Definition:</b> <a href="../../da/d7f/CSBMLExporter_8h_source.html#l00058">CSBMLExporter.h:58</a></div></div>
<div class="ttc" id="classCEvaluationTree_html_a542e592cb978819d30a6da627411ba91"><div class="ttname"><a href="../../d1/d50/classCEvaluationTree.html#a542e592cb978819d30a6da627411ba91">CEvaluationTree::getRoot</a></div><div class="ttdeci">CEvaluationNode * getRoot()</div><div class="ttdef"><b>Definition:</b> <a href="../../da/d55/CEvaluationTree_8cpp_source.html#l00610">CEvaluationTree.cpp:610</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a9cab2f1418b5678f726caac488f07858"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d3/d05/CChemEqParser__yacc_8cpp.html#aa76fec002b4ba91adc88f68d56ba730c">void</a> CSBMLExporter::outputIncompatibilities </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Creates error messages from the list of incompatibilities and thows an exception. </p>

<p>Definition at line <a class="el" href="../../d5/d2f/CSBMLExporter_8cpp_source.html#l07160">7160</a> of file <a class="el" href="../../d5/d2f/CSBMLExporter_8cpp_source.html">CSBMLExporter.cpp</a>.</p>

<p>References <a class="el" href="../../d7/de3/classSBMLIncompatibility.html#a7e58c67244423b40b533fb66c5bec39f">SBMLIncompatibility::getDetails()</a>, <a class="el" href="../../d7/de3/classSBMLIncompatibility.html#ae500fea72edfec5e1884986804b13a31">SBMLIncompatibility::getMessage()</a>, <a class="el" href="../../df/d80/classCSBMLExporter.html#a5bd855fe9020f8c400a6cab63fb87711">mIncompatibilities</a>, <a class="el" href="../../d7/de3/classSBMLIncompatibility.html#abd18c7a07f258c757bc897196f85fb9e">SBMLIncompatibility::minSBMLLevel()</a>, <a class="el" href="../../d7/de3/classSBMLIncompatibility.html#a4ee9fc582284cf930367f0b920c41972">SBMLIncompatibility::minSBMLVersion()</a>, and <a class="el" href="../../d2/df0/classCCopasiMessage.html#a2ea1ed32494ff5c8d84353efcec7a5e4aa2830ad243d8f7b958b891ffe3cf02db">CCopasiMessage::RAW</a>.</p>

<p>Referenced by <a class="el" href="../../df/d80/classCSBMLExporter.html#a79ba15ac876b6354e2aaff763b8a7c86">createEvent()</a>, <a class="el" href="../../df/d80/classCSBMLExporter.html#a2f052fa99d8b6695c0b7cf12d21f7833">createInitialAssignment()</a>, <a class="el" href="../../df/d80/classCSBMLExporter.html#a4e1fa35c0f3497f349b03147eb7326f0">createRule()</a>, <a class="el" href="../../df/d80/classCSBMLExporter.html#a2b680d670c11c7c70a45bc12e236b2e8">createSBMLDocument()</a>, and <a class="el" href="../../df/d80/classCSBMLExporter.html#aefbd6278e618486186192aff4bdff76e">exportEventAssignments()</a>.</p>
<div class="fragment"><div class="line"><a name="l07161"></a><span class="lineno"> 7161</span>&#160;{</div>
<div class="line"><a name="l07162"></a><span class="lineno"> 7162</span>&#160;  <span class="keywordtype">size_t</span> i, iMax = this-&gt;<a class="code" href="../../df/d80/classCSBMLExporter.html#a5bd855fe9020f8c400a6cab63fb87711">mIncompatibilities</a>.size();</div>
<div class="line"><a name="l07163"></a><span class="lineno"> 7163</span>&#160;</div>
<div class="line"><a name="l07164"></a><span class="lineno"> 7164</span>&#160;  <span class="keywordflow">for</span> (i = 0; i &lt; iMax; ++i)</div>
<div class="line"><a name="l07165"></a><span class="lineno"> 7165</span>&#160;    {</div>
<div class="line"><a name="l07166"></a><span class="lineno"> 7166</span>&#160;      <span class="keyword">const</span> <a class="code" href="../../d7/de3/classSBMLIncompatibility.html">SBMLIncompatibility</a>* pIncompat = &amp;this-&gt;<a class="code" href="../../df/d80/classCSBMLExporter.html#a5bd855fe9020f8c400a6cab63fb87711">mIncompatibilities</a>[i];</div>
<div class="line"><a name="l07167"></a><span class="lineno"> 7167</span>&#160;      std::ostringstream os;</div>
<div class="line"><a name="l07168"></a><span class="lineno"> 7168</span>&#160;      os &lt;&lt; pIncompat-&gt;<a class="code" href="../../d7/de3/classSBMLIncompatibility.html#ae500fea72edfec5e1884986804b13a31">getMessage</a>() &lt;&lt; <span class="stringliteral">&quot;\n&quot;</span>;</div>
<div class="line"><a name="l07169"></a><span class="lineno"> 7169</span>&#160;      os &lt;&lt; pIncompat-&gt;<a class="code" href="../../d7/de3/classSBMLIncompatibility.html#a7e58c67244423b40b533fb66c5bec39f">getDetails</a>() &lt;&lt; <span class="stringliteral">&quot;\n&quot;</span>;</div>
<div class="line"><a name="l07170"></a><span class="lineno"> 7170</span>&#160;</div>
<div class="line"><a name="l07171"></a><span class="lineno"> 7171</span>&#160;      <span class="keywordflow">if</span> (pIncompat-&gt;<a class="code" href="../../d7/de3/classSBMLIncompatibility.html#abd18c7a07f258c757bc897196f85fb9e">minSBMLLevel</a>() != 0 &amp;&amp; pIncompat-&gt;<a class="code" href="../../d7/de3/classSBMLIncompatibility.html#a4ee9fc582284cf930367f0b920c41972">minSBMLVersion</a>() != 0)</div>
<div class="line"><a name="l07172"></a><span class="lineno"> 7172</span>&#160;        {</div>
<div class="line"><a name="l07173"></a><span class="lineno"> 7173</span>&#160;          os &lt;&lt; <span class="stringliteral">&quot;Please export to SBML Level &quot;</span> &lt;&lt; pIncompat-&gt;<a class="code" href="../../d7/de3/classSBMLIncompatibility.html#abd18c7a07f258c757bc897196f85fb9e">minSBMLLevel</a>();</div>
<div class="line"><a name="l07174"></a><span class="lineno"> 7174</span>&#160;          os &lt;&lt; <span class="stringliteral">&quot; Version &quot;</span> &lt;&lt; pIncompat-&gt;<a class="code" href="../../d7/de3/classSBMLIncompatibility.html#a4ee9fc582284cf930367f0b920c41972">minSBMLVersion</a>() &lt;&lt; <span class="stringliteral">&quot; or higher.&quot;</span>;</div>
<div class="line"><a name="l07175"></a><span class="lineno"> 7175</span>&#160;        }</div>
<div class="line"><a name="l07176"></a><span class="lineno"> 7176</span>&#160;</div>
<div class="line"><a name="l07177"></a><span class="lineno"> 7177</span>&#160;      <a class="code" href="../../d2/df0/classCCopasiMessage.html">CCopasiMessage</a>(<a class="code" href="../../d2/df0/classCCopasiMessage.html#a2ea1ed32494ff5c8d84353efcec7a5e4aa2830ad243d8f7b958b891ffe3cf02db">CCopasiMessage::RAW</a>, os.str().c_str());</div>
<div class="line"><a name="l07178"></a><span class="lineno"> 7178</span>&#160;    }</div>
<div class="line"><a name="l07179"></a><span class="lineno"> 7179</span>&#160;}</div>
<div class="ttc" id="classSBMLIncompatibility_html_abd18c7a07f258c757bc897196f85fb9e"><div class="ttname"><a href="../../d7/de3/classSBMLIncompatibility.html#abd18c7a07f258c757bc897196f85fb9e">SBMLIncompatibility::minSBMLLevel</a></div><div class="ttdeci">unsigned C_INT32 minSBMLLevel() const </div><div class="ttdef"><b>Definition:</b> <a href="../../df/db0/SBMLIncompatibility_8cpp_source.html#l00097">SBMLIncompatibility.cpp:97</a></div></div>
<div class="ttc" id="classCCopasiMessage_html_a2ea1ed32494ff5c8d84353efcec7a5e4aa2830ad243d8f7b958b891ffe3cf02db"><div class="ttname"><a href="../../d2/df0/classCCopasiMessage.html#a2ea1ed32494ff5c8d84353efcec7a5e4aa2830ad243d8f7b958b891ffe3cf02db">CCopasiMessage::RAW</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d2d/CCopasiMessage_8h_source.html#l00083">CCopasiMessage.h:83</a></div></div>
<div class="ttc" id="classSBMLIncompatibility_html"><div class="ttname"><a href="../../d7/de3/classSBMLIncompatibility.html">SBMLIncompatibility</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d95/SBMLIncompatibility_8h_source.html#l00024">SBMLIncompatibility.h:24</a></div></div>
<div class="ttc" id="classSBMLIncompatibility_html_a4ee9fc582284cf930367f0b920c41972"><div class="ttname"><a href="../../d7/de3/classSBMLIncompatibility.html#a4ee9fc582284cf930367f0b920c41972">SBMLIncompatibility::minSBMLVersion</a></div><div class="ttdeci">unsigned C_INT32 minSBMLVersion() const </div><div class="ttdef"><b>Definition:</b> <a href="../../df/db0/SBMLIncompatibility_8cpp_source.html#l00092">SBMLIncompatibility.cpp:92</a></div></div>
<div class="ttc" id="classSBMLIncompatibility_html_a7e58c67244423b40b533fb66c5bec39f"><div class="ttname"><a href="../../d7/de3/classSBMLIncompatibility.html#a7e58c67244423b40b533fb66c5bec39f">SBMLIncompatibility::getDetails</a></div><div class="ttdeci">std::string getDetails() const </div><div class="ttdef"><b>Definition:</b> <a href="../../df/db0/SBMLIncompatibility_8cpp_source.html#l00082">SBMLIncompatibility.cpp:82</a></div></div>
<div class="ttc" id="classCSBMLExporter_html_a5bd855fe9020f8c400a6cab63fb87711"><div class="ttname"><a href="../../df/d80/classCSBMLExporter.html#a5bd855fe9020f8c400a6cab63fb87711">CSBMLExporter::mIncompatibilities</a></div><div class="ttdeci">std::vector&lt; SBMLIncompatibility &gt; mIncompatibilities</div><div class="ttdef"><b>Definition:</b> <a href="../../da/d7f/CSBMLExporter_8h_source.html#l00065">CSBMLExporter.h:65</a></div></div>
<div class="ttc" id="classCCopasiMessage_html"><div class="ttname"><a href="../../d2/df0/classCCopasiMessage.html">CCopasiMessage</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d2d/CCopasiMessage_8h_source.html#l00078">CCopasiMessage.h:78</a></div></div>
<div class="ttc" id="classSBMLIncompatibility_html_ae500fea72edfec5e1884986804b13a31"><div class="ttname"><a href="../../d7/de3/classSBMLIncompatibility.html#ae500fea72edfec5e1884986804b13a31">SBMLIncompatibility::getMessage</a></div><div class="ttdeci">std::string getMessage() const </div><div class="ttdef"><b>Definition:</b> <a href="../../df/db0/SBMLIncompatibility_8cpp_source.html#l00077">SBMLIncompatibility.cpp:77</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a9e7e580cffcbce270b84905e94bbb854"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d3/d05/CChemEqParser__yacc_8cpp.html#aa76fec002b4ba91adc88f68d56ba730c">void</a> CSBMLExporter::removeInitialAssignment </td>
          <td>(</td>
          <td class="paramtype">const std::string &amp;&#160;</td>
          <td class="paramname"><em>sbmlId</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Remove the initial assignment for the entity with the given id if there is any. </p>

<p>Definition at line <a class="el" href="../../d5/d2f/CSBMLExporter_8cpp_source.html#l06021">6021</a> of file <a class="el" href="../../d5/d2f/CSBMLExporter_8cpp_source.html">CSBMLExporter.cpp</a>.</p>

<p>References <a class="el" href="../../df/d80/classCSBMLExporter.html#a1541a69b36b8e864883e49f0de244f81">mpSBMLDocument</a>.</p>

<p>Referenced by <a class="el" href="../../df/d80/classCSBMLExporter.html#a8a3a98da416d76519f5ef7a9617d5b7e">createCompartment()</a>, <a class="el" href="../../df/d80/classCSBMLExporter.html#a79fe24bce02d84048709c9e851d4ce1b">createMetabolite()</a>, and <a class="el" href="../../df/d80/classCSBMLExporter.html#a6ecc3a13cadbc61518786aad102ccf5c">createParameter()</a>.</p>
<div class="fragment"><div class="line"><a name="l06022"></a><span class="lineno"> 6022</span>&#160;{</div>
<div class="line"><a name="l06023"></a><span class="lineno"> 6023</span>&#160;  ListOfInitialAssignments* pList = this-&gt;<a class="code" href="../../df/d80/classCSBMLExporter.html#a1541a69b36b8e864883e49f0de244f81">mpSBMLDocument</a>-&gt;getModel()-&gt;getListOfInitialAssignments();</div>
<div class="line"><a name="l06024"></a><span class="lineno"> 6024</span>&#160;  <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> i, iMax = pList-&gt;size();</div>
<div class="line"><a name="l06025"></a><span class="lineno"> 6025</span>&#160;</div>
<div class="line"><a name="l06026"></a><span class="lineno"> 6026</span>&#160;  <span class="keywordflow">for</span> (i = 0; i &lt; iMax; ++i)</div>
<div class="line"><a name="l06027"></a><span class="lineno"> 6027</span>&#160;    {</div>
<div class="line"><a name="l06028"></a><span class="lineno"> 6028</span>&#160;      InitialAssignment* pIA = <span class="keyword">dynamic_cast&lt;</span>InitialAssignment*<span class="keyword">&gt;</span>(pList-&gt;get(i));</div>
<div class="line"><a name="l06029"></a><span class="lineno"> 6029</span>&#160;</div>
<div class="line"><a name="l06030"></a><span class="lineno"> 6030</span>&#160;      <span class="keywordflow">if</span> (pIA-&gt;getSymbol() == sbmlId)</div>
<div class="line"><a name="l06031"></a><span class="lineno"> 6031</span>&#160;        {</div>
<div class="line"><a name="l06032"></a><span class="lineno"> 6032</span>&#160;          pList-&gt;remove(i);</div>
<div class="line"><a name="l06033"></a><span class="lineno"> 6033</span>&#160;          <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l06034"></a><span class="lineno"> 6034</span>&#160;        }</div>
<div class="line"><a name="l06035"></a><span class="lineno"> 6035</span>&#160;    }</div>
<div class="line"><a name="l06036"></a><span class="lineno"> 6036</span>&#160;}</div>
<div class="ttc" id="classCSBMLExporter_html_a1541a69b36b8e864883e49f0de244f81"><div class="ttname"><a href="../../df/d80/classCSBMLExporter.html#a1541a69b36b8e864883e49f0de244f81">CSBMLExporter::mpSBMLDocument</a></div><div class="ttdeci">SBMLDocument * mpSBMLDocument</div><div class="ttdef"><b>Definition:</b> <a href="../../da/d7f/CSBMLExporter_8h_source.html#l00055">CSBMLExporter.h:55</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a836063c67a8c63decd58706b6036efd0"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d3/d05/CChemEqParser__yacc_8cpp.html#aa76fec002b4ba91adc88f68d56ba730c">void</a> CSBMLExporter::removeRule </td>
          <td>(</td>
          <td class="paramtype">const std::string &amp;&#160;</td>
          <td class="paramname"><em>sbmlId</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Remove the rule for the entity with the given id if there is any. </p>

<p>Definition at line <a class="el" href="../../d5/d2f/CSBMLExporter_8cpp_source.html#l06042">6042</a> of file <a class="el" href="../../d5/d2f/CSBMLExporter_8cpp_source.html">CSBMLExporter.cpp</a>.</p>

<p>References <a class="el" href="../../df/d80/classCSBMLExporter.html#a1541a69b36b8e864883e49f0de244f81">mpSBMLDocument</a>.</p>

<p>Referenced by <a class="el" href="../../df/d80/classCSBMLExporter.html#a8a3a98da416d76519f5ef7a9617d5b7e">createCompartment()</a>, <a class="el" href="../../df/d80/classCSBMLExporter.html#a79fe24bce02d84048709c9e851d4ce1b">createMetabolite()</a>, and <a class="el" href="../../df/d80/classCSBMLExporter.html#a6ecc3a13cadbc61518786aad102ccf5c">createParameter()</a>.</p>
<div class="fragment"><div class="line"><a name="l06043"></a><span class="lineno"> 6043</span>&#160;{</div>
<div class="line"><a name="l06044"></a><span class="lineno"> 6044</span>&#160;  ListOfRules* pList = this-&gt;<a class="code" href="../../df/d80/classCSBMLExporter.html#a1541a69b36b8e864883e49f0de244f81">mpSBMLDocument</a>-&gt;getModel()-&gt;getListOfRules();</div>
<div class="line"><a name="l06045"></a><span class="lineno"> 6045</span>&#160;  <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> i, iMax = pList-&gt;size();</div>
<div class="line"><a name="l06046"></a><span class="lineno"> 6046</span>&#160;</div>
<div class="line"><a name="l06047"></a><span class="lineno"> 6047</span>&#160;  <span class="keywordflow">for</span> (i = 0; i &lt; iMax; ++i)</div>
<div class="line"><a name="l06048"></a><span class="lineno"> 6048</span>&#160;    {</div>
<div class="line"><a name="l06049"></a><span class="lineno"> 6049</span>&#160;      Rule* pR = <span class="keyword">dynamic_cast&lt;</span>Rule*<span class="keyword">&gt;</span>(pList-&gt;get(i));</div>
<div class="line"><a name="l06050"></a><span class="lineno"> 6050</span>&#160;</div>
<div class="line"><a name="l06051"></a><span class="lineno"> 6051</span>&#160;      <span class="keywordflow">if</span> (pR-&gt;getVariable() == sbmlId)</div>
<div class="line"><a name="l06052"></a><span class="lineno"> 6052</span>&#160;        {</div>
<div class="line"><a name="l06053"></a><span class="lineno"> 6053</span>&#160;          pList-&gt;remove(i);</div>
<div class="line"><a name="l06054"></a><span class="lineno"> 6054</span>&#160;          <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l06055"></a><span class="lineno"> 6055</span>&#160;        }</div>
<div class="line"><a name="l06056"></a><span class="lineno"> 6056</span>&#160;    }</div>
<div class="line"><a name="l06057"></a><span class="lineno"> 6057</span>&#160;}</div>
<div class="ttc" id="classCSBMLExporter_html_a1541a69b36b8e864883e49f0de244f81"><div class="ttname"><a href="../../df/d80/classCSBMLExporter.html#a1541a69b36b8e864883e49f0de244f81">CSBMLExporter::mpSBMLDocument</a></div><div class="ttdeci">SBMLDocument * mpSBMLDocument</div><div class="ttdef"><b>Definition:</b> <a href="../../da/d7f/CSBMLExporter_8h_source.html#l00055">CSBMLExporter.h:55</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="ae377faa40e73c92770cb688b83db5508"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d3/d05/CChemEqParser__yacc_8cpp.html#aa76fec002b4ba91adc88f68d56ba730c">void</a> CSBMLExporter::removeUnusedObjects </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Remove all compartments, species, parameters and reactions that did not end up in mHandledSBMLObjects during an export.</p>
<p>Remove all compartments, species, parameters and reactions and initial assignments that did not end up in mHandledSBMLObjects during an export. </p>

<p>Definition at line <a class="el" href="../../d5/d2f/CSBMLExporter_8cpp_source.html#l05646">5646</a> of file <a class="el" href="../../d5/d2f/CSBMLExporter_8cpp_source.html">CSBMLExporter.cpp</a>.</p>

<p>References <a class="el" href="../../df/d80/classCSBMLExporter.html#aeb19f9866a1735848770125dad2aebad">mCOPASI2SBMLMap</a>, <a class="el" href="../../df/d80/classCSBMLExporter.html#ae5ae5ec70c912323abe9c31b58de2652">mHandledSBMLObjects</a>, and <a class="el" href="../../df/d80/classCSBMLExporter.html#a1541a69b36b8e864883e49f0de244f81">mpSBMLDocument</a>.</p>

<p>Referenced by <a class="el" href="../../df/d80/classCSBMLExporter.html#ac99801bba6bcd2a66fa83d83b6ba7f85">exportModelToString()</a>.</p>
<div class="fragment"><div class="line"><a name="l05647"></a><span class="lineno"> 5647</span>&#160;{</div>
<div class="line"><a name="l05648"></a><span class="lineno"> 5648</span>&#160;  <span class="keywordflow">if</span> (this-&gt;<a class="code" href="../../df/d80/classCSBMLExporter.html#a1541a69b36b8e864883e49f0de244f81">mpSBMLDocument</a> != NULL || this-&gt;<a class="code" href="../../df/d80/classCSBMLExporter.html#a1541a69b36b8e864883e49f0de244f81">mpSBMLDocument</a>-&gt;getModel() == NULL)</div>
<div class="line"><a name="l05649"></a><span class="lineno"> 5649</span>&#160;    {</div>
<div class="line"><a name="l05650"></a><span class="lineno"> 5650</span>&#160;      <span class="comment">// we need to reverse the COPASI2SBMLMap so that we can remove objects</span></div>
<div class="line"><a name="l05651"></a><span class="lineno"> 5651</span>&#160;      <span class="comment">// from the map if we delete them</span></div>
<div class="line"><a name="l05652"></a><span class="lineno"> 5652</span>&#160;      std::map&lt;const SBase*, const CCopasiObject*&gt; reverseCOPASI2SBMLMap;</div>
<div class="line"><a name="l05653"></a><span class="lineno"> 5653</span>&#160;      std::map&lt;const CCopasiObject*, SBase*&gt;::const_iterator it = this-&gt;<a class="code" href="../../df/d80/classCSBMLExporter.html#aeb19f9866a1735848770125dad2aebad">mCOPASI2SBMLMap</a>.begin(), endit = this-&gt;<a class="code" href="../../df/d80/classCSBMLExporter.html#aeb19f9866a1735848770125dad2aebad">mCOPASI2SBMLMap</a>.end();</div>
<div class="line"><a name="l05654"></a><span class="lineno"> 5654</span>&#160;</div>
<div class="line"><a name="l05655"></a><span class="lineno"> 5655</span>&#160;      <span class="keywordflow">while</span> (it != endit)</div>
<div class="line"><a name="l05656"></a><span class="lineno"> 5656</span>&#160;        {</div>
<div class="line"><a name="l05657"></a><span class="lineno"> 5657</span>&#160;          reverseCOPASI2SBMLMap.insert(std::pair&lt;const SBase*, const CCopasiObject*&gt;(it-&gt;second, it-&gt;first));</div>
<div class="line"><a name="l05658"></a><span class="lineno"> 5658</span>&#160;          ++it;</div>
<div class="line"><a name="l05659"></a><span class="lineno"> 5659</span>&#160;        }</div>
<div class="line"><a name="l05660"></a><span class="lineno"> 5660</span>&#160;</div>
<div class="line"><a name="l05661"></a><span class="lineno"> 5661</span>&#160;      Model* pModel = this-&gt;<a class="code" href="../../df/d80/classCSBMLExporter.html#a1541a69b36b8e864883e49f0de244f81">mpSBMLDocument</a>-&gt;getModel();</div>
<div class="line"><a name="l05662"></a><span class="lineno"> 5662</span>&#160;      std::list&lt;SBase*&gt; removedObjects;</div>
<div class="line"><a name="l05663"></a><span class="lineno"> 5663</span>&#160;      SBase* pSBase = NULL;</div>
<div class="line"><a name="l05664"></a><span class="lineno"> 5664</span>&#160;      ListOf* pList = pModel-&gt;getListOfCompartments();</div>
<div class="line"><a name="l05665"></a><span class="lineno"> 5665</span>&#160;      <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> i;</div>
<div class="line"><a name="l05666"></a><span class="lineno"> 5666</span>&#160;      std::map&lt;const SBase*, const CCopasiObject*&gt;::const_iterator pos;</div>
<div class="line"><a name="l05667"></a><span class="lineno"> 5667</span>&#160;      std::map&lt;const CCopasiObject*, SBase*&gt;::iterator pos2;</div>
<div class="line"><a name="l05668"></a><span class="lineno"> 5668</span>&#160;</div>
<div class="line"><a name="l05669"></a><span class="lineno"> 5669</span>&#160;      <span class="keywordflow">for</span> (i = pList-&gt;size(); i != 0; --i)</div>
<div class="line"><a name="l05670"></a><span class="lineno"> 5670</span>&#160;        {</div>
<div class="line"><a name="l05671"></a><span class="lineno"> 5671</span>&#160;          pSBase = pList-&gt;get(i - 1);</div>
<div class="line"><a name="l05672"></a><span class="lineno"> 5672</span>&#160;</div>
<div class="line"><a name="l05673"></a><span class="lineno"> 5673</span>&#160;          <span class="keywordflow">if</span> (this-&gt;<a class="code" href="../../df/d80/classCSBMLExporter.html#ae5ae5ec70c912323abe9c31b58de2652">mHandledSBMLObjects</a>.find(pSBase) == this-&gt;<a class="code" href="../../df/d80/classCSBMLExporter.html#ae5ae5ec70c912323abe9c31b58de2652">mHandledSBMLObjects</a>.end())</div>
<div class="line"><a name="l05674"></a><span class="lineno"> 5674</span>&#160;            {</div>
<div class="line"><a name="l05675"></a><span class="lineno"> 5675</span>&#160;              removedObjects.push_back(pList-&gt;remove(i - 1));</div>
<div class="line"><a name="l05676"></a><span class="lineno"> 5676</span>&#160;            }</div>
<div class="line"><a name="l05677"></a><span class="lineno"> 5677</span>&#160;        }</div>
<div class="line"><a name="l05678"></a><span class="lineno"> 5678</span>&#160;</div>
<div class="line"><a name="l05679"></a><span class="lineno"> 5679</span>&#160;      pList = pModel-&gt;getListOfSpecies();</div>
<div class="line"><a name="l05680"></a><span class="lineno"> 5680</span>&#160;</div>
<div class="line"><a name="l05681"></a><span class="lineno"> 5681</span>&#160;      <span class="keywordflow">for</span> (i = pList-&gt;size(); i != 0; --i)</div>
<div class="line"><a name="l05682"></a><span class="lineno"> 5682</span>&#160;        {</div>
<div class="line"><a name="l05683"></a><span class="lineno"> 5683</span>&#160;          pSBase = pList-&gt;get(i - 1);</div>
<div class="line"><a name="l05684"></a><span class="lineno"> 5684</span>&#160;</div>
<div class="line"><a name="l05685"></a><span class="lineno"> 5685</span>&#160;          <span class="keywordflow">if</span> (this-&gt;<a class="code" href="../../df/d80/classCSBMLExporter.html#ae5ae5ec70c912323abe9c31b58de2652">mHandledSBMLObjects</a>.find(pSBase) == this-&gt;<a class="code" href="../../df/d80/classCSBMLExporter.html#ae5ae5ec70c912323abe9c31b58de2652">mHandledSBMLObjects</a>.end())</div>
<div class="line"><a name="l05686"></a><span class="lineno"> 5686</span>&#160;            {</div>
<div class="line"><a name="l05687"></a><span class="lineno"> 5687</span>&#160;              removedObjects.push_back(pList-&gt;remove(i - 1));</div>
<div class="line"><a name="l05688"></a><span class="lineno"> 5688</span>&#160;            }</div>
<div class="line"><a name="l05689"></a><span class="lineno"> 5689</span>&#160;        }</div>
<div class="line"><a name="l05690"></a><span class="lineno"> 5690</span>&#160;</div>
<div class="line"><a name="l05691"></a><span class="lineno"> 5691</span>&#160;      pList = pModel-&gt;getListOfParameters();</div>
<div class="line"><a name="l05692"></a><span class="lineno"> 5692</span>&#160;</div>
<div class="line"><a name="l05693"></a><span class="lineno"> 5693</span>&#160;      <span class="keywordflow">for</span> (i = pList-&gt;size(); i != 0; --i)</div>
<div class="line"><a name="l05694"></a><span class="lineno"> 5694</span>&#160;        {</div>
<div class="line"><a name="l05695"></a><span class="lineno"> 5695</span>&#160;          pSBase = pList-&gt;get(i - 1);</div>
<div class="line"><a name="l05696"></a><span class="lineno"> 5696</span>&#160;</div>
<div class="line"><a name="l05697"></a><span class="lineno"> 5697</span>&#160;          <span class="comment">// skip all specially marked items</span></div>
<div class="line"><a name="l05698"></a><span class="lineno"> 5698</span>&#160;          <span class="keywordflow">if</span> (pSBase-&gt;getUserData() != NULL &amp;&amp; strcmp((<span class="keyword">const</span> <span class="keywordtype">char</span>*)pSBase-&gt;getUserData(), <span class="stringliteral">&quot;1&quot;</span>) == 0)</div>
<div class="line"><a name="l05699"></a><span class="lineno"> 5699</span>&#160;            <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l05700"></a><span class="lineno"> 5700</span>&#160;</div>
<div class="line"><a name="l05701"></a><span class="lineno"> 5701</span>&#160;          <span class="keywordflow">if</span> (this-&gt;<a class="code" href="../../df/d80/classCSBMLExporter.html#ae5ae5ec70c912323abe9c31b58de2652">mHandledSBMLObjects</a>.find(pSBase) == this-&gt;<a class="code" href="../../df/d80/classCSBMLExporter.html#ae5ae5ec70c912323abe9c31b58de2652">mHandledSBMLObjects</a>.end())</div>
<div class="line"><a name="l05702"></a><span class="lineno"> 5702</span>&#160;            {</div>
<div class="line"><a name="l05703"></a><span class="lineno"> 5703</span>&#160;              removedObjects.push_back(pList-&gt;remove(i - 1));</div>
<div class="line"><a name="l05704"></a><span class="lineno"> 5704</span>&#160;            }</div>
<div class="line"><a name="l05705"></a><span class="lineno"> 5705</span>&#160;        }</div>
<div class="line"><a name="l05706"></a><span class="lineno"> 5706</span>&#160;</div>
<div class="line"><a name="l05707"></a><span class="lineno"> 5707</span>&#160;      pList = pModel-&gt;getListOfInitialAssignments();</div>
<div class="line"><a name="l05708"></a><span class="lineno"> 5708</span>&#160;</div>
<div class="line"><a name="l05709"></a><span class="lineno"> 5709</span>&#160;      <span class="keywordflow">for</span> (i = pList-&gt;size(); i != 0; --i)</div>
<div class="line"><a name="l05710"></a><span class="lineno"> 5710</span>&#160;        {</div>
<div class="line"><a name="l05711"></a><span class="lineno"> 5711</span>&#160;          pSBase = pList-&gt;get(i - 1);</div>
<div class="line"><a name="l05712"></a><span class="lineno"> 5712</span>&#160;</div>
<div class="line"><a name="l05713"></a><span class="lineno"> 5713</span>&#160;          <span class="comment">// skip all specially marked items</span></div>
<div class="line"><a name="l05714"></a><span class="lineno"> 5714</span>&#160;          <span class="keywordflow">if</span> (pSBase-&gt;getUserData() != NULL &amp;&amp; strcmp((<span class="keyword">const</span> <span class="keywordtype">char</span>*)pSBase-&gt;getUserData(), <span class="stringliteral">&quot;1&quot;</span>) == 0)</div>
<div class="line"><a name="l05715"></a><span class="lineno"> 5715</span>&#160;            <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l05716"></a><span class="lineno"> 5716</span>&#160;</div>
<div class="line"><a name="l05717"></a><span class="lineno"> 5717</span>&#160;          <span class="keywordflow">if</span> (this-&gt;<a class="code" href="../../df/d80/classCSBMLExporter.html#ae5ae5ec70c912323abe9c31b58de2652">mHandledSBMLObjects</a>.find(pSBase) == this-&gt;<a class="code" href="../../df/d80/classCSBMLExporter.html#ae5ae5ec70c912323abe9c31b58de2652">mHandledSBMLObjects</a>.end())</div>
<div class="line"><a name="l05718"></a><span class="lineno"> 5718</span>&#160;            {</div>
<div class="line"><a name="l05719"></a><span class="lineno"> 5719</span>&#160;              <span class="comment">// remove the item from the COPASI2SBMLmap</span></div>
<div class="line"><a name="l05720"></a><span class="lineno"> 5720</span>&#160;              pos = reverseCOPASI2SBMLMap.find(pSBase);</div>
<div class="line"><a name="l05721"></a><span class="lineno"> 5721</span>&#160;</div>
<div class="line"><a name="l05722"></a><span class="lineno"> 5722</span>&#160;              <span class="keywordflow">if</span> (pos != reverseCOPASI2SBMLMap.end() &amp;&amp; pos-&gt;second != NULL)</div>
<div class="line"><a name="l05723"></a><span class="lineno"> 5723</span>&#160;                {</div>
<div class="line"><a name="l05724"></a><span class="lineno"> 5724</span>&#160;                  pos2 = this-&gt;<a class="code" href="../../df/d80/classCSBMLExporter.html#aeb19f9866a1735848770125dad2aebad">mCOPASI2SBMLMap</a>.find(pos-&gt;second);</div>
<div class="line"><a name="l05725"></a><span class="lineno"> 5725</span>&#160;</div>
<div class="line"><a name="l05726"></a><span class="lineno"> 5726</span>&#160;                  <span class="keywordflow">if</span> (pos2 != this-&gt;<a class="code" href="../../df/d80/classCSBMLExporter.html#aeb19f9866a1735848770125dad2aebad">mCOPASI2SBMLMap</a>.end())</div>
<div class="line"><a name="l05727"></a><span class="lineno"> 5727</span>&#160;                    {</div>
<div class="line"><a name="l05728"></a><span class="lineno"> 5728</span>&#160;                      this-&gt;<a class="code" href="../../df/d80/classCSBMLExporter.html#aeb19f9866a1735848770125dad2aebad">mCOPASI2SBMLMap</a>.erase(pos2);</div>
<div class="line"><a name="l05729"></a><span class="lineno"> 5729</span>&#160;                    }</div>
<div class="line"><a name="l05730"></a><span class="lineno"> 5730</span>&#160;                }</div>
<div class="line"><a name="l05731"></a><span class="lineno"> 5731</span>&#160;</div>
<div class="line"><a name="l05732"></a><span class="lineno"> 5732</span>&#160;              <span class="comment">// we don&#39;t have to store the initial assignments since</span></div>
<div class="line"><a name="l05733"></a><span class="lineno"> 5733</span>&#160;              <span class="comment">// there are no rules or events for initial assignments</span></div>
<div class="line"><a name="l05734"></a><span class="lineno"> 5734</span>&#160;              <span class="keyword">delete</span> pList-&gt;remove(i - 1);</div>
<div class="line"><a name="l05735"></a><span class="lineno"> 5735</span>&#160;            }</div>
<div class="line"><a name="l05736"></a><span class="lineno"> 5736</span>&#160;        }</div>
<div class="line"><a name="l05737"></a><span class="lineno"> 5737</span>&#160;</div>
<div class="line"><a name="l05738"></a><span class="lineno"> 5738</span>&#160;      pList = pModel-&gt;getListOfReactions();</div>
<div class="line"><a name="l05739"></a><span class="lineno"> 5739</span>&#160;</div>
<div class="line"><a name="l05740"></a><span class="lineno"> 5740</span>&#160;      <span class="keywordflow">for</span> (i = pList-&gt;size(); i != 0; --i)</div>
<div class="line"><a name="l05741"></a><span class="lineno"> 5741</span>&#160;        {</div>
<div class="line"><a name="l05742"></a><span class="lineno"> 5742</span>&#160;          pSBase = pList-&gt;get(i - 1);</div>
<div class="line"><a name="l05743"></a><span class="lineno"> 5743</span>&#160;</div>
<div class="line"><a name="l05744"></a><span class="lineno"> 5744</span>&#160;          <span class="keywordflow">if</span> (this-&gt;<a class="code" href="../../df/d80/classCSBMLExporter.html#ae5ae5ec70c912323abe9c31b58de2652">mHandledSBMLObjects</a>.find(pSBase) == this-&gt;<a class="code" href="../../df/d80/classCSBMLExporter.html#ae5ae5ec70c912323abe9c31b58de2652">mHandledSBMLObjects</a>.end())</div>
<div class="line"><a name="l05745"></a><span class="lineno"> 5745</span>&#160;            {</div>
<div class="line"><a name="l05746"></a><span class="lineno"> 5746</span>&#160;              <span class="comment">// remove the item from the COPASI2SBMLmap</span></div>
<div class="line"><a name="l05747"></a><span class="lineno"> 5747</span>&#160;              pos = reverseCOPASI2SBMLMap.find(pSBase);</div>
<div class="line"><a name="l05748"></a><span class="lineno"> 5748</span>&#160;</div>
<div class="line"><a name="l05749"></a><span class="lineno"> 5749</span>&#160;              <span class="keywordflow">if</span> (pos != reverseCOPASI2SBMLMap.end() &amp;&amp; pos-&gt;second != NULL)</div>
<div class="line"><a name="l05750"></a><span class="lineno"> 5750</span>&#160;                {</div>
<div class="line"><a name="l05751"></a><span class="lineno"> 5751</span>&#160;                  pos2 = this-&gt;<a class="code" href="../../df/d80/classCSBMLExporter.html#aeb19f9866a1735848770125dad2aebad">mCOPASI2SBMLMap</a>.find(pos-&gt;second);</div>
<div class="line"><a name="l05752"></a><span class="lineno"> 5752</span>&#160;</div>
<div class="line"><a name="l05753"></a><span class="lineno"> 5753</span>&#160;                  <span class="keywordflow">if</span> (pos2 != this-&gt;<a class="code" href="../../df/d80/classCSBMLExporter.html#aeb19f9866a1735848770125dad2aebad">mCOPASI2SBMLMap</a>.end())</div>
<div class="line"><a name="l05754"></a><span class="lineno"> 5754</span>&#160;                    {</div>
<div class="line"><a name="l05755"></a><span class="lineno"> 5755</span>&#160;                      this-&gt;<a class="code" href="../../df/d80/classCSBMLExporter.html#aeb19f9866a1735848770125dad2aebad">mCOPASI2SBMLMap</a>.erase(pos2);</div>
<div class="line"><a name="l05756"></a><span class="lineno"> 5756</span>&#160;                    }</div>
<div class="line"><a name="l05757"></a><span class="lineno"> 5757</span>&#160;                }</div>
<div class="line"><a name="l05758"></a><span class="lineno"> 5758</span>&#160;</div>
<div class="line"><a name="l05759"></a><span class="lineno"> 5759</span>&#160;              <span class="comment">// we don&#39;t have to store the reactions since</span></div>
<div class="line"><a name="l05760"></a><span class="lineno"> 5760</span>&#160;              <span class="comment">// there are no rules or events for reactions</span></div>
<div class="line"><a name="l05761"></a><span class="lineno"> 5761</span>&#160;              <span class="keyword">delete</span> pList-&gt;remove(i - 1);</div>
<div class="line"><a name="l05762"></a><span class="lineno"> 5762</span>&#160;            }</div>
<div class="line"><a name="l05763"></a><span class="lineno"> 5763</span>&#160;        }</div>
<div class="line"><a name="l05764"></a><span class="lineno"> 5764</span>&#160;</div>
<div class="line"><a name="l05765"></a><span class="lineno"> 5765</span>&#160;      <span class="comment">// check each removed object, if there is a rule or an event in</span></div>
<div class="line"><a name="l05766"></a><span class="lineno"> 5766</span>&#160;      <span class="comment">// the SBML model for this object</span></div>
<div class="line"><a name="l05767"></a><span class="lineno"> 5767</span>&#160;      std::list&lt;SBase*&gt;::iterator it2 = removedObjects.begin(), endit2 = removedObjects.end();</div>
<div class="line"><a name="l05768"></a><span class="lineno"> 5768</span>&#160;      pList = pModel-&gt;getListOfRules();</div>
<div class="line"><a name="l05769"></a><span class="lineno"> 5769</span>&#160;      ListOf* pEventList = pModel-&gt;getListOfEvents();</div>
<div class="line"><a name="l05770"></a><span class="lineno"> 5770</span>&#160;      ListOf* pInitialAssignmentList = pModel-&gt;getListOfInitialAssignments();</div>
<div class="line"><a name="l05771"></a><span class="lineno"> 5771</span>&#160;      Rule* pRule = NULL;</div>
<div class="line"><a name="l05772"></a><span class="lineno"> 5772</span>&#160;      Event* pEvent = NULL;</div>
<div class="line"><a name="l05773"></a><span class="lineno"> 5773</span>&#160;      InitialAssignment* pIA = NULL;</div>
<div class="line"><a name="l05774"></a><span class="lineno"> 5774</span>&#160;      <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> iMax;</div>
<div class="line"><a name="l05775"></a><span class="lineno"> 5775</span>&#160;</div>
<div class="line"><a name="l05776"></a><span class="lineno"> 5776</span>&#160;      <span class="keywordflow">while</span> (it2 != endit2)</div>
<div class="line"><a name="l05777"></a><span class="lineno"> 5777</span>&#160;        {</div>
<div class="line"><a name="l05778"></a><span class="lineno"> 5778</span>&#160;          iMax = pList-&gt;size();</div>
<div class="line"><a name="l05779"></a><span class="lineno"> 5779</span>&#160;</div>
<div class="line"><a name="l05780"></a><span class="lineno"> 5780</span>&#160;          <span class="keywordflow">for</span> (i = 0; i &lt; iMax; ++i)</div>
<div class="line"><a name="l05781"></a><span class="lineno"> 5781</span>&#160;            {</div>
<div class="line"><a name="l05782"></a><span class="lineno"> 5782</span>&#160;              pRule = <span class="keyword">dynamic_cast&lt;</span>Rule*<span class="keyword">&gt;</span>(pList-&gt;get(i));</div>
<div class="line"><a name="l05783"></a><span class="lineno"> 5783</span>&#160;</div>
<div class="line"><a name="l05784"></a><span class="lineno"> 5784</span>&#160;              <span class="keywordflow">if</span> (pRule != NULL &amp;&amp; pRule-&gt;isSetVariable() &amp;&amp; pRule-&gt;getVariable() == (*it2)-&gt;getId())</div>
<div class="line"><a name="l05785"></a><span class="lineno"> 5785</span>&#160;                {</div>
<div class="line"><a name="l05786"></a><span class="lineno"> 5786</span>&#160;                  <span class="comment">// remove the item from the COPASI2SBMLmap</span></div>
<div class="line"><a name="l05787"></a><span class="lineno"> 5787</span>&#160;                  pos = reverseCOPASI2SBMLMap.find(pRule);</div>
<div class="line"><a name="l05788"></a><span class="lineno"> 5788</span>&#160;</div>
<div class="line"><a name="l05789"></a><span class="lineno"> 5789</span>&#160;                  <span class="keywordflow">if</span> (pos != reverseCOPASI2SBMLMap.end() &amp;&amp; pos-&gt;second != NULL)</div>
<div class="line"><a name="l05790"></a><span class="lineno"> 5790</span>&#160;                    {</div>
<div class="line"><a name="l05791"></a><span class="lineno"> 5791</span>&#160;                      pos2 = this-&gt;<a class="code" href="../../df/d80/classCSBMLExporter.html#aeb19f9866a1735848770125dad2aebad">mCOPASI2SBMLMap</a>.find(pos-&gt;second);</div>
<div class="line"><a name="l05792"></a><span class="lineno"> 5792</span>&#160;</div>
<div class="line"><a name="l05793"></a><span class="lineno"> 5793</span>&#160;                      <span class="keywordflow">if</span> (pos2 != this-&gt;<a class="code" href="../../df/d80/classCSBMLExporter.html#aeb19f9866a1735848770125dad2aebad">mCOPASI2SBMLMap</a>.end())</div>
<div class="line"><a name="l05794"></a><span class="lineno"> 5794</span>&#160;                        {</div>
<div class="line"><a name="l05795"></a><span class="lineno"> 5795</span>&#160;                          this-&gt;<a class="code" href="../../df/d80/classCSBMLExporter.html#aeb19f9866a1735848770125dad2aebad">mCOPASI2SBMLMap</a>.erase(pos2);</div>
<div class="line"><a name="l05796"></a><span class="lineno"> 5796</span>&#160;                        }</div>
<div class="line"><a name="l05797"></a><span class="lineno"> 5797</span>&#160;                    }</div>
<div class="line"><a name="l05798"></a><span class="lineno"> 5798</span>&#160;</div>
<div class="line"><a name="l05799"></a><span class="lineno"> 5799</span>&#160;                  <span class="keyword">delete</span> pList-&gt;remove(i);</div>
<div class="line"><a name="l05800"></a><span class="lineno"> 5800</span>&#160;                  <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l05801"></a><span class="lineno"> 5801</span>&#160;                }</div>
<div class="line"><a name="l05802"></a><span class="lineno"> 5802</span>&#160;            }</div>
<div class="line"><a name="l05803"></a><span class="lineno"> 5803</span>&#160;</div>
<div class="line"><a name="l05804"></a><span class="lineno"> 5804</span>&#160;          iMax = pInitialAssignmentList-&gt;size();</div>
<div class="line"><a name="l05805"></a><span class="lineno"> 5805</span>&#160;</div>
<div class="line"><a name="l05806"></a><span class="lineno"> 5806</span>&#160;          <span class="keywordflow">for</span> (i = 0; i &lt; iMax; ++i)</div>
<div class="line"><a name="l05807"></a><span class="lineno"> 5807</span>&#160;            {</div>
<div class="line"><a name="l05808"></a><span class="lineno"> 5808</span>&#160;              pIA = <span class="keyword">dynamic_cast&lt;</span>InitialAssignment*<span class="keyword">&gt;</span>(pInitialAssignmentList-&gt;get(i));</div>
<div class="line"><a name="l05809"></a><span class="lineno"> 5809</span>&#160;</div>
<div class="line"><a name="l05810"></a><span class="lineno"> 5810</span>&#160;              <span class="keywordflow">if</span> (pIA-&gt;isSetSymbol() &amp;&amp; pIA-&gt;getSymbol() == (*it2)-&gt;getId())</div>
<div class="line"><a name="l05811"></a><span class="lineno"> 5811</span>&#160;                {</div>
<div class="line"><a name="l05812"></a><span class="lineno"> 5812</span>&#160;                  <span class="comment">// remove the item from the COPASI2SBMLmap</span></div>
<div class="line"><a name="l05813"></a><span class="lineno"> 5813</span>&#160;                  pos = reverseCOPASI2SBMLMap.find(pIA);</div>
<div class="line"><a name="l05814"></a><span class="lineno"> 5814</span>&#160;</div>
<div class="line"><a name="l05815"></a><span class="lineno"> 5815</span>&#160;                  <span class="keywordflow">if</span> (pos != reverseCOPASI2SBMLMap.end() &amp;&amp; pos-&gt;second != NULL)</div>
<div class="line"><a name="l05816"></a><span class="lineno"> 5816</span>&#160;                    {</div>
<div class="line"><a name="l05817"></a><span class="lineno"> 5817</span>&#160;                      pos2 = this-&gt;<a class="code" href="../../df/d80/classCSBMLExporter.html#aeb19f9866a1735848770125dad2aebad">mCOPASI2SBMLMap</a>.find(pos-&gt;second);</div>
<div class="line"><a name="l05818"></a><span class="lineno"> 5818</span>&#160;</div>
<div class="line"><a name="l05819"></a><span class="lineno"> 5819</span>&#160;                      <span class="keywordflow">if</span> (pos2 != this-&gt;<a class="code" href="../../df/d80/classCSBMLExporter.html#aeb19f9866a1735848770125dad2aebad">mCOPASI2SBMLMap</a>.end())</div>
<div class="line"><a name="l05820"></a><span class="lineno"> 5820</span>&#160;                        {</div>
<div class="line"><a name="l05821"></a><span class="lineno"> 5821</span>&#160;                          this-&gt;<a class="code" href="../../df/d80/classCSBMLExporter.html#aeb19f9866a1735848770125dad2aebad">mCOPASI2SBMLMap</a>.erase(pos2);</div>
<div class="line"><a name="l05822"></a><span class="lineno"> 5822</span>&#160;                        }</div>
<div class="line"><a name="l05823"></a><span class="lineno"> 5823</span>&#160;                    }</div>
<div class="line"><a name="l05824"></a><span class="lineno"> 5824</span>&#160;</div>
<div class="line"><a name="l05825"></a><span class="lineno"> 5825</span>&#160;                  <span class="keyword">delete</span> pInitialAssignmentList-&gt;remove(i);</div>
<div class="line"><a name="l05826"></a><span class="lineno"> 5826</span>&#160;                  <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l05827"></a><span class="lineno"> 5827</span>&#160;                }</div>
<div class="line"><a name="l05828"></a><span class="lineno"> 5828</span>&#160;            }</div>
<div class="line"><a name="l05829"></a><span class="lineno"> 5829</span>&#160;</div>
<div class="line"><a name="l05830"></a><span class="lineno"> 5830</span>&#160;          iMax = pEventList-&gt;size();</div>
<div class="line"><a name="l05831"></a><span class="lineno"> 5831</span>&#160;</div>
<div class="line"><a name="l05832"></a><span class="lineno"> 5832</span>&#160;          <span class="keywordflow">for</span> (i = 0; i &lt; iMax; ++i)</div>
<div class="line"><a name="l05833"></a><span class="lineno"> 5833</span>&#160;            {</div>
<div class="line"><a name="l05834"></a><span class="lineno"> 5834</span>&#160;              pEvent = <span class="keyword">dynamic_cast&lt;</span>Event*<span class="keyword">&gt;</span>(pEventList-&gt;get(i));</div>
<div class="line"><a name="l05835"></a><span class="lineno"> 5835</span>&#160;</div>
<div class="line"><a name="l05836"></a><span class="lineno"> 5836</span>&#160;              <span class="keywordflow">if</span> (pEvent != NULL)</div>
<div class="line"><a name="l05837"></a><span class="lineno"> 5837</span>&#160;                {</div>
<div class="line"><a name="l05838"></a><span class="lineno"> 5838</span>&#160;                  ListOfEventAssignments* pEAL = pEvent-&gt;getListOfEventAssignments();</div>
<div class="line"><a name="l05839"></a><span class="lineno"> 5839</span>&#160;                  EventAssignment* pEA = NULL;</div>
<div class="line"><a name="l05840"></a><span class="lineno"> 5840</span>&#160;                  <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> j, jMax = pEAL-&gt;size();</div>
<div class="line"><a name="l05841"></a><span class="lineno"> 5841</span>&#160;</div>
<div class="line"><a name="l05842"></a><span class="lineno"> 5842</span>&#160;                  <span class="keywordflow">for</span> (j = 0; j &lt; jMax; ++j)</div>
<div class="line"><a name="l05843"></a><span class="lineno"> 5843</span>&#160;                    {</div>
<div class="line"><a name="l05844"></a><span class="lineno"> 5844</span>&#160;                      pEA = pEvent-&gt;getEventAssignment(j);</div>
<div class="line"><a name="l05845"></a><span class="lineno"> 5845</span>&#160;</div>
<div class="line"><a name="l05846"></a><span class="lineno"> 5846</span>&#160;                      <span class="keywordflow">if</span> (pEA != NULL &amp;&amp; pEA-&gt;getVariable() == (*it2)-&gt;getId())</div>
<div class="line"><a name="l05847"></a><span class="lineno"> 5847</span>&#160;                        {</div>
<div class="line"><a name="l05848"></a><span class="lineno"> 5848</span>&#160;                          <span class="comment">// remove the item from the COPASI2SBMLmap</span></div>
<div class="line"><a name="l05849"></a><span class="lineno"> 5849</span>&#160;                          pos = reverseCOPASI2SBMLMap.find(pEA);</div>
<div class="line"><a name="l05850"></a><span class="lineno"> 5850</span>&#160;</div>
<div class="line"><a name="l05851"></a><span class="lineno"> 5851</span>&#160;                          <span class="keywordflow">if</span> (pos != reverseCOPASI2SBMLMap.end() &amp;&amp; pos-&gt;second != NULL)</div>
<div class="line"><a name="l05852"></a><span class="lineno"> 5852</span>&#160;                            {</div>
<div class="line"><a name="l05853"></a><span class="lineno"> 5853</span>&#160;                              pos2 = this-&gt;<a class="code" href="../../df/d80/classCSBMLExporter.html#aeb19f9866a1735848770125dad2aebad">mCOPASI2SBMLMap</a>.find(pos-&gt;second);</div>
<div class="line"><a name="l05854"></a><span class="lineno"> 5854</span>&#160;</div>
<div class="line"><a name="l05855"></a><span class="lineno"> 5855</span>&#160;                              <span class="keywordflow">if</span> (pos2 != this-&gt;<a class="code" href="../../df/d80/classCSBMLExporter.html#aeb19f9866a1735848770125dad2aebad">mCOPASI2SBMLMap</a>.end())</div>
<div class="line"><a name="l05856"></a><span class="lineno"> 5856</span>&#160;                                {</div>
<div class="line"><a name="l05857"></a><span class="lineno"> 5857</span>&#160;                                  this-&gt;<a class="code" href="../../df/d80/classCSBMLExporter.html#aeb19f9866a1735848770125dad2aebad">mCOPASI2SBMLMap</a>.erase(pos2);</div>
<div class="line"><a name="l05858"></a><span class="lineno"> 5858</span>&#160;                                }</div>
<div class="line"><a name="l05859"></a><span class="lineno"> 5859</span>&#160;                            }</div>
<div class="line"><a name="l05860"></a><span class="lineno"> 5860</span>&#160;</div>
<div class="line"><a name="l05861"></a><span class="lineno"> 5861</span>&#160;                          <span class="keyword">delete</span> pEAL-&gt;remove(j);</div>
<div class="line"><a name="l05862"></a><span class="lineno"> 5862</span>&#160;                          <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l05863"></a><span class="lineno"> 5863</span>&#160;                        }</div>
<div class="line"><a name="l05864"></a><span class="lineno"> 5864</span>&#160;                    }</div>
<div class="line"><a name="l05865"></a><span class="lineno"> 5865</span>&#160;</div>
<div class="line"><a name="l05866"></a><span class="lineno"> 5866</span>&#160;                  <span class="comment">// if there are no more event assignments, we can delete the</span></div>
<div class="line"><a name="l05867"></a><span class="lineno"> 5867</span>&#160;                  <span class="comment">// event</span></div>
<div class="line"><a name="l05868"></a><span class="lineno"> 5868</span>&#160;                  <span class="keywordflow">if</span> (pEAL-&gt;size() == 0)</div>
<div class="line"><a name="l05869"></a><span class="lineno"> 5869</span>&#160;                    {</div>
<div class="line"><a name="l05870"></a><span class="lineno"> 5870</span>&#160;                      <span class="comment">// remove the item from the COPASI2SBMLmap</span></div>
<div class="line"><a name="l05871"></a><span class="lineno"> 5871</span>&#160;                      pos = reverseCOPASI2SBMLMap.find(pEvent);</div>
<div class="line"><a name="l05872"></a><span class="lineno"> 5872</span>&#160;</div>
<div class="line"><a name="l05873"></a><span class="lineno"> 5873</span>&#160;                      <span class="keywordflow">if</span> (pos != reverseCOPASI2SBMLMap.end() &amp;&amp; pos-&gt;second != NULL)</div>
<div class="line"><a name="l05874"></a><span class="lineno"> 5874</span>&#160;                        {</div>
<div class="line"><a name="l05875"></a><span class="lineno"> 5875</span>&#160;                          pos2 = this-&gt;<a class="code" href="../../df/d80/classCSBMLExporter.html#aeb19f9866a1735848770125dad2aebad">mCOPASI2SBMLMap</a>.find(pos-&gt;second);</div>
<div class="line"><a name="l05876"></a><span class="lineno"> 5876</span>&#160;</div>
<div class="line"><a name="l05877"></a><span class="lineno"> 5877</span>&#160;                          <span class="keywordflow">if</span> (pos2 != this-&gt;<a class="code" href="../../df/d80/classCSBMLExporter.html#aeb19f9866a1735848770125dad2aebad">mCOPASI2SBMLMap</a>.end())</div>
<div class="line"><a name="l05878"></a><span class="lineno"> 5878</span>&#160;                            {</div>
<div class="line"><a name="l05879"></a><span class="lineno"> 5879</span>&#160;                              this-&gt;<a class="code" href="../../df/d80/classCSBMLExporter.html#aeb19f9866a1735848770125dad2aebad">mCOPASI2SBMLMap</a>.erase(pos2);</div>
<div class="line"><a name="l05880"></a><span class="lineno"> 5880</span>&#160;                            }</div>
<div class="line"><a name="l05881"></a><span class="lineno"> 5881</span>&#160;                        }</div>
<div class="line"><a name="l05882"></a><span class="lineno"> 5882</span>&#160;</div>
<div class="line"><a name="l05883"></a><span class="lineno"> 5883</span>&#160;                      <span class="keyword">delete</span> pEventList-&gt;remove(i);</div>
<div class="line"><a name="l05884"></a><span class="lineno"> 5884</span>&#160;                    }</div>
<div class="line"><a name="l05885"></a><span class="lineno"> 5885</span>&#160;                }</div>
<div class="line"><a name="l05886"></a><span class="lineno"> 5886</span>&#160;            }</div>
<div class="line"><a name="l05887"></a><span class="lineno"> 5887</span>&#160;</div>
<div class="line"><a name="l05888"></a><span class="lineno"> 5888</span>&#160;          <span class="comment">// remove the item from the COPASI2SBMLmap</span></div>
<div class="line"><a name="l05889"></a><span class="lineno"> 5889</span>&#160;          pos = reverseCOPASI2SBMLMap.find(*it2);</div>
<div class="line"><a name="l05890"></a><span class="lineno"> 5890</span>&#160;</div>
<div class="line"><a name="l05891"></a><span class="lineno"> 5891</span>&#160;          <span class="keywordflow">if</span> (pos != reverseCOPASI2SBMLMap.end() &amp;&amp; pos-&gt;second != NULL)</div>
<div class="line"><a name="l05892"></a><span class="lineno"> 5892</span>&#160;            {</div>
<div class="line"><a name="l05893"></a><span class="lineno"> 5893</span>&#160;              pos2 = this-&gt;<a class="code" href="../../df/d80/classCSBMLExporter.html#aeb19f9866a1735848770125dad2aebad">mCOPASI2SBMLMap</a>.find(pos-&gt;second);</div>
<div class="line"><a name="l05894"></a><span class="lineno"> 5894</span>&#160;</div>
<div class="line"><a name="l05895"></a><span class="lineno"> 5895</span>&#160;              <span class="keywordflow">if</span> (pos2 != this-&gt;<a class="code" href="../../df/d80/classCSBMLExporter.html#aeb19f9866a1735848770125dad2aebad">mCOPASI2SBMLMap</a>.end())</div>
<div class="line"><a name="l05896"></a><span class="lineno"> 5896</span>&#160;                {</div>
<div class="line"><a name="l05897"></a><span class="lineno"> 5897</span>&#160;                  this-&gt;<a class="code" href="../../df/d80/classCSBMLExporter.html#aeb19f9866a1735848770125dad2aebad">mCOPASI2SBMLMap</a>.erase(pos2);</div>
<div class="line"><a name="l05898"></a><span class="lineno"> 5898</span>&#160;                }</div>
<div class="line"><a name="l05899"></a><span class="lineno"> 5899</span>&#160;            }</div>
<div class="line"><a name="l05900"></a><span class="lineno"> 5900</span>&#160;</div>
<div class="line"><a name="l05901"></a><span class="lineno"> 5901</span>&#160;          <span class="keyword">delete</span> *it2;</div>
<div class="line"><a name="l05902"></a><span class="lineno"> 5902</span>&#160;          ++it2;</div>
<div class="line"><a name="l05903"></a><span class="lineno"> 5903</span>&#160;        }</div>
<div class="line"><a name="l05904"></a><span class="lineno"> 5904</span>&#160;    }</div>
<div class="line"><a name="l05905"></a><span class="lineno"> 5905</span>&#160;}</div>
<div class="ttc" id="classCSBMLExporter_html_a1541a69b36b8e864883e49f0de244f81"><div class="ttname"><a href="../../df/d80/classCSBMLExporter.html#a1541a69b36b8e864883e49f0de244f81">CSBMLExporter::mpSBMLDocument</a></div><div class="ttdeci">SBMLDocument * mpSBMLDocument</div><div class="ttdef"><b>Definition:</b> <a href="../../da/d7f/CSBMLExporter_8h_source.html#l00055">CSBMLExporter.h:55</a></div></div>
<div class="ttc" id="classCSBMLExporter_html_aeb19f9866a1735848770125dad2aebad"><div class="ttname"><a href="../../df/d80/classCSBMLExporter.html#aeb19f9866a1735848770125dad2aebad">CSBMLExporter::mCOPASI2SBMLMap</a></div><div class="ttdeci">std::map&lt; const CCopasiObject *, SBase * &gt; mCOPASI2SBMLMap</div><div class="ttdef"><b>Definition:</b> <a href="../../da/d7f/CSBMLExporter_8h_source.html#l00061">CSBMLExporter.h:61</a></div></div>
<div class="ttc" id="classCSBMLExporter_html_ae5ae5ec70c912323abe9c31b58de2652"><div class="ttname"><a href="../../df/d80/classCSBMLExporter.html#ae5ae5ec70c912323abe9c31b58de2652">CSBMLExporter::mHandledSBMLObjects</a></div><div class="ttdeci">std::set&lt; SBase * &gt; mHandledSBMLObjects</div><div class="ttdef"><b>Definition:</b> <a href="../../da/d7f/CSBMLExporter_8h_source.html#l00062">CSBMLExporter.h:62</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a8f73c8e9c1a56403427b179b2074f198"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d3/d05/CChemEqParser__yacc_8cpp.html#aa76fec002b4ba91adc88f68d56ba730c">void</a> CSBMLExporter::replace_local_parameters </td>
          <td>(</td>
          <td class="paramtype">ASTNode *&#160;</td>
          <td class="paramname"><em>pOrigNode</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="../../d4/d18/classCCopasiDataModel.html">CCopasiDataModel</a> &amp;&#160;</td>
          <td class="paramname"><em>dataModel</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Goes through the expression tree and tries to find occurences of local parameters. If one is found, a global parameter is created and all references to the local parameters are substituted. </p>

<p>Definition at line <a class="el" href="../../d5/d2f/CSBMLExporter_8cpp_source.html#l07330">7330</a> of file <a class="el" href="../../d5/d2f/CSBMLExporter_8cpp_source.html">CSBMLExporter.cpp</a>.</p>

<p>References <a class="el" href="../../df/d80/classCSBMLExporter.html#ab4d7f9c3d22b8225d1a4d9e3a98b855e">createUniqueId()</a>, <a class="el" href="../../d5/db6/classCCopasiParameter.html#acb7d9fc7eca10f6fa48542576e8c4aaa">CCopasiParameter::getCN()</a>, <a class="el" href="../../d4/d18/classCCopasiDataModel.html#a2e65952e0caf0b2709d381cf949fec69">CCopasiDataModel::getModel()</a>, <a class="el" href="../../d4/da8/classCCopasiObject.html#a879d6756b51f6b58d307940e1343bd10">CCopasiObject::getObjectName()</a>, <a class="el" href="../../d4/da8/classCCopasiObject.html#a33bb5035eec7ebc5e3ecac4771316405">CCopasiObject::getObjectParent()</a>, <a class="el" href="../../d5/db6/classCCopasiParameter.html#a35b854e4de8462680ae5fd092ef18098">CCopasiParameter::getValue()</a>, <a class="el" href="../../df/d80/classCSBMLExporter.html#ae5ae5ec70c912323abe9c31b58de2652">mHandledSBMLObjects</a>, <a class="el" href="../../df/d80/classCSBMLExporter.html#a60ab409a11b90a1ca965d7702828af74">mIdMap</a>, <a class="el" href="../../df/d80/classCSBMLExporter.html#a2dbac4a8c7a2aa7a6a462b184c5430bf">mParameterReplacementMap</a>, <a class="el" href="../../df/d80/classCSBMLExporter.html#a1541a69b36b8e864883e49f0de244f81">mpSBMLDocument</a>, <a class="el" href="../../d4/d18/classCCopasiDataModel.html#a9d54888c14c755abec4c757289ee26f7">CCopasiDataModel::ObjectFromName()</a>, and <a class="el" href="../../d8/dea/unionCCopasiParameter_1_1Value.html#a438dcaf539adf7130f2c4f2b193bb136">CCopasiParameter::Value::pDOUBLE</a>.</p>

<p>Referenced by <a class="el" href="../../df/d80/classCSBMLExporter.html#a79ba15ac876b6354e2aaff763b8a7c86">createEvent()</a>, <a class="el" href="../../df/d80/classCSBMLExporter.html#a2f052fa99d8b6695c0b7cf12d21f7833">createInitialAssignment()</a>, <a class="el" href="../../df/d80/classCSBMLExporter.html#a4e1fa35c0f3497f349b03147eb7326f0">createRule()</a>, and <a class="el" href="../../df/d80/classCSBMLExporter.html#aefbd6278e618486186192aff4bdff76e">exportEventAssignments()</a>.</p>
<div class="fragment"><div class="line"><a name="l07331"></a><span class="lineno"> 7331</span>&#160;{</div>
<div class="line"><a name="l07332"></a><span class="lineno"> 7332</span>&#160;  <span class="comment">//  go through the expression and check if it contains a local reaction</span></div>
<div class="line"><a name="l07333"></a><span class="lineno"> 7333</span>&#160;  <span class="comment">//  parameter, if it does, we have to create a global parameter to replace it</span></div>
<div class="line"><a name="l07334"></a><span class="lineno"> 7334</span>&#160;  <span class="comment">//  the replacement has to be recorded in same data structure so that we can</span></div>
<div class="line"><a name="l07335"></a><span class="lineno"> 7335</span>&#160;  <span class="comment">//  consider it when the reactions are created later on</span></div>
<div class="line"><a name="l07336"></a><span class="lineno"> 7336</span>&#160;  <span class="comment">//  In the end, we need to use this map to create a warning message.</span></div>
<div class="line"><a name="l07337"></a><span class="lineno"> 7337</span>&#160;  <span class="keywordflow">if</span> (pOrigNode != NULL)</div>
<div class="line"><a name="l07338"></a><span class="lineno"> 7338</span>&#160;    {</div>
<div class="line"><a name="l07339"></a><span class="lineno"> 7339</span>&#160;      <span class="comment">// the new id for the global parameter should contain the reaction name and</span></div>
<div class="line"><a name="l07340"></a><span class="lineno"> 7340</span>&#160;      <span class="comment">// the parameter name</span></div>
<div class="line"><a name="l07341"></a><span class="lineno"> 7341</span>&#160;      <span class="keywordflow">if</span> (pOrigNode-&gt;getType() == AST_NAME)</div>
<div class="line"><a name="l07342"></a><span class="lineno"> 7342</span>&#160;        {</div>
<div class="line"><a name="l07343"></a><span class="lineno"> 7343</span>&#160;          std::string objectName = pOrigNode-&gt;getName();</div>
<div class="line"><a name="l07344"></a><span class="lineno"> 7344</span>&#160;          std::vector&lt;CCopasiContainer*&gt; containers;</div>
<div class="line"><a name="l07345"></a><span class="lineno"> 7345</span>&#160;          containers.push_back(const_cast&lt;CModel*&gt;(dataModel.<a class="code" href="../../d4/d18/classCCopasiDataModel.html#a2e65952e0caf0b2709d381cf949fec69">getModel</a>()));</div>
<div class="line"><a name="l07346"></a><span class="lineno"> 7346</span>&#160;          <span class="keyword">const</span> <a class="code" href="../../d4/da8/classCCopasiObject.html">CCopasiObject</a>* pObject = dataModel.<a class="code" href="../../d4/d18/classCCopasiDataModel.html#a9d54888c14c755abec4c757289ee26f7">ObjectFromName</a>(containers, objectName);</div>
<div class="line"><a name="l07347"></a><span class="lineno"> 7347</span>&#160;</div>
<div class="line"><a name="l07348"></a><span class="lineno"> 7348</span>&#160;          <span class="keywordflow">if</span> (pObject != NULL)</div>
<div class="line"><a name="l07349"></a><span class="lineno"> 7349</span>&#160;            {</div>
<div class="line"><a name="l07350"></a><span class="lineno"> 7350</span>&#160;              <span class="keyword">const</span> <a class="code" href="../../d5/db6/classCCopasiParameter.html">CCopasiParameter</a>* pLocalParameter = <span class="keyword">dynamic_cast&lt;</span><span class="keyword">const </span><a class="code" href="../../d5/db6/classCCopasiParameter.html">CCopasiParameter</a>*<span class="keyword">&gt;</span>(pObject);</div>
<div class="line"><a name="l07351"></a><span class="lineno"> 7351</span>&#160;</div>
<div class="line"><a name="l07352"></a><span class="lineno"> 7352</span>&#160;              <span class="keywordflow">if</span> (pLocalParameter != NULL)</div>
<div class="line"><a name="l07353"></a><span class="lineno"> 7353</span>&#160;                {</div>
<div class="line"><a name="l07354"></a><span class="lineno"> 7354</span>&#160;                  <span class="comment">// it must be a local parameter</span></div>
<div class="line"><a name="l07355"></a><span class="lineno"> 7355</span>&#160;                  std::map&lt;std::string, Parameter*&gt;::iterator pos = this-&gt;<a class="code" href="../../df/d80/classCSBMLExporter.html#a2dbac4a8c7a2aa7a6a462b184c5430bf">mParameterReplacementMap</a>.find(pLocalParameter-&gt;<a class="code" href="../../d5/db6/classCCopasiParameter.html#acb7d9fc7eca10f6fa48542576e8c4aaa">getCN</a>());</div>
<div class="line"><a name="l07356"></a><span class="lineno"> 7356</span>&#160;</div>
<div class="line"><a name="l07357"></a><span class="lineno"> 7357</span>&#160;                  <span class="keywordflow">if</span> (pos == this-&gt;<a class="code" href="../../df/d80/classCSBMLExporter.html#a2dbac4a8c7a2aa7a6a462b184c5430bf">mParameterReplacementMap</a>.end())</div>
<div class="line"><a name="l07358"></a><span class="lineno"> 7358</span>&#160;                    {</div>
<div class="line"><a name="l07359"></a><span class="lineno"> 7359</span>&#160;                      <span class="comment">// not found, so we create a new global parameter</span></div>
<div class="line"><a name="l07360"></a><span class="lineno"> 7360</span>&#160;                      <span class="keyword">const</span> <a class="code" href="../../d4/da8/classCCopasiObject.html">CCopasiObject</a>* pParent = pLocalParameter-&gt;<a class="code" href="../../d4/da8/classCCopasiObject.html#a33bb5035eec7ebc5e3ecac4771316405">getObjectParent</a>();</div>
<div class="line"><a name="l07361"></a><span class="lineno"> 7361</span>&#160;</div>
<div class="line"><a name="l07362"></a><span class="lineno"> 7362</span>&#160;                      <span class="comment">// find the reaction</span></div>
<div class="line"><a name="l07363"></a><span class="lineno"> 7363</span>&#160;                      <span class="keywordflow">while</span> (pParent != NULL &amp;&amp; dynamic_cast&lt;const CReaction*&gt;(pParent) == NULL)</div>
<div class="line"><a name="l07364"></a><span class="lineno"> 7364</span>&#160;                        {</div>
<div class="line"><a name="l07365"></a><span class="lineno"> 7365</span>&#160;                          pParent = pParent-&gt;<a class="code" href="../../d4/da8/classCCopasiObject.html#a33bb5035eec7ebc5e3ecac4771316405">getObjectParent</a>();</div>
<div class="line"><a name="l07366"></a><span class="lineno"> 7366</span>&#160;                        }</div>
<div class="line"><a name="l07367"></a><span class="lineno"> 7367</span>&#160;</div>
<div class="line"><a name="l07368"></a><span class="lineno"> 7368</span>&#160;                      assert(pParent);</div>
<div class="line"><a name="l07369"></a><span class="lineno"> 7369</span>&#160;                      <span class="comment">// now we create a new global parameter with a unique name</span></div>
<div class="line"><a name="l07370"></a><span class="lineno"> 7370</span>&#160;                      std::string name = pParent-&gt;<a class="code" href="../../d4/da8/classCCopasiObject.html#a879d6756b51f6b58d307940e1343bd10">getObjectName</a>() + <span class="stringliteral">&quot;_&quot;</span> + pLocalParameter-&gt;<a class="code" href="../../d4/da8/classCCopasiObject.html#a879d6756b51f6b58d307940e1343bd10">getObjectName</a>();</div>
<div class="line"><a name="l07371"></a><span class="lineno"> 7371</span>&#160;                      std::string sbmlId = <a class="code" href="../../df/d80/classCSBMLExporter.html#ab4d7f9c3d22b8225d1a4d9e3a98b855e">CSBMLExporter::createUniqueId</a>(this-&gt;<a class="code" href="../../df/d80/classCSBMLExporter.html#a60ab409a11b90a1ca965d7702828af74">mIdMap</a>, name, <span class="keyword">false</span>);</div>
<div class="line"><a name="l07372"></a><span class="lineno"> 7372</span>&#160;                      Parameter* pParameter = this-&gt;<a class="code" href="../../df/d80/classCSBMLExporter.html#a1541a69b36b8e864883e49f0de244f81">mpSBMLDocument</a>-&gt;getModel()-&gt;createParameter();</div>
<div class="line"><a name="l07373"></a><span class="lineno"> 7373</span>&#160;</div>
<div class="line"><a name="l07374"></a><span class="lineno"> 7374</span>&#160;                      <span class="comment">// don&#39;t call setName on level 1 objects because this will also</span></div>
<div class="line"><a name="l07375"></a><span class="lineno"> 7375</span>&#160;                      <span class="comment">// change the id</span></div>
<div class="line"><a name="l07376"></a><span class="lineno"> 7376</span>&#160;                      <span class="keywordflow">if</span> (this-&gt;<a class="code" href="../../df/d80/classCSBMLExporter.html#a1541a69b36b8e864883e49f0de244f81">mpSBMLDocument</a>-&gt;getLevel() &gt; 1)</div>
<div class="line"><a name="l07377"></a><span class="lineno"> 7377</span>&#160;                        {</div>
<div class="line"><a name="l07378"></a><span class="lineno"> 7378</span>&#160;                          pParameter-&gt;setName(name);</div>
<div class="line"><a name="l07379"></a><span class="lineno"> 7379</span>&#160;                        }</div>
<div class="line"><a name="l07380"></a><span class="lineno"> 7380</span>&#160;</div>
<div class="line"><a name="l07381"></a><span class="lineno"> 7381</span>&#160;                      pParameter-&gt;setId(sbmlId);</div>
<div class="line"><a name="l07382"></a><span class="lineno"> 7382</span>&#160;                      this-&gt;<a class="code" href="../../df/d80/classCSBMLExporter.html#a60ab409a11b90a1ca965d7702828af74">mIdMap</a>.insert(std::pair&lt;std::string, SBase*&gt;(sbmlId, pParameter));</div>
<div class="line"><a name="l07383"></a><span class="lineno"> 7383</span>&#160;                      pParameter-&gt;setValue(*pLocalParameter-&gt;<a class="code" href="../../d5/db6/classCCopasiParameter.html#a35b854e4de8462680ae5fd092ef18098">getValue</a>().<a class="code" href="../../d8/dea/unionCCopasiParameter_1_1Value.html#a438dcaf539adf7130f2c4f2b193bb136">pDOUBLE</a>);</div>
<div class="line"><a name="l07384"></a><span class="lineno"> 7384</span>&#160;                      this-&gt;<a class="code" href="../../df/d80/classCSBMLExporter.html#a2dbac4a8c7a2aa7a6a462b184c5430bf">mParameterReplacementMap</a>[pLocalParameter-&gt;<a class="code" href="../../d5/db6/classCCopasiParameter.html#acb7d9fc7eca10f6fa48542576e8c4aaa">getCN</a>()] = pParameter;</div>
<div class="line"><a name="l07385"></a><span class="lineno"> 7385</span>&#160;                      pOrigNode-&gt;setName(sbmlId.c_str());</div>
<div class="line"><a name="l07386"></a><span class="lineno"> 7386</span>&#160;                      this-&gt;<a class="code" href="../../df/d80/classCSBMLExporter.html#ae5ae5ec70c912323abe9c31b58de2652">mHandledSBMLObjects</a>.insert(pParameter);</div>
<div class="line"><a name="l07387"></a><span class="lineno"> 7387</span>&#160;                    }</div>
<div class="line"><a name="l07388"></a><span class="lineno"> 7388</span>&#160;                  <span class="keywordflow">else</span></div>
<div class="line"><a name="l07389"></a><span class="lineno"> 7389</span>&#160;                    {</div>
<div class="line"><a name="l07390"></a><span class="lineno"> 7390</span>&#160;                      <span class="comment">// we set the node name to the existing parameter name</span></div>
<div class="line"><a name="l07391"></a><span class="lineno"> 7391</span>&#160;                      pOrigNode-&gt;setName(pos-&gt;second-&gt;getId().c_str());</div>
<div class="line"><a name="l07392"></a><span class="lineno"> 7392</span>&#160;                    }</div>
<div class="line"><a name="l07393"></a><span class="lineno"> 7393</span>&#160;                }</div>
<div class="line"><a name="l07394"></a><span class="lineno"> 7394</span>&#160;            }</div>
<div class="line"><a name="l07395"></a><span class="lineno"> 7395</span>&#160;        }</div>
<div class="line"><a name="l07396"></a><span class="lineno"> 7396</span>&#160;</div>
<div class="line"><a name="l07397"></a><span class="lineno"> 7397</span>&#160;      <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> i = 0, iMax = pOrigNode-&gt;getNumChildren();</div>
<div class="line"><a name="l07398"></a><span class="lineno"> 7398</span>&#160;</div>
<div class="line"><a name="l07399"></a><span class="lineno"> 7399</span>&#160;      <span class="keywordflow">while</span> (i &lt; iMax)</div>
<div class="line"><a name="l07400"></a><span class="lineno"> 7400</span>&#160;        {</div>
<div class="line"><a name="l07401"></a><span class="lineno"> 7401</span>&#160;          this-&gt;<a class="code" href="../../df/d80/classCSBMLExporter.html#a8f73c8e9c1a56403427b179b2074f198">replace_local_parameters</a>(pOrigNode-&gt;getChild(i), dataModel);</div>
<div class="line"><a name="l07402"></a><span class="lineno"> 7402</span>&#160;          ++i;</div>
<div class="line"><a name="l07403"></a><span class="lineno"> 7403</span>&#160;        }</div>
<div class="line"><a name="l07404"></a><span class="lineno"> 7404</span>&#160;    }</div>
<div class="line"><a name="l07405"></a><span class="lineno"> 7405</span>&#160;}</div>
<div class="ttc" id="classCSBMLExporter_html_a1541a69b36b8e864883e49f0de244f81"><div class="ttname"><a href="../../df/d80/classCSBMLExporter.html#a1541a69b36b8e864883e49f0de244f81">CSBMLExporter::mpSBMLDocument</a></div><div class="ttdeci">SBMLDocument * mpSBMLDocument</div><div class="ttdef"><b>Definition:</b> <a href="../../da/d7f/CSBMLExporter_8h_source.html#l00055">CSBMLExporter.h:55</a></div></div>
<div class="ttc" id="classCSBMLExporter_html_a8f73c8e9c1a56403427b179b2074f198"><div class="ttname"><a href="../../df/d80/classCSBMLExporter.html#a8f73c8e9c1a56403427b179b2074f198">CSBMLExporter::replace_local_parameters</a></div><div class="ttdeci">void replace_local_parameters(ASTNode *pOrigNode, const CCopasiDataModel &amp;dataModel)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d2f/CSBMLExporter_8cpp_source.html#l07330">CSBMLExporter.cpp:7330</a></div></div>
<div class="ttc" id="classCCopasiDataModel_html_a2e65952e0caf0b2709d381cf949fec69"><div class="ttname"><a href="../../d4/d18/classCCopasiDataModel.html#a2e65952e0caf0b2709d381cf949fec69">CCopasiDataModel::getModel</a></div><div class="ttdeci">CModel * getModel()</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d38/CCopasiDataModel_8cpp_source.html#l01407">CCopasiDataModel.cpp:1407</a></div></div>
<div class="ttc" id="classCCopasiObject_html_a879d6756b51f6b58d307940e1343bd10"><div class="ttname"><a href="../../d4/da8/classCCopasiObject.html#a879d6756b51f6b58d307940e1343bd10">CCopasiObject::getObjectName</a></div><div class="ttdeci">const std::string &amp; getObjectName() const </div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d22/CCopasiObject_8cpp_source.html#l00258">CCopasiObject.cpp:258</a></div></div>
<div class="ttc" id="classCSBMLExporter_html_a2dbac4a8c7a2aa7a6a462b184c5430bf"><div class="ttname"><a href="../../df/d80/classCSBMLExporter.html#a2dbac4a8c7a2aa7a6a462b184c5430bf">CSBMLExporter::mParameterReplacementMap</a></div><div class="ttdeci">std::map&lt; std::string, Parameter * &gt; mParameterReplacementMap</div><div class="ttdef"><b>Definition:</b> <a href="../../da/d7f/CSBMLExporter_8h_source.html#l00075">CSBMLExporter.h:75</a></div></div>
<div class="ttc" id="classCCopasiObject_html"><div class="ttname"><a href="../../d4/da8/classCCopasiObject.html">CCopasiObject</a></div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d9f/CCopasiObject_8h_source.html#l00216">CCopasiObject.h:216</a></div></div>
<div class="ttc" id="classCCopasiParameter_html"><div class="ttname"><a href="../../d5/db6/classCCopasiParameter.html">CCopasiParameter</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d9/df7/CCopasiParameter_8h_source.html#l00035">CCopasiParameter.h:35</a></div></div>
<div class="ttc" id="classCSBMLExporter_html_a60ab409a11b90a1ca965d7702828af74"><div class="ttname"><a href="../../df/d80/classCSBMLExporter.html#a60ab409a11b90a1ca965d7702828af74">CSBMLExporter::mIdMap</a></div><div class="ttdeci">std::map&lt; std::string, const SBase * &gt; mIdMap</div><div class="ttdef"><b>Definition:</b> <a href="../../da/d7f/CSBMLExporter_8h_source.html#l00064">CSBMLExporter.h:64</a></div></div>
<div class="ttc" id="classCSBMLExporter_html_ab4d7f9c3d22b8225d1a4d9e3a98b855e"><div class="ttname"><a href="../../df/d80/classCSBMLExporter.html#ab4d7f9c3d22b8225d1a4d9e3a98b855e">CSBMLExporter::createUniqueId</a></div><div class="ttdeci">static const std::string createUniqueId(const std::map&lt; std::string, const SBase * &gt; &amp;idMap, const std::string &amp;prefix, bool addIndexForFirst, const std::string &amp;separator=&quot;_&quot;)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d2f/CSBMLExporter_8cpp_source.html#l02252">CSBMLExporter.cpp:2252</a></div></div>
<div class="ttc" id="classCCopasiParameter_html_a35b854e4de8462680ae5fd092ef18098"><div class="ttname"><a href="../../d5/db6/classCCopasiParameter.html#a35b854e4de8462680ae5fd092ef18098">CCopasiParameter::getValue</a></div><div class="ttdeci">const Value &amp; getValue() const </div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d99/CCopasiParameter_8cpp_source.html#l00247">CCopasiParameter.cpp:247</a></div></div>
<div class="ttc" id="unionCCopasiParameter_1_1Value_html_a438dcaf539adf7130f2c4f2b193bb136"><div class="ttname"><a href="../../d8/dea/unionCCopasiParameter_1_1Value.html#a438dcaf539adf7130f2c4f2b193bb136">CCopasiParameter::Value::pDOUBLE</a></div><div class="ttdeci">C_FLOAT64 * pDOUBLE</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/df7/CCopasiParameter_8h_source.html#l00057">CCopasiParameter.h:57</a></div></div>
<div class="ttc" id="classCCopasiParameter_html_acb7d9fc7eca10f6fa48542576e8c4aaa"><div class="ttname"><a href="../../d5/db6/classCCopasiParameter.html#acb7d9fc7eca10f6fa48542576e8c4aaa">CCopasiParameter::getCN</a></div><div class="ttdeci">virtual CCopasiObjectName getCN() const </div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d99/CCopasiParameter_8cpp_source.html#l00412">CCopasiParameter.cpp:412</a></div></div>
<div class="ttc" id="classCSBMLExporter_html_ae5ae5ec70c912323abe9c31b58de2652"><div class="ttname"><a href="../../df/d80/classCSBMLExporter.html#ae5ae5ec70c912323abe9c31b58de2652">CSBMLExporter::mHandledSBMLObjects</a></div><div class="ttdeci">std::set&lt; SBase * &gt; mHandledSBMLObjects</div><div class="ttdef"><b>Definition:</b> <a href="../../da/d7f/CSBMLExporter_8h_source.html#l00062">CSBMLExporter.h:62</a></div></div>
<div class="ttc" id="classCCopasiDataModel_html_a9d54888c14c755abec4c757289ee26f7"><div class="ttname"><a href="../../d4/d18/classCCopasiDataModel.html#a9d54888c14c755abec4c757289ee26f7">CCopasiDataModel::ObjectFromName</a></div><div class="ttdeci">CCopasiObject * ObjectFromName(const std::vector&lt; CCopasiContainer * &gt; &amp;listOfContainer, const CCopasiObjectName &amp;CN) const </div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d38/CCopasiDataModel_8cpp_source.html#l01940">CCopasiDataModel.cpp:1940</a></div></div>
<div class="ttc" id="classCCopasiObject_html_a33bb5035eec7ebc5e3ecac4771316405"><div class="ttname"><a href="../../d4/da8/classCCopasiObject.html#a33bb5035eec7ebc5e3ecac4771316405">CCopasiObject::getObjectParent</a></div><div class="ttdeci">CCopasiContainer * getObjectParent() const </div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d22/CCopasiObject_8cpp_source.html#l00276">CCopasiObject.cpp:276</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="afd52e9391235518719dd447da28be625"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">XMLNode * CSBMLExporter::replaceChild </td>
          <td>(</td>
          <td class="paramtype">const XMLNode *&#160;</td>
          <td class="paramname"><em>pParent</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const XMLNode *&#160;</td>
          <td class="paramname"><em>pNewChild</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned int&#160;</td>
          <td class="paramname"><em>index</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>This method creates a copy of parent where the child with the given index is replaced by the new child given as the second argument. If index is greater than the number of children - 1, NULL is returned.</p>
<p>This method creates a copy of parent where the child with the given index is replaced by the new child given as the second argument. If index is greater than the number of children - 1, NULL is returned. If the new child is a null pointer, this method deleted the old node at the given index. </p>

<p>Definition at line <a class="el" href="../../d5/d2f/CSBMLExporter_8cpp_source.html#l07023">7023</a> of file <a class="el" href="../../d5/d2f/CSBMLExporter_8cpp_source.html">CSBMLExporter.cpp</a>.</p>

<p>References <a class="el" href="../../d7/de4/CQTSSAResultSubWidget_8cpp.html#a015b908fb74f75922e0bc448af09d9d1">pResult</a>.</p>

<p>Referenced by <a class="el" href="../../df/d80/classCSBMLExporter.html#aba8216eaf4931e0adf484832882fbe67">updateMIRIAMAnnotation()</a>.</p>
<div class="fragment"><div class="line"><a name="l07024"></a><span class="lineno"> 7024</span>&#160;{</div>
<div class="line"><a name="l07025"></a><span class="lineno"> 7025</span>&#160;  XMLNode* <a class="code" href="../../d7/de4/CQTSSAResultSubWidget_8cpp.html#a015b908fb74f75922e0bc448af09d9d1">pResult</a> = NULL;</div>
<div class="line"><a name="l07026"></a><span class="lineno"> 7026</span>&#160;</div>
<div class="line"><a name="l07027"></a><span class="lineno"> 7027</span>&#160;  <span class="keywordflow">if</span> (index &lt; pParent-&gt;getNumChildren())</div>
<div class="line"><a name="l07028"></a><span class="lineno"> 7028</span>&#160;    {</div>
<div class="line"><a name="l07029"></a><span class="lineno"> 7029</span>&#160;      <span class="comment">// make a shallow copy of pParent</span></div>
<div class="line"><a name="l07030"></a><span class="lineno"> 7030</span>&#160;      <span class="comment">// The copy constructor makes a deep copy, so we have to use the</span></div>
<div class="line"><a name="l07031"></a><span class="lineno"> 7031</span>&#160;      <span class="comment">// constructor that takes an XMLToken</span></div>
<div class="line"><a name="l07032"></a><span class="lineno"> 7032</span>&#160;      pResult = <span class="keyword">new</span> XMLNode(XMLToken(*pParent));</div>
<div class="line"><a name="l07033"></a><span class="lineno"> 7033</span>&#160;      <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> i, iMax = pParent-&gt;getNumChildren();</div>
<div class="line"><a name="l07034"></a><span class="lineno"> 7034</span>&#160;</div>
<div class="line"><a name="l07035"></a><span class="lineno"> 7035</span>&#160;      <span class="keywordflow">for</span> (i = 0; i &lt; iMax; ++i)</div>
<div class="line"><a name="l07036"></a><span class="lineno"> 7036</span>&#160;        {</div>
<div class="line"><a name="l07037"></a><span class="lineno"> 7037</span>&#160;          <span class="comment">// make a deep copy of each child, but if the index of child is the</span></div>
<div class="line"><a name="l07038"></a><span class="lineno"> 7038</span>&#160;          <span class="comment">// given index, we add pNewChild instead of making a copy of the</span></div>
<div class="line"><a name="l07039"></a><span class="lineno"> 7039</span>&#160;          <span class="comment">// current child</span></div>
<div class="line"><a name="l07040"></a><span class="lineno"> 7040</span>&#160;          <span class="keywordflow">if</span> (i == index &amp;&amp; pNewChild != NULL)</div>
<div class="line"><a name="l07041"></a><span class="lineno"> 7041</span>&#160;            {</div>
<div class="line"><a name="l07042"></a><span class="lineno"> 7042</span>&#160;              pResult-&gt;addChild(*pNewChild);</div>
<div class="line"><a name="l07043"></a><span class="lineno"> 7043</span>&#160;            }</div>
<div class="line"><a name="l07044"></a><span class="lineno"> 7044</span>&#160;          <span class="keywordflow">else</span></div>
<div class="line"><a name="l07045"></a><span class="lineno"> 7045</span>&#160;            {</div>
<div class="line"><a name="l07046"></a><span class="lineno"> 7046</span>&#160;              pResult-&gt;addChild(pParent-&gt;getChild(i));</div>
<div class="line"><a name="l07047"></a><span class="lineno"> 7047</span>&#160;            }</div>
<div class="line"><a name="l07048"></a><span class="lineno"> 7048</span>&#160;        }</div>
<div class="line"><a name="l07049"></a><span class="lineno"> 7049</span>&#160;    }</div>
<div class="line"><a name="l07050"></a><span class="lineno"> 7050</span>&#160;</div>
<div class="line"><a name="l07051"></a><span class="lineno"> 7051</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="../../d7/de4/CQTSSAResultSubWidget_8cpp.html#a015b908fb74f75922e0bc448af09d9d1">pResult</a>;</div>
<div class="line"><a name="l07052"></a><span class="lineno"> 7052</span>&#160;}</div>
<div class="ttc" id="CQTSSAResultSubWidget_8cpp_html_a015b908fb74f75922e0bc448af09d9d1"><div class="ttname"><a href="../../d7/de4/CQTSSAResultSubWidget_8cpp.html#a015b908fb74f75922e0bc448af09d9d1">pResult</a></div><div class="ttdeci">const CArrayAnnotation * pResult</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/de4/CQTSSAResultSubWidget_8cpp_source.html#l00028">CQTSSAResultSubWidget.cpp:28</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a950f920695e4b39cbd7bef8b75e844af"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">ASTNode * CSBMLExporter::replaceL1IncompatibleNodes </td>
          <td>(</td>
          <td class="paramtype">const ASTNode *&#160;</td>
          <td class="paramname"><em>pNode</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>This method goes through the ASTNode based tree rooted at pNode and replaces all unsupported nodes with constructs supported by SBML Level 1 The caller is responsible for freeing the memory of the returned object. </p>

<p>Definition at line <a class="el" href="../../d5/d2f/CSBMLExporter_8cpp_source.html#l05298">5298</a> of file <a class="el" href="../../d5/d2f/CSBMLExporter_8cpp_source.html">CSBMLExporter.cpp</a>.</p>

<p>References <a class="el" href="../../d9/d2d/CCopasiMessage_8h.html#a1e835c01335d6f956a78adf106ed1b15">fatalError</a>, <a class="el" href="../../dc/dc2/f2c_8h.html#affe776513b24d84b39af8ab0930fef7f">max</a>, <a class="el" href="../../d7/de4/CQTSSAResultSubWidget_8cpp.html#a015b908fb74f75922e0bc448af09d9d1">pResult</a>, <a class="el" href="../../d1/d89/compare__utilities_8cpp.html#a9aa973c511f0ab93b8b0749c4450b81d">replace_ARCCOSH()</a>, <a class="el" href="../../d1/d89/compare__utilities_8cpp.html#a102d531915903e7a81a1c03ba92a3a7f">replace_ARCCSCH()</a>, <a class="el" href="../../d1/d89/compare__utilities_8cpp.html#a367a6291ef40d801acfddd146b88dafa">replace_ARCSECH()</a>, <a class="el" href="../../d1/d89/compare__utilities_8cpp.html#ae7c51b1d2fc7b16f1adb7b581912a262">replace_ARCSINH()</a>, <a class="el" href="../../d1/d89/compare__utilities_8cpp.html#a8386e4eff35701339661b85b4c689031">replace_ARCTANH()</a>, <a class="el" href="../../d1/d89/compare__utilities_8cpp.html#aaaca49da1d8d47cd9578f439c46f6a46">replace_COSH()</a>, <a class="el" href="../../d1/d89/compare__utilities_8cpp.html#a94d4d1fcad3cd657672bbfbf48d1ce6a">replace_COT()</a>, <a class="el" href="../../d1/d89/compare__utilities_8cpp.html#a852269480690ce55d787492cc2001d97">replace_COTH()</a>, <a class="el" href="../../d1/d89/compare__utilities_8cpp.html#a470539ac8a32dbd11c551ebb77d37645">replace_CSC()</a>, <a class="el" href="../../d1/d89/compare__utilities_8cpp.html#a9e353e26ef71480cc814f7bf8f6a0faf">replace_CSCH()</a>, <a class="el" href="../../d1/d89/compare__utilities_8cpp.html#abc5dadd767d3d622e143bf81260515f7">replace_SEC()</a>, <a class="el" href="../../d1/d89/compare__utilities_8cpp.html#a43df7f220631d8c811838468f7845767">replace_SECH()</a>, <a class="el" href="../../d1/d89/compare__utilities_8cpp.html#aeec64e45e5dd04965db04a4d3f008ce1">replace_SINH()</a>, <a class="el" href="../../d1/d89/compare__utilities_8cpp.html#ad8518ee82909ae6aed09ebfe54f5b830">replace_TANH()</a>, and <a class="el" href="../../d5/dcc/classConverterASTNode.html#ad509600b00aaa193159094cc3b8a1bde">ConverterASTNode::shallowCopy()</a>.</p>

<p>Referenced by <a class="el" href="../../df/d80/classCSBMLExporter.html#a5be33991e995d356110b5dc9420258cc">convertASTTreeToLevel1()</a>.</p>
<div class="fragment"><div class="line"><a name="l05299"></a><span class="lineno"> 5299</span>&#160;{</div>
<div class="line"><a name="l05300"></a><span class="lineno"> 5300</span>&#160;  <span class="comment">// replace all inf, pi, nan and exponentiale nodes</span></div>
<div class="line"><a name="l05301"></a><span class="lineno"> 5301</span>&#160;  <span class="comment">// replace all unsupported functions calls: SEC,CSC, COT, SINH, COSH,</span></div>
<div class="line"><a name="l05302"></a><span class="lineno"> 5302</span>&#160;  <span class="comment">// TANH, SECH, CSCH, COTH, ARCSINH, ARCCOSH, ARCTANH, ARCSECH, ARCSCSH,</span></div>
<div class="line"><a name="l05303"></a><span class="lineno"> 5303</span>&#160;  <span class="comment">// ARCCOTH</span></div>
<div class="line"><a name="l05304"></a><span class="lineno"> 5304</span>&#160;  <span class="keywordflow">if</span> (pNode == NULL) <span class="keywordflow">return</span> NULL;</div>
<div class="line"><a name="l05305"></a><span class="lineno"> 5305</span>&#160;</div>
<div class="line"><a name="l05306"></a><span class="lineno"> 5306</span>&#160;  ASTNode* <a class="code" href="../../d7/de4/CQTSSAResultSubWidget_8cpp.html#a015b908fb74f75922e0bc448af09d9d1">pResult</a> = NULL;</div>
<div class="line"><a name="l05307"></a><span class="lineno"> 5307</span>&#160;  ASTNode* pChild = NULL;</div>
<div class="line"><a name="l05308"></a><span class="lineno"> 5308</span>&#160;  <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> i, iMax;</div>
<div class="line"><a name="l05309"></a><span class="lineno"> 5309</span>&#160;</div>
<div class="line"><a name="l05310"></a><span class="lineno"> 5310</span>&#160;  <span class="keywordflow">switch</span> (pNode-&gt;getType())</div>
<div class="line"><a name="l05311"></a><span class="lineno"> 5311</span>&#160;    {</div>
<div class="line"><a name="l05312"></a><span class="lineno"> 5312</span>&#160;      <span class="keywordflow">case</span> AST_FUNCTION_PIECEWISE:</div>
<div class="line"><a name="l05313"></a><span class="lineno"> 5313</span>&#160;        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l05314"></a><span class="lineno"> 5314</span>&#160;</div>
<div class="line"><a name="l05315"></a><span class="lineno"> 5315</span>&#160;      <span class="keywordflow">case</span> AST_CONSTANT_E:</div>
<div class="line"><a name="l05316"></a><span class="lineno"> 5316</span>&#160;        <span class="comment">// replace by exp(1)</span></div>
<div class="line"><a name="l05317"></a><span class="lineno"> 5317</span>&#160;        pResult = <span class="keyword">new</span> ASTNode(AST_FUNCTION_EXP);</div>
<div class="line"><a name="l05318"></a><span class="lineno"> 5318</span>&#160;        pChild = <span class="keyword">new</span> ASTNode(AST_REAL);</div>
<div class="line"><a name="l05319"></a><span class="lineno"> 5319</span>&#160;        pChild-&gt;setValue(1.0);</div>
<div class="line"><a name="l05320"></a><span class="lineno"> 5320</span>&#160;        pResult-&gt;addChild(pChild);</div>
<div class="line"><a name="l05321"></a><span class="lineno"> 5321</span>&#160;        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l05322"></a><span class="lineno"> 5322</span>&#160;</div>
<div class="line"><a name="l05323"></a><span class="lineno"> 5323</span>&#160;      <span class="keywordflow">case</span> AST_CONSTANT_PI:</div>
<div class="line"><a name="l05324"></a><span class="lineno"> 5324</span>&#160;        <span class="comment">// replace by 2*ASIN(1.0)</span></div>
<div class="line"><a name="l05325"></a><span class="lineno"> 5325</span>&#160;        pResult = <span class="keyword">new</span> ASTNode(AST_TIMES);</div>
<div class="line"><a name="l05326"></a><span class="lineno"> 5326</span>&#160;        pChild = <span class="keyword">new</span> ASTNode(AST_REAL);</div>
<div class="line"><a name="l05327"></a><span class="lineno"> 5327</span>&#160;        pChild-&gt;setValue(2.0);</div>
<div class="line"><a name="l05328"></a><span class="lineno"> 5328</span>&#160;        pResult-&gt;addChild(pChild);</div>
<div class="line"><a name="l05329"></a><span class="lineno"> 5329</span>&#160;        pResult-&gt;addChild(<span class="keyword">new</span> ASTNode(AST_FUNCTION_ARCSIN));</div>
<div class="line"><a name="l05330"></a><span class="lineno"> 5330</span>&#160;        pChild = <span class="keyword">new</span> ASTNode(AST_REAL);</div>
<div class="line"><a name="l05331"></a><span class="lineno"> 5331</span>&#160;        pChild-&gt;setValue(1.0);</div>
<div class="line"><a name="l05332"></a><span class="lineno"> 5332</span>&#160;        pResult-&gt;getChild(1)-&gt;addChild(pChild);</div>
<div class="line"><a name="l05333"></a><span class="lineno"> 5333</span>&#160;        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l05334"></a><span class="lineno"> 5334</span>&#160;</div>
<div class="line"><a name="l05335"></a><span class="lineno"> 5335</span>&#160;      <span class="keywordflow">case</span> AST_FUNCTION_SEC:</div>
<div class="line"><a name="l05336"></a><span class="lineno"> 5336</span>&#160;        pChild = <a class="code" href="../../df/d80/classCSBMLExporter.html#a950f920695e4b39cbd7bef8b75e844af">CSBMLExporter::replaceL1IncompatibleNodes</a>(pNode-&gt;getChild(0));</div>
<div class="line"><a name="l05337"></a><span class="lineno"> 5337</span>&#160;        assert(pChild);</div>
<div class="line"><a name="l05338"></a><span class="lineno"> 5338</span>&#160;        pResult = <a class="code" href="../../d1/d89/compare__utilities_8cpp.html#abc5dadd767d3d622e143bf81260515f7">replace_SEC</a>(pChild);</div>
<div class="line"><a name="l05339"></a><span class="lineno"> 5339</span>&#160;        <span class="comment">// replace by 1/cos(X)</span></div>
<div class="line"><a name="l05340"></a><span class="lineno"> 5340</span>&#160;        <span class="keyword">delete</span> pChild;</div>
<div class="line"><a name="l05341"></a><span class="lineno"> 5341</span>&#160;        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l05342"></a><span class="lineno"> 5342</span>&#160;</div>
<div class="line"><a name="l05343"></a><span class="lineno"> 5343</span>&#160;      <span class="keywordflow">case</span> AST_FUNCTION_CSC:</div>
<div class="line"><a name="l05344"></a><span class="lineno"> 5344</span>&#160;        <span class="comment">// replace by 1/sin(X)</span></div>
<div class="line"><a name="l05345"></a><span class="lineno"> 5345</span>&#160;        pChild = <a class="code" href="../../df/d80/classCSBMLExporter.html#a950f920695e4b39cbd7bef8b75e844af">CSBMLExporter::replaceL1IncompatibleNodes</a>(pNode-&gt;getChild(0));</div>
<div class="line"><a name="l05346"></a><span class="lineno"> 5346</span>&#160;        assert(pChild);</div>
<div class="line"><a name="l05347"></a><span class="lineno"> 5347</span>&#160;        pResult = <a class="code" href="../../d1/d89/compare__utilities_8cpp.html#a470539ac8a32dbd11c551ebb77d37645">replace_CSC</a>(pChild);</div>
<div class="line"><a name="l05348"></a><span class="lineno"> 5348</span>&#160;        <span class="keyword">delete</span> pChild;</div>
<div class="line"><a name="l05349"></a><span class="lineno"> 5349</span>&#160;        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l05350"></a><span class="lineno"> 5350</span>&#160;</div>
<div class="line"><a name="l05351"></a><span class="lineno"> 5351</span>&#160;      <span class="keywordflow">case</span> AST_FUNCTION_COT:</div>
<div class="line"><a name="l05352"></a><span class="lineno"> 5352</span>&#160;        <span class="comment">// replace by 1/tan(X)</span></div>
<div class="line"><a name="l05353"></a><span class="lineno"> 5353</span>&#160;        pChild = <a class="code" href="../../df/d80/classCSBMLExporter.html#a950f920695e4b39cbd7bef8b75e844af">CSBMLExporter::replaceL1IncompatibleNodes</a>(pNode-&gt;getChild(0));</div>
<div class="line"><a name="l05354"></a><span class="lineno"> 5354</span>&#160;        assert(pChild);</div>
<div class="line"><a name="l05355"></a><span class="lineno"> 5355</span>&#160;        pResult = <a class="code" href="../../d1/d89/compare__utilities_8cpp.html#a94d4d1fcad3cd657672bbfbf48d1ce6a">replace_COT</a>(pChild);</div>
<div class="line"><a name="l05356"></a><span class="lineno"> 5356</span>&#160;        <span class="keyword">delete</span> pChild;</div>
<div class="line"><a name="l05357"></a><span class="lineno"> 5357</span>&#160;        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l05358"></a><span class="lineno"> 5358</span>&#160;</div>
<div class="line"><a name="l05359"></a><span class="lineno"> 5359</span>&#160;      <span class="keywordflow">case</span> AST_FUNCTION_SINH:</div>
<div class="line"><a name="l05360"></a><span class="lineno"> 5360</span>&#160;        <span class="comment">// replace by (e^X-e^(-X))/2</span></div>
<div class="line"><a name="l05361"></a><span class="lineno"> 5361</span>&#160;        pChild = <a class="code" href="../../df/d80/classCSBMLExporter.html#a950f920695e4b39cbd7bef8b75e844af">CSBMLExporter::replaceL1IncompatibleNodes</a>(pNode-&gt;getChild(0));</div>
<div class="line"><a name="l05362"></a><span class="lineno"> 5362</span>&#160;        assert(pChild);</div>
<div class="line"><a name="l05363"></a><span class="lineno"> 5363</span>&#160;        pResult = <a class="code" href="../../d1/d89/compare__utilities_8cpp.html#aeec64e45e5dd04965db04a4d3f008ce1">replace_SINH</a>(pChild);</div>
<div class="line"><a name="l05364"></a><span class="lineno"> 5364</span>&#160;        <span class="keyword">delete</span> pChild;</div>
<div class="line"><a name="l05365"></a><span class="lineno"> 5365</span>&#160;        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l05366"></a><span class="lineno"> 5366</span>&#160;</div>
<div class="line"><a name="l05367"></a><span class="lineno"> 5367</span>&#160;      <span class="keywordflow">case</span> AST_FUNCTION_COSH:</div>
<div class="line"><a name="l05368"></a><span class="lineno"> 5368</span>&#160;        <span class="comment">// replace by (e^X+e^(-X))/2</span></div>
<div class="line"><a name="l05369"></a><span class="lineno"> 5369</span>&#160;        pChild = <a class="code" href="../../df/d80/classCSBMLExporter.html#a950f920695e4b39cbd7bef8b75e844af">CSBMLExporter::replaceL1IncompatibleNodes</a>(pNode-&gt;getChild(0));</div>
<div class="line"><a name="l05370"></a><span class="lineno"> 5370</span>&#160;        assert(pChild);</div>
<div class="line"><a name="l05371"></a><span class="lineno"> 5371</span>&#160;        pResult = <a class="code" href="../../d1/d89/compare__utilities_8cpp.html#aaaca49da1d8d47cd9578f439c46f6a46">replace_COSH</a>(pChild);</div>
<div class="line"><a name="l05372"></a><span class="lineno"> 5372</span>&#160;        <span class="keyword">delete</span> pChild;</div>
<div class="line"><a name="l05373"></a><span class="lineno"> 5373</span>&#160;        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l05374"></a><span class="lineno"> 5374</span>&#160;</div>
<div class="line"><a name="l05375"></a><span class="lineno"> 5375</span>&#160;      <span class="keywordflow">case</span> AST_FUNCTION_TANH:</div>
<div class="line"><a name="l05376"></a><span class="lineno"> 5376</span>&#160;        <span class="comment">// replace by (e^X-e^(-X))/(e^X+e^(-X))</span></div>
<div class="line"><a name="l05377"></a><span class="lineno"> 5377</span>&#160;        pChild = <a class="code" href="../../df/d80/classCSBMLExporter.html#a950f920695e4b39cbd7bef8b75e844af">CSBMLExporter::replaceL1IncompatibleNodes</a>(pNode-&gt;getChild(0));</div>
<div class="line"><a name="l05378"></a><span class="lineno"> 5378</span>&#160;        assert(pChild);</div>
<div class="line"><a name="l05379"></a><span class="lineno"> 5379</span>&#160;        pResult = <a class="code" href="../../d1/d89/compare__utilities_8cpp.html#ad8518ee82909ae6aed09ebfe54f5b830">replace_TANH</a>(pChild);</div>
<div class="line"><a name="l05380"></a><span class="lineno"> 5380</span>&#160;        <span class="keyword">delete</span> pChild;</div>
<div class="line"><a name="l05381"></a><span class="lineno"> 5381</span>&#160;        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l05382"></a><span class="lineno"> 5382</span>&#160;</div>
<div class="line"><a name="l05383"></a><span class="lineno"> 5383</span>&#160;      <span class="keywordflow">case</span> AST_FUNCTION_SECH:</div>
<div class="line"><a name="l05384"></a><span class="lineno"> 5384</span>&#160;        <span class="comment">// replace by 2/(e^X+e^(-X))</span></div>
<div class="line"><a name="l05385"></a><span class="lineno"> 5385</span>&#160;        pChild = <a class="code" href="../../df/d80/classCSBMLExporter.html#a950f920695e4b39cbd7bef8b75e844af">CSBMLExporter::replaceL1IncompatibleNodes</a>(pNode-&gt;getChild(0));</div>
<div class="line"><a name="l05386"></a><span class="lineno"> 5386</span>&#160;        assert(pChild);</div>
<div class="line"><a name="l05387"></a><span class="lineno"> 5387</span>&#160;        pResult = <a class="code" href="../../d1/d89/compare__utilities_8cpp.html#a43df7f220631d8c811838468f7845767">replace_SECH</a>(pChild);</div>
<div class="line"><a name="l05388"></a><span class="lineno"> 5388</span>&#160;        <span class="keyword">delete</span> pChild;</div>
<div class="line"><a name="l05389"></a><span class="lineno"> 5389</span>&#160;        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l05390"></a><span class="lineno"> 5390</span>&#160;</div>
<div class="line"><a name="l05391"></a><span class="lineno"> 5391</span>&#160;      <span class="keywordflow">case</span> AST_FUNCTION_CSCH:</div>
<div class="line"><a name="l05392"></a><span class="lineno"> 5392</span>&#160;        <span class="comment">// replace by 2/(e^X-e^(-X))</span></div>
<div class="line"><a name="l05393"></a><span class="lineno"> 5393</span>&#160;        pChild = <a class="code" href="../../df/d80/classCSBMLExporter.html#a950f920695e4b39cbd7bef8b75e844af">CSBMLExporter::replaceL1IncompatibleNodes</a>(pNode-&gt;getChild(0));</div>
<div class="line"><a name="l05394"></a><span class="lineno"> 5394</span>&#160;        assert(pChild);</div>
<div class="line"><a name="l05395"></a><span class="lineno"> 5395</span>&#160;        pResult = <a class="code" href="../../d1/d89/compare__utilities_8cpp.html#a9e353e26ef71480cc814f7bf8f6a0faf">replace_CSCH</a>(pChild);</div>
<div class="line"><a name="l05396"></a><span class="lineno"> 5396</span>&#160;        <span class="keyword">delete</span> pChild;</div>
<div class="line"><a name="l05397"></a><span class="lineno"> 5397</span>&#160;        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l05398"></a><span class="lineno"> 5398</span>&#160;</div>
<div class="line"><a name="l05399"></a><span class="lineno"> 5399</span>&#160;      <span class="keywordflow">case</span> AST_FUNCTION_COTH:</div>
<div class="line"><a name="l05400"></a><span class="lineno"> 5400</span>&#160;        <span class="comment">// replace by (e^X+e^(-X))/(e^X-e^(-X))</span></div>
<div class="line"><a name="l05401"></a><span class="lineno"> 5401</span>&#160;        pChild = <a class="code" href="../../df/d80/classCSBMLExporter.html#a950f920695e4b39cbd7bef8b75e844af">CSBMLExporter::replaceL1IncompatibleNodes</a>(pNode-&gt;getChild(0));</div>
<div class="line"><a name="l05402"></a><span class="lineno"> 5402</span>&#160;        assert(pChild);</div>
<div class="line"><a name="l05403"></a><span class="lineno"> 5403</span>&#160;        pResult = <a class="code" href="../../d1/d89/compare__utilities_8cpp.html#a852269480690ce55d787492cc2001d97">replace_COTH</a>(pChild);</div>
<div class="line"><a name="l05404"></a><span class="lineno"> 5404</span>&#160;        <span class="keyword">delete</span> pChild;</div>
<div class="line"><a name="l05405"></a><span class="lineno"> 5405</span>&#160;        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l05406"></a><span class="lineno"> 5406</span>&#160;</div>
<div class="line"><a name="l05407"></a><span class="lineno"> 5407</span>&#160;      <span class="keywordflow">case</span> AST_FUNCTION_ARCSINH:</div>
<div class="line"><a name="l05408"></a><span class="lineno"> 5408</span>&#160;        <span class="comment">// replace by log(X + sqrt(X^2 + 1))</span></div>
<div class="line"><a name="l05409"></a><span class="lineno"> 5409</span>&#160;        pChild = <a class="code" href="../../df/d80/classCSBMLExporter.html#a950f920695e4b39cbd7bef8b75e844af">CSBMLExporter::replaceL1IncompatibleNodes</a>(pNode-&gt;getChild(0));</div>
<div class="line"><a name="l05410"></a><span class="lineno"> 5410</span>&#160;        assert(pChild);</div>
<div class="line"><a name="l05411"></a><span class="lineno"> 5411</span>&#160;        pResult = <a class="code" href="../../d1/d89/compare__utilities_8cpp.html#ae7c51b1d2fc7b16f1adb7b581912a262">replace_ARCSINH</a>(pChild);</div>
<div class="line"><a name="l05412"></a><span class="lineno"> 5412</span>&#160;        <span class="keyword">delete</span> pChild;</div>
<div class="line"><a name="l05413"></a><span class="lineno"> 5413</span>&#160;        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l05414"></a><span class="lineno"> 5414</span>&#160;</div>
<div class="line"><a name="l05415"></a><span class="lineno"> 5415</span>&#160;      <span class="keywordflow">case</span> AST_FUNCTION_ARCCOSH:</div>
<div class="line"><a name="l05416"></a><span class="lineno"> 5416</span>&#160;        <span class="comment">// replace by log(X + sqrt(X-1) * sqrt(X+1))</span></div>
<div class="line"><a name="l05417"></a><span class="lineno"> 5417</span>&#160;        pChild = <a class="code" href="../../df/d80/classCSBMLExporter.html#a950f920695e4b39cbd7bef8b75e844af">CSBMLExporter::replaceL1IncompatibleNodes</a>(pNode-&gt;getChild(0));</div>
<div class="line"><a name="l05418"></a><span class="lineno"> 5418</span>&#160;        assert(pChild);</div>
<div class="line"><a name="l05419"></a><span class="lineno"> 5419</span>&#160;        pResult = <a class="code" href="../../d1/d89/compare__utilities_8cpp.html#a9aa973c511f0ab93b8b0749c4450b81d">replace_ARCCOSH</a>(pChild);</div>
<div class="line"><a name="l05420"></a><span class="lineno"> 5420</span>&#160;        <span class="keyword">delete</span> pChild;</div>
<div class="line"><a name="l05421"></a><span class="lineno"> 5421</span>&#160;        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l05422"></a><span class="lineno"> 5422</span>&#160;</div>
<div class="line"><a name="l05423"></a><span class="lineno"> 5423</span>&#160;      <span class="keywordflow">case</span> AST_FUNCTION_ARCTANH:</div>
<div class="line"><a name="l05424"></a><span class="lineno"> 5424</span>&#160;        <span class="comment">// replace by 1/2 * (log(1+X) - log(1-X))</span></div>
<div class="line"><a name="l05425"></a><span class="lineno"> 5425</span>&#160;        pChild = <a class="code" href="../../df/d80/classCSBMLExporter.html#a950f920695e4b39cbd7bef8b75e844af">CSBMLExporter::replaceL1IncompatibleNodes</a>(pNode-&gt;getChild(0));</div>
<div class="line"><a name="l05426"></a><span class="lineno"> 5426</span>&#160;        assert(pChild);</div>
<div class="line"><a name="l05427"></a><span class="lineno"> 5427</span>&#160;        pResult = <a class="code" href="../../d1/d89/compare__utilities_8cpp.html#a8386e4eff35701339661b85b4c689031">replace_ARCTANH</a>(pChild);</div>
<div class="line"><a name="l05428"></a><span class="lineno"> 5428</span>&#160;        <span class="keyword">delete</span> pChild;</div>
<div class="line"><a name="l05429"></a><span class="lineno"> 5429</span>&#160;        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l05430"></a><span class="lineno"> 5430</span>&#160;</div>
<div class="line"><a name="l05431"></a><span class="lineno"> 5431</span>&#160;      <span class="keywordflow">case</span> AST_FUNCTION_ARCSECH:</div>
<div class="line"><a name="l05432"></a><span class="lineno"> 5432</span>&#160;        <span class="comment">// replace by log(sqrt((1/X)-1) * sqrt(1+(1/X)) + 1/X)</span></div>
<div class="line"><a name="l05433"></a><span class="lineno"> 5433</span>&#160;        pChild = <a class="code" href="../../df/d80/classCSBMLExporter.html#a950f920695e4b39cbd7bef8b75e844af">CSBMLExporter::replaceL1IncompatibleNodes</a>(pNode-&gt;getChild(0));</div>
<div class="line"><a name="l05434"></a><span class="lineno"> 5434</span>&#160;        assert(pChild);</div>
<div class="line"><a name="l05435"></a><span class="lineno"> 5435</span>&#160;        pResult = <a class="code" href="../../d1/d89/compare__utilities_8cpp.html#a367a6291ef40d801acfddd146b88dafa">replace_ARCSECH</a>(pChild);</div>
<div class="line"><a name="l05436"></a><span class="lineno"> 5436</span>&#160;        <span class="keyword">delete</span> pChild;</div>
<div class="line"><a name="l05437"></a><span class="lineno"> 5437</span>&#160;        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l05438"></a><span class="lineno"> 5438</span>&#160;</div>
<div class="line"><a name="l05439"></a><span class="lineno"> 5439</span>&#160;      <span class="keywordflow">case</span> AST_FUNCTION_ARCCSCH:</div>
<div class="line"><a name="l05440"></a><span class="lineno"> 5440</span>&#160;        <span class="comment">// replace by log(sqrt(1+ (1/ (X^2)))+(1/X))</span></div>
<div class="line"><a name="l05441"></a><span class="lineno"> 5441</span>&#160;        pChild = <a class="code" href="../../df/d80/classCSBMLExporter.html#a950f920695e4b39cbd7bef8b75e844af">CSBMLExporter::replaceL1IncompatibleNodes</a>(pNode-&gt;getChild(0));</div>
<div class="line"><a name="l05442"></a><span class="lineno"> 5442</span>&#160;        assert(pChild);</div>
<div class="line"><a name="l05443"></a><span class="lineno"> 5443</span>&#160;        pResult = <a class="code" href="../../d1/d89/compare__utilities_8cpp.html#a102d531915903e7a81a1c03ba92a3a7f">replace_ARCCSCH</a>(pChild);</div>
<div class="line"><a name="l05444"></a><span class="lineno"> 5444</span>&#160;        <span class="keyword">delete</span> pChild;</div>
<div class="line"><a name="l05445"></a><span class="lineno"> 5445</span>&#160;        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l05446"></a><span class="lineno"> 5446</span>&#160;</div>
<div class="line"><a name="l05447"></a><span class="lineno"> 5447</span>&#160;      <span class="keywordflow">case</span> AST_FUNCTION_ARCCOTH:</div>
<div class="line"><a name="l05448"></a><span class="lineno"> 5448</span>&#160;        <span class="comment">// this one is difficult since it would need a piecewise definition which</span></div>
<div class="line"><a name="l05449"></a><span class="lineno"> 5449</span>&#160;        <span class="comment">// is not available in SBML Level 1</span></div>
<div class="line"><a name="l05450"></a><span class="lineno"> 5450</span>&#160;        <a class="code" href="../../d9/d2d/CCopasiMessage_8h.html#a1e835c01335d6f956a78adf106ed1b15">fatalError</a>();</div>
<div class="line"><a name="l05451"></a><span class="lineno"> 5451</span>&#160;        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l05452"></a><span class="lineno"> 5452</span>&#160;</div>
<div class="line"><a name="l05453"></a><span class="lineno"> 5453</span>&#160;      <span class="keywordflow">case</span> AST_REAL:</div>
<div class="line"><a name="l05454"></a><span class="lineno"> 5454</span>&#160;</div>
<div class="line"><a name="l05455"></a><span class="lineno"> 5455</span>&#160;        <span class="comment">// for nan and inf</span></div>
<div class="line"><a name="l05456"></a><span class="lineno"> 5456</span>&#160;        <span class="keywordflow">if</span> (pNode-&gt;getReal() != pNode-&gt;getReal()) <span class="comment">// NaN</span></div>
<div class="line"><a name="l05457"></a><span class="lineno"> 5457</span>&#160;          {</div>
<div class="line"><a name="l05458"></a><span class="lineno"> 5458</span>&#160;            <span class="comment">// replace by 0/0</span></div>
<div class="line"><a name="l05459"></a><span class="lineno"> 5459</span>&#160;            pResult = <span class="keyword">new</span> ASTNode(AST_RATIONAL);</div>
<div class="line"><a name="l05460"></a><span class="lineno"> 5460</span>&#160;            pResult-&gt;setValue(0L, 0L);</div>
<div class="line"><a name="l05461"></a><span class="lineno"> 5461</span>&#160;          }</div>
<div class="line"><a name="l05462"></a><span class="lineno"> 5462</span>&#160;        <span class="keywordflow">else</span> <span class="keywordflow">if</span> (pNode-&gt;getReal() &gt; <a class="code" href="../../dc/dc2/f2c_8h.html#affe776513b24d84b39af8ab0930fef7f">std::numeric_limits&lt; C_FLOAT64 &gt;::max</a>())</div>
<div class="line"><a name="l05463"></a><span class="lineno"> 5463</span>&#160;          {</div>
<div class="line"><a name="l05464"></a><span class="lineno"> 5464</span>&#160;            <span class="comment">// replace by 1/0</span></div>
<div class="line"><a name="l05465"></a><span class="lineno"> 5465</span>&#160;            pResult = <span class="keyword">new</span> ASTNode(AST_RATIONAL);</div>
<div class="line"><a name="l05466"></a><span class="lineno"> 5466</span>&#160;            pResult-&gt;setValue(1L, 0L);</div>
<div class="line"><a name="l05467"></a><span class="lineno"> 5467</span>&#160;          }</div>
<div class="line"><a name="l05468"></a><span class="lineno"> 5468</span>&#160;        <span class="keywordflow">else</span> <span class="keywordflow">if</span> (pNode-&gt;getReal() &lt; - <a class="code" href="../../dc/dc2/f2c_8h.html#affe776513b24d84b39af8ab0930fef7f">std::numeric_limits&lt; C_FLOAT64 &gt;::max</a>())</div>
<div class="line"><a name="l05469"></a><span class="lineno"> 5469</span>&#160;          {</div>
<div class="line"><a name="l05470"></a><span class="lineno"> 5470</span>&#160;            <span class="comment">// replace by -1/0</span></div>
<div class="line"><a name="l05471"></a><span class="lineno"> 5471</span>&#160;            pResult = <span class="keyword">new</span> ASTNode(AST_RATIONAL);</div>
<div class="line"><a name="l05472"></a><span class="lineno"> 5472</span>&#160;            pResult-&gt;setValue(-1L, 0L);</div>
<div class="line"><a name="l05473"></a><span class="lineno"> 5473</span>&#160;          }</div>
<div class="line"><a name="l05474"></a><span class="lineno"> 5474</span>&#160;        <span class="keywordflow">else</span></div>
<div class="line"><a name="l05475"></a><span class="lineno"> 5475</span>&#160;          {</div>
<div class="line"><a name="l05476"></a><span class="lineno"> 5476</span>&#160;            pResult = pNode-&gt;deepCopy();</div>
<div class="line"><a name="l05477"></a><span class="lineno"> 5477</span>&#160;          }</div>
<div class="line"><a name="l05478"></a><span class="lineno"> 5478</span>&#160;</div>
<div class="line"><a name="l05479"></a><span class="lineno"> 5479</span>&#160;        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l05480"></a><span class="lineno"> 5480</span>&#160;</div>
<div class="line"><a name="l05481"></a><span class="lineno"> 5481</span>&#160;      <span class="keywordflow">default</span>:</div>
<div class="line"><a name="l05482"></a><span class="lineno"> 5482</span>&#160;        <span class="comment">// copy the node</span></div>
<div class="line"><a name="l05483"></a><span class="lineno"> 5483</span>&#160;        pResult = <a class="code" href="../../d5/dcc/classConverterASTNode.html#ad509600b00aaa193159094cc3b8a1bde">ConverterASTNode::shallowCopy</a>(pNode);</div>
<div class="line"><a name="l05484"></a><span class="lineno"> 5484</span>&#160;        iMax = pNode-&gt;getNumChildren();</div>
<div class="line"><a name="l05485"></a><span class="lineno"> 5485</span>&#160;</div>
<div class="line"><a name="l05486"></a><span class="lineno"> 5486</span>&#160;        <span class="keywordflow">for</span> (i = 0; i &lt; iMax; ++i)</div>
<div class="line"><a name="l05487"></a><span class="lineno"> 5487</span>&#160;          {</div>
<div class="line"><a name="l05488"></a><span class="lineno"> 5488</span>&#160;            pChild = <a class="code" href="../../df/d80/classCSBMLExporter.html#a950f920695e4b39cbd7bef8b75e844af">CSBMLExporter::replaceL1IncompatibleNodes</a>(pNode-&gt;getChild(i));</div>
<div class="line"><a name="l05489"></a><span class="lineno"> 5489</span>&#160;</div>
<div class="line"><a name="l05490"></a><span class="lineno"> 5490</span>&#160;            <span class="keywordflow">if</span> (pChild != NULL)</div>
<div class="line"><a name="l05491"></a><span class="lineno"> 5491</span>&#160;              {</div>
<div class="line"><a name="l05492"></a><span class="lineno"> 5492</span>&#160;                pResult-&gt;addChild(pChild);</div>
<div class="line"><a name="l05493"></a><span class="lineno"> 5493</span>&#160;              }</div>
<div class="line"><a name="l05494"></a><span class="lineno"> 5494</span>&#160;            <span class="keywordflow">else</span></div>
<div class="line"><a name="l05495"></a><span class="lineno"> 5495</span>&#160;              {</div>
<div class="line"><a name="l05496"></a><span class="lineno"> 5496</span>&#160;                <span class="keyword">delete</span> <a class="code" href="../../d7/de4/CQTSSAResultSubWidget_8cpp.html#a015b908fb74f75922e0bc448af09d9d1">pResult</a>;</div>
<div class="line"><a name="l05497"></a><span class="lineno"> 5497</span>&#160;                pResult = NULL;</div>
<div class="line"><a name="l05498"></a><span class="lineno"> 5498</span>&#160;              }</div>
<div class="line"><a name="l05499"></a><span class="lineno"> 5499</span>&#160;          }</div>
<div class="line"><a name="l05500"></a><span class="lineno"> 5500</span>&#160;</div>
<div class="line"><a name="l05501"></a><span class="lineno"> 5501</span>&#160;        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l05502"></a><span class="lineno"> 5502</span>&#160;    }</div>
<div class="line"><a name="l05503"></a><span class="lineno"> 5503</span>&#160;</div>
<div class="line"><a name="l05504"></a><span class="lineno"> 5504</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="../../d7/de4/CQTSSAResultSubWidget_8cpp.html#a015b908fb74f75922e0bc448af09d9d1">pResult</a>;</div>
<div class="line"><a name="l05505"></a><span class="lineno"> 5505</span>&#160;}</div>
<div class="ttc" id="compare__utilities_8cpp_html_a8386e4eff35701339661b85b4c689031"><div class="ttname"><a href="../../d1/d89/compare__utilities_8cpp.html#a8386e4eff35701339661b85b4c689031">replace_ARCTANH</a></div><div class="ttdeci">ASTNode * replace_ARCTANH(const ASTNode *pChild)</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d89/compare__utilities_8cpp_source.html#l00869">compare_utilities.cpp:869</a></div></div>
<div class="ttc" id="compare__utilities_8cpp_html_a94d4d1fcad3cd657672bbfbf48d1ce6a"><div class="ttname"><a href="../../d1/d89/compare__utilities_8cpp.html#a94d4d1fcad3cd657672bbfbf48d1ce6a">replace_COT</a></div><div class="ttdeci">ASTNode * replace_COT(const ASTNode *pChild)</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d89/compare__utilities_8cpp_source.html#l00590">compare_utilities.cpp:590</a></div></div>
<div class="ttc" id="classCSBMLExporter_html_a950f920695e4b39cbd7bef8b75e844af"><div class="ttname"><a href="../../df/d80/classCSBMLExporter.html#a950f920695e4b39cbd7bef8b75e844af">CSBMLExporter::replaceL1IncompatibleNodes</a></div><div class="ttdeci">static ASTNode * replaceL1IncompatibleNodes(const ASTNode *pNode)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d2f/CSBMLExporter_8cpp_source.html#l05298">CSBMLExporter.cpp:5298</a></div></div>
<div class="ttc" id="compare__utilities_8cpp_html_a852269480690ce55d787492cc2001d97"><div class="ttname"><a href="../../d1/d89/compare__utilities_8cpp.html#a852269480690ce55d787492cc2001d97">replace_COTH</a></div><div class="ttdeci">ASTNode * replace_COTH(const ASTNode *pChild)</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d89/compare__utilities_8cpp_source.html#l00758">compare_utilities.cpp:758</a></div></div>
<div class="ttc" id="CCopasiMessage_8h_html_a1e835c01335d6f956a78adf106ed1b15"><div class="ttname"><a href="../../d9/d2d/CCopasiMessage_8h.html#a1e835c01335d6f956a78adf106ed1b15">fatalError</a></div><div class="ttdeci">#define fatalError()</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d2d/CCopasiMessage_8h_source.html#l00074">CCopasiMessage.h:74</a></div></div>
<div class="ttc" id="compare__utilities_8cpp_html_a102d531915903e7a81a1c03ba92a3a7f"><div class="ttname"><a href="../../d1/d89/compare__utilities_8cpp.html#a102d531915903e7a81a1c03ba92a3a7f">replace_ARCCSCH</a></div><div class="ttdeci">ASTNode * replace_ARCCSCH(const ASTNode *pChild)</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d89/compare__utilities_8cpp_source.html#l00962">compare_utilities.cpp:962</a></div></div>
<div class="ttc" id="compare__utilities_8cpp_html_abc5dadd767d3d622e143bf81260515f7"><div class="ttname"><a href="../../d1/d89/compare__utilities_8cpp.html#abc5dadd767d3d622e143bf81260515f7">replace_SEC</a></div><div class="ttdeci">ASTNode * replace_SEC(const ASTNode *pChild)</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d89/compare__utilities_8cpp_source.html#l00548">compare_utilities.cpp:548</a></div></div>
<div class="ttc" id="compare__utilities_8cpp_html_a9e353e26ef71480cc814f7bf8f6a0faf"><div class="ttname"><a href="../../d1/d89/compare__utilities_8cpp.html#a9e353e26ef71480cc814f7bf8f6a0faf">replace_CSCH</a></div><div class="ttdeci">ASTNode * replace_CSCH(const ASTNode *pChild)</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d89/compare__utilities_8cpp_source.html#l00730">compare_utilities.cpp:730</a></div></div>
<div class="ttc" id="compare__utilities_8cpp_html_a367a6291ef40d801acfddd146b88dafa"><div class="ttname"><a href="../../d1/d89/compare__utilities_8cpp.html#a367a6291ef40d801acfddd146b88dafa">replace_ARCSECH</a></div><div class="ttdeci">ASTNode * replace_ARCSECH(const ASTNode *pChild)</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d89/compare__utilities_8cpp_source.html#l00905">compare_utilities.cpp:905</a></div></div>
<div class="ttc" id="compare__utilities_8cpp_html_aaaca49da1d8d47cd9578f439c46f6a46"><div class="ttname"><a href="../../d1/d89/compare__utilities_8cpp.html#aaaca49da1d8d47cd9578f439c46f6a46">replace_COSH</a></div><div class="ttdeci">ASTNode * replace_COSH(const ASTNode *pChild)</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d89/compare__utilities_8cpp_source.html#l00639">compare_utilities.cpp:639</a></div></div>
<div class="ttc" id="compare__utilities_8cpp_html_ad8518ee82909ae6aed09ebfe54f5b830"><div class="ttname"><a href="../../d1/d89/compare__utilities_8cpp.html#ad8518ee82909ae6aed09ebfe54f5b830">replace_TANH</a></div><div class="ttdeci">ASTNode * replace_TANH(const ASTNode *pChild)</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d89/compare__utilities_8cpp_source.html#l00667">compare_utilities.cpp:667</a></div></div>
<div class="ttc" id="CQTSSAResultSubWidget_8cpp_html_a015b908fb74f75922e0bc448af09d9d1"><div class="ttname"><a href="../../d7/de4/CQTSSAResultSubWidget_8cpp.html#a015b908fb74f75922e0bc448af09d9d1">pResult</a></div><div class="ttdeci">const CArrayAnnotation * pResult</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/de4/CQTSSAResultSubWidget_8cpp_source.html#l00028">CQTSSAResultSubWidget.cpp:28</a></div></div>
<div class="ttc" id="compare__utilities_8cpp_html_a43df7f220631d8c811838468f7845767"><div class="ttname"><a href="../../d1/d89/compare__utilities_8cpp.html#a43df7f220631d8c811838468f7845767">replace_SECH</a></div><div class="ttdeci">ASTNode * replace_SECH(const ASTNode *pChild)</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d89/compare__utilities_8cpp_source.html#l00702">compare_utilities.cpp:702</a></div></div>
<div class="ttc" id="compare__utilities_8cpp_html_aeec64e45e5dd04965db04a4d3f008ce1"><div class="ttname"><a href="../../d1/d89/compare__utilities_8cpp.html#aeec64e45e5dd04965db04a4d3f008ce1">replace_SINH</a></div><div class="ttdeci">ASTNode * replace_SINH(const ASTNode *pChild)</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d89/compare__utilities_8cpp_source.html#l00611">compare_utilities.cpp:611</a></div></div>
<div class="ttc" id="classConverterASTNode_html_ad509600b00aaa193159094cc3b8a1bde"><div class="ttname"><a href="../../d5/dcc/classConverterASTNode.html#ad509600b00aaa193159094cc3b8a1bde">ConverterASTNode::shallowCopy</a></div><div class="ttdeci">static ASTNode * shallowCopy(const ASTNode *pOrig)</div><div class="ttdef"><b>Definition:</b> <a href="../../de/de5/ConverterASTNode_8cpp_source.html#l00177">ConverterASTNode.cpp:177</a></div></div>
<div class="ttc" id="compare__utilities_8cpp_html_a9aa973c511f0ab93b8b0749c4450b81d"><div class="ttname"><a href="../../d1/d89/compare__utilities_8cpp.html#a9aa973c511f0ab93b8b0749c4450b81d">replace_ARCCOSH</a></div><div class="ttdeci">ASTNode * replace_ARCCOSH(const ASTNode *pChild)</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d89/compare__utilities_8cpp_source.html#l00827">compare_utilities.cpp:827</a></div></div>
<div class="ttc" id="compare__utilities_8cpp_html_a470539ac8a32dbd11c551ebb77d37645"><div class="ttname"><a href="../../d1/d89/compare__utilities_8cpp.html#a470539ac8a32dbd11c551ebb77d37645">replace_CSC</a></div><div class="ttdeci">ASTNode * replace_CSC(const ASTNode *pChild)</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d89/compare__utilities_8cpp_source.html#l00569">compare_utilities.cpp:569</a></div></div>
<div class="ttc" id="compare__utilities_8cpp_html_ae7c51b1d2fc7b16f1adb7b581912a262"><div class="ttname"><a href="../../d1/d89/compare__utilities_8cpp.html#ae7c51b1d2fc7b16f1adb7b581912a262">replace_ARCSINH</a></div><div class="ttdeci">ASTNode * replace_ARCSINH(const ASTNode *pChild)</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d89/compare__utilities_8cpp_source.html#l00793">compare_utilities.cpp:793</a></div></div>
<div class="ttc" id="f2c_8h_html_affe776513b24d84b39af8ab0930fef7f"><div class="ttname"><a href="../../dc/dc2/f2c_8h.html#affe776513b24d84b39af8ab0930fef7f">max</a></div><div class="ttdeci">#define max(a, b)</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/dc2/f2c_8h_source.html#l00176">f2c.h:176</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a030225cc274a7c545f010ba2ba7f13c3"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d8/d9f/classCEvaluationNode.html">CEvaluationNode</a> * CSBMLExporter::replaceSpeciesReferences </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="../../d8/d9f/classCEvaluationNode.html">CEvaluationNode</a> *&#160;</td>
          <td class="paramname"><em>pOrigNode</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="../../d4/d18/classCCopasiDataModel.html">CCopasiDataModel</a> &amp;&#160;</td>
          <td class="paramname"><em>dataModel</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Replaces references to species with reference to species divided by volume if it is a reference to a concentration or by a reference to the species times avogadros number if it is a reference to the amount. The method also takes into consideration the substance units of the model. </p>

<p>Definition at line <a class="el" href="../../d5/d2f/CSBMLExporter_8cpp_source.html#l06066">6066</a> of file <a class="el" href="../../d5/d2f/CSBMLExporter_8cpp_source.html">CSBMLExporter.cpp</a>.</p>

<p>References <a class="el" href="../../d9/d9d/classCCopasiNode.html#a76b012dfe6d52644d19808875a71db4e">CCopasiNode&lt; _Data &gt;::addChild()</a>, <a class="el" href="../../d5/d2f/CSBMLExporter_8cpp.html#ab36d8e3a7a459d93ed663bfb4b91a4be">addRateOfIfItDoesNotExist()</a>, <a class="el" href="../../d8/d28/classCEvaluationNodeObject.html#ac395d4a167d9c1848c3872ee94074d86af646af56f5c9953bce5ba78b399fee72">CEvaluationNodeObject::CN</a>, <a class="el" href="../../d8/d9f/classCEvaluationNode.html#a76178fce53d44b1f5c6c7e95dae460d5">CEvaluationNode::copyBranch()</a>, <a class="el" href="../../d8/d9f/classCEvaluationNode.html#a9d101d99a0f693a2c708951ff1e88797">CEvaluationNode::copyNode()</a>, <a class="el" href="../../df/d80/classCSBMLExporter.html#ab4d7f9c3d22b8225d1a4d9e3a98b855e">createUniqueId()</a>, <a class="el" href="../../d5/de4/classCEvaluationNodeOperator.html#a39e738b7acfcf431f7c72e76b68ffa98ac57c4c4ad14989329031b3805fed9137">CEvaluationNodeOperator::DIVIDE</a>, <a class="el" href="../../d3/d2a/classCEvaluationNodeNumber.html#a82abcf0fd7082e54feab9739b3258948a93ffe20de6f762c274a3575679cfb7a4">CEvaluationNodeNumber::DOUBLE</a>, <a class="el" href="../../d3/d2a/classCEvaluationNodeNumber.html#a82abcf0fd7082e54feab9739b3258948a8c4690dbdd9f39728b6fe89bf2bc3567">CEvaluationNodeNumber::ENOTATION</a>, <a class="el" href="../../d9/d2d/CCopasiMessage_8h.html#a1e835c01335d6f956a78adf106ed1b15">fatalError</a>, <a class="el" href="../../d0/da0/classCModelEntity.html#a86cb8e66e255d66db258324064efc78aa8751c35af95ea9346908d9835a1b0570">CModelEntity::FIXED</a>, <a class="el" href="../../d9/d9d/classCCopasiNode.html#acad859fb98cfa7f9d328a1cf1ee57023">CCopasiNode&lt; _Data &gt;::getChild()</a>, <a class="el" href="../../df/dfa/classCObjectInterface.html#a05acf7754b8c69b8eb23e583d7bf5b92">CObjectInterface::getCN()</a>, <a class="el" href="../../d4/da8/classCCopasiObject.html#a1f5e2625716c1ac192561974bd17b3cb">CCopasiObject::getCN()</a>, <a class="el" href="../../dc/d44/classCMetab.html#a9774853fea3fd6c9b15ecd26df7ab349">CMetab::getCompartment()</a>, <a class="el" href="../../d9/d9d/classCCopasiNode.html#a761f04c57a75e99a63ee0700c76fdafe">CCopasiNode&lt; _Data &gt;::getData()</a>, <a class="el" href="../../d4/dd4/classCCompartment.html#a977268782cb7d6cd7a01cab642b45c09">CCompartment::getDimensionality()</a>, <a class="el" href="../../d4/d18/classCCopasiDataModel.html#a2e65952e0caf0b2709d381cf949fec69">CCopasiDataModel::getModel()</a>, <a class="el" href="../../d9/dfd/classCCopasiContainer.html#a56ad5bdfd87327bed598c10461db695c">CCopasiContainer::getObject()</a>, <a class="el" href="../../d4/da8/classCCopasiObject.html#a879d6756b51f6b58d307940e1343bd10">CCopasiObject::getObjectName()</a>, <a class="el" href="../../d4/da8/classCCopasiObject.html#a33bb5035eec7ebc5e3ecac4771316405">CCopasiObject::getObjectParent()</a>, <a class="el" href="../../d4/d04/classCModel.html#ab30b51797988903a4af4e7fed3d163fa">CModel::getQuantity2NumberFactor()</a>, <a class="el" href="../../d4/d04/classCModel.html#a8eb14b87c1bfaa2479fbb897e50832b8">CModel::getQuantityUnitEnum()</a>, <a class="el" href="../../d9/d9d/classCCopasiNode.html#a0730aecebb9ca0f8401b7d0223e266e8">CCopasiNode&lt; _Data &gt;::getSibling()</a>, <a class="el" href="../../d0/da0/classCModelEntity.html#ad6bdcaa2e8887271f61fc363262cc9ed">CModelEntity::getStatus()</a>, <a class="el" href="../../d8/d9f/classCEvaluationNode.html#ae24b55d848d78cec0a359fd199c76562">CEvaluationNode::getType()</a>, <a class="el" href="../../d0/da0/classCModelEntity.html#ac411005efc9db817150b2bd95303d53c">CModelEntity::getValue()</a>, <a class="el" href="../../d8/d28/classCEvaluationNodeObject.html#ac395d4a167d9c1848c3872ee94074d86a14abb3f1c331af23d921a500414cd34f">CEvaluationNodeObject::INVALID</a>, <a class="el" href="../../d4/da8/classCCopasiObject.html#aab9462de68df423ab9eaebaafabcf783">CCopasiObject::isReference()</a>, <a class="el" href="../../df/d80/classCSBMLExporter.html#a57b7199230b68903fd1af9531ec6fbb7">mAvogadroCreated</a>, <a class="el" href="../../df/d80/classCSBMLExporter.html#aeb19f9866a1735848770125dad2aebad">mCOPASI2SBMLMap</a>, <a class="el" href="../../df/d80/classCSBMLExporter.html#ae5ae5ec70c912323abe9c31b58de2652">mHandledSBMLObjects</a>, <a class="el" href="../../df/d80/classCSBMLExporter.html#a60ab409a11b90a1ca965d7702828af74">mIdMap</a>, <a class="el" href="../../df/d80/classCSBMLExporter.html#acf59a37a6e25ed5735988fd792fb1109">mpAvogadro</a>, <a class="el" href="../../df/d80/classCSBMLExporter.html#a1541a69b36b8e864883e49f0de244f81">mpSBMLDocument</a>, <a class="el" href="../../df/d80/classCSBMLExporter.html#aba959efc152f63f1709d5de60e97a651">mSBMLLevel</a>, <a class="el" href="../../d5/de4/classCEvaluationNodeOperator.html#a39e738b7acfcf431f7c72e76b68ffa98af9d4b686c9ae4f20ca8f1cd707fbe6a0">CEvaluationNodeOperator::MULTIPLY</a>, <a class="el" href="../../df/d80/classCSBMLExporter.html#a64ec2c4a41a2fa37f21875281f5948d5">mVariableVolumes</a>, <a class="el" href="../../d8/d9f/classCEvaluationNode.html#aeef59b7ae37d1323a4900e5d19140491a5cd708e5bd1913c01508638dcf6fae3e">CEvaluationNode::NUMBER</a>, <a class="el" href="../../d4/d04/classCModel.html#ac6c52b224ba5973b9cae3cb3d503e25ba4742ca026f7a9968138284bee1b7e7ee">CModel::number</a>, <a class="el" href="../../d8/d9f/classCEvaluationNode.html#aeef59b7ae37d1323a4900e5d19140491a373ef5eff2832cc83a380a1a6d5f17e7">CEvaluationNode::OBJECT</a>, <a class="el" href="../../d4/d18/classCCopasiDataModel.html#a9d54888c14c755abec4c757289ee26f7">CCopasiDataModel::ObjectFromName()</a>, <a class="el" href="../../d8/d9f/classCEvaluationNode.html#aeef59b7ae37d1323a4900e5d19140491a745531dbd3babe952bfaa4176744dbac">CEvaluationNode::OPERATOR</a>, <a class="el" href="../../d7/de4/CQTSSAResultSubWidget_8cpp.html#a015b908fb74f75922e0bc448af09d9d1">pResult</a>, <a class="el" href="../../d8/d9f/classCEvaluationNode.html#a2cb02df3d57dad7ad1f9654941135c31">CEvaluationNode::subType()</a>, and <a class="el" href="../../d8/d9f/classCEvaluationNode.html#a9e5fcf60f22d2701417f90756847d37b">CEvaluationNode::type()</a>.</p>

<p>Referenced by <a class="el" href="../../df/d80/classCSBMLExporter.html#a79ba15ac876b6354e2aaff763b8a7c86">createEvent()</a>, <a class="el" href="../../df/d80/classCSBMLExporter.html#a2f052fa99d8b6695c0b7cf12d21f7833">createInitialAssignment()</a>, <a class="el" href="../../df/d80/classCSBMLExporter.html#a1ac2102cd8012a24253ac6edd0379198">createKineticLaw()</a>, <a class="el" href="../../df/d80/classCSBMLExporter.html#a4e1fa35c0f3497f349b03147eb7326f0">createRule()</a>, and <a class="el" href="../../df/d80/classCSBMLExporter.html#aefbd6278e618486186192aff4bdff76e">exportEventAssignments()</a>.</p>
<div class="fragment"><div class="line"><a name="l06067"></a><span class="lineno"> 6067</span>&#160;{</div>
<div class="line"><a name="l06068"></a><span class="lineno"> 6068</span>&#160;  <a class="code" href="../../d8/d9f/classCEvaluationNode.html">CEvaluationNode</a>* <a class="code" href="../../d7/de4/CQTSSAResultSubWidget_8cpp.html#a015b908fb74f75922e0bc448af09d9d1">pResult</a> = NULL;</div>
<div class="line"><a name="l06069"></a><span class="lineno"> 6069</span>&#160;  <span class="keywordtype">double</span> factor = dataModel.<a class="code" href="../../d4/d18/classCCopasiDataModel.html#a2e65952e0caf0b2709d381cf949fec69">getModel</a>()-&gt;<a class="code" href="../../d4/d04/classCModel.html#ab30b51797988903a4af4e7fed3d163fa">getQuantity2NumberFactor</a>();</div>
<div class="line"><a name="l06070"></a><span class="lineno"> 6070</span>&#160;</div>
<div class="line"><a name="l06071"></a><span class="lineno"> 6071</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="../../d8/d9f/classCEvaluationNode.html#a9e5fcf60f22d2701417f90756847d37b">CEvaluationNodeObject::type</a>(pOrigNode-&gt;<a class="code" href="../../d8/d9f/classCEvaluationNode.html#ae24b55d848d78cec0a359fd199c76562">getType</a>()) == <a class="code" href="../../d8/d9f/classCEvaluationNode.html#aeef59b7ae37d1323a4900e5d19140491a373ef5eff2832cc83a380a1a6d5f17e7">CEvaluationNodeObject::OBJECT</a>)</div>
<div class="line"><a name="l06072"></a><span class="lineno"> 6072</span>&#160;    {</div>
<div class="line"><a name="l06073"></a><span class="lineno"> 6073</span>&#160;      std::vector&lt;CCopasiContainer*&gt; containers;</div>
<div class="line"><a name="l06074"></a><span class="lineno"> 6074</span>&#160;      containers.push_back(const_cast&lt;CModel*&gt;(dataModel.<a class="code" href="../../d4/d18/classCCopasiDataModel.html#a2e65952e0caf0b2709d381cf949fec69">getModel</a>()));</div>
<div class="line"><a name="l06075"></a><span class="lineno"> 6075</span>&#160;      <span class="keyword">const</span> <a class="code" href="../../d4/da8/classCCopasiObject.html">CCopasiObject</a>* pObject = dataModel.<a class="code" href="../../d4/d18/classCCopasiDataModel.html#a9d54888c14c755abec4c757289ee26f7">ObjectFromName</a>(containers, dynamic_cast&lt;const CEvaluationNodeObject*&gt;(pOrigNode)-&gt;getObjectCN());</div>
<div class="line"><a name="l06076"></a><span class="lineno"> 6076</span>&#160;</div>
<div class="line"><a name="l06077"></a><span class="lineno"> 6077</span>&#160;      <span class="keywordflow">if</span> (pObject == NULL)</div>
<div class="line"><a name="l06078"></a><span class="lineno"> 6078</span>&#160;        {</div>
<div class="line"><a name="l06079"></a><span class="lineno"> 6079</span>&#160;          <span class="comment">// this will be the object from the mInitialValueMap</span></div>
<div class="line"><a name="l06080"></a><span class="lineno"> 6080</span>&#160;          pResult = <span class="keyword">new</span> <a class="code" href="../../d8/d28/classCEvaluationNodeObject.html">CEvaluationNodeObject</a>(<a class="code" href="../../d8/d28/classCEvaluationNodeObject.html#ac395d4a167d9c1848c3872ee94074d86af646af56f5c9953bce5ba78b399fee72">CEvaluationNodeObject::CN</a>, pOrigNode-&gt;<a class="code" href="../../d9/d9d/classCCopasiNode.html#a761f04c57a75e99a63ee0700c76fdafe">getData</a>());</div>
<div class="line"><a name="l06081"></a><span class="lineno"> 6081</span>&#160;          <span class="keywordflow">return</span> <a class="code" href="../../d7/de4/CQTSSAResultSubWidget_8cpp.html#a015b908fb74f75922e0bc448af09d9d1">pResult</a>;</div>
<div class="line"><a name="l06082"></a><span class="lineno"> 6082</span>&#160;        }</div>
<div class="line"><a name="l06083"></a><span class="lineno"> 6083</span>&#160;</div>
<div class="line"><a name="l06084"></a><span class="lineno"> 6084</span>&#160;      <span class="keywordflow">if</span> (pObject-&gt;<a class="code" href="../../d4/da8/classCCopasiObject.html#aab9462de68df423ab9eaebaafabcf783">isReference</a>())</div>
<div class="line"><a name="l06085"></a><span class="lineno"> 6085</span>&#160;        {</div>
<div class="line"><a name="l06086"></a><span class="lineno"> 6086</span>&#160;          <span class="keyword">const</span> <a class="code" href="../../d4/da8/classCCopasiObject.html">CCopasiObject</a>* pParent = pObject-&gt;<a class="code" href="../../d4/da8/classCCopasiObject.html#a33bb5035eec7ebc5e3ecac4771316405">getObjectParent</a>();</div>
<div class="line"><a name="l06087"></a><span class="lineno"> 6087</span>&#160;          <span class="comment">// check if the parent is a metabolite</span></div>
<div class="line"><a name="l06088"></a><span class="lineno"> 6088</span>&#160;          <span class="keyword">const</span> <a class="code" href="../../dc/d44/classCMetab.html">CMetab</a>* pMetab = <span class="keyword">dynamic_cast&lt;</span><span class="keyword">const </span><a class="code" href="../../dc/d44/classCMetab.html">CMetab</a>*<span class="keyword">&gt;</span>(pParent);</div>
<div class="line"><a name="l06089"></a><span class="lineno"> 6089</span>&#160;</div>
<div class="line"><a name="l06090"></a><span class="lineno"> 6090</span>&#160;          <span class="keywordflow">if</span> (pMetab != NULL)</div>
<div class="line"><a name="l06091"></a><span class="lineno"> 6091</span>&#160;            {</div>
<div class="line"><a name="l06092"></a><span class="lineno"> 6092</span>&#160;              <span class="comment">// check if the reference is to the concentration or to the</span></div>
<div class="line"><a name="l06093"></a><span class="lineno"> 6093</span>&#160;              <span class="comment">// amount</span></div>
<div class="line"><a name="l06094"></a><span class="lineno"> 6094</span>&#160;              <span class="keywordflow">if</span> (pObject-&gt;<a class="code" href="../../d4/da8/classCCopasiObject.html#a879d6756b51f6b58d307940e1343bd10">getObjectName</a>() == <span class="stringliteral">&quot;InitialConcentration&quot;</span> || pObject-&gt;<a class="code" href="../../d4/da8/classCCopasiObject.html#a879d6756b51f6b58d307940e1343bd10">getObjectName</a>() == <span class="stringliteral">&quot;Concentration&quot;</span>)</div>
<div class="line"><a name="l06095"></a><span class="lineno"> 6095</span>&#160;                {</div>
<div class="line"><a name="l06096"></a><span class="lineno"> 6096</span>&#160;                  <span class="comment">// the concentration nodes only need to be replaced if we</span></div>
<div class="line"><a name="l06097"></a><span class="lineno"> 6097</span>&#160;                  <span class="comment">// are dealing with a model that has variable volumes</span></div>
<div class="line"><a name="l06098"></a><span class="lineno"> 6098</span>&#160;                  <span class="keywordflow">if</span> (this-&gt;<a class="code" href="../../df/d80/classCSBMLExporter.html#a64ec2c4a41a2fa37f21875281f5948d5">mVariableVolumes</a> == <span class="keyword">true</span>)</div>
<div class="line"><a name="l06099"></a><span class="lineno"> 6099</span>&#160;                    {</div>
<div class="line"><a name="l06100"></a><span class="lineno"> 6100</span>&#160;                      <span class="comment">// replace the node by the concentration node divided the the volume of</span></div>
<div class="line"><a name="l06101"></a><span class="lineno"> 6101</span>&#160;                      <span class="comment">// the (initial) volume of the node</span></div>
<div class="line"><a name="l06102"></a><span class="lineno"> 6102</span>&#160;                      <span class="comment">// although this is semantically incorrect, the result when</span></div>
<div class="line"><a name="l06103"></a><span class="lineno"> 6103</span>&#160;                      <span class="comment">// converted to SBML will be OK since the concentration ode</span></div>
<div class="line"><a name="l06104"></a><span class="lineno"> 6104</span>&#160;                      <span class="comment">// is converted to a reference to the species id which will</span></div>
<div class="line"><a name="l06105"></a><span class="lineno"> 6105</span>&#160;                      <span class="comment">// be interpreted as the amount due to the</span></div>
<div class="line"><a name="l06106"></a><span class="lineno"> 6106</span>&#160;                      <span class="comment">// hasOnlySubstanceUnits flag being set</span></div>
<div class="line"><a name="l06107"></a><span class="lineno"> 6107</span>&#160;                      <span class="keyword">const</span> <a class="code" href="../../d4/dd4/classCCompartment.html">CCompartment</a>* pCompartment = pMetab-&gt;<a class="code" href="../../dc/d44/classCMetab.html#a9774853fea3fd6c9b15ecd26df7ab349">getCompartment</a>();</div>
<div class="line"><a name="l06108"></a><span class="lineno"> 6108</span>&#160;                      assert(pCompartment != NULL);</div>
<div class="line"><a name="l06109"></a><span class="lineno"> 6109</span>&#160;                      pResult = <span class="keyword">new</span> <a class="code" href="../../d5/de4/classCEvaluationNodeOperator.html">CEvaluationNodeOperator</a>(<a class="code" href="../../d5/de4/classCEvaluationNodeOperator.html#a39e738b7acfcf431f7c72e76b68ffa98ac57c4c4ad14989329031b3805fed9137">CEvaluationNodeOperator::DIVIDE</a>, <span class="stringliteral">&quot;/&quot;</span>);</div>
<div class="line"><a name="l06110"></a><span class="lineno"> 6110</span>&#160;                      <span class="comment">// copy branch should be fine since the object node does</span></div>
<div class="line"><a name="l06111"></a><span class="lineno"> 6111</span>&#160;                      <span class="comment">// not have children</span></div>
<div class="line"><a name="l06112"></a><span class="lineno"> 6112</span>&#160;                      pResult-&gt;<a class="code" href="../../d9/d9d/classCCopasiNode.html#a76b012dfe6d52644d19808875a71db4e">addChild</a>(pOrigNode-&gt;<a class="code" href="../../d8/d9f/classCEvaluationNode.html#a76178fce53d44b1f5c6c7e95dae460d5">copyBranch</a>());</div>
<div class="line"><a name="l06113"></a><span class="lineno"> 6113</span>&#160;</div>
<div class="line"><a name="l06114"></a><span class="lineno"> 6114</span>&#160;                      <span class="keywordflow">if</span> (pObject-&gt;<a class="code" href="../../d4/da8/classCCopasiObject.html#a879d6756b51f6b58d307940e1343bd10">getObjectName</a>() == <span class="stringliteral">&quot;InitialConcentration&quot;</span>)</div>
<div class="line"><a name="l06115"></a><span class="lineno"> 6115</span>&#160;                        {</div>
<div class="line"><a name="l06116"></a><span class="lineno"> 6116</span>&#160;                          pResult-&gt;<a class="code" href="../../d9/d9d/classCCopasiNode.html#a76b012dfe6d52644d19808875a71db4e">addChild</a>(<span class="keyword">new</span> <a class="code" href="../../d8/d28/classCEvaluationNodeObject.html">CEvaluationNodeObject</a>(<a class="code" href="../../d8/d28/classCEvaluationNodeObject.html#ac395d4a167d9c1848c3872ee94074d86af646af56f5c9953bce5ba78b399fee72">CEvaluationNodeObject::CN</a>, <span class="stringliteral">&quot;&lt;&quot;</span> + pCompartment-&gt;<a class="code" href="../../d9/dfd/classCCopasiContainer.html#a56ad5bdfd87327bed598c10461db695c">getObject</a>(<a class="code" href="../../db/d84/classCCopasiObjectName.html">CCopasiObjectName</a>(<span class="stringliteral">&quot;Reference=InitialVolume&quot;</span>))-&gt;<a class="code" href="../../df/dfa/classCObjectInterface.html#a05acf7754b8c69b8eb23e583d7bf5b92">getCN</a>() + <span class="stringliteral">&quot;&gt;&quot;</span>));</div>
<div class="line"><a name="l06117"></a><span class="lineno"> 6117</span>&#160;                        }</div>
<div class="line"><a name="l06118"></a><span class="lineno"> 6118</span>&#160;                      <span class="keywordflow">else</span></div>
<div class="line"><a name="l06119"></a><span class="lineno"> 6119</span>&#160;                        {</div>
<div class="line"><a name="l06120"></a><span class="lineno"> 6120</span>&#160;                          pResult-&gt;<a class="code" href="../../d9/d9d/classCCopasiNode.html#a76b012dfe6d52644d19808875a71db4e">addChild</a>(<span class="keyword">new</span> <a class="code" href="../../d8/d28/classCEvaluationNodeObject.html">CEvaluationNodeObject</a>(<a class="code" href="../../d8/d28/classCEvaluationNodeObject.html#ac395d4a167d9c1848c3872ee94074d86af646af56f5c9953bce5ba78b399fee72">CEvaluationNodeObject::CN</a>, <span class="stringliteral">&quot;&lt;&quot;</span> + pCompartment-&gt;<a class="code" href="../../d9/dfd/classCCopasiContainer.html#a56ad5bdfd87327bed598c10461db695c">getObject</a>(<a class="code" href="../../db/d84/classCCopasiObjectName.html">CCopasiObjectName</a>(<span class="stringliteral">&quot;Reference=Volume&quot;</span>))-&gt;<a class="code" href="../../df/dfa/classCObjectInterface.html#a05acf7754b8c69b8eb23e583d7bf5b92">getCN</a>() + <span class="stringliteral">&quot;&gt;&quot;</span>));</div>
<div class="line"><a name="l06121"></a><span class="lineno"> 6121</span>&#160;                        }</div>
<div class="line"><a name="l06122"></a><span class="lineno"> 6122</span>&#160;                    }</div>
<div class="line"><a name="l06123"></a><span class="lineno"> 6123</span>&#160;                  <span class="keywordflow">else</span></div>
<div class="line"><a name="l06124"></a><span class="lineno"> 6124</span>&#160;                    {</div>
<div class="line"><a name="l06125"></a><span class="lineno"> 6125</span>&#160;                      <span class="comment">// do nothing</span></div>
<div class="line"><a name="l06126"></a><span class="lineno"> 6126</span>&#160;                      pResult = pOrigNode-&gt;<a class="code" href="../../d8/d9f/classCEvaluationNode.html#a76178fce53d44b1f5c6c7e95dae460d5">copyBranch</a>();</div>
<div class="line"><a name="l06127"></a><span class="lineno"> 6127</span>&#160;                    }</div>
<div class="line"><a name="l06128"></a><span class="lineno"> 6128</span>&#160;                }</div>
<div class="line"><a name="l06129"></a><span class="lineno"> 6129</span>&#160;              <span class="keywordflow">else</span> <span class="keywordflow">if</span> (pObject-&gt;<a class="code" href="../../d4/da8/classCCopasiObject.html#a879d6756b51f6b58d307940e1343bd10">getObjectName</a>() == <span class="stringliteral">&quot;Rate&quot;</span>)</div>
<div class="line"><a name="l06130"></a><span class="lineno"> 6130</span>&#160;                {</div>
<div class="line"><a name="l06131"></a><span class="lineno"> 6131</span>&#160;                  std::string <span class="keywordtype">id</span> = <a class="code" href="../../d5/d2f/CSBMLExporter_8cpp.html#ab36d8e3a7a459d93ed663bfb4b91a4be">addRateOfIfItDoesNotExist</a>(<a class="code" href="../../df/d80/classCSBMLExporter.html#a1541a69b36b8e864883e49f0de244f81">mpSBMLDocument</a>, <a class="code" href="../../df/d80/classCSBMLExporter.html#a60ab409a11b90a1ca965d7702828af74">mIdMap</a>, <span class="stringliteral">&quot;rateOf&quot;</span>);</div>
<div class="line"><a name="l06132"></a><span class="lineno"> 6132</span>&#160;                  pResult = <span class="keyword">new</span> <a class="code" href="../../d8/d28/classCEvaluationNodeObject.html">CEvaluationNodeObject</a>(<a class="code" href="../../d8/d28/classCEvaluationNodeObject.html#ac395d4a167d9c1848c3872ee94074d86a14abb3f1c331af23d921a500414cd34f">CEvaluationNodeObject::INVALID</a>, <span class="stringliteral">&quot;&lt;rateOf&gt;&quot;</span>);</div>
<div class="line"><a name="l06133"></a><span class="lineno"> 6133</span>&#160;                  pResult-&gt;<a class="code" href="../../d9/d9d/classCCopasiNode.html#a76b012dfe6d52644d19808875a71db4e">addChild</a>(<span class="keyword">new</span> <a class="code" href="../../d8/d28/classCEvaluationNodeObject.html">CEvaluationNodeObject</a>(<a class="code" href="../../d8/d28/classCEvaluationNodeObject.html#ac395d4a167d9c1848c3872ee94074d86af646af56f5c9953bce5ba78b399fee72">CEvaluationNodeObject::CN</a>, <span class="stringliteral">&quot;&lt;&quot;</span> + pObject-&gt;<a class="code" href="../../d4/da8/classCCopasiObject.html#a33bb5035eec7ebc5e3ecac4771316405">getObjectParent</a>()-&gt;<a class="code" href="../../d9/dfd/classCCopasiContainer.html#a56ad5bdfd87327bed598c10461db695c">getObject</a>(<a class="code" href="../../db/d84/classCCopasiObjectName.html">CCopasiObjectName</a>(<span class="stringliteral">&quot;Reference=Concentration&quot;</span>))-&gt;<a class="code" href="../../df/dfa/classCObjectInterface.html#a05acf7754b8c69b8eb23e583d7bf5b92">getCN</a>() + <span class="stringliteral">&quot;&gt;&quot;</span>));</div>
<div class="line"><a name="l06134"></a><span class="lineno"> 6134</span>&#160;                  pResult-&gt;<a class="code" href="../../d9/d9d/classCCopasiNode.html#a76b012dfe6d52644d19808875a71db4e">addChild</a>(<span class="keyword">new</span> <a class="code" href="../../d8/d28/classCEvaluationNodeObject.html">CEvaluationNodeObject</a>(<a class="code" href="../../d8/d28/classCEvaluationNodeObject.html#ac395d4a167d9c1848c3872ee94074d86af646af56f5c9953bce5ba78b399fee72">CEvaluationNodeObject::CN</a>, <span class="stringliteral">&quot;&lt;&quot;</span> + <span class="keywordtype">id</span> + <span class="stringliteral">&quot;&gt;&quot;</span>));</div>
<div class="line"><a name="l06135"></a><span class="lineno"> 6135</span>&#160;                }</div>
<div class="line"><a name="l06136"></a><span class="lineno"> 6136</span>&#160;              <span class="keywordflow">else</span> <span class="keywordflow">if</span> (pObject-&gt;<a class="code" href="../../d4/da8/classCCopasiObject.html#a879d6756b51f6b58d307940e1343bd10">getObjectName</a>() == <span class="stringliteral">&quot;InitialParticleNumber&quot;</span> || pObject-&gt;<a class="code" href="../../d4/da8/classCCopasiObject.html#a879d6756b51f6b58d307940e1343bd10">getObjectName</a>() == <span class="stringliteral">&quot;ParticleNumber&quot;</span>)</div>
<div class="line"><a name="l06137"></a><span class="lineno"> 6137</span>&#160;                {</div>
<div class="line"><a name="l06138"></a><span class="lineno"> 6138</span>&#160;                  <span class="comment">// if the units are not set to particle numbers anyway,</span></div>
<div class="line"><a name="l06139"></a><span class="lineno"> 6139</span>&#160;                  <span class="comment">// replace the node by the node times avogadros number</span></div>
<div class="line"><a name="l06140"></a><span class="lineno"> 6140</span>&#160;                  <span class="keywordflow">if</span> (dataModel.<a class="code" href="../../d4/d18/classCCopasiDataModel.html#a2e65952e0caf0b2709d381cf949fec69">getModel</a>()-&gt;<a class="code" href="../../d4/d04/classCModel.html#a8eb14b87c1bfaa2479fbb897e50832b8">getQuantityUnitEnum</a>() != <a class="code" href="../../d4/d04/classCModel.html#ac6c52b224ba5973b9cae3cb3d503e25ba4742ca026f7a9968138284bee1b7e7ee">CModel::number</a>)</div>
<div class="line"><a name="l06141"></a><span class="lineno"> 6141</span>&#160;                    {</div>
<div class="line"><a name="l06142"></a><span class="lineno"> 6142</span>&#160;                      <span class="keywordflow">if</span> (this-&gt;<a class="code" href="../../df/d80/classCSBMLExporter.html#acf59a37a6e25ed5735988fd792fb1109">mpAvogadro</a> == NULL)</div>
<div class="line"><a name="l06143"></a><span class="lineno"> 6143</span>&#160;                        {</div>
<div class="line"><a name="l06144"></a><span class="lineno"> 6144</span>&#160;                          this-&gt;<a class="code" href="../../df/d80/classCSBMLExporter.html#acf59a37a6e25ed5735988fd792fb1109">mpAvogadro</a> = <span class="keyword">const_cast&lt;</span><a class="code" href="../../d4/d04/classCModel.html">CModel</a>*<span class="keyword">&gt;</span>(dataModel.<a class="code" href="../../d4/d18/classCCopasiDataModel.html#a2e65952e0caf0b2709d381cf949fec69">getModel</a>())-&gt;createModelValue(<span class="stringliteral">&quot;quantity to number factor&quot;</span>, dataModel.<a class="code" href="../../d4/d18/classCCopasiDataModel.html#a2e65952e0caf0b2709d381cf949fec69">getModel</a>()-&gt;<a class="code" href="../../d4/d04/classCModel.html#ab30b51797988903a4af4e7fed3d163fa">getQuantity2NumberFactor</a>());</div>
<div class="line"><a name="l06145"></a><span class="lineno"> 6145</span>&#160;                          Parameter* pSBMLAvogadro = this-&gt;<a class="code" href="../../df/d80/classCSBMLExporter.html#a1541a69b36b8e864883e49f0de244f81">mpSBMLDocument</a>-&gt;getModel()-&gt;createParameter();</div>
<div class="line"><a name="l06146"></a><span class="lineno"> 6146</span>&#160;                          pSBMLAvogadro-&gt;setName(<span class="stringliteral">&quot;quantity to number factor&quot;</span>);</div>
<div class="line"><a name="l06147"></a><span class="lineno"> 6147</span>&#160;                          std::string sbmlId = <a class="code" href="../../df/d80/classCSBMLExporter.html#ab4d7f9c3d22b8225d1a4d9e3a98b855e">CSBMLExporter::createUniqueId</a>(this-&gt;<a class="code" href="../../df/d80/classCSBMLExporter.html#a60ab409a11b90a1ca965d7702828af74">mIdMap</a>, <a class="code" href="../../df/d80/classCSBMLExporter.html#acf59a37a6e25ed5735988fd792fb1109">mpAvogadro</a>-&gt;<a class="code" href="../../d4/da8/classCCopasiObject.html#a879d6756b51f6b58d307940e1343bd10">getObjectName</a>(), <span class="keyword">false</span>);</div>
<div class="line"><a name="l06148"></a><span class="lineno"> 6148</span>&#160;                          pSBMLAvogadro-&gt;setId(sbmlId);</div>
<div class="line"><a name="l06149"></a><span class="lineno"> 6149</span>&#160;                          <span class="keyword">const_cast&lt;</span><a class="code" href="../../d7/dec/classCModelValue.html">CModelValue</a>*<span class="keyword">&gt;</span>(this-&gt;<a class="code" href="../../df/d80/classCSBMLExporter.html#acf59a37a6e25ed5735988fd792fb1109">mpAvogadro</a>)-&gt;setSBMLId(sbmlId);</div>
<div class="line"><a name="l06150"></a><span class="lineno"> 6150</span>&#160;                          this-&gt;<a class="code" href="../../df/d80/classCSBMLExporter.html#a60ab409a11b90a1ca965d7702828af74">mIdMap</a>.insert(std::pair&lt;const std::string, const SBase*&gt;(sbmlId, pSBMLAvogadro));</div>
<div class="line"><a name="l06151"></a><span class="lineno"> 6151</span>&#160;</div>
<div class="line"><a name="l06152"></a><span class="lineno"> 6152</span>&#160;                          <span class="keywordflow">if</span> (this-&gt;<a class="code" href="../../df/d80/classCSBMLExporter.html#aba959efc152f63f1709d5de60e97a651">mSBMLLevel</a> != 1)</div>
<div class="line"><a name="l06153"></a><span class="lineno"> 6153</span>&#160;                            {</div>
<div class="line"><a name="l06154"></a><span class="lineno"> 6154</span>&#160;                              pSBMLAvogadro-&gt;setConstant(<span class="keyword">true</span>);</div>
<div class="line"><a name="l06155"></a><span class="lineno"> 6155</span>&#160;                            }</div>
<div class="line"><a name="l06156"></a><span class="lineno"> 6156</span>&#160;                          <span class="keywordflow">else</span></div>
<div class="line"><a name="l06157"></a><span class="lineno"> 6157</span>&#160;                            {</div>
<div class="line"><a name="l06158"></a><span class="lineno"> 6158</span>&#160;                              <span class="comment">// Level 1 doesn&#39;t know the constant flag and</span></div>
<div class="line"><a name="l06159"></a><span class="lineno"> 6159</span>&#160;                              <span class="comment">// libSBML does not drop it automatically</span></div>
<div class="line"><a name="l06160"></a><span class="lineno"> 6160</span>&#160;                              pSBMLAvogadro-&gt;setConstant(<span class="keyword">true</span>);</div>
<div class="line"><a name="l06161"></a><span class="lineno"> 6161</span>&#160;                            }</div>
<div class="line"><a name="l06162"></a><span class="lineno"> 6162</span>&#160;</div>
<div class="line"><a name="l06163"></a><span class="lineno"> 6163</span>&#160;                          pSBMLAvogadro-&gt;setValue(dataModel.<a class="code" href="../../d4/d18/classCCopasiDataModel.html#a2e65952e0caf0b2709d381cf949fec69">getModel</a>()-&gt;<a class="code" href="../../d4/d04/classCModel.html#ab30b51797988903a4af4e7fed3d163fa">getQuantity2NumberFactor</a>());</div>
<div class="line"><a name="l06164"></a><span class="lineno"> 6164</span>&#160;                          this-&gt;<a class="code" href="../../df/d80/classCSBMLExporter.html#ae5ae5ec70c912323abe9c31b58de2652">mHandledSBMLObjects</a>.insert(pSBMLAvogadro);</div>
<div class="line"><a name="l06165"></a><span class="lineno"> 6165</span>&#160;                          this-&gt;<a class="code" href="../../df/d80/classCSBMLExporter.html#aeb19f9866a1735848770125dad2aebad">mCOPASI2SBMLMap</a>[this-&gt;<a class="code" href="../../df/d80/classCSBMLExporter.html#acf59a37a6e25ed5735988fd792fb1109">mpAvogadro</a>] = pSBMLAvogadro;</div>
<div class="line"><a name="l06166"></a><span class="lineno"> 6166</span>&#160;                          this-&gt;<a class="code" href="../../df/d80/classCSBMLExporter.html#a57b7199230b68903fd1af9531ec6fbb7">mAvogadroCreated</a> = <span class="keyword">true</span>;</div>
<div class="line"><a name="l06167"></a><span class="lineno"> 6167</span>&#160;                        }</div>
<div class="line"><a name="l06168"></a><span class="lineno"> 6168</span>&#160;</div>
<div class="line"><a name="l06169"></a><span class="lineno"> 6169</span>&#160;                      pResult = <span class="keyword">new</span> <a class="code" href="../../d5/de4/classCEvaluationNodeOperator.html">CEvaluationNodeOperator</a>(<a class="code" href="../../d5/de4/classCEvaluationNodeOperator.html#a39e738b7acfcf431f7c72e76b68ffa98af9d4b686c9ae4f20ca8f1cd707fbe6a0">CEvaluationNodeOperator::MULTIPLY</a>, <span class="stringliteral">&quot;*&quot;</span>);</div>
<div class="line"><a name="l06170"></a><span class="lineno"> 6170</span>&#160;                      <span class="comment">// copyBranch should be save here since object nodes can&#39;t</span></div>
<div class="line"><a name="l06171"></a><span class="lineno"> 6171</span>&#160;                      <span class="comment">// have children</span></div>
<div class="line"><a name="l06172"></a><span class="lineno"> 6172</span>&#160;                      pResult-&gt;<a class="code" href="../../d9/d9d/classCCopasiNode.html#a76b012dfe6d52644d19808875a71db4e">addChild</a>(pOrigNode-&gt;<a class="code" href="../../d8/d9f/classCEvaluationNode.html#a76178fce53d44b1f5c6c7e95dae460d5">copyBranch</a>());</div>
<div class="line"><a name="l06173"></a><span class="lineno"> 6173</span>&#160;                      pResult-&gt;<a class="code" href="../../d9/d9d/classCCopasiNode.html#a76b012dfe6d52644d19808875a71db4e">addChild</a>(<span class="keyword">new</span> <a class="code" href="../../d8/d28/classCEvaluationNodeObject.html">CEvaluationNodeObject</a>(<a class="code" href="../../d8/d28/classCEvaluationNodeObject.html#ac395d4a167d9c1848c3872ee94074d86af646af56f5c9953bce5ba78b399fee72">CEvaluationNodeObject::CN</a>, <span class="stringliteral">&quot;&lt;&quot;</span> + this-&gt;<a class="code" href="../../df/d80/classCSBMLExporter.html#acf59a37a6e25ed5735988fd792fb1109">mpAvogadro</a>-&gt;<a class="code" href="../../d4/da8/classCCopasiObject.html#a1f5e2625716c1ac192561974bd17b3cb">getCN</a>() + <span class="stringliteral">&quot;,Reference=InitialValue&gt;&quot;</span>));</div>
<div class="line"><a name="l06174"></a><span class="lineno"> 6174</span>&#160;                    }</div>
<div class="line"><a name="l06175"></a><span class="lineno"> 6175</span>&#160;                  <span class="keywordflow">else</span></div>
<div class="line"><a name="l06176"></a><span class="lineno"> 6176</span>&#160;                    {</div>
<div class="line"><a name="l06177"></a><span class="lineno"> 6177</span>&#160;                      <span class="comment">// the result is the same as the original node</span></div>
<div class="line"><a name="l06178"></a><span class="lineno"> 6178</span>&#160;                      pResult = pOrigNode-&gt;<a class="code" href="../../d8/d9f/classCEvaluationNode.html#a76178fce53d44b1f5c6c7e95dae460d5">copyBranch</a>();</div>
<div class="line"><a name="l06179"></a><span class="lineno"> 6179</span>&#160;                    }</div>
<div class="line"><a name="l06180"></a><span class="lineno"> 6180</span>&#160;</div>
<div class="line"><a name="l06181"></a><span class="lineno"> 6181</span>&#160;                  <span class="keywordflow">if</span> (this-&gt;<a class="code" href="../../df/d80/classCSBMLExporter.html#a64ec2c4a41a2fa37f21875281f5948d5">mVariableVolumes</a> == <span class="keyword">false</span>)</div>
<div class="line"><a name="l06182"></a><span class="lineno"> 6182</span>&#160;                    {</div>
<div class="line"><a name="l06183"></a><span class="lineno"> 6183</span>&#160;                      <span class="comment">// multiply by the volume as well</span></div>
<div class="line"><a name="l06184"></a><span class="lineno"> 6184</span>&#160;                      <span class="keyword">const</span> <a class="code" href="../../d4/dd4/classCCompartment.html">CCompartment</a>* pCompartment = pMetab-&gt;<a class="code" href="../../dc/d44/classCMetab.html#a9774853fea3fd6c9b15ecd26df7ab349">getCompartment</a>();</div>
<div class="line"><a name="l06185"></a><span class="lineno"> 6185</span>&#160;</div>
<div class="line"><a name="l06186"></a><span class="lineno"> 6186</span>&#160;                      <span class="keywordflow">if</span> (pCompartment-&gt;<a class="code" href="../../d4/dd4/classCCompartment.html#a977268782cb7d6cd7a01cab642b45c09">getDimensionality</a>() != 0)</div>
<div class="line"><a name="l06187"></a><span class="lineno"> 6187</span>&#160;                        {</div>
<div class="line"><a name="l06188"></a><span class="lineno"> 6188</span>&#160;                          <a class="code" href="../../d8/d9f/classCEvaluationNode.html">CEvaluationNode</a>* pTmpNode = <span class="keyword">new</span> <a class="code" href="../../d5/de4/classCEvaluationNodeOperator.html">CEvaluationNodeOperator</a>(<a class="code" href="../../d5/de4/classCEvaluationNodeOperator.html#a39e738b7acfcf431f7c72e76b68ffa98af9d4b686c9ae4f20ca8f1cd707fbe6a0">CEvaluationNodeOperator::MULTIPLY</a>, <span class="stringliteral">&quot;*&quot;</span>);</div>
<div class="line"><a name="l06189"></a><span class="lineno"> 6189</span>&#160;                          pTmpNode-&gt;<a class="code" href="../../d9/d9d/classCCopasiNode.html#a76b012dfe6d52644d19808875a71db4e">addChild</a>(pResult);</div>
<div class="line"><a name="l06190"></a><span class="lineno"> 6190</span>&#160;</div>
<div class="line"><a name="l06191"></a><span class="lineno"> 6191</span>&#160;                          <span class="keywordflow">if</span> (pObject-&gt;<a class="code" href="../../d4/da8/classCCopasiObject.html#a879d6756b51f6b58d307940e1343bd10">getObjectName</a>() == <span class="stringliteral">&quot;InitialParticleNumber&quot;</span>)</div>
<div class="line"><a name="l06192"></a><span class="lineno"> 6192</span>&#160;                            {</div>
<div class="line"><a name="l06193"></a><span class="lineno"> 6193</span>&#160;                              pTmpNode-&gt;<a class="code" href="../../d9/d9d/classCCopasiNode.html#a76b012dfe6d52644d19808875a71db4e">addChild</a>(<span class="keyword">new</span> <a class="code" href="../../d8/d28/classCEvaluationNodeObject.html">CEvaluationNodeObject</a>(<a class="code" href="../../d8/d28/classCEvaluationNodeObject.html#ac395d4a167d9c1848c3872ee94074d86af646af56f5c9953bce5ba78b399fee72">CEvaluationNodeObject::CN</a>, <span class="stringliteral">&quot;&lt;&quot;</span> + pCompartment-&gt;<a class="code" href="../../d9/dfd/classCCopasiContainer.html#a56ad5bdfd87327bed598c10461db695c">getObject</a>(<a class="code" href="../../db/d84/classCCopasiObjectName.html">CCopasiObjectName</a>(<span class="stringliteral">&quot;Reference=InitialVolume&quot;</span>))-&gt;<a class="code" href="../../df/dfa/classCObjectInterface.html#a05acf7754b8c69b8eb23e583d7bf5b92">getCN</a>() + <span class="stringliteral">&quot;&gt;&quot;</span>));</div>
<div class="line"><a name="l06194"></a><span class="lineno"> 6194</span>&#160;                            }</div>
<div class="line"><a name="l06195"></a><span class="lineno"> 6195</span>&#160;                          <span class="keywordflow">else</span></div>
<div class="line"><a name="l06196"></a><span class="lineno"> 6196</span>&#160;                            {</div>
<div class="line"><a name="l06197"></a><span class="lineno"> 6197</span>&#160;                              pTmpNode-&gt;<a class="code" href="../../d9/d9d/classCCopasiNode.html#a76b012dfe6d52644d19808875a71db4e">addChild</a>(<span class="keyword">new</span> <a class="code" href="../../d8/d28/classCEvaluationNodeObject.html">CEvaluationNodeObject</a>(<a class="code" href="../../d8/d28/classCEvaluationNodeObject.html#ac395d4a167d9c1848c3872ee94074d86af646af56f5c9953bce5ba78b399fee72">CEvaluationNodeObject::CN</a>, <span class="stringliteral">&quot;&lt;&quot;</span> + pCompartment-&gt;<a class="code" href="../../d9/dfd/classCCopasiContainer.html#a56ad5bdfd87327bed598c10461db695c">getObject</a>(<a class="code" href="../../db/d84/classCCopasiObjectName.html">CCopasiObjectName</a>(<span class="stringliteral">&quot;Reference=Volume&quot;</span>))-&gt;<a class="code" href="../../df/dfa/classCObjectInterface.html#a05acf7754b8c69b8eb23e583d7bf5b92">getCN</a>() + <span class="stringliteral">&quot;&gt;&quot;</span>));</div>
<div class="line"><a name="l06198"></a><span class="lineno"> 6198</span>&#160;                            }</div>
<div class="line"><a name="l06199"></a><span class="lineno"> 6199</span>&#160;</div>
<div class="line"><a name="l06200"></a><span class="lineno"> 6200</span>&#160;                          pResult = pTmpNode;</div>
<div class="line"><a name="l06201"></a><span class="lineno"> 6201</span>&#160;                        }</div>
<div class="line"><a name="l06202"></a><span class="lineno"> 6202</span>&#160;                    }</div>
<div class="line"><a name="l06203"></a><span class="lineno"> 6203</span>&#160;                }</div>
<div class="line"><a name="l06204"></a><span class="lineno"> 6204</span>&#160;              <span class="keywordflow">else</span></div>
<div class="line"><a name="l06205"></a><span class="lineno"> 6205</span>&#160;                {</div>
<div class="line"><a name="l06206"></a><span class="lineno"> 6206</span>&#160;                  <a class="code" href="../../d9/d2d/CCopasiMessage_8h.html#a1e835c01335d6f956a78adf106ed1b15">fatalError</a>();</div>
<div class="line"><a name="l06207"></a><span class="lineno"> 6207</span>&#160;                }</div>
<div class="line"><a name="l06208"></a><span class="lineno"> 6208</span>&#160;            }</div>
<div class="line"><a name="l06209"></a><span class="lineno"> 6209</span>&#160;        }</div>
<div class="line"><a name="l06210"></a><span class="lineno"> 6210</span>&#160;    }</div>
<div class="line"><a name="l06211"></a><span class="lineno"> 6211</span>&#160;  <span class="comment">// check if there is a division by avogadros number and if so, just</span></div>
<div class="line"><a name="l06212"></a><span class="lineno"> 6212</span>&#160;  <span class="comment">// drop the division instead of introducing a new multiplication</span></div>
<div class="line"><a name="l06213"></a><span class="lineno"> 6213</span>&#160;  <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="../../d8/d9f/classCEvaluationNode.html#a9e5fcf60f22d2701417f90756847d37b">CEvaluationNodeObject::type</a>(pOrigNode-&gt;<a class="code" href="../../d8/d9f/classCEvaluationNode.html#ae24b55d848d78cec0a359fd199c76562">getType</a>()) == <a class="code" href="../../d8/d9f/classCEvaluationNode.html#aeef59b7ae37d1323a4900e5d19140491a745531dbd3babe952bfaa4176744dbac">CEvaluationNodeObject::OPERATOR</a> &amp;&amp; ((<a class="code" href="../../d5/de4/classCEvaluationNodeOperator.html#a39e738b7acfcf431f7c72e76b68ffa98">CEvaluationNodeOperator::SubType</a>)<a class="code" href="../../d8/d9f/classCEvaluationNode.html#a2cb02df3d57dad7ad1f9654941135c31">CEvaluationNode::subType</a>(pOrigNode-&gt;<a class="code" href="../../d8/d9f/classCEvaluationNode.html#ae24b55d848d78cec0a359fd199c76562">getType</a>())) == <a class="code" href="../../d5/de4/classCEvaluationNodeOperator.html#a39e738b7acfcf431f7c72e76b68ffa98ac57c4c4ad14989329031b3805fed9137">CEvaluationNodeOperator::DIVIDE</a>)</div>
<div class="line"><a name="l06214"></a><span class="lineno"> 6214</span>&#160;    {</div>
<div class="line"><a name="l06215"></a><span class="lineno"> 6215</span>&#160;      <span class="comment">// check if one of the child nodes is a reference to a species</span></div>
<div class="line"><a name="l06216"></a><span class="lineno"> 6216</span>&#160;</div>
<div class="line"><a name="l06217"></a><span class="lineno"> 6217</span>&#160;      <span class="keyword">const</span> <a class="code" href="../../d8/d9f/classCEvaluationNode.html">CEvaluationNode</a>* pLeft = <span class="keyword">dynamic_cast&lt;</span><span class="keyword">const </span><a class="code" href="../../d8/d9f/classCEvaluationNode.html">CEvaluationNode</a>*<span class="keyword">&gt;</span>(pOrigNode-&gt;<a class="code" href="../../d9/d9d/classCCopasiNode.html#acad859fb98cfa7f9d328a1cf1ee57023">getChild</a>());</div>
<div class="line"><a name="l06218"></a><span class="lineno"> 6218</span>&#160;      <span class="keyword">const</span> <a class="code" href="../../d8/d9f/classCEvaluationNode.html">CEvaluationNode</a>* pRight = <span class="keyword">dynamic_cast&lt;</span><span class="keyword">const </span><a class="code" href="../../d8/d9f/classCEvaluationNode.html">CEvaluationNode</a>*<span class="keyword">&gt;</span>(pLeft-&gt;<a class="code" href="../../d9/d9d/classCCopasiNode.html#a0730aecebb9ca0f8401b7d0223e266e8">getSibling</a>());</div>
<div class="line"><a name="l06219"></a><span class="lineno"> 6219</span>&#160;      assert(pLeft != NULL);</div>
<div class="line"><a name="l06220"></a><span class="lineno"> 6220</span>&#160;      assert(pRight != NULL);</div>
<div class="line"><a name="l06221"></a><span class="lineno"> 6221</span>&#160;</div>
<div class="line"><a name="l06222"></a><span class="lineno"> 6222</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="../../d8/d9f/classCEvaluationNode.html#a9e5fcf60f22d2701417f90756847d37b">CEvaluationNode::type</a>(pLeft-&gt;<a class="code" href="../../d8/d9f/classCEvaluationNode.html#ae24b55d848d78cec0a359fd199c76562">getType</a>()) == <a class="code" href="../../d8/d9f/classCEvaluationNode.html#aeef59b7ae37d1323a4900e5d19140491a373ef5eff2832cc83a380a1a6d5f17e7">CEvaluationNode::OBJECT</a>)</div>
<div class="line"><a name="l06223"></a><span class="lineno"> 6223</span>&#160;        {</div>
<div class="line"><a name="l06224"></a><span class="lineno"> 6224</span>&#160;          std::vector&lt;CCopasiContainer*&gt; containers;</div>
<div class="line"><a name="l06225"></a><span class="lineno"> 6225</span>&#160;          containers.push_back(const_cast&lt;CModel*&gt;(dataModel.<a class="code" href="../../d4/d18/classCCopasiDataModel.html#a2e65952e0caf0b2709d381cf949fec69">getModel</a>()));</div>
<div class="line"><a name="l06226"></a><span class="lineno"> 6226</span>&#160;          <span class="keyword">const</span> <a class="code" href="../../d4/da8/classCCopasiObject.html">CCopasiObject</a>* pObject = dataModel.<a class="code" href="../../d4/d18/classCCopasiDataModel.html#a9d54888c14c755abec4c757289ee26f7">ObjectFromName</a>(containers, dynamic_cast&lt;const CEvaluationNodeObject*&gt;(pLeft)-&gt;getObjectCN());</div>
<div class="line"><a name="l06227"></a><span class="lineno"> 6227</span>&#160;</div>
<div class="line"><a name="l06228"></a><span class="lineno"> 6228</span>&#160;          <span class="keywordflow">if</span> (pObject != NULL &amp;&amp; pObject-&gt;<a class="code" href="../../d4/da8/classCCopasiObject.html#aab9462de68df423ab9eaebaafabcf783">isReference</a>())</div>
<div class="line"><a name="l06229"></a><span class="lineno"> 6229</span>&#160;            {</div>
<div class="line"><a name="l06230"></a><span class="lineno"> 6230</span>&#160;              <span class="keyword">const</span> <a class="code" href="../../d4/da8/classCCopasiObject.html">CCopasiObject</a>* pParent = pObject-&gt;<a class="code" href="../../d4/da8/classCCopasiObject.html#a33bb5035eec7ebc5e3ecac4771316405">getObjectParent</a>();</div>
<div class="line"><a name="l06231"></a><span class="lineno"> 6231</span>&#160;              <span class="comment">// check if the parent is a metabolite</span></div>
<div class="line"><a name="l06232"></a><span class="lineno"> 6232</span>&#160;              <span class="keyword">const</span> <a class="code" href="../../dc/d44/classCMetab.html">CMetab</a>* pMetab = <span class="keyword">dynamic_cast&lt;</span><span class="keyword">const </span><a class="code" href="../../dc/d44/classCMetab.html">CMetab</a>*<span class="keyword">&gt;</span>(pParent);</div>
<div class="line"><a name="l06233"></a><span class="lineno"> 6233</span>&#160;</div>
<div class="line"><a name="l06234"></a><span class="lineno"> 6234</span>&#160;              <span class="keywordflow">if</span> (pMetab != NULL)</div>
<div class="line"><a name="l06235"></a><span class="lineno"> 6235</span>&#160;                {</div>
<div class="line"><a name="l06236"></a><span class="lineno"> 6236</span>&#160;                  <span class="comment">// check if pRight is a number or a parameter that</span></div>
<div class="line"><a name="l06237"></a><span class="lineno"> 6237</span>&#160;                  <span class="comment">// corresponds to avogadros number</span></div>
<div class="line"><a name="l06238"></a><span class="lineno"> 6238</span>&#160;                  <span class="keywordflow">if</span> (<a class="code" href="../../d8/d9f/classCEvaluationNode.html#a9e5fcf60f22d2701417f90756847d37b">CEvaluationNode::type</a>(pRight-&gt;<a class="code" href="../../d8/d9f/classCEvaluationNode.html#ae24b55d848d78cec0a359fd199c76562">getType</a>()) == <a class="code" href="../../d8/d9f/classCEvaluationNode.html#aeef59b7ae37d1323a4900e5d19140491a5cd708e5bd1913c01508638dcf6fae3e">CEvaluationNode::NUMBER</a> &amp;&amp;</div>
<div class="line"><a name="l06239"></a><span class="lineno"> 6239</span>&#160;                      (((<a class="code" href="../../d3/d2a/classCEvaluationNodeNumber.html#a82abcf0fd7082e54feab9739b3258948">CEvaluationNodeNumber::SubType</a>)<a class="code" href="../../d8/d9f/classCEvaluationNode.html#a2cb02df3d57dad7ad1f9654941135c31">CEvaluationNode::subType</a>(pRight-&gt;<a class="code" href="../../d8/d9f/classCEvaluationNode.html#ae24b55d848d78cec0a359fd199c76562">getType</a>())) == <a class="code" href="../../d3/d2a/classCEvaluationNodeNumber.html#a82abcf0fd7082e54feab9739b3258948a93ffe20de6f762c274a3575679cfb7a4">CEvaluationNodeNumber::DOUBLE</a> ||</div>
<div class="line"><a name="l06240"></a><span class="lineno"> 6240</span>&#160;                       ((<a class="code" href="../../d3/d2a/classCEvaluationNodeNumber.html#a82abcf0fd7082e54feab9739b3258948">CEvaluationNodeNumber::SubType</a>)<a class="code" href="../../d8/d9f/classCEvaluationNode.html#a2cb02df3d57dad7ad1f9654941135c31">CEvaluationNode::subType</a>(pRight-&gt;<a class="code" href="../../d8/d9f/classCEvaluationNode.html#ae24b55d848d78cec0a359fd199c76562">getType</a>())) == <a class="code" href="../../d3/d2a/classCEvaluationNodeNumber.html#a82abcf0fd7082e54feab9739b3258948a8c4690dbdd9f39728b6fe89bf2bc3567">CEvaluationNodeNumber::ENOTATION</a>))</div>
<div class="line"><a name="l06241"></a><span class="lineno"> 6241</span>&#160;                    {</div>
<div class="line"><a name="l06242"></a><span class="lineno"> 6242</span>&#160;                      <span class="keywordtype">double</span> value = <span class="keyword">dynamic_cast&lt;</span><span class="keyword">const </span><a class="code" href="../../d3/d2a/classCEvaluationNodeNumber.html">CEvaluationNodeNumber</a>*<span class="keyword">&gt;</span>(pRight)-&gt;getValue();</div>
<div class="line"><a name="l06243"></a><span class="lineno"> 6243</span>&#160;</div>
<div class="line"><a name="l06244"></a><span class="lineno"> 6244</span>&#160;                      <span class="keywordflow">if</span> (fabs((factor - value) / factor) &lt;= 1e-3)</div>
<div class="line"><a name="l06245"></a><span class="lineno"> 6245</span>&#160;                        {</div>
<div class="line"><a name="l06246"></a><span class="lineno"> 6246</span>&#160;                          <span class="comment">// copyBranch should be OK since the node has no</span></div>
<div class="line"><a name="l06247"></a><span class="lineno"> 6247</span>&#160;                          <span class="comment">// children anyway</span></div>
<div class="line"><a name="l06248"></a><span class="lineno"> 6248</span>&#160;                          pResult = pLeft-&gt;<a class="code" href="../../d8/d9f/classCEvaluationNode.html#a76178fce53d44b1f5c6c7e95dae460d5">copyBranch</a>();</div>
<div class="line"><a name="l06249"></a><span class="lineno"> 6249</span>&#160;                        }</div>
<div class="line"><a name="l06250"></a><span class="lineno"> 6250</span>&#160;                    }</div>
<div class="line"><a name="l06251"></a><span class="lineno"> 6251</span>&#160;                  <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="../../d8/d9f/classCEvaluationNode.html#a9e5fcf60f22d2701417f90756847d37b">CEvaluationNode::type</a>(pRight-&gt;<a class="code" href="../../d8/d9f/classCEvaluationNode.html#ae24b55d848d78cec0a359fd199c76562">getType</a>()) == <a class="code" href="../../d8/d9f/classCEvaluationNode.html#aeef59b7ae37d1323a4900e5d19140491a373ef5eff2832cc83a380a1a6d5f17e7">CEvaluationNode::OBJECT</a>)</div>
<div class="line"><a name="l06252"></a><span class="lineno"> 6252</span>&#160;                    {</div>
<div class="line"><a name="l06253"></a><span class="lineno"> 6253</span>&#160;                      <span class="keyword">const</span> <a class="code" href="../../d4/da8/classCCopasiObject.html">CCopasiObject</a>* pObject2 = dataModel.<a class="code" href="../../d4/d18/classCCopasiDataModel.html#a9d54888c14c755abec4c757289ee26f7">ObjectFromName</a>(containers, dynamic_cast&lt;const CEvaluationNodeObject*&gt;(pRight)-&gt;getObjectCN());</div>
<div class="line"><a name="l06254"></a><span class="lineno"> 6254</span>&#160;</div>
<div class="line"><a name="l06255"></a><span class="lineno"> 6255</span>&#160;                      <span class="keywordflow">if</span> (pObject2 != NULL &amp;&amp; pObject2-&gt;<a class="code" href="../../d4/da8/classCCopasiObject.html#aab9462de68df423ab9eaebaafabcf783">isReference</a>())</div>
<div class="line"><a name="l06256"></a><span class="lineno"> 6256</span>&#160;                        {</div>
<div class="line"><a name="l06257"></a><span class="lineno"> 6257</span>&#160;                          <span class="keyword">const</span> <a class="code" href="../../d4/da8/classCCopasiObject.html">CCopasiObject</a>* pObjectParent2 = pObject2-&gt;<a class="code" href="../../d4/da8/classCCopasiObject.html#a33bb5035eec7ebc5e3ecac4771316405">getObjectParent</a>();</div>
<div class="line"><a name="l06258"></a><span class="lineno"> 6258</span>&#160;                          <span class="keyword">const</span> <a class="code" href="../../d7/dec/classCModelValue.html">CModelValue</a>* pMV = <span class="keyword">dynamic_cast&lt;</span><span class="keyword">const </span><a class="code" href="../../d7/dec/classCModelValue.html">CModelValue</a>*<span class="keyword">&gt;</span>(pObjectParent2);</div>
<div class="line"><a name="l06259"></a><span class="lineno"> 6259</span>&#160;</div>
<div class="line"><a name="l06260"></a><span class="lineno"> 6260</span>&#160;                          <span class="keywordflow">if</span> (pMV != NULL &amp;&amp; pMV-&gt;<a class="code" href="../../d0/da0/classCModelEntity.html#ad6bdcaa2e8887271f61fc363262cc9ed">getStatus</a>() == <a class="code" href="../../d0/da0/classCModelEntity.html#a86cb8e66e255d66db258324064efc78aa8751c35af95ea9346908d9835a1b0570">CModelEntity::FIXED</a>)</div>
<div class="line"><a name="l06261"></a><span class="lineno"> 6261</span>&#160;                            {</div>
<div class="line"><a name="l06262"></a><span class="lineno"> 6262</span>&#160;                              <span class="keywordtype">double</span> value = pMV-&gt;<a class="code" href="../../d0/da0/classCModelEntity.html#ac411005efc9db817150b2bd95303d53c">getValue</a>();</div>
<div class="line"><a name="l06263"></a><span class="lineno"> 6263</span>&#160;</div>
<div class="line"><a name="l06264"></a><span class="lineno"> 6264</span>&#160;                              <span class="keywordflow">if</span> (fabs((factor - value) / factor) &lt;= 1e-3)</div>
<div class="line"><a name="l06265"></a><span class="lineno"> 6265</span>&#160;                                {</div>
<div class="line"><a name="l06266"></a><span class="lineno"> 6266</span>&#160;                                  pResult = pLeft-&gt;<a class="code" href="../../d8/d9f/classCEvaluationNode.html#a76178fce53d44b1f5c6c7e95dae460d5">copyBranch</a>();</div>
<div class="line"><a name="l06267"></a><span class="lineno"> 6267</span>&#160;                                }</div>
<div class="line"><a name="l06268"></a><span class="lineno"> 6268</span>&#160;                            }</div>
<div class="line"><a name="l06269"></a><span class="lineno"> 6269</span>&#160;                        }</div>
<div class="line"><a name="l06270"></a><span class="lineno"> 6270</span>&#160;                    }</div>
<div class="line"><a name="l06271"></a><span class="lineno"> 6271</span>&#160;                }</div>
<div class="line"><a name="l06272"></a><span class="lineno"> 6272</span>&#160;              <span class="keywordflow">else</span></div>
<div class="line"><a name="l06273"></a><span class="lineno"> 6273</span>&#160;                {</div>
<div class="line"><a name="l06274"></a><span class="lineno"> 6274</span>&#160;                  <span class="comment">// Check if pRight is an object node</span></div>
<div class="line"><a name="l06275"></a><span class="lineno"> 6275</span>&#160;                  <span class="keywordflow">if</span> (<a class="code" href="../../d8/d9f/classCEvaluationNode.html#a9e5fcf60f22d2701417f90756847d37b">CEvaluationNode::type</a>(pRight-&gt;<a class="code" href="../../d8/d9f/classCEvaluationNode.html#ae24b55d848d78cec0a359fd199c76562">getType</a>()) == <a class="code" href="../../d8/d9f/classCEvaluationNode.html#aeef59b7ae37d1323a4900e5d19140491a373ef5eff2832cc83a380a1a6d5f17e7">CEvaluationNode::OBJECT</a>)</div>
<div class="line"><a name="l06276"></a><span class="lineno"> 6276</span>&#160;                    {</div>
<div class="line"><a name="l06277"></a><span class="lineno"> 6277</span>&#160;                      <span class="comment">// check if pRight is a reference to a species</span></div>
<div class="line"><a name="l06278"></a><span class="lineno"> 6278</span>&#160;                      <span class="keyword">const</span> <a class="code" href="../../d4/da8/classCCopasiObject.html">CCopasiObject</a>* pObject2 = dataModel.<a class="code" href="../../d4/d18/classCCopasiDataModel.html#a9d54888c14c755abec4c757289ee26f7">ObjectFromName</a>(containers, dynamic_cast&lt;const CEvaluationNodeObject*&gt;(pRight)-&gt;getObjectCN());</div>
<div class="line"><a name="l06279"></a><span class="lineno"> 6279</span>&#160;</div>
<div class="line"><a name="l06280"></a><span class="lineno"> 6280</span>&#160;                      <span class="keywordflow">if</span> (pObject2 != NULL &amp;&amp; pObject2-&gt;<a class="code" href="../../d4/da8/classCCopasiObject.html#aab9462de68df423ab9eaebaafabcf783">isReference</a>())</div>
<div class="line"><a name="l06281"></a><span class="lineno"> 6281</span>&#160;                        {</div>
<div class="line"><a name="l06282"></a><span class="lineno"> 6282</span>&#160;                          <span class="keyword">const</span> <a class="code" href="../../d4/da8/classCCopasiObject.html">CCopasiObject</a>* pParent2 = pObject2-&gt;<a class="code" href="../../d4/da8/classCCopasiObject.html#a33bb5035eec7ebc5e3ecac4771316405">getObjectParent</a>();</div>
<div class="line"><a name="l06283"></a><span class="lineno"> 6283</span>&#160;                          <span class="comment">// check if the parent is a metabolite</span></div>
<div class="line"><a name="l06284"></a><span class="lineno"> 6284</span>&#160;                          pMetab = <span class="keyword">dynamic_cast&lt;</span><span class="keyword">const </span><a class="code" href="../../dc/d44/classCMetab.html">CMetab</a>*<span class="keyword">&gt;</span>(pParent2);</div>
<div class="line"><a name="l06285"></a><span class="lineno"> 6285</span>&#160;</div>
<div class="line"><a name="l06286"></a><span class="lineno"> 6286</span>&#160;                          <span class="keywordflow">if</span> (pMetab != NULL)</div>
<div class="line"><a name="l06287"></a><span class="lineno"> 6287</span>&#160;                            {</div>
<div class="line"><a name="l06288"></a><span class="lineno"> 6288</span>&#160;                              <span class="comment">// if yes, check if pLeft is a parameter that corresponds</span></div>
<div class="line"><a name="l06289"></a><span class="lineno"> 6289</span>&#160;                              <span class="comment">// to Avogadros number</span></div>
<div class="line"><a name="l06290"></a><span class="lineno"> 6290</span>&#160;                              <span class="keywordflow">if</span> (<a class="code" href="../../d8/d9f/classCEvaluationNode.html#a9e5fcf60f22d2701417f90756847d37b">CEvaluationNode::type</a>(pLeft-&gt;<a class="code" href="../../d8/d9f/classCEvaluationNode.html#ae24b55d848d78cec0a359fd199c76562">getType</a>()) == <a class="code" href="../../d8/d9f/classCEvaluationNode.html#aeef59b7ae37d1323a4900e5d19140491a373ef5eff2832cc83a380a1a6d5f17e7">CEvaluationNode::OBJECT</a>)</div>
<div class="line"><a name="l06291"></a><span class="lineno"> 6291</span>&#160;                                {</div>
<div class="line"><a name="l06292"></a><span class="lineno"> 6292</span>&#160;                                  <span class="keyword">const</span> <a class="code" href="../../d4/da8/classCCopasiObject.html">CCopasiObject</a>* pObject2 = dataModel.<a class="code" href="../../d4/d18/classCCopasiDataModel.html#a9d54888c14c755abec4c757289ee26f7">ObjectFromName</a>(containers, dynamic_cast&lt;const CEvaluationNodeObject*&gt;(pLeft)-&gt;getObjectCN());</div>
<div class="line"><a name="l06293"></a><span class="lineno"> 6293</span>&#160;</div>
<div class="line"><a name="l06294"></a><span class="lineno"> 6294</span>&#160;                                  <span class="keywordflow">if</span> (pObject2 != NULL &amp;&amp; pObject2-&gt;<a class="code" href="../../d4/da8/classCCopasiObject.html#aab9462de68df423ab9eaebaafabcf783">isReference</a>())</div>
<div class="line"><a name="l06295"></a><span class="lineno"> 6295</span>&#160;                                    {</div>
<div class="line"><a name="l06296"></a><span class="lineno"> 6296</span>&#160;                                      <span class="keyword">const</span> <a class="code" href="../../d4/da8/classCCopasiObject.html">CCopasiObject</a>* pObjectParent2 = pObject2-&gt;<a class="code" href="../../d4/da8/classCCopasiObject.html#a33bb5035eec7ebc5e3ecac4771316405">getObjectParent</a>();</div>
<div class="line"><a name="l06297"></a><span class="lineno"> 6297</span>&#160;                                      <span class="keyword">const</span> <a class="code" href="../../d7/dec/classCModelValue.html">CModelValue</a>* pMV = <span class="keyword">dynamic_cast&lt;</span><span class="keyword">const </span><a class="code" href="../../d7/dec/classCModelValue.html">CModelValue</a>*<span class="keyword">&gt;</span>(pObjectParent2);</div>
<div class="line"><a name="l06298"></a><span class="lineno"> 6298</span>&#160;</div>
<div class="line"><a name="l06299"></a><span class="lineno"> 6299</span>&#160;                                      <span class="keywordflow">if</span> (pMV != NULL &amp;&amp; pMV-&gt;<a class="code" href="../../d0/da0/classCModelEntity.html#ad6bdcaa2e8887271f61fc363262cc9ed">getStatus</a>() == <a class="code" href="../../d0/da0/classCModelEntity.html#a86cb8e66e255d66db258324064efc78aa8751c35af95ea9346908d9835a1b0570">CModelEntity::FIXED</a>)</div>
<div class="line"><a name="l06300"></a><span class="lineno"> 6300</span>&#160;                                        {</div>
<div class="line"><a name="l06301"></a><span class="lineno"> 6301</span>&#160;                                          <span class="keywordtype">double</span> value = pMV-&gt;<a class="code" href="../../d0/da0/classCModelEntity.html#ac411005efc9db817150b2bd95303d53c">getValue</a>();</div>
<div class="line"><a name="l06302"></a><span class="lineno"> 6302</span>&#160;</div>
<div class="line"><a name="l06303"></a><span class="lineno"> 6303</span>&#160;                                          <span class="keywordflow">if</span> (fabs((factor - value) / factor) &lt;= 1e-3)</div>
<div class="line"><a name="l06304"></a><span class="lineno"> 6304</span>&#160;                                            {</div>
<div class="line"><a name="l06305"></a><span class="lineno"> 6305</span>&#160;                                              pResult = pRight-&gt;<a class="code" href="../../d8/d9f/classCEvaluationNode.html#a76178fce53d44b1f5c6c7e95dae460d5">copyBranch</a>();</div>
<div class="line"><a name="l06306"></a><span class="lineno"> 6306</span>&#160;                                            }</div>
<div class="line"><a name="l06307"></a><span class="lineno"> 6307</span>&#160;                                        }</div>
<div class="line"><a name="l06308"></a><span class="lineno"> 6308</span>&#160;                                    }</div>
<div class="line"><a name="l06309"></a><span class="lineno"> 6309</span>&#160;                                }</div>
<div class="line"><a name="l06310"></a><span class="lineno"> 6310</span>&#160;                            }</div>
<div class="line"><a name="l06311"></a><span class="lineno"> 6311</span>&#160;                        }</div>
<div class="line"><a name="l06312"></a><span class="lineno"> 6312</span>&#160;                    }</div>
<div class="line"><a name="l06313"></a><span class="lineno"> 6313</span>&#160;                }</div>
<div class="line"><a name="l06314"></a><span class="lineno"> 6314</span>&#160;            }</div>
<div class="line"><a name="l06315"></a><span class="lineno"> 6315</span>&#160;        }</div>
<div class="line"><a name="l06316"></a><span class="lineno"> 6316</span>&#160;    }</div>
<div class="line"><a name="l06317"></a><span class="lineno"> 6317</span>&#160;</div>
<div class="line"><a name="l06318"></a><span class="lineno"> 6318</span>&#160;  <span class="keywordflow">if</span> (pResult == NULL)</div>
<div class="line"><a name="l06319"></a><span class="lineno"> 6319</span>&#160;    {</div>
<div class="line"><a name="l06320"></a><span class="lineno"> 6320</span>&#160;      pResult = pOrigNode-&gt;<a class="code" href="../../d8/d9f/classCEvaluationNode.html#a9d101d99a0f693a2c708951ff1e88797">copyNode</a>(NULL, NULL);</div>
<div class="line"><a name="l06321"></a><span class="lineno"> 6321</span>&#160;      <span class="keyword">const</span> <a class="code" href="../../d8/d9f/classCEvaluationNode.html">CEvaluationNode</a>* pChild = <span class="keyword">dynamic_cast&lt;</span><span class="keyword">const </span><a class="code" href="../../d8/d9f/classCEvaluationNode.html">CEvaluationNode</a>*<span class="keyword">&gt;</span>(pOrigNode-&gt;<a class="code" href="../../d9/d9d/classCCopasiNode.html#acad859fb98cfa7f9d328a1cf1ee57023">getChild</a>());</div>
<div class="line"><a name="l06322"></a><span class="lineno"> 6322</span>&#160;</div>
<div class="line"><a name="l06323"></a><span class="lineno"> 6323</span>&#160;      <span class="keywordflow">while</span> (pChild != NULL)</div>
<div class="line"><a name="l06324"></a><span class="lineno"> 6324</span>&#160;        {</div>
<div class="line"><a name="l06325"></a><span class="lineno"> 6325</span>&#160;          <a class="code" href="../../d8/d9f/classCEvaluationNode.html">CEvaluationNode</a>* pNewChild = this-&gt;<a class="code" href="../../df/d80/classCSBMLExporter.html#a030225cc274a7c545f010ba2ba7f13c3">replaceSpeciesReferences</a>(pChild, dataModel);</div>
<div class="line"><a name="l06326"></a><span class="lineno"> 6326</span>&#160;          assert(pNewChild != NULL);</div>
<div class="line"><a name="l06327"></a><span class="lineno"> 6327</span>&#160;          pResult-&gt;<a class="code" href="../../d9/d9d/classCCopasiNode.html#a76b012dfe6d52644d19808875a71db4e">addChild</a>(pNewChild);</div>
<div class="line"><a name="l06328"></a><span class="lineno"> 6328</span>&#160;          pChild = <span class="keyword">dynamic_cast&lt;</span><span class="keyword">const </span><a class="code" href="../../d8/d9f/classCEvaluationNode.html">CEvaluationNode</a>*<span class="keyword">&gt;</span>(pChild-&gt;<a class="code" href="../../d9/d9d/classCCopasiNode.html#a0730aecebb9ca0f8401b7d0223e266e8">getSibling</a>());</div>
<div class="line"><a name="l06329"></a><span class="lineno"> 6329</span>&#160;        }</div>
<div class="line"><a name="l06330"></a><span class="lineno"> 6330</span>&#160;    }</div>
<div class="line"><a name="l06331"></a><span class="lineno"> 6331</span>&#160;</div>
<div class="line"><a name="l06332"></a><span class="lineno"> 6332</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="../../d7/de4/CQTSSAResultSubWidget_8cpp.html#a015b908fb74f75922e0bc448af09d9d1">pResult</a>;</div>
<div class="line"><a name="l06333"></a><span class="lineno"> 6333</span>&#160;}</div>
<div class="ttc" id="classCEvaluationNode_html_aeef59b7ae37d1323a4900e5d19140491a5cd708e5bd1913c01508638dcf6fae3e"><div class="ttname"><a href="../../d8/d9f/classCEvaluationNode.html#aeef59b7ae37d1323a4900e5d19140491a5cd708e5bd1913c01508638dcf6fae3e">CEvaluationNode::NUMBER</a></div><div class="ttdef"><b>Definition:</b> <a href="../../de/dfa/CEvaluationNode_8h_source.html#l00042">CEvaluationNode.h:42</a></div></div>
<div class="ttc" id="classCEvaluationNode_html_a76178fce53d44b1f5c6c7e95dae460d5"><div class="ttname"><a href="../../d8/d9f/classCEvaluationNode.html#a76178fce53d44b1f5c6c7e95dae460d5">CEvaluationNode::copyBranch</a></div><div class="ttdeci">CEvaluationNode * copyBranch() const </div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d3d/CEvaluationNode_8cpp_source.html#l00404">CEvaluationNode.cpp:404</a></div></div>
<div class="ttc" id="classCSBMLExporter_html_aba959efc152f63f1709d5de60e97a651"><div class="ttname"><a href="../../df/d80/classCSBMLExporter.html#aba959efc152f63f1709d5de60e97a651">CSBMLExporter::mSBMLLevel</a></div><div class="ttdeci">unsigned int mSBMLLevel</div><div class="ttdef"><b>Definition:</b> <a href="../../da/d7f/CSBMLExporter_8h_source.html#l00056">CSBMLExporter.h:56</a></div></div>
<div class="ttc" id="classCSBMLExporter_html_a1541a69b36b8e864883e49f0de244f81"><div class="ttname"><a href="../../df/d80/classCSBMLExporter.html#a1541a69b36b8e864883e49f0de244f81">CSBMLExporter::mpSBMLDocument</a></div><div class="ttdeci">SBMLDocument * mpSBMLDocument</div><div class="ttdef"><b>Definition:</b> <a href="../../da/d7f/CSBMLExporter_8h_source.html#l00055">CSBMLExporter.h:55</a></div></div>
<div class="ttc" id="classCCopasiNode_html_a0730aecebb9ca0f8401b7d0223e266e8"><div class="ttname"><a href="../../d9/d9d/classCCopasiNode.html#a0730aecebb9ca0f8401b7d0223e266e8">CCopasiNode::getSibling</a></div><div class="ttdeci">CCopasiNode&lt; Data &gt; * getSibling()</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d24/CCopasiNode_8h_source.html#l00353">CCopasiNode.h:353</a></div></div>
<div class="ttc" id="classCCopasiDataModel_html_a2e65952e0caf0b2709d381cf949fec69"><div class="ttname"><a href="../../d4/d18/classCCopasiDataModel.html#a2e65952e0caf0b2709d381cf949fec69">CCopasiDataModel::getModel</a></div><div class="ttdeci">CModel * getModel()</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d38/CCopasiDataModel_8cpp_source.html#l01407">CCopasiDataModel.cpp:1407</a></div></div>
<div class="ttc" id="classCCopasiObject_html_a1f5e2625716c1ac192561974bd17b3cb"><div class="ttname"><a href="../../d4/da8/classCCopasiObject.html#a1f5e2625716c1ac192561974bd17b3cb">CCopasiObject::getCN</a></div><div class="ttdeci">virtual CCopasiObjectName getCN() const </div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d22/CCopasiObject_8cpp_source.html#l00103">CCopasiObject.cpp:103</a></div></div>
<div class="ttc" id="classCModel_html_ac6c52b224ba5973b9cae3cb3d503e25ba4742ca026f7a9968138284bee1b7e7ee"><div class="ttname"><a href="../../d4/d04/classCModel.html#ac6c52b224ba5973b9cae3cb3d503e25ba4742ca026f7a9968138284bee1b7e7ee">CModel::number</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d90/CModel_8h_source.html#l00096">CModel.h:96</a></div></div>
<div class="ttc" id="classCCopasiObject_html_a879d6756b51f6b58d307940e1343bd10"><div class="ttname"><a href="../../d4/da8/classCCopasiObject.html#a879d6756b51f6b58d307940e1343bd10">CCopasiObject::getObjectName</a></div><div class="ttdeci">const std::string &amp; getObjectName() const </div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d22/CCopasiObject_8cpp_source.html#l00258">CCopasiObject.cpp:258</a></div></div>
<div class="ttc" id="classCEvaluationNode_html_a9d101d99a0f693a2c708951ff1e88797"><div class="ttname"><a href="../../d8/d9f/classCEvaluationNode.html#a9d101d99a0f693a2c708951ff1e88797">CEvaluationNode::copyNode</a></div><div class="ttdeci">CEvaluationNode * copyNode(CEvaluationNode *child1, CEvaluationNode *child2) const </div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d3d/CEvaluationNode_8cpp_source.html#l00378">CEvaluationNode.cpp:378</a></div></div>
<div class="ttc" id="classCObjectInterface_html_a05acf7754b8c69b8eb23e583d7bf5b92"><div class="ttname"><a href="../../df/dfa/classCObjectInterface.html#a05acf7754b8c69b8eb23e583d7bf5b92">CObjectInterface::getCN</a></div><div class="ttdeci">virtual CCopasiObjectName getCN() const =0</div></div>
<div class="ttc" id="classCModel_html_a8eb14b87c1bfaa2479fbb897e50832b8"><div class="ttname"><a href="../../d4/d04/classCModel.html#a8eb14b87c1bfaa2479fbb897e50832b8">CModel::getQuantityUnitEnum</a></div><div class="ttdeci">CModel::QuantityUnit getQuantityUnitEnum() const </div><div class="ttdef"><b>Definition:</b> <a href="../../df/d08/CModel_8cpp_source.html#l02331">CModel.cpp:2331</a></div></div>
<div class="ttc" id="classCCompartment_html_a977268782cb7d6cd7a01cab642b45c09"><div class="ttname"><a href="../../d4/dd4/classCCompartment.html#a977268782cb7d6cd7a01cab642b45c09">CCompartment::getDimensionality</a></div><div class="ttdeci">unsigned C_INT32 getDimensionality() const </div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d2d/CCompartment_8cpp_source.html#l00204">CCompartment.cpp:204</a></div></div>
<div class="ttc" id="classCModelValue_html"><div class="ttname"><a href="../../d7/dec/classCModelValue.html">CModelValue</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d1/da3/CModelValue_8h_source.html#l00419">CModelValue.h:419</a></div></div>
<div class="ttc" id="CCopasiMessage_8h_html_a1e835c01335d6f956a78adf106ed1b15"><div class="ttname"><a href="../../d9/d2d/CCopasiMessage_8h.html#a1e835c01335d6f956a78adf106ed1b15">fatalError</a></div><div class="ttdeci">#define fatalError()</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d2d/CCopasiMessage_8h_source.html#l00074">CCopasiMessage.h:74</a></div></div>
<div class="ttc" id="classCEvaluationNode_html_ae24b55d848d78cec0a359fd199c76562"><div class="ttname"><a href="../../d8/d9f/classCEvaluationNode.html#ae24b55d848d78cec0a359fd199c76562">CEvaluationNode::getType</a></div><div class="ttdeci">const Type &amp; getType() const </div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d3d/CEvaluationNode_8cpp_source.html#l00357">CEvaluationNode.cpp:357</a></div></div>
<div class="ttc" id="classCEvaluationNodeNumber_html_a82abcf0fd7082e54feab9739b3258948a93ffe20de6f762c274a3575679cfb7a4"><div class="ttname"><a href="../../d3/d2a/classCEvaluationNodeNumber.html#a82abcf0fd7082e54feab9739b3258948a93ffe20de6f762c274a3575679cfb7a4">CEvaluationNodeNumber::DOUBLE</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d6d/CEvaluationNodeNumber_8h_source.html#l00032">CEvaluationNodeNumber.h:32</a></div></div>
<div class="ttc" id="classCCopasiObject_html"><div class="ttname"><a href="../../d4/da8/classCCopasiObject.html">CCopasiObject</a></div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d9f/CCopasiObject_8h_source.html#l00216">CCopasiObject.h:216</a></div></div>
<div class="ttc" id="classCMetab_html"><div class="ttname"><a href="../../dc/d44/classCMetab.html">CMetab</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d3/df5/CMetab_8h_source.html#l00178">CMetab.h:178</a></div></div>
<div class="ttc" id="classCSBMLExporter_html_a60ab409a11b90a1ca965d7702828af74"><div class="ttname"><a href="../../df/d80/classCSBMLExporter.html#a60ab409a11b90a1ca965d7702828af74">CSBMLExporter::mIdMap</a></div><div class="ttdeci">std::map&lt; std::string, const SBase * &gt; mIdMap</div><div class="ttdef"><b>Definition:</b> <a href="../../da/d7f/CSBMLExporter_8h_source.html#l00064">CSBMLExporter.h:64</a></div></div>
<div class="ttc" id="classCSBMLExporter_html_a57b7199230b68903fd1af9531ec6fbb7"><div class="ttname"><a href="../../df/d80/classCSBMLExporter.html#a57b7199230b68903fd1af9531ec6fbb7">CSBMLExporter::mAvogadroCreated</a></div><div class="ttdeci">bool mAvogadroCreated</div><div class="ttdef"><b>Definition:</b> <a href="../../da/d7f/CSBMLExporter_8h_source.html#l00069">CSBMLExporter.h:69</a></div></div>
<div class="ttc" id="classCEvaluationNode_html_aeef59b7ae37d1323a4900e5d19140491a373ef5eff2832cc83a380a1a6d5f17e7"><div class="ttname"><a href="../../d8/d9f/classCEvaluationNode.html#aeef59b7ae37d1323a4900e5d19140491a373ef5eff2832cc83a380a1a6d5f17e7">CEvaluationNode::OBJECT</a></div><div class="ttdef"><b>Definition:</b> <a href="../../de/dfa/CEvaluationNode_8h_source.html#l00045">CEvaluationNode.h:45</a></div></div>
<div class="ttc" id="classCSBMLExporter_html_ab4d7f9c3d22b8225d1a4d9e3a98b855e"><div class="ttname"><a href="../../df/d80/classCSBMLExporter.html#ab4d7f9c3d22b8225d1a4d9e3a98b855e">CSBMLExporter::createUniqueId</a></div><div class="ttdeci">static const std::string createUniqueId(const std::map&lt; std::string, const SBase * &gt; &amp;idMap, const std::string &amp;prefix, bool addIndexForFirst, const std::string &amp;separator=&quot;_&quot;)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d2f/CSBMLExporter_8cpp_source.html#l02252">CSBMLExporter.cpp:2252</a></div></div>
<div class="ttc" id="classCEvaluationNodeOperator_html_a39e738b7acfcf431f7c72e76b68ffa98af9d4b686c9ae4f20ca8f1cd707fbe6a0"><div class="ttname"><a href="../../d5/de4/classCEvaluationNodeOperator.html#a39e738b7acfcf431f7c72e76b68ffa98af9d4b686c9ae4f20ca8f1cd707fbe6a0">CEvaluationNodeOperator::MULTIPLY</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d39/CEvaluationNodeOperator_8h_source.html#l00042">CEvaluationNodeOperator.h:42</a></div></div>
<div class="ttc" id="classCEvaluationNodeOperator_html_a39e738b7acfcf431f7c72e76b68ffa98"><div class="ttname"><a href="../../d5/de4/classCEvaluationNodeOperator.html#a39e738b7acfcf431f7c72e76b68ffa98">CEvaluationNodeOperator::SubType</a></div><div class="ttdeci">SubType</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d39/CEvaluationNodeOperator_8h_source.html#l00038">CEvaluationNodeOperator.h:38</a></div></div>
<div class="ttc" id="classCEvaluationNode_html_a9e5fcf60f22d2701417f90756847d37b"><div class="ttname"><a href="../../d8/d9f/classCEvaluationNode.html#a9e5fcf60f22d2701417f90756847d37b">CEvaluationNode::type</a></div><div class="ttdeci">static Type type(const Type &amp;type)</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d3d/CEvaluationNode_8cpp_source.html#l00123">CEvaluationNode.cpp:123</a></div></div>
<div class="ttc" id="classCEvaluationNodeNumber_html"><div class="ttname"><a href="../../d3/d2a/classCEvaluationNodeNumber.html">CEvaluationNodeNumber</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d6d/CEvaluationNodeNumber_8h_source.html#l00023">CEvaluationNodeNumber.h:23</a></div></div>
<div class="ttc" id="classCEvaluationNodeObject_html_ac395d4a167d9c1848c3872ee94074d86af646af56f5c9953bce5ba78b399fee72"><div class="ttname"><a href="../../d8/d28/classCEvaluationNodeObject.html#ac395d4a167d9c1848c3872ee94074d86af646af56f5c9953bce5ba78b399fee72">CEvaluationNodeObject::CN</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d59/CEvaluationNodeObject_8h_source.html#l00044">CEvaluationNodeObject.h:44</a></div></div>
<div class="ttc" id="classCModel_html_ab30b51797988903a4af4e7fed3d163fa"><div class="ttname"><a href="../../d4/d04/classCModel.html#ab30b51797988903a4af4e7fed3d163fa">CModel::getQuantity2NumberFactor</a></div><div class="ttdeci">const C_FLOAT64 &amp; getQuantity2NumberFactor() const </div><div class="ttdef"><b>Definition:</b> <a href="../../df/d08/CModel_8cpp_source.html#l02354">CModel.cpp:2354</a></div></div>
<div class="ttc" id="classCCopasiObject_html_aab9462de68df423ab9eaebaafabcf783"><div class="ttname"><a href="../../d4/da8/classCCopasiObject.html#aab9462de68df423ab9eaebaafabcf783">CCopasiObject::isReference</a></div><div class="ttdeci">bool isReference() const </div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d22/CCopasiObject_8cpp_source.html#l00572">CCopasiObject.cpp:572</a></div></div>
<div class="ttc" id="classCCopasiNode_html_a76b012dfe6d52644d19808875a71db4e"><div class="ttname"><a href="../../d9/d9d/classCCopasiNode.html#a76b012dfe6d52644d19808875a71db4e">CCopasiNode::addChild</a></div><div class="ttdeci">virtual bool addChild(CCopasiNode&lt; Data &gt; *pChild, CCopasiNode&lt; Data &gt; *pAfter=NULL)</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d24/CCopasiNode_8h_source.html#l00156">CCopasiNode.h:156</a></div></div>
<div class="ttc" id="classCModelEntity_html_a86cb8e66e255d66db258324064efc78aa8751c35af95ea9346908d9835a1b0570"><div class="ttname"><a href="../../d0/da0/classCModelEntity.html#a86cb8e66e255d66db258324064efc78aa8751c35af95ea9346908d9835a1b0570">CModelEntity::FIXED</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d1/da3/CModelValue_8h_source.html#l00055">CModelValue.h:55</a></div></div>
<div class="ttc" id="classCCompartment_html"><div class="ttname"><a href="../../d4/dd4/classCCompartment.html">CCompartment</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d59/CCompartment_8h_source.html#l00037">CCompartment.h:37</a></div></div>
<div class="ttc" id="classCEvaluationNodeNumber_html_a82abcf0fd7082e54feab9739b3258948"><div class="ttname"><a href="../../d3/d2a/classCEvaluationNodeNumber.html#a82abcf0fd7082e54feab9739b3258948">CEvaluationNodeNumber::SubType</a></div><div class="ttdeci">SubType</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d6d/CEvaluationNodeNumber_8h_source.html#l00029">CEvaluationNodeNumber.h:29</a></div></div>
<div class="ttc" id="CQTSSAResultSubWidget_8cpp_html_a015b908fb74f75922e0bc448af09d9d1"><div class="ttname"><a href="../../d7/de4/CQTSSAResultSubWidget_8cpp.html#a015b908fb74f75922e0bc448af09d9d1">pResult</a></div><div class="ttdeci">const CArrayAnnotation * pResult</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/de4/CQTSSAResultSubWidget_8cpp_source.html#l00028">CQTSSAResultSubWidget.cpp:28</a></div></div>
<div class="ttc" id="classCEvaluationNode_html_a2cb02df3d57dad7ad1f9654941135c31"><div class="ttname"><a href="../../d8/d9f/classCEvaluationNode.html#a2cb02df3d57dad7ad1f9654941135c31">CEvaluationNode::subType</a></div><div class="ttdeci">static Type subType(const Type &amp;type)</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d3d/CEvaluationNode_8cpp_source.html#l00120">CEvaluationNode.cpp:120</a></div></div>
<div class="ttc" id="classCEvaluationNodeOperator_html_a39e738b7acfcf431f7c72e76b68ffa98ac57c4c4ad14989329031b3805fed9137"><div class="ttname"><a href="../../d5/de4/classCEvaluationNodeOperator.html#a39e738b7acfcf431f7c72e76b68ffa98ac57c4c4ad14989329031b3805fed9137">CEvaluationNodeOperator::DIVIDE</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d39/CEvaluationNodeOperator_8h_source.html#l00043">CEvaluationNodeOperator.h:43</a></div></div>
<div class="ttc" id="classCSBMLExporter_html_aeb19f9866a1735848770125dad2aebad"><div class="ttname"><a href="../../df/d80/classCSBMLExporter.html#aeb19f9866a1735848770125dad2aebad">CSBMLExporter::mCOPASI2SBMLMap</a></div><div class="ttdeci">std::map&lt; const CCopasiObject *, SBase * &gt; mCOPASI2SBMLMap</div><div class="ttdef"><b>Definition:</b> <a href="../../da/d7f/CSBMLExporter_8h_source.html#l00061">CSBMLExporter.h:61</a></div></div>
<div class="ttc" id="classCModelEntity_html_ac411005efc9db817150b2bd95303d53c"><div class="ttname"><a href="../../d0/da0/classCModelEntity.html#ac411005efc9db817150b2bd95303d53c">CModelEntity::getValue</a></div><div class="ttdeci">const C_FLOAT64 &amp; getValue() const </div><div class="ttdef"><b>Definition:</b> <a href="../../d8/da3/CModelValue_8cpp_source.html#l00136">CModelValue.cpp:136</a></div></div>
<div class="ttc" id="classCEvaluationNode_html"><div class="ttname"><a href="../../d8/d9f/classCEvaluationNode.html">CEvaluationNode</a></div><div class="ttdef"><b>Definition:</b> <a href="../../de/dfa/CEvaluationNode_8h_source.html#l00033">CEvaluationNode.h:33</a></div></div>
<div class="ttc" id="classCSBMLExporter_html_acf59a37a6e25ed5735988fd792fb1109"><div class="ttname"><a href="../../df/d80/classCSBMLExporter.html#acf59a37a6e25ed5735988fd792fb1109">CSBMLExporter::mpAvogadro</a></div><div class="ttdeci">const CModelValue * mpAvogadro</div><div class="ttdef"><b>Definition:</b> <a href="../../da/d7f/CSBMLExporter_8h_source.html#l00068">CSBMLExporter.h:68</a></div></div>
<div class="ttc" id="classCSBMLExporter_html_a030225cc274a7c545f010ba2ba7f13c3"><div class="ttname"><a href="../../df/d80/classCSBMLExporter.html#a030225cc274a7c545f010ba2ba7f13c3">CSBMLExporter::replaceSpeciesReferences</a></div><div class="ttdeci">CEvaluationNode * replaceSpeciesReferences(const CEvaluationNode *pOrigNode, const CCopasiDataModel &amp;dataModel)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d2f/CSBMLExporter_8cpp_source.html#l06066">CSBMLExporter.cpp:6066</a></div></div>
<div class="ttc" id="classCEvaluationNode_html_aeef59b7ae37d1323a4900e5d19140491a745531dbd3babe952bfaa4176744dbac"><div class="ttname"><a href="../../d8/d9f/classCEvaluationNode.html#aeef59b7ae37d1323a4900e5d19140491a745531dbd3babe952bfaa4176744dbac">CEvaluationNode::OPERATOR</a></div><div class="ttdef"><b>Definition:</b> <a href="../../de/dfa/CEvaluationNode_8h_source.html#l00044">CEvaluationNode.h:44</a></div></div>
<div class="ttc" id="classCSBMLExporter_html_ae5ae5ec70c912323abe9c31b58de2652"><div class="ttname"><a href="../../df/d80/classCSBMLExporter.html#ae5ae5ec70c912323abe9c31b58de2652">CSBMLExporter::mHandledSBMLObjects</a></div><div class="ttdeci">std::set&lt; SBase * &gt; mHandledSBMLObjects</div><div class="ttdef"><b>Definition:</b> <a href="../../da/d7f/CSBMLExporter_8h_source.html#l00062">CSBMLExporter.h:62</a></div></div>
<div class="ttc" id="classCModel_html"><div class="ttname"><a href="../../d4/d04/classCModel.html">CModel</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d90/CModel_8h_source.html#l00050">CModel.h:50</a></div></div>
<div class="ttc" id="classCCopasiContainer_html_a56ad5bdfd87327bed598c10461db695c"><div class="ttname"><a href="../../d9/dfd/classCCopasiContainer.html#a56ad5bdfd87327bed598c10461db695c">CCopasiContainer::getObject</a></div><div class="ttdeci">virtual const CObjectInterface * getObject(const CCopasiObjectName &amp;cn) const </div><div class="ttdef"><b>Definition:</b> <a href="../../df/ddc/CCopasiContainer_8cpp_source.html#l00074">CCopasiContainer.cpp:74</a></div></div>
<div class="ttc" id="CSBMLExporter_8cpp_html_ab36d8e3a7a459d93ed663bfb4b91a4be"><div class="ttname"><a href="../../d5/d2f/CSBMLExporter_8cpp.html#ab36d8e3a7a459d93ed663bfb4b91a4be">addRateOfIfItDoesNotExist</a></div><div class="ttdeci">std::string addRateOfIfItDoesNotExist(SBMLDocument *pSBMLDocument, std::map&lt; std::string, const SBase * &gt; &amp;idMap, const char *id)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d2f/CSBMLExporter_8cpp_source.html#l00167">CSBMLExporter.cpp:167</a></div></div>
<div class="ttc" id="classCCopasiNode_html_a761f04c57a75e99a63ee0700c76fdafe"><div class="ttname"><a href="../../d9/d9d/classCCopasiNode.html#a761f04c57a75e99a63ee0700c76fdafe">CCopasiNode::getData</a></div><div class="ttdeci">virtual const Data &amp; getData() const </div><div class="ttdef"><b>Definition:</b> <a href="../../de/d24/CCopasiNode_8h_source.html#l00118">CCopasiNode.h:118</a></div></div>
<div class="ttc" id="classCEvaluationNodeObject_html"><div class="ttname"><a href="../../d8/d28/classCEvaluationNodeObject.html">CEvaluationNodeObject</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d59/CEvaluationNodeObject_8h_source.html#l00034">CEvaluationNodeObject.h:34</a></div></div>
<div class="ttc" id="classCModelEntity_html_ad6bdcaa2e8887271f61fc363262cc9ed"><div class="ttname"><a href="../../d0/da0/classCModelEntity.html#ad6bdcaa2e8887271f61fc363262cc9ed">CModelEntity::getStatus</a></div><div class="ttdeci">const CModelEntity::Status &amp; getStatus() const </div><div class="ttdef"><b>Definition:</b> <a href="../../d8/da3/CModelValue_8cpp_source.html#l00141">CModelValue.cpp:141</a></div></div>
<div class="ttc" id="classCEvaluationNodeObject_html_ac395d4a167d9c1848c3872ee94074d86a14abb3f1c331af23d921a500414cd34f"><div class="ttname"><a href="../../d8/d28/classCEvaluationNodeObject.html#ac395d4a167d9c1848c3872ee94074d86a14abb3f1c331af23d921a500414cd34f">CEvaluationNodeObject::INVALID</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d59/CEvaluationNodeObject_8h_source.html#l00043">CEvaluationNodeObject.h:43</a></div></div>
<div class="ttc" id="classCSBMLExporter_html_a64ec2c4a41a2fa37f21875281f5948d5"><div class="ttname"><a href="../../df/d80/classCSBMLExporter.html#a64ec2c4a41a2fa37f21875281f5948d5">CSBMLExporter::mVariableVolumes</a></div><div class="ttdeci">bool mVariableVolumes</div><div class="ttdef"><b>Definition:</b> <a href="../../da/d7f/CSBMLExporter_8h_source.html#l00067">CSBMLExporter.h:67</a></div></div>
<div class="ttc" id="classCCopasiNode_html_acad859fb98cfa7f9d328a1cf1ee57023"><div class="ttname"><a href="../../d9/d9d/classCCopasiNode.html#acad859fb98cfa7f9d328a1cf1ee57023">CCopasiNode::getChild</a></div><div class="ttdeci">CCopasiNode&lt; Data &gt; * getChild()</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d24/CCopasiNode_8h_source.html#l00210">CCopasiNode.h:210</a></div></div>
<div class="ttc" id="classCEvaluationNodeOperator_html"><div class="ttname"><a href="../../d5/de4/classCEvaluationNodeOperator.html">CEvaluationNodeOperator</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d39/CEvaluationNodeOperator_8h_source.html#l00032">CEvaluationNodeOperator.h:32</a></div></div>
<div class="ttc" id="classCCopasiDataModel_html_a9d54888c14c755abec4c757289ee26f7"><div class="ttname"><a href="../../d4/d18/classCCopasiDataModel.html#a9d54888c14c755abec4c757289ee26f7">CCopasiDataModel::ObjectFromName</a></div><div class="ttdeci">CCopasiObject * ObjectFromName(const std::vector&lt; CCopasiContainer * &gt; &amp;listOfContainer, const CCopasiObjectName &amp;CN) const </div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d38/CCopasiDataModel_8cpp_source.html#l01940">CCopasiDataModel.cpp:1940</a></div></div>
<div class="ttc" id="classCCopasiObjectName_html"><div class="ttname"><a href="../../db/d84/classCCopasiObjectName.html">CCopasiObjectName</a></div><div class="ttdef"><b>Definition:</b> <a href="../../db/d45/CCopasiObjectName_8h_source.html#l00032">CCopasiObjectName.h:32</a></div></div>
<div class="ttc" id="classCMetab_html_a9774853fea3fd6c9b15ecd26df7ab349"><div class="ttname"><a href="../../dc/d44/classCMetab.html#a9774853fea3fd6c9b15ecd26df7ab349">CMetab::getCompartment</a></div><div class="ttdeci">const CCompartment * getCompartment() const </div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d70/CMetab_8cpp_source.html#l00222">CMetab.cpp:222</a></div></div>
<div class="ttc" id="classCCopasiObject_html_a33bb5035eec7ebc5e3ecac4771316405"><div class="ttname"><a href="../../d4/da8/classCCopasiObject.html#a33bb5035eec7ebc5e3ecac4771316405">CCopasiObject::getObjectParent</a></div><div class="ttdeci">CCopasiContainer * getObjectParent() const </div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d22/CCopasiObject_8cpp_source.html#l00276">CCopasiObject.cpp:276</a></div></div>
<div class="ttc" id="classCEvaluationNodeNumber_html_a82abcf0fd7082e54feab9739b3258948a8c4690dbdd9f39728b6fe89bf2bc3567"><div class="ttname"><a href="../../d3/d2a/classCEvaluationNodeNumber.html#a82abcf0fd7082e54feab9739b3258948a8c4690dbdd9f39728b6fe89bf2bc3567">CEvaluationNodeNumber::ENOTATION</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d6d/CEvaluationNodeNumber_8h_source.html#l00034">CEvaluationNodeNumber.h:34</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="aeb99c1d4aabfd00e1d65eac1992e4b97"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d3/d05/CChemEqParser__yacc_8cpp.html#aa76fec002b4ba91adc88f68d56ba730c">void</a> CSBMLExporter::restore_local_parameters </td>
          <td>(</td>
          <td class="paramtype">ASTNode *&#160;</td>
          <td class="paramname"><em>pOrigNode</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="../../d4/d18/classCCopasiDataModel.html">CCopasiDataModel</a> &amp;&#160;</td>
          <td class="paramname"><em>dataModel</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>This method goes through the expression tree and tries to find node names that correspond to common names of local parameters. If the common name also occurs in the replacement map, the node name has to be set to the id of the corresponding global parameter, otherwise the name has to be set to the object name of the parameter. </p>

<p>Definition at line <a class="el" href="../../d5/d2f/CSBMLExporter_8cpp_source.html#l07414">7414</a> of file <a class="el" href="../../d5/d2f/CSBMLExporter_8cpp_source.html">CSBMLExporter.cpp</a>.</p>

<p>References <a class="el" href="../../d4/d18/classCCopasiDataModel.html#a2e65952e0caf0b2709d381cf949fec69">CCopasiDataModel::getModel()</a>, <a class="el" href="../../d4/da8/classCCopasiObject.html#a879d6756b51f6b58d307940e1343bd10">CCopasiObject::getObjectName()</a>, <a class="el" href="../../df/d80/classCSBMLExporter.html#a2dbac4a8c7a2aa7a6a462b184c5430bf">mParameterReplacementMap</a>, and <a class="el" href="../../d4/d18/classCCopasiDataModel.html#a9d54888c14c755abec4c757289ee26f7">CCopasiDataModel::ObjectFromName()</a>.</p>

<p>Referenced by <a class="el" href="../../df/d80/classCSBMLExporter.html#a1ac2102cd8012a24253ac6edd0379198">createKineticLaw()</a>.</p>
<div class="fragment"><div class="line"><a name="l07415"></a><span class="lineno"> 7415</span>&#160;{</div>
<div class="line"><a name="l07416"></a><span class="lineno"> 7416</span>&#160;  <span class="keywordflow">if</span> (pOrigNode != NULL)</div>
<div class="line"><a name="l07417"></a><span class="lineno"> 7417</span>&#160;    {</div>
<div class="line"><a name="l07418"></a><span class="lineno"> 7418</span>&#160;      <span class="keywordflow">if</span> (pOrigNode-&gt;getType() == AST_NAME)</div>
<div class="line"><a name="l07419"></a><span class="lineno"> 7419</span>&#160;        {</div>
<div class="line"><a name="l07420"></a><span class="lineno"> 7420</span>&#160;          <span class="comment">// check if the common name is in the replacement map</span></div>
<div class="line"><a name="l07421"></a><span class="lineno"> 7421</span>&#160;          std::string objectName = pOrigNode-&gt;getName();</div>
<div class="line"><a name="l07422"></a><span class="lineno"> 7422</span>&#160;          std::map&lt;std::string, Parameter*&gt;::iterator pos = this-&gt;<a class="code" href="../../df/d80/classCSBMLExporter.html#a2dbac4a8c7a2aa7a6a462b184c5430bf">mParameterReplacementMap</a>.find(objectName);</div>
<div class="line"><a name="l07423"></a><span class="lineno"> 7423</span>&#160;</div>
<div class="line"><a name="l07424"></a><span class="lineno"> 7424</span>&#160;          <span class="keywordflow">if</span> (pos != this-&gt;<a class="code" href="../../df/d80/classCSBMLExporter.html#a2dbac4a8c7a2aa7a6a462b184c5430bf">mParameterReplacementMap</a>.end())</div>
<div class="line"><a name="l07425"></a><span class="lineno"> 7425</span>&#160;            {</div>
<div class="line"><a name="l07426"></a><span class="lineno"> 7426</span>&#160;              <span class="comment">// it was in the map, so we know that the local parameter has</span></div>
<div class="line"><a name="l07427"></a><span class="lineno"> 7427</span>&#160;              <span class="comment">// been replaced by a global parameter and we need to set the</span></div>
<div class="line"><a name="l07428"></a><span class="lineno"> 7428</span>&#160;              <span class="comment">// id of the global parameter as the new name of the node</span></div>
<div class="line"><a name="l07429"></a><span class="lineno"> 7429</span>&#160;              pOrigNode-&gt;setName(pos-&gt;second-&gt;getId().c_str());</div>
<div class="line"><a name="l07430"></a><span class="lineno"> 7430</span>&#160;            }</div>
<div class="line"><a name="l07431"></a><span class="lineno"> 7431</span>&#160;          <span class="keywordflow">else</span></div>
<div class="line"><a name="l07432"></a><span class="lineno"> 7432</span>&#160;            {</div>
<div class="line"><a name="l07433"></a><span class="lineno"> 7433</span>&#160;              <span class="comment">// we need to reset the node name to the id of the local</span></div>
<div class="line"><a name="l07434"></a><span class="lineno"> 7434</span>&#160;              <span class="comment">// parameter which is the object name</span></div>
<div class="line"><a name="l07435"></a><span class="lineno"> 7435</span>&#160;              std::vector&lt;CCopasiContainer*&gt; containers;</div>
<div class="line"><a name="l07436"></a><span class="lineno"> 7436</span>&#160;              containers.push_back(const_cast&lt;CModel*&gt;(dataModel.<a class="code" href="../../d4/d18/classCCopasiDataModel.html#a2e65952e0caf0b2709d381cf949fec69">getModel</a>()));</div>
<div class="line"><a name="l07437"></a><span class="lineno"> 7437</span>&#160;              <span class="keyword">const</span> <a class="code" href="../../d4/da8/classCCopasiObject.html">CCopasiObject</a>* pObject = dataModel.<a class="code" href="../../d4/d18/classCCopasiDataModel.html#a9d54888c14c755abec4c757289ee26f7">ObjectFromName</a>(containers, objectName);</div>
<div class="line"><a name="l07438"></a><span class="lineno"> 7438</span>&#160;</div>
<div class="line"><a name="l07439"></a><span class="lineno"> 7439</span>&#160;              <span class="keywordflow">if</span> (pObject != NULL)</div>
<div class="line"><a name="l07440"></a><span class="lineno"> 7440</span>&#160;                {</div>
<div class="line"><a name="l07441"></a><span class="lineno"> 7441</span>&#160;                  <span class="keyword">const</span> <a class="code" href="../../d5/db6/classCCopasiParameter.html">CCopasiParameter</a>* pLocalParameter = <span class="keyword">dynamic_cast&lt;</span><span class="keyword">const </span><a class="code" href="../../d5/db6/classCCopasiParameter.html">CCopasiParameter</a>*<span class="keyword">&gt;</span>(pObject);</div>
<div class="line"><a name="l07442"></a><span class="lineno"> 7442</span>&#160;</div>
<div class="line"><a name="l07443"></a><span class="lineno"> 7443</span>&#160;                  <span class="keywordflow">if</span> (pLocalParameter != NULL)</div>
<div class="line"><a name="l07444"></a><span class="lineno"> 7444</span>&#160;                    {</div>
<div class="line"><a name="l07445"></a><span class="lineno"> 7445</span>&#160;                      <span class="comment">// we set the node name to the existing parameter name</span></div>
<div class="line"><a name="l07446"></a><span class="lineno"> 7446</span>&#160;                      pOrigNode-&gt;setName(pLocalParameter-&gt;<a class="code" href="../../d4/da8/classCCopasiObject.html#a879d6756b51f6b58d307940e1343bd10">getObjectName</a>().c_str());</div>
<div class="line"><a name="l07447"></a><span class="lineno"> 7447</span>&#160;                    }</div>
<div class="line"><a name="l07448"></a><span class="lineno"> 7448</span>&#160;                }</div>
<div class="line"><a name="l07449"></a><span class="lineno"> 7449</span>&#160;            }</div>
<div class="line"><a name="l07450"></a><span class="lineno"> 7450</span>&#160;        }</div>
<div class="line"><a name="l07451"></a><span class="lineno"> 7451</span>&#160;</div>
<div class="line"><a name="l07452"></a><span class="lineno"> 7452</span>&#160;      <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> i = 0, iMax = pOrigNode-&gt;getNumChildren();</div>
<div class="line"><a name="l07453"></a><span class="lineno"> 7453</span>&#160;</div>
<div class="line"><a name="l07454"></a><span class="lineno"> 7454</span>&#160;      <span class="keywordflow">while</span> (i &lt; iMax)</div>
<div class="line"><a name="l07455"></a><span class="lineno"> 7455</span>&#160;        {</div>
<div class="line"><a name="l07456"></a><span class="lineno"> 7456</span>&#160;          this-&gt;<a class="code" href="../../df/d80/classCSBMLExporter.html#aeb99c1d4aabfd00e1d65eac1992e4b97">restore_local_parameters</a>(pOrigNode-&gt;getChild(i), dataModel);</div>
<div class="line"><a name="l07457"></a><span class="lineno"> 7457</span>&#160;          ++i;</div>
<div class="line"><a name="l07458"></a><span class="lineno"> 7458</span>&#160;        }</div>
<div class="line"><a name="l07459"></a><span class="lineno"> 7459</span>&#160;    }</div>
<div class="line"><a name="l07460"></a><span class="lineno"> 7460</span>&#160;}</div>
<div class="ttc" id="classCCopasiDataModel_html_a2e65952e0caf0b2709d381cf949fec69"><div class="ttname"><a href="../../d4/d18/classCCopasiDataModel.html#a2e65952e0caf0b2709d381cf949fec69">CCopasiDataModel::getModel</a></div><div class="ttdeci">CModel * getModel()</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d38/CCopasiDataModel_8cpp_source.html#l01407">CCopasiDataModel.cpp:1407</a></div></div>
<div class="ttc" id="classCCopasiObject_html_a879d6756b51f6b58d307940e1343bd10"><div class="ttname"><a href="../../d4/da8/classCCopasiObject.html#a879d6756b51f6b58d307940e1343bd10">CCopasiObject::getObjectName</a></div><div class="ttdeci">const std::string &amp; getObjectName() const </div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d22/CCopasiObject_8cpp_source.html#l00258">CCopasiObject.cpp:258</a></div></div>
<div class="ttc" id="classCSBMLExporter_html_a2dbac4a8c7a2aa7a6a462b184c5430bf"><div class="ttname"><a href="../../df/d80/classCSBMLExporter.html#a2dbac4a8c7a2aa7a6a462b184c5430bf">CSBMLExporter::mParameterReplacementMap</a></div><div class="ttdeci">std::map&lt; std::string, Parameter * &gt; mParameterReplacementMap</div><div class="ttdef"><b>Definition:</b> <a href="../../da/d7f/CSBMLExporter_8h_source.html#l00075">CSBMLExporter.h:75</a></div></div>
<div class="ttc" id="classCCopasiObject_html"><div class="ttname"><a href="../../d4/da8/classCCopasiObject.html">CCopasiObject</a></div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d9f/CCopasiObject_8h_source.html#l00216">CCopasiObject.h:216</a></div></div>
<div class="ttc" id="classCCopasiParameter_html"><div class="ttname"><a href="../../d5/db6/classCCopasiParameter.html">CCopasiParameter</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d9/df7/CCopasiParameter_8h_source.html#l00035">CCopasiParameter.h:35</a></div></div>
<div class="ttc" id="classCSBMLExporter_html_aeb99c1d4aabfd00e1d65eac1992e4b97"><div class="ttname"><a href="../../df/d80/classCSBMLExporter.html#aeb99c1d4aabfd00e1d65eac1992e4b97">CSBMLExporter::restore_local_parameters</a></div><div class="ttdeci">void restore_local_parameters(ASTNode *pOrigNode, const CCopasiDataModel &amp;dataModel)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d2f/CSBMLExporter_8cpp_source.html#l07414">CSBMLExporter.cpp:7414</a></div></div>
<div class="ttc" id="classCCopasiDataModel_html_a9d54888c14c755abec4c757289ee26f7"><div class="ttname"><a href="../../d4/d18/classCCopasiDataModel.html#a9d54888c14c755abec4c757289ee26f7">CCopasiDataModel::ObjectFromName</a></div><div class="ttdeci">CCopasiObject * ObjectFromName(const std::vector&lt; CCopasiContainer * &gt; &amp;listOfContainer, const CCopasiObjectName &amp;CN) const </div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d38/CCopasiDataModel_8cpp_source.html#l01940">CCopasiDataModel.cpp:1940</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a97fe5557d44e34a7194c0ec63dc582b1"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d3/d05/CChemEqParser__yacc_8cpp.html#aa76fec002b4ba91adc88f68d56ba730c">void</a> CSBMLExporter::setExportCOPASIMIRIAM </td>
          <td>(</td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>exportMIRIAM</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Sets whether the exporter is supposed to export COPASIs MIRIAM annotation in addition to SBML MIRIAM. </p>

<p>Definition at line <a class="el" href="../../d5/d2f/CSBMLExporter_8cpp_source.html#l07196">7196</a> of file <a class="el" href="../../d5/d2f/CSBMLExporter_8cpp_source.html">CSBMLExporter.cpp</a>.</p>

<p>References <a class="el" href="../../df/d80/classCSBMLExporter.html#a64aed2b18e03f12e362aaa0cabdbb471">mExportCOPASIMIRIAM</a>.</p>

<p>Referenced by <a class="el" href="../../d4/d18/classCCopasiDataModel.html#afecb31bf654ecfbf61db3be87059c8c7">CCopasiDataModel::exportSBML()</a>, and <a class="el" href="../../d4/d18/classCCopasiDataModel.html#a0a29166d66b93b4326cfe4fb3cb74bd3">CCopasiDataModel::exportSBMLToString()</a>.</p>
<div class="fragment"><div class="line"><a name="l07197"></a><span class="lineno"> 7197</span>&#160;{</div>
<div class="line"><a name="l07198"></a><span class="lineno"> 7198</span>&#160;  this-&gt;<a class="code" href="../../df/d80/classCSBMLExporter.html#a64aed2b18e03f12e362aaa0cabdbb471">mExportCOPASIMIRIAM</a> = exportMiriam;</div>
<div class="line"><a name="l07199"></a><span class="lineno"> 7199</span>&#160;}</div>
<div class="ttc" id="classCSBMLExporter_html_a64aed2b18e03f12e362aaa0cabdbb471"><div class="ttname"><a href="../../df/d80/classCSBMLExporter.html#a64aed2b18e03f12e362aaa0cabdbb471">CSBMLExporter::mExportCOPASIMIRIAM</a></div><div class="ttdeci">bool mExportCOPASIMIRIAM</div><div class="ttdef"><b>Definition:</b> <a href="../../da/d7f/CSBMLExporter_8h_source.html#l00074">CSBMLExporter.h:74</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a36e8f281bf2ae61c6f6de64a3d34da79"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d3/d05/CChemEqParser__yacc_8cpp.html#aa76fec002b4ba91adc88f68d56ba730c">void</a> CSBMLExporter::setFunctionSBMLIds </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="../../d8/d9f/classCEvaluationNode.html">CEvaluationNode</a> *&#160;</td>
          <td class="paramname"><em>pNode</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d4/d18/classCCopasiDataModel.html">CCopasiDataModel</a> &amp;&#160;</td>
          <td class="paramname"><em>dataModel</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>This method traverse a <a class="el" href="../../d1/d50/classCEvaluationTree.html">CEvaluationTree</a> and set the SBML id on all functions that are used in function calls in the tree. </p>

<p>Definition at line <a class="el" href="../../d5/d2f/CSBMLExporter_8cpp_source.html#l07091">7091</a> of file <a class="el" href="../../d5/d2f/CSBMLExporter_8cpp_source.html">CSBMLExporter.cpp</a>.</p>

<p>References <a class="el" href="../../d8/d9f/classCEvaluationNode.html#aeef59b7ae37d1323a4900e5d19140491a9850f90ad614378da22df5bab569a3b6">CEvaluationNode::CALL</a>, <a class="el" href="../../df/d80/classCSBMLExporter.html#ab4d7f9c3d22b8225d1a4d9e3a98b855e">createUniqueId()</a>, <a class="el" href="../../d9/d2d/CCopasiMessage_8h.html#a1e835c01335d6f956a78adf106ed1b15">fatalError</a>, <a class="el" href="../../db/d9a/classCFunctionDB.html#aa25aabb5ce2677103813278c014e06fb">CFunctionDB::findFunction()</a>, <a class="el" href="../../d9/d9d/classCCopasiNode.html#acad859fb98cfa7f9d328a1cf1ee57023">CCopasiNode&lt; _Data &gt;::getChild()</a>, <a class="el" href="../../d3/db1/classCCopasiRootContainer.html#afd5e8541f181260daf7515b28f0612c3">CCopasiRootContainer::getFunctionList()</a>, <a class="el" href="../../d4/da8/classCCopasiObject.html#a879d6756b51f6b58d307940e1343bd10">CCopasiObject::getObjectName()</a>, <a class="el" href="../../d9/d86/classCFunction.html#a8dca3a504b45b55d7af0ba49a2e9a9a0">CFunction::getSBMLId()</a>, <a class="el" href="../../d9/d9d/classCCopasiNode.html#a0730aecebb9ca0f8401b7d0223e266e8">CCopasiNode&lt; _Data &gt;::getSibling()</a>, <a class="el" href="../../d8/d9f/classCEvaluationNode.html#ae24b55d848d78cec0a359fd199c76562">CEvaluationNode::getType()</a>, <a class="el" href="../../df/d80/classCSBMLExporter.html#a885487cfd1570979b180bee89571c271">isValidSId()</a>, <a class="el" href="../../df/d80/classCSBMLExporter.html#ab76fac48902b0d7ac43f7454ddf0f6d6">mFunctionIdMap</a>, <a class="el" href="../../df/d80/classCSBMLExporter.html#a60ab409a11b90a1ca965d7702828af74">mIdMap</a>, <a class="el" href="../../d9/d86/classCFunction.html#af9762a77d28da2757878f1218ca4e04c">CFunction::setSBMLId()</a>, and <a class="el" href="../../d8/d9f/classCEvaluationNode.html#a9e5fcf60f22d2701417f90756847d37b">CEvaluationNode::type()</a>.</p>

<p>Referenced by <a class="el" href="../../df/d80/classCSBMLExporter.html#ac61681ecd68ba2288e21ff1584ad20af">convertToASTNode()</a>.</p>
<div class="fragment"><div class="line"><a name="l07092"></a><span class="lineno"> 7092</span>&#160;{</div>
<div class="line"><a name="l07093"></a><span class="lineno"> 7093</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="../../d8/d9f/classCEvaluationNode.html#a9e5fcf60f22d2701417f90756847d37b">CEvaluationNode::type</a>(pNode-&gt;<a class="code" href="../../d8/d9f/classCEvaluationNode.html#ae24b55d848d78cec0a359fd199c76562">getType</a>()) == <a class="code" href="../../d8/d9f/classCEvaluationNode.html#aeef59b7ae37d1323a4900e5d19140491a9850f90ad614378da22df5bab569a3b6">CEvaluationNode::CALL</a>)</div>
<div class="line"><a name="l07094"></a><span class="lineno"> 7094</span>&#160;    {</div>
<div class="line"><a name="l07095"></a><span class="lineno"> 7095</span>&#160;      std::string funName = <span class="keyword">dynamic_cast&lt;</span><span class="keyword">const </span><a class="code" href="../../df/d44/classCEvaluationNodeCall.html">CEvaluationNodeCall</a>*<span class="keyword">&gt;</span>(pNode)-&gt;getData();</div>
<div class="line"><a name="l07096"></a><span class="lineno"> 7096</span>&#160;      <a class="code" href="../../d9/d86/classCFunction.html">CFunction</a>* pFun = <a class="code" href="../../d3/db1/classCCopasiRootContainer.html#afd5e8541f181260daf7515b28f0612c3">CCopasiRootContainer::getFunctionList</a>()-&gt;<a class="code" href="../../db/d9a/classCFunctionDB.html#aa25aabb5ce2677103813278c014e06fb">findFunction</a>(funName);</div>
<div class="line"><a name="l07097"></a><span class="lineno"> 7097</span>&#160;      assert(pFun != NULL);</div>
<div class="line"><a name="l07098"></a><span class="lineno"> 7098</span>&#160;</div>
<div class="line"><a name="l07099"></a><span class="lineno"> 7099</span>&#160;      <span class="keywordflow">if</span> (pFun == NULL) <a class="code" href="../../d9/d2d/CCopasiMessage_8h.html#a1e835c01335d6f956a78adf106ed1b15">fatalError</a>();</div>
<div class="line"><a name="l07100"></a><span class="lineno"> 7100</span>&#160;</div>
<div class="line"><a name="l07101"></a><span class="lineno"> 7101</span>&#160;      std::string <span class="keywordtype">id</span> = pFun-&gt;<a class="code" href="../../d9/d86/classCFunction.html#a8dca3a504b45b55d7af0ba49a2e9a9a0">getSBMLId</a>();</div>
<div class="line"><a name="l07102"></a><span class="lineno"> 7102</span>&#160;</div>
<div class="line"><a name="l07103"></a><span class="lineno"> 7103</span>&#160;      <span class="keywordflow">if</span> (<span class="keywordtype">id</span>.empty())</div>
<div class="line"><a name="l07104"></a><span class="lineno"> 7104</span>&#160;        {</div>
<div class="line"><a name="l07105"></a><span class="lineno"> 7105</span>&#160;          <span class="keywordflow">if</span> (<a class="code" href="../../df/d80/classCSBMLExporter.html#a885487cfd1570979b180bee89571c271">CSBMLExporter::isValidSId</a>(funName))</div>
<div class="line"><a name="l07106"></a><span class="lineno"> 7106</span>&#160;            {</div>
<div class="line"><a name="l07107"></a><span class="lineno"> 7107</span>&#160;              <span class="keywordflow">if</span> (this-&gt;<a class="code" href="../../df/d80/classCSBMLExporter.html#a60ab409a11b90a1ca965d7702828af74">mIdMap</a>.find(funName) != this-&gt;<a class="code" href="../../df/d80/classCSBMLExporter.html#a60ab409a11b90a1ca965d7702828af74">mIdMap</a>.end())</div>
<div class="line"><a name="l07108"></a><span class="lineno"> 7108</span>&#160;                {</div>
<div class="line"><a name="l07109"></a><span class="lineno"> 7109</span>&#160;                  <span class="keywordtype">id</span> = <a class="code" href="../../df/d80/classCSBMLExporter.html#ab4d7f9c3d22b8225d1a4d9e3a98b855e">CSBMLExporter::createUniqueId</a>(this-&gt;<a class="code" href="../../df/d80/classCSBMLExporter.html#a60ab409a11b90a1ca965d7702828af74">mIdMap</a>, funName, <span class="keyword">true</span>);</div>
<div class="line"><a name="l07110"></a><span class="lineno"> 7110</span>&#160;                }</div>
<div class="line"><a name="l07111"></a><span class="lineno"> 7111</span>&#160;              <span class="keywordflow">else</span></div>
<div class="line"><a name="l07112"></a><span class="lineno"> 7112</span>&#160;                {</div>
<div class="line"><a name="l07113"></a><span class="lineno"> 7113</span>&#160;                  <span class="keywordtype">id</span> = funName;</div>
<div class="line"><a name="l07114"></a><span class="lineno"> 7114</span>&#160;                }</div>
<div class="line"><a name="l07115"></a><span class="lineno"> 7115</span>&#160;            }</div>
<div class="line"><a name="l07116"></a><span class="lineno"> 7116</span>&#160;          <span class="keywordflow">else</span></div>
<div class="line"><a name="l07117"></a><span class="lineno"> 7117</span>&#160;            {</div>
<div class="line"><a name="l07118"></a><span class="lineno"> 7118</span>&#160;              <span class="keywordtype">id</span> = <a class="code" href="../../df/d80/classCSBMLExporter.html#ab4d7f9c3d22b8225d1a4d9e3a98b855e">CSBMLExporter::createUniqueId</a>(this-&gt;<a class="code" href="../../df/d80/classCSBMLExporter.html#a60ab409a11b90a1ca965d7702828af74">mIdMap</a>, funName, <span class="keyword">false</span>);</div>
<div class="line"><a name="l07119"></a><span class="lineno"> 7119</span>&#160;            }</div>
<div class="line"><a name="l07120"></a><span class="lineno"> 7120</span>&#160;</div>
<div class="line"><a name="l07121"></a><span class="lineno"> 7121</span>&#160;          this-&gt;<a class="code" href="../../df/d80/classCSBMLExporter.html#a60ab409a11b90a1ca965d7702828af74">mIdMap</a>.insert(std::make_pair(<span class="keywordtype">id</span>, (<span class="keyword">const</span> SBase*)NULL));</div>
<div class="line"><a name="l07122"></a><span class="lineno"> 7122</span>&#160;          pFun-&gt;<a class="code" href="../../d9/d86/classCFunction.html#af9762a77d28da2757878f1218ca4e04c">setSBMLId</a>(<span class="keywordtype">id</span>);</div>
<div class="line"><a name="l07123"></a><span class="lineno"> 7123</span>&#160;          <span class="comment">// add the id,pointer pair to the function id map so that we know</span></div>
<div class="line"><a name="l07124"></a><span class="lineno"> 7124</span>&#160;          <span class="comment">// that this id has been used for that function</span></div>
<div class="line"><a name="l07125"></a><span class="lineno"> 7125</span>&#160;          this-&gt;<a class="code" href="../../df/d80/classCSBMLExporter.html#ab76fac48902b0d7ac43f7454ddf0f6d6">mFunctionIdMap</a>.insert(std::pair&lt;std::string, const CEvaluationTree*&gt;(<span class="keywordtype">id</span>, pFun));</div>
<div class="line"><a name="l07126"></a><span class="lineno"> 7126</span>&#160;        }</div>
<div class="line"><a name="l07127"></a><span class="lineno"> 7127</span>&#160;      <span class="keywordflow">else</span></div>
<div class="line"><a name="l07128"></a><span class="lineno"> 7128</span>&#160;        {</div>
<div class="line"><a name="l07129"></a><span class="lineno"> 7129</span>&#160;          <span class="comment">// check if there is an entry in the function id map for that id</span></div>
<div class="line"><a name="l07130"></a><span class="lineno"> 7130</span>&#160;          std::map&lt;std::string, const CEvaluationTree*&gt;::iterator pos = this-&gt;<a class="code" href="../../df/d80/classCSBMLExporter.html#ab76fac48902b0d7ac43f7454ddf0f6d6">mFunctionIdMap</a>.find(<span class="keywordtype">id</span>);</div>
<div class="line"><a name="l07131"></a><span class="lineno"> 7131</span>&#160;</div>
<div class="line"><a name="l07132"></a><span class="lineno"> 7132</span>&#160;          <span class="keywordflow">if</span> (pos == this-&gt;<a class="code" href="../../df/d80/classCSBMLExporter.html#ab76fac48902b0d7ac43f7454ddf0f6d6">mFunctionIdMap</a>.end())</div>
<div class="line"><a name="l07133"></a><span class="lineno"> 7133</span>&#160;            {</div>
<div class="line"><a name="l07134"></a><span class="lineno"> 7134</span>&#160;              <span class="comment">// reserve this function name</span></div>
<div class="line"><a name="l07135"></a><span class="lineno"> 7135</span>&#160;              this-&gt;<a class="code" href="../../df/d80/classCSBMLExporter.html#a60ab409a11b90a1ca965d7702828af74">mIdMap</a>.insert(std::pair&lt;std::string, const SBase*&gt;(<span class="keywordtype">id</span>, (SBase*)NULL));</div>
<div class="line"><a name="l07136"></a><span class="lineno"> 7136</span>&#160;              this-&gt;<a class="code" href="../../df/d80/classCSBMLExporter.html#ab76fac48902b0d7ac43f7454ddf0f6d6">mFunctionIdMap</a>.insert(std::pair&lt;std::string, const CEvaluationTree*&gt;(<span class="keywordtype">id</span>, pFun));</div>
<div class="line"><a name="l07137"></a><span class="lineno"> 7137</span>&#160;            }</div>
<div class="line"><a name="l07138"></a><span class="lineno"> 7138</span>&#160;          <span class="keywordflow">else</span></div>
<div class="line"><a name="l07139"></a><span class="lineno"> 7139</span>&#160;            {</div>
<div class="line"><a name="l07140"></a><span class="lineno"> 7140</span>&#160;              <span class="keywordflow">if</span> (pos-&gt;second != pFun)</div>
<div class="line"><a name="l07141"></a><span class="lineno"> 7141</span>&#160;                {</div>
<div class="line"><a name="l07142"></a><span class="lineno"> 7142</span>&#160;                  <span class="comment">// mark the id as taken</span></div>
<div class="line"><a name="l07143"></a><span class="lineno"> 7143</span>&#160;                  this-&gt;<a class="code" href="../../df/d80/classCSBMLExporter.html#a60ab409a11b90a1ca965d7702828af74">mIdMap</a>.insert(std::pair&lt;std::string, const SBase*&gt;(<span class="keywordtype">id</span>, (SBase*)NULL));</div>
<div class="line"><a name="l07144"></a><span class="lineno"> 7144</span>&#160;                  <span class="keywordtype">id</span> = <a class="code" href="../../df/d80/classCSBMLExporter.html#ab4d7f9c3d22b8225d1a4d9e3a98b855e">CSBMLExporter::createUniqueId</a>(this-&gt;<a class="code" href="../../df/d80/classCSBMLExporter.html#a60ab409a11b90a1ca965d7702828af74">mIdMap</a>, pFun-&gt;<a class="code" href="../../d4/da8/classCCopasiObject.html#a879d6756b51f6b58d307940e1343bd10">getObjectName</a>(), <span class="keyword">false</span>);</div>
<div class="line"><a name="l07145"></a><span class="lineno"> 7145</span>&#160;                  pFun-&gt;<a class="code" href="../../d9/d86/classCFunction.html#af9762a77d28da2757878f1218ca4e04c">setSBMLId</a>(<span class="keywordtype">id</span>);</div>
<div class="line"><a name="l07146"></a><span class="lineno"> 7146</span>&#160;                }</div>
<div class="line"><a name="l07147"></a><span class="lineno"> 7147</span>&#160;            }</div>
<div class="line"><a name="l07148"></a><span class="lineno"> 7148</span>&#160;        }</div>
<div class="line"><a name="l07149"></a><span class="lineno"> 7149</span>&#160;    }</div>
<div class="line"><a name="l07150"></a><span class="lineno"> 7150</span>&#160;</div>
<div class="line"><a name="l07151"></a><span class="lineno"> 7151</span>&#160;  <span class="keyword">const</span> <a class="code" href="../../d8/d9f/classCEvaluationNode.html">CEvaluationNode</a>* pChild = <span class="keyword">dynamic_cast&lt;</span><span class="keyword">const </span><a class="code" href="../../d8/d9f/classCEvaluationNode.html">CEvaluationNode</a>*<span class="keyword">&gt;</span>(pNode-&gt;<a class="code" href="../../d9/d9d/classCCopasiNode.html#acad859fb98cfa7f9d328a1cf1ee57023">getChild</a>());</div>
<div class="line"><a name="l07152"></a><span class="lineno"> 7152</span>&#160;</div>
<div class="line"><a name="l07153"></a><span class="lineno"> 7153</span>&#160;  <span class="keywordflow">while</span> (pChild != NULL)</div>
<div class="line"><a name="l07154"></a><span class="lineno"> 7154</span>&#160;    {</div>
<div class="line"><a name="l07155"></a><span class="lineno"> 7155</span>&#160;      this-&gt;<a class="code" href="../../df/d80/classCSBMLExporter.html#a36e8f281bf2ae61c6f6de64a3d34da79">setFunctionSBMLIds</a>(pChild, dataModel);</div>
<div class="line"><a name="l07156"></a><span class="lineno"> 7156</span>&#160;      pChild = <span class="keyword">dynamic_cast&lt;</span><span class="keyword">const </span><a class="code" href="../../d8/d9f/classCEvaluationNode.html">CEvaluationNode</a>*<span class="keyword">&gt;</span>(pChild-&gt;<a class="code" href="../../d9/d9d/classCCopasiNode.html#a0730aecebb9ca0f8401b7d0223e266e8">getSibling</a>());</div>
<div class="line"><a name="l07157"></a><span class="lineno"> 7157</span>&#160;    }</div>
<div class="line"><a name="l07158"></a><span class="lineno"> 7158</span>&#160;}</div>
<div class="ttc" id="classCCopasiNode_html_a0730aecebb9ca0f8401b7d0223e266e8"><div class="ttname"><a href="../../d9/d9d/classCCopasiNode.html#a0730aecebb9ca0f8401b7d0223e266e8">CCopasiNode::getSibling</a></div><div class="ttdeci">CCopasiNode&lt; Data &gt; * getSibling()</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d24/CCopasiNode_8h_source.html#l00353">CCopasiNode.h:353</a></div></div>
<div class="ttc" id="classCCopasiObject_html_a879d6756b51f6b58d307940e1343bd10"><div class="ttname"><a href="../../d4/da8/classCCopasiObject.html#a879d6756b51f6b58d307940e1343bd10">CCopasiObject::getObjectName</a></div><div class="ttdeci">const std::string &amp; getObjectName() const </div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d22/CCopasiObject_8cpp_source.html#l00258">CCopasiObject.cpp:258</a></div></div>
<div class="ttc" id="classCSBMLExporter_html_ab76fac48902b0d7ac43f7454ddf0f6d6"><div class="ttname"><a href="../../df/d80/classCSBMLExporter.html#ab76fac48902b0d7ac43f7454ddf0f6d6">CSBMLExporter::mFunctionIdMap</a></div><div class="ttdeci">std::map&lt; std::string, const CEvaluationTree * &gt; mFunctionIdMap</div><div class="ttdef"><b>Definition:</b> <a href="../../da/d7f/CSBMLExporter_8h_source.html#l00072">CSBMLExporter.h:72</a></div></div>
<div class="ttc" id="CCopasiMessage_8h_html_a1e835c01335d6f956a78adf106ed1b15"><div class="ttname"><a href="../../d9/d2d/CCopasiMessage_8h.html#a1e835c01335d6f956a78adf106ed1b15">fatalError</a></div><div class="ttdeci">#define fatalError()</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d2d/CCopasiMessage_8h_source.html#l00074">CCopasiMessage.h:74</a></div></div>
<div class="ttc" id="classCEvaluationNode_html_ae24b55d848d78cec0a359fd199c76562"><div class="ttname"><a href="../../d8/d9f/classCEvaluationNode.html#ae24b55d848d78cec0a359fd199c76562">CEvaluationNode::getType</a></div><div class="ttdeci">const Type &amp; getType() const </div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d3d/CEvaluationNode_8cpp_source.html#l00357">CEvaluationNode.cpp:357</a></div></div>
<div class="ttc" id="classCEvaluationNodeCall_html"><div class="ttname"><a href="../../df/d44/classCEvaluationNodeCall.html">CEvaluationNodeCall</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d90/CEvaluationNodeCall_8h_source.html#l00030">CEvaluationNodeCall.h:30</a></div></div>
<div class="ttc" id="classCSBMLExporter_html_a60ab409a11b90a1ca965d7702828af74"><div class="ttname"><a href="../../df/d80/classCSBMLExporter.html#a60ab409a11b90a1ca965d7702828af74">CSBMLExporter::mIdMap</a></div><div class="ttdeci">std::map&lt; std::string, const SBase * &gt; mIdMap</div><div class="ttdef"><b>Definition:</b> <a href="../../da/d7f/CSBMLExporter_8h_source.html#l00064">CSBMLExporter.h:64</a></div></div>
<div class="ttc" id="classCSBMLExporter_html_ab4d7f9c3d22b8225d1a4d9e3a98b855e"><div class="ttname"><a href="../../df/d80/classCSBMLExporter.html#ab4d7f9c3d22b8225d1a4d9e3a98b855e">CSBMLExporter::createUniqueId</a></div><div class="ttdeci">static const std::string createUniqueId(const std::map&lt; std::string, const SBase * &gt; &amp;idMap, const std::string &amp;prefix, bool addIndexForFirst, const std::string &amp;separator=&quot;_&quot;)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d2f/CSBMLExporter_8cpp_source.html#l02252">CSBMLExporter.cpp:2252</a></div></div>
<div class="ttc" id="classCEvaluationNode_html_a9e5fcf60f22d2701417f90756847d37b"><div class="ttname"><a href="../../d8/d9f/classCEvaluationNode.html#a9e5fcf60f22d2701417f90756847d37b">CEvaluationNode::type</a></div><div class="ttdeci">static Type type(const Type &amp;type)</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d3d/CEvaluationNode_8cpp_source.html#l00123">CEvaluationNode.cpp:123</a></div></div>
<div class="ttc" id="classCFunction_html_af9762a77d28da2757878f1218ca4e04c"><div class="ttname"><a href="../../d9/d86/classCFunction.html#af9762a77d28da2757878f1218ca4e04c">CFunction::setSBMLId</a></div><div class="ttdeci">void setSBMLId(const std::string &amp;id)</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/db0/CFunction_8cpp_source.html#l00063">CFunction.cpp:63</a></div></div>
<div class="ttc" id="classCSBMLExporter_html_a885487cfd1570979b180bee89571c271"><div class="ttname"><a href="../../df/d80/classCSBMLExporter.html#a885487cfd1570979b180bee89571c271">CSBMLExporter::isValidSId</a></div><div class="ttdeci">static bool isValidSId(const std::string &amp;id)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d2f/CSBMLExporter_8cpp_source.html#l05993">CSBMLExporter.cpp:5993</a></div></div>
<div class="ttc" id="classCCopasiRootContainer_html_afd5e8541f181260daf7515b28f0612c3"><div class="ttname"><a href="../../d3/db1/classCCopasiRootContainer.html#afd5e8541f181260daf7515b28f0612c3">CCopasiRootContainer::getFunctionList</a></div><div class="ttdeci">static CFunctionDB * getFunctionList()</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/d4b/CCopasiRootContainer_8cpp_source.html#l00137">CCopasiRootContainer.cpp:137</a></div></div>
<div class="ttc" id="classCEvaluationNode_html"><div class="ttname"><a href="../../d8/d9f/classCEvaluationNode.html">CEvaluationNode</a></div><div class="ttdef"><b>Definition:</b> <a href="../../de/dfa/CEvaluationNode_8h_source.html#l00033">CEvaluationNode.h:33</a></div></div>
<div class="ttc" id="classCEvaluationNode_html_aeef59b7ae37d1323a4900e5d19140491a9850f90ad614378da22df5bab569a3b6"><div class="ttname"><a href="../../d8/d9f/classCEvaluationNode.html#aeef59b7ae37d1323a4900e5d19140491a9850f90ad614378da22df5bab569a3b6">CEvaluationNode::CALL</a></div><div class="ttdef"><b>Definition:</b> <a href="../../de/dfa/CEvaluationNode_8h_source.html#l00047">CEvaluationNode.h:47</a></div></div>
<div class="ttc" id="classCFunction_html_a8dca3a504b45b55d7af0ba49a2e9a9a0"><div class="ttname"><a href="../../d9/d86/classCFunction.html#a8dca3a504b45b55d7af0ba49a2e9a9a0">CFunction::getSBMLId</a></div><div class="ttdeci">const std::string &amp; getSBMLId() const </div><div class="ttdef"><b>Definition:</b> <a href="../../d6/db0/CFunction_8cpp_source.html#l00068">CFunction.cpp:68</a></div></div>
<div class="ttc" id="classCFunction_html"><div class="ttname"><a href="../../d9/d86/classCFunction.html">CFunction</a></div><div class="ttdoc">The class for handling a chemical kinetic function. </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/df5/CFunction_8h_source.html#l00029">CFunction.h:29</a></div></div>
<div class="ttc" id="classCCopasiNode_html_acad859fb98cfa7f9d328a1cf1ee57023"><div class="ttname"><a href="../../d9/d9d/classCCopasiNode.html#acad859fb98cfa7f9d328a1cf1ee57023">CCopasiNode::getChild</a></div><div class="ttdeci">CCopasiNode&lt; Data &gt; * getChild()</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d24/CCopasiNode_8h_source.html#l00210">CCopasiNode.h:210</a></div></div>
<div class="ttc" id="classCFunctionDB_html_aa25aabb5ce2677103813278c014e06fb"><div class="ttname"><a href="../../db/d9a/classCFunctionDB.html#aa25aabb5ce2677103813278c014e06fb">CFunctionDB::findFunction</a></div><div class="ttdeci">CFunction * findFunction(const std::string &amp;functionName)</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/df1/CFunctionDB_8cpp_source.html#l00325">CFunctionDB.cpp:325</a></div></div>
<div class="ttc" id="classCSBMLExporter_html_a36e8f281bf2ae61c6f6de64a3d34da79"><div class="ttname"><a href="../../df/d80/classCSBMLExporter.html#a36e8f281bf2ae61c6f6de64a3d34da79">CSBMLExporter::setFunctionSBMLIds</a></div><div class="ttdeci">void setFunctionSBMLIds(const CEvaluationNode *pNode, CCopasiDataModel &amp;dataModel)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d2f/CSBMLExporter_8cpp_source.html#l07091">CSBMLExporter.cpp:7091</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a166bed353f341e4e617bff6f40ff12c4"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool CSBMLExporter::setSBMLNotes </td>
          <td>(</td>
          <td class="paramtype">SBase *&#160;</td>
          <td class="paramname"><em>pSBase</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="../../d8/dfc/classCAnnotation.html">CAnnotation</a> *&#160;</td>
          <td class="paramname"><em>pAnno</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>This is a general method to set the notes of an SBase object based on a COPASI Annotation. This will allow us to export notes on objects other than just the model. </p>

<p>Definition at line <a class="el" href="../../d5/d2f/CSBMLExporter_8cpp_source.html#l07697">7697</a> of file <a class="el" href="../../d5/d2f/CSBMLExporter_8cpp_source.html">CSBMLExporter.cpp</a>.</p>

<p>References <a class="el" href="../../d8/dfc/classCAnnotation.html#ad8f3690a0bade095aadf3dc17eaee28b">CAnnotation::getNotes()</a>, <a class="el" href="../../d8/dfc/classCAnnotation.html#a9f4451b8ddd9d31cdb2e5ca869e00316">CAnnotation::getUnsupportedAnnotations()</a>, and <a class="el" href="../../d2/df0/classCCopasiMessage.html#a2ea1ed32494ff5c8d84353efcec7a5e4ac789e90eead3612a24114b9eae58fdec">CCopasiMessage::WARNING</a>.</p>

<p>Referenced by <a class="el" href="../../df/d80/classCSBMLExporter.html#a8a3a98da416d76519f5ef7a9617d5b7e">createCompartment()</a>, <a class="el" href="../../df/d80/classCSBMLExporter.html#a79ba15ac876b6354e2aaff763b8a7c86">createEvent()</a>, <a class="el" href="../../df/d80/classCSBMLExporter.html#abc1d139f7b654051b43958675056e34c">createFunctionDefinition()</a>, <a class="el" href="../../df/d80/classCSBMLExporter.html#a79fe24bce02d84048709c9e851d4ce1b">createMetabolite()</a>, <a class="el" href="../../df/d80/classCSBMLExporter.html#a6ecc3a13cadbc61518786aad102ccf5c">createParameter()</a>, <a class="el" href="../../df/d80/classCSBMLExporter.html#a9a2740279f7cccf5ae7b404b995ec9fa">createReaction()</a>, and <a class="el" href="../../df/d80/classCSBMLExporter.html#a2b680d670c11c7c70a45bc12e236b2e8">createSBMLDocument()</a>.</p>
<div class="fragment"><div class="line"><a name="l07698"></a><span class="lineno"> 7698</span>&#160;{</div>
<div class="line"><a name="l07699"></a><span class="lineno"> 7699</span>&#160;  <span class="keywordtype">bool</span> result = <span class="keyword">true</span>;</div>
<div class="line"><a name="l07700"></a><span class="lineno"> 7700</span>&#160;</div>
<div class="line"><a name="l07701"></a><span class="lineno"> 7701</span>&#160;  <span class="keywordflow">if</span> (pSBase == NULL || pAnno == NULL)</div>
<div class="line"><a name="l07702"></a><span class="lineno"> 7702</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l07703"></a><span class="lineno"> 7703</span>&#160;</div>
<div class="line"><a name="l07704"></a><span class="lineno"> 7704</span>&#160;  <span class="keywordflow">if</span> ((!pAnno-&gt;<a class="code" href="../../d8/dfc/classCAnnotation.html#ad8f3690a0bade095aadf3dc17eaee28b">getNotes</a>().empty()) &amp;&amp; !(pAnno-&gt;<a class="code" href="../../d8/dfc/classCAnnotation.html#ad8f3690a0bade095aadf3dc17eaee28b">getNotes</a>().find_first_not_of(<span class="stringliteral">&quot; \n\t\r&quot;</span>) == std::string::npos))</div>
<div class="line"><a name="l07705"></a><span class="lineno"> 7705</span>&#160;    {</div>
<div class="line"><a name="l07706"></a><span class="lineno"> 7706</span>&#160;<span class="preprocessor">#if LIBSBML_VERSION &gt;= 40100</span></div>
<div class="line"><a name="l07707"></a><span class="lineno"> 7707</span>&#160;<span class="preprocessor"></span>      <span class="comment">// the new method to create notes does not add the notes tag around the notes any</span></div>
<div class="line"><a name="l07708"></a><span class="lineno"> 7708</span>&#160;      <span class="comment">// more because libsbml 4 checks if it is there and adds it if it isn&#39;t</span></div>
<div class="line"><a name="l07709"></a><span class="lineno"> 7709</span>&#160;      XMLNode* pNotes = CSBMLExporter::createSBMLNotes(pAnno-&gt;<a class="code" href="../../d8/dfc/classCAnnotation.html#ad8f3690a0bade095aadf3dc17eaee28b">getNotes</a>());</div>
<div class="line"><a name="l07710"></a><span class="lineno"> 7710</span>&#160;<span class="preprocessor">#else</span></div>
<div class="line"><a name="l07711"></a><span class="lineno"> 7711</span>&#160;<span class="preprocessor"></span>      <span class="comment">// if we are compiling agains libsbml 3, we use the old way of setting the notes</span></div>
<div class="line"><a name="l07712"></a><span class="lineno"> 7712</span>&#160;      std::string comments = <span class="stringliteral">&quot;&lt;notes&gt;&quot;</span> + pAnno-&gt;<a class="code" href="../../d8/dfc/classCAnnotation.html#ad8f3690a0bade095aadf3dc17eaee28b">getNotes</a>() + <span class="stringliteral">&quot;&lt;/notes&gt;&quot;</span>;</div>
<div class="line"><a name="l07713"></a><span class="lineno"> 7713</span>&#160;      <span class="comment">// the convertStringToXMLNode has changed behavior between libsbml 3 and libsbml 4</span></div>
<div class="line"><a name="l07714"></a><span class="lineno"> 7714</span>&#160;      <span class="comment">// in libsbml it creates a dummy node and in libsbml 4 it doesn&#39;t</span></div>
<div class="line"><a name="l07715"></a><span class="lineno"> 7715</span>&#160;      <span class="comment">// somehow this never did affect the notes because they were exported correctly with</span></div>
<div class="line"><a name="l07716"></a><span class="lineno"> 7716</span>&#160;      <span class="comment">// libsbml 3 already</span></div>
<div class="line"><a name="l07717"></a><span class="lineno"> 7717</span>&#160;      XMLNode* pNotes = XMLNode::convertStringToXMLNode(comments);</div>
<div class="line"><a name="l07718"></a><span class="lineno"> 7718</span>&#160;<span class="preprocessor">#endif // LIBSBML_VERSION</span></div>
<div class="line"><a name="l07719"></a><span class="lineno"> 7719</span>&#160;<span class="preprocessor"></span></div>
<div class="line"><a name="l07720"></a><span class="lineno"> 7720</span>&#160;      <span class="keywordflow">if</span> (pNotes != NULL)</div>
<div class="line"><a name="l07721"></a><span class="lineno"> 7721</span>&#160;        {</div>
<div class="line"><a name="l07722"></a><span class="lineno"> 7722</span>&#160;          <span class="keywordtype">int</span> notes_result = pSBase-&gt;setNotes(pNotes);</div>
<div class="line"><a name="l07723"></a><span class="lineno"> 7723</span>&#160;</div>
<div class="line"><a name="l07724"></a><span class="lineno"> 7724</span>&#160;          <span class="keywordflow">if</span> (notes_result != LIBSBML_OPERATION_SUCCESS)</div>
<div class="line"><a name="l07725"></a><span class="lineno"> 7725</span>&#160;            {</div>
<div class="line"><a name="l07726"></a><span class="lineno"> 7726</span>&#160;              <span class="comment">// issue some warning</span></div>
<div class="line"><a name="l07727"></a><span class="lineno"> 7727</span>&#160;              std::string target;</div>
<div class="line"><a name="l07728"></a><span class="lineno"> 7728</span>&#160;</div>
<div class="line"><a name="l07729"></a><span class="lineno"> 7729</span>&#160;              <span class="keywordflow">switch</span> (pSBase-&gt;getTypeCode())</div>
<div class="line"><a name="l07730"></a><span class="lineno"> 7730</span>&#160;                {</div>
<div class="line"><a name="l07731"></a><span class="lineno"> 7731</span>&#160;                  <span class="keywordflow">case</span> SBML_MODEL:</div>
<div class="line"><a name="l07732"></a><span class="lineno"> 7732</span>&#160;                    target = <span class="stringliteral">&quot;the SBML model&quot;</span>;</div>
<div class="line"><a name="l07733"></a><span class="lineno"> 7733</span>&#160;                    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l07734"></a><span class="lineno"> 7734</span>&#160;</div>
<div class="line"><a name="l07735"></a><span class="lineno"> 7735</span>&#160;                  <span class="keywordflow">case</span> SBML_COMPARTMENT:</div>
<div class="line"><a name="l07736"></a><span class="lineno"> 7736</span>&#160;                    target = <span class="stringliteral">&quot; compartment \&quot;&quot;</span>;</div>
<div class="line"><a name="l07737"></a><span class="lineno"> 7737</span>&#160;                    target += pSBase-&gt;getName();</div>
<div class="line"><a name="l07738"></a><span class="lineno"> 7738</span>&#160;                    target += <span class="stringliteral">&quot;\&quot;&quot;</span>;</div>
<div class="line"><a name="l07739"></a><span class="lineno"> 7739</span>&#160;                    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l07740"></a><span class="lineno"> 7740</span>&#160;</div>
<div class="line"><a name="l07741"></a><span class="lineno"> 7741</span>&#160;                  <span class="keywordflow">case</span> SBML_SPECIES:</div>
<div class="line"><a name="l07742"></a><span class="lineno"> 7742</span>&#160;                    target =</div>
<div class="line"><a name="l07743"></a><span class="lineno"> 7743</span>&#160;                      target = <span class="stringliteral">&quot;species \&quot;&quot;</span>;</div>
<div class="line"><a name="l07744"></a><span class="lineno"> 7744</span>&#160;                    target += pSBase-&gt;getName();</div>
<div class="line"><a name="l07745"></a><span class="lineno"> 7745</span>&#160;                    target += <span class="stringliteral">&quot;\&quot;&quot;</span>;</div>
<div class="line"><a name="l07746"></a><span class="lineno"> 7746</span>&#160;                    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l07747"></a><span class="lineno"> 7747</span>&#160;</div>
<div class="line"><a name="l07748"></a><span class="lineno"> 7748</span>&#160;                  <span class="keywordflow">case</span> SBML_PARAMETER:</div>
<div class="line"><a name="l07749"></a><span class="lineno"> 7749</span>&#160;                    target =</div>
<div class="line"><a name="l07750"></a><span class="lineno"> 7750</span>&#160;                      target = <span class="stringliteral">&quot;parameter \&quot;&quot;</span>;</div>
<div class="line"><a name="l07751"></a><span class="lineno"> 7751</span>&#160;                    target += pSBase-&gt;getName();</div>
<div class="line"><a name="l07752"></a><span class="lineno"> 7752</span>&#160;                    target += <span class="stringliteral">&quot;\&quot;&quot;</span>;</div>
<div class="line"><a name="l07753"></a><span class="lineno"> 7753</span>&#160;                    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l07754"></a><span class="lineno"> 7754</span>&#160;</div>
<div class="line"><a name="l07755"></a><span class="lineno"> 7755</span>&#160;                  <span class="keywordflow">case</span> SBML_REACTION:</div>
<div class="line"><a name="l07756"></a><span class="lineno"> 7756</span>&#160;                    target = <span class="stringliteral">&quot;reaction \&quot;&quot;</span>;</div>
<div class="line"><a name="l07757"></a><span class="lineno"> 7757</span>&#160;                    target += pSBase-&gt;getName();</div>
<div class="line"><a name="l07758"></a><span class="lineno"> 7758</span>&#160;                    target += <span class="stringliteral">&quot;\&quot;&quot;</span>;</div>
<div class="line"><a name="l07759"></a><span class="lineno"> 7759</span>&#160;                    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l07760"></a><span class="lineno"> 7760</span>&#160;</div>
<div class="line"><a name="l07761"></a><span class="lineno"> 7761</span>&#160;                  <span class="keywordflow">case</span> SBML_EVENT:</div>
<div class="line"><a name="l07762"></a><span class="lineno"> 7762</span>&#160;                    target = <span class="stringliteral">&quot;event \&quot;&quot;</span>;</div>
<div class="line"><a name="l07763"></a><span class="lineno"> 7763</span>&#160;                    target += pSBase-&gt;getName();</div>
<div class="line"><a name="l07764"></a><span class="lineno"> 7764</span>&#160;                    target += <span class="stringliteral">&quot;\&quot;&quot;</span>;</div>
<div class="line"><a name="l07765"></a><span class="lineno"> 7765</span>&#160;                    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l07766"></a><span class="lineno"> 7766</span>&#160;</div>
<div class="line"><a name="l07767"></a><span class="lineno"> 7767</span>&#160;                  <span class="keywordflow">default</span>:</div>
<div class="line"><a name="l07768"></a><span class="lineno"> 7768</span>&#160;                    target = <span class="stringliteral">&quot;object \&quot;&quot;</span>;</div>
<div class="line"><a name="l07769"></a><span class="lineno"> 7769</span>&#160;                    target += pSBase-&gt;getName();</div>
<div class="line"><a name="l07770"></a><span class="lineno"> 7770</span>&#160;                    target += <span class="stringliteral">&quot;\&quot;&quot;</span>;</div>
<div class="line"><a name="l07771"></a><span class="lineno"> 7771</span>&#160;                    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l07772"></a><span class="lineno"> 7772</span>&#160;                }</div>
<div class="line"><a name="l07773"></a><span class="lineno"> 7773</span>&#160;</div>
<div class="line"><a name="l07774"></a><span class="lineno"> 7774</span>&#160;              std::string warning = <span class="stringliteral">&quot;Warning, notes could not be set on &quot;</span>;</div>
<div class="line"><a name="l07775"></a><span class="lineno"> 7775</span>&#160;              warning += target;</div>
<div class="line"><a name="l07776"></a><span class="lineno"> 7776</span>&#160;              warning += <span class="stringliteral">&quot;, please consider reporting this to the COPASI developers.&quot;</span>;</div>
<div class="line"><a name="l07777"></a><span class="lineno"> 7777</span>&#160;              <a class="code" href="../../d2/df0/classCCopasiMessage.html">CCopasiMessage</a>(<a class="code" href="../../d2/df0/classCCopasiMessage.html#a2ea1ed32494ff5c8d84353efcec7a5e4ac789e90eead3612a24114b9eae58fdec">CCopasiMessage::WARNING</a>, warning.c_str());</div>
<div class="line"><a name="l07778"></a><span class="lineno"> 7778</span>&#160;              result = <span class="keyword">false</span>;</div>
<div class="line"><a name="l07779"></a><span class="lineno"> 7779</span>&#160;            }</div>
<div class="line"><a name="l07780"></a><span class="lineno"> 7780</span>&#160;</div>
<div class="line"><a name="l07781"></a><span class="lineno"> 7781</span>&#160;          <span class="keyword">delete</span> pNotes;</div>
<div class="line"><a name="l07782"></a><span class="lineno"> 7782</span>&#160;        }</div>
<div class="line"><a name="l07783"></a><span class="lineno"> 7783</span>&#160;      <span class="keywordflow">else</span></div>
<div class="line"><a name="l07784"></a><span class="lineno"> 7784</span>&#160;        {</div>
<div class="line"><a name="l07785"></a><span class="lineno"> 7785</span>&#160;          std::string target;</div>
<div class="line"><a name="l07786"></a><span class="lineno"> 7786</span>&#160;</div>
<div class="line"><a name="l07787"></a><span class="lineno"> 7787</span>&#160;          <span class="keywordflow">switch</span> (pSBase-&gt;getTypeCode())</div>
<div class="line"><a name="l07788"></a><span class="lineno"> 7788</span>&#160;            {</div>
<div class="line"><a name="l07789"></a><span class="lineno"> 7789</span>&#160;              <span class="keywordflow">case</span> SBML_MODEL:</div>
<div class="line"><a name="l07790"></a><span class="lineno"> 7790</span>&#160;                target = <span class="stringliteral">&quot;the SBML model&quot;</span>;</div>
<div class="line"><a name="l07791"></a><span class="lineno"> 7791</span>&#160;                <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l07792"></a><span class="lineno"> 7792</span>&#160;</div>
<div class="line"><a name="l07793"></a><span class="lineno"> 7793</span>&#160;              <span class="keywordflow">case</span> SBML_COMPARTMENT:</div>
<div class="line"><a name="l07794"></a><span class="lineno"> 7794</span>&#160;                target = <span class="stringliteral">&quot; compartment \&quot;&quot;</span>;</div>
<div class="line"><a name="l07795"></a><span class="lineno"> 7795</span>&#160;                target += pSBase-&gt;getName();</div>
<div class="line"><a name="l07796"></a><span class="lineno"> 7796</span>&#160;                target += <span class="stringliteral">&quot;\&quot;&quot;</span>;</div>
<div class="line"><a name="l07797"></a><span class="lineno"> 7797</span>&#160;                <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l07798"></a><span class="lineno"> 7798</span>&#160;</div>
<div class="line"><a name="l07799"></a><span class="lineno"> 7799</span>&#160;              <span class="keywordflow">case</span> SBML_SPECIES:</div>
<div class="line"><a name="l07800"></a><span class="lineno"> 7800</span>&#160;                target =</div>
<div class="line"><a name="l07801"></a><span class="lineno"> 7801</span>&#160;                  target = <span class="stringliteral">&quot;species \&quot;&quot;</span>;</div>
<div class="line"><a name="l07802"></a><span class="lineno"> 7802</span>&#160;                target += pSBase-&gt;getName();</div>
<div class="line"><a name="l07803"></a><span class="lineno"> 7803</span>&#160;                target += <span class="stringliteral">&quot;\&quot;&quot;</span>;</div>
<div class="line"><a name="l07804"></a><span class="lineno"> 7804</span>&#160;                <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l07805"></a><span class="lineno"> 7805</span>&#160;</div>
<div class="line"><a name="l07806"></a><span class="lineno"> 7806</span>&#160;              <span class="keywordflow">case</span> SBML_PARAMETER:</div>
<div class="line"><a name="l07807"></a><span class="lineno"> 7807</span>&#160;                target =</div>
<div class="line"><a name="l07808"></a><span class="lineno"> 7808</span>&#160;                  target = <span class="stringliteral">&quot;parameter \&quot;&quot;</span>;</div>
<div class="line"><a name="l07809"></a><span class="lineno"> 7809</span>&#160;                target += pSBase-&gt;getName();</div>
<div class="line"><a name="l07810"></a><span class="lineno"> 7810</span>&#160;                target += <span class="stringliteral">&quot;\&quot;&quot;</span>;</div>
<div class="line"><a name="l07811"></a><span class="lineno"> 7811</span>&#160;                <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l07812"></a><span class="lineno"> 7812</span>&#160;</div>
<div class="line"><a name="l07813"></a><span class="lineno"> 7813</span>&#160;              <span class="keywordflow">case</span> SBML_REACTION:</div>
<div class="line"><a name="l07814"></a><span class="lineno"> 7814</span>&#160;                target = <span class="stringliteral">&quot;reaction \&quot;&quot;</span>;</div>
<div class="line"><a name="l07815"></a><span class="lineno"> 7815</span>&#160;                target += pSBase-&gt;getName();</div>
<div class="line"><a name="l07816"></a><span class="lineno"> 7816</span>&#160;                target += <span class="stringliteral">&quot;\&quot;&quot;</span>;</div>
<div class="line"><a name="l07817"></a><span class="lineno"> 7817</span>&#160;                <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l07818"></a><span class="lineno"> 7818</span>&#160;</div>
<div class="line"><a name="l07819"></a><span class="lineno"> 7819</span>&#160;              <span class="keywordflow">case</span> SBML_EVENT:</div>
<div class="line"><a name="l07820"></a><span class="lineno"> 7820</span>&#160;                target = <span class="stringliteral">&quot;event \&quot;&quot;</span>;</div>
<div class="line"><a name="l07821"></a><span class="lineno"> 7821</span>&#160;                target += pSBase-&gt;getName();</div>
<div class="line"><a name="l07822"></a><span class="lineno"> 7822</span>&#160;                target += <span class="stringliteral">&quot;\&quot;&quot;</span>;</div>
<div class="line"><a name="l07823"></a><span class="lineno"> 7823</span>&#160;                <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l07824"></a><span class="lineno"> 7824</span>&#160;</div>
<div class="line"><a name="l07825"></a><span class="lineno"> 7825</span>&#160;              <span class="keywordflow">default</span>:</div>
<div class="line"><a name="l07826"></a><span class="lineno"> 7826</span>&#160;                target = <span class="stringliteral">&quot;object \&quot;&quot;</span>;</div>
<div class="line"><a name="l07827"></a><span class="lineno"> 7827</span>&#160;                target += pSBase-&gt;getName();</div>
<div class="line"><a name="l07828"></a><span class="lineno"> 7828</span>&#160;                target += <span class="stringliteral">&quot;\&quot;&quot;</span>;</div>
<div class="line"><a name="l07829"></a><span class="lineno"> 7829</span>&#160;                <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l07830"></a><span class="lineno"> 7830</span>&#160;            }</div>
<div class="line"><a name="l07831"></a><span class="lineno"> 7831</span>&#160;</div>
<div class="line"><a name="l07832"></a><span class="lineno"> 7832</span>&#160;          std::string warning = <span class="stringliteral">&quot;Warning, notes could not be set on &quot;</span>;</div>
<div class="line"><a name="l07833"></a><span class="lineno"> 7833</span>&#160;          warning += target;</div>
<div class="line"><a name="l07834"></a><span class="lineno"> 7834</span>&#160;          warning += <span class="stringliteral">&quot;, please consider reporting this to the COPASI developers.&quot;</span>;</div>
<div class="line"><a name="l07835"></a><span class="lineno"> 7835</span>&#160;          <a class="code" href="../../d2/df0/classCCopasiMessage.html">CCopasiMessage</a>(<a class="code" href="../../d2/df0/classCCopasiMessage.html#a2ea1ed32494ff5c8d84353efcec7a5e4ac789e90eead3612a24114b9eae58fdec">CCopasiMessage::WARNING</a>, warning.c_str());</div>
<div class="line"><a name="l07836"></a><span class="lineno"> 7836</span>&#160;          result = <span class="keyword">false</span>;</div>
<div class="line"><a name="l07837"></a><span class="lineno"> 7837</span>&#160;        }</div>
<div class="line"><a name="l07838"></a><span class="lineno"> 7838</span>&#160;    }</div>
<div class="line"><a name="l07839"></a><span class="lineno"> 7839</span>&#160;</div>
<div class="line"><a name="l07840"></a><span class="lineno"> 7840</span>&#160;  <span class="keyword">const</span> std::map&lt;std::string, std::string&gt;&amp; map = pAnno-&gt;<a class="code" href="../../d8/dfc/classCAnnotation.html#a9f4451b8ddd9d31cdb2e5ca869e00316">getUnsupportedAnnotations</a>();</div>
<div class="line"><a name="l07841"></a><span class="lineno"> 7841</span>&#160;</div>
<div class="line"><a name="l07842"></a><span class="lineno"> 7842</span>&#160;  <span class="keywordflow">if</span> (map.size() &gt; 0)</div>
<div class="line"><a name="l07843"></a><span class="lineno"> 7843</span>&#160;    {</div>
<div class="line"><a name="l07844"></a><span class="lineno"> 7844</span>&#160;      std::map&lt;std::string, std::string&gt;::const_iterator iter;</div>
<div class="line"><a name="l07845"></a><span class="lineno"> 7845</span>&#160;</div>
<div class="line"><a name="l07846"></a><span class="lineno"> 7846</span>&#160;      <span class="keywordflow">for</span> (iter = map.begin(); iter != map.end(); ++iter)</div>
<div class="line"><a name="l07847"></a><span class="lineno"> 7847</span>&#160;        pSBase-&gt;appendAnnotation(XMLNode::convertStringToXMLNode((*iter).second));</div>
<div class="line"><a name="l07848"></a><span class="lineno"> 7848</span>&#160;    }</div>
<div class="line"><a name="l07849"></a><span class="lineno"> 7849</span>&#160;</div>
<div class="line"><a name="l07850"></a><span class="lineno"> 7850</span>&#160;  <span class="keywordflow">return</span> result;</div>
<div class="line"><a name="l07851"></a><span class="lineno"> 7851</span>&#160;}</div>
<div class="ttc" id="classCCopasiMessage_html_a2ea1ed32494ff5c8d84353efcec7a5e4ac789e90eead3612a24114b9eae58fdec"><div class="ttname"><a href="../../d2/df0/classCCopasiMessage.html#a2ea1ed32494ff5c8d84353efcec7a5e4ac789e90eead3612a24114b9eae58fdec">CCopasiMessage::WARNING</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d2d/CCopasiMessage_8h_source.html#l00086">CCopasiMessage.h:86</a></div></div>
<div class="ttc" id="classCAnnotation_html_ad8f3690a0bade095aadf3dc17eaee28b"><div class="ttname"><a href="../../d8/dfc/classCAnnotation.html#ad8f3690a0bade095aadf3dc17eaee28b">CAnnotation::getNotes</a></div><div class="ttdeci">const std::string &amp; getNotes() const </div><div class="ttdef"><b>Definition:</b> <a href="../../da/d9e/CAnnotation_8cpp_source.html#l00124">CAnnotation.cpp:124</a></div></div>
<div class="ttc" id="classCCopasiMessage_html"><div class="ttname"><a href="../../d2/df0/classCCopasiMessage.html">CCopasiMessage</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d2d/CCopasiMessage_8h_source.html#l00078">CCopasiMessage.h:78</a></div></div>
<div class="ttc" id="classCAnnotation_html_a9f4451b8ddd9d31cdb2e5ca869e00316"><div class="ttname"><a href="../../d8/dfc/classCAnnotation.html#a9f4451b8ddd9d31cdb2e5ca869e00316">CAnnotation::getUnsupportedAnnotations</a></div><div class="ttdeci">UnsupportedAnnotation &amp; getUnsupportedAnnotations()</div><div class="ttdef"><b>Definition:</b> <a href="../../da/d9e/CAnnotation_8cpp_source.html#l00201">CAnnotation.cpp:201</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="aad340b885e5354efcf9b63b6475c59af"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d3/d05/CChemEqParser__yacc_8cpp.html#aa76fec002b4ba91adc88f68d56ba730c">void</a> CSBMLExporter::updateCOPASI2SBMLMap </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="../../d4/d18/classCCopasiDataModel.html">CCopasiDataModel</a> &amp;&#160;</td>
          <td class="paramname"><em>dataModel</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Creates a new COPASI2SBMLMap baed on the old map and the copied SBMLDocument. </p>

<p>Definition at line <a class="el" href="../../d5/d2f/CSBMLExporter_8cpp_source.html#l04560">4560</a> of file <a class="el" href="../../d5/d2f/CSBMLExporter_8cpp_source.html">CSBMLExporter.cpp</a>.</p>

<p>References <a class="el" href="../../df/d80/classCSBMLExporter.html#aeb19f9866a1735848770125dad2aebad">mCOPASI2SBMLMap</a>, and <a class="el" href="../../df/d80/classCSBMLExporter.html#a60ab409a11b90a1ca965d7702828af74">mIdMap</a>.</p>

<p>Referenced by <a class="el" href="../../df/d80/classCSBMLExporter.html#a2b680d670c11c7c70a45bc12e236b2e8">createSBMLDocument()</a>.</p>
<div class="fragment"><div class="line"><a name="l04561"></a><span class="lineno"> 4561</span>&#160;{</div>
<div class="line"><a name="l04562"></a><span class="lineno"> 4562</span>&#160;  <span class="comment">// make sure the idMap is already up to date</span></div>
<div class="line"><a name="l04563"></a><span class="lineno"> 4563</span>&#160;  <span class="comment">// go through the existing map and create a new one with all SBML</span></div>
<div class="line"><a name="l04564"></a><span class="lineno"> 4564</span>&#160;  <span class="comment">// objects updated with objects from the copied</span></div>
<div class="line"><a name="l04565"></a><span class="lineno"> 4565</span>&#160;  <span class="comment">// model</span></div>
<div class="line"><a name="l04566"></a><span class="lineno"> 4566</span>&#160;  this-&gt;<a class="code" href="../../df/d80/classCSBMLExporter.html#aeb19f9866a1735848770125dad2aebad">mCOPASI2SBMLMap</a>.clear();</div>
<div class="line"><a name="l04567"></a><span class="lineno"> 4567</span>&#160;  std::map&lt;CCopasiObject*, SBase*&gt;&amp; modelMap = <span class="keyword">const_cast&lt;</span><a class="code" href="../../d4/d18/classCCopasiDataModel.html">CCopasiDataModel</a>&amp;<span class="keyword">&gt;</span>(dataModel).getCopasi2SBMLMap();</div>
<div class="line"><a name="l04568"></a><span class="lineno"> 4568</span>&#160;  std::map&lt;CCopasiObject*, SBase*&gt;::const_iterator it = modelMap.begin();</div>
<div class="line"><a name="l04569"></a><span class="lineno"> 4569</span>&#160;  std::map&lt;CCopasiObject*, SBase*&gt;::const_iterator endit = modelMap.end();</div>
<div class="line"><a name="l04570"></a><span class="lineno"> 4570</span>&#160;</div>
<div class="line"><a name="l04571"></a><span class="lineno"> 4571</span>&#160;  <span class="keywordflow">while</span> (it != endit)</div>
<div class="line"><a name="l04572"></a><span class="lineno"> 4572</span>&#160;    {</div>
<div class="line"><a name="l04573"></a><span class="lineno"> 4573</span>&#160;      std::map&lt;std::string, const SBase*&gt;::iterator pos = it-&gt;second == NULL ? <a class="code" href="../../df/d80/classCSBMLExporter.html#a60ab409a11b90a1ca965d7702828af74">mIdMap</a>.end() :  this-&gt;<a class="code" href="../../df/d80/classCSBMLExporter.html#a60ab409a11b90a1ca965d7702828af74">mIdMap</a>.find(it-&gt;second-&gt;getId());</div>
<div class="line"><a name="l04574"></a><span class="lineno"> 4574</span>&#160;</div>
<div class="line"><a name="l04575"></a><span class="lineno"> 4575</span>&#160;      <span class="keywordflow">if</span> (pos != this-&gt;<a class="code" href="../../df/d80/classCSBMLExporter.html#a60ab409a11b90a1ca965d7702828af74">mIdMap</a>.end())</div>
<div class="line"><a name="l04576"></a><span class="lineno"> 4576</span>&#160;        {</div>
<div class="line"><a name="l04577"></a><span class="lineno"> 4577</span>&#160;          this-&gt;<a class="code" href="../../df/d80/classCSBMLExporter.html#aeb19f9866a1735848770125dad2aebad">mCOPASI2SBMLMap</a>.insert(std::pair&lt;const CCopasiObject * const, SBase*&gt;(it-&gt;first, const_cast&lt;SBase*&gt;(pos-&gt;second)));</div>
<div class="line"><a name="l04578"></a><span class="lineno"> 4578</span>&#160;        }</div>
<div class="line"><a name="l04579"></a><span class="lineno"> 4579</span>&#160;</div>
<div class="line"><a name="l04580"></a><span class="lineno"> 4580</span>&#160;      ++it;</div>
<div class="line"><a name="l04581"></a><span class="lineno"> 4581</span>&#160;    }</div>
<div class="line"><a name="l04582"></a><span class="lineno"> 4582</span>&#160;}</div>
<div class="ttc" id="classCSBMLExporter_html_a60ab409a11b90a1ca965d7702828af74"><div class="ttname"><a href="../../df/d80/classCSBMLExporter.html#a60ab409a11b90a1ca965d7702828af74">CSBMLExporter::mIdMap</a></div><div class="ttdeci">std::map&lt; std::string, const SBase * &gt; mIdMap</div><div class="ttdef"><b>Definition:</b> <a href="../../da/d7f/CSBMLExporter_8h_source.html#l00064">CSBMLExporter.h:64</a></div></div>
<div class="ttc" id="classCSBMLExporter_html_aeb19f9866a1735848770125dad2aebad"><div class="ttname"><a href="../../df/d80/classCSBMLExporter.html#aeb19f9866a1735848770125dad2aebad">CSBMLExporter::mCOPASI2SBMLMap</a></div><div class="ttdeci">std::map&lt; const CCopasiObject *, SBase * &gt; mCOPASI2SBMLMap</div><div class="ttdef"><b>Definition:</b> <a href="../../da/d7f/CSBMLExporter_8h_source.html#l00061">CSBMLExporter.h:61</a></div></div>
<div class="ttc" id="classCCopasiDataModel_html"><div class="ttname"><a href="../../d4/d18/classCCopasiDataModel.html">CCopasiDataModel</a></div><div class="ttdef"><b>Definition:</b> <a href="../../dd/df7/CCopasiDataModel_8h_source.html#l00078">CCopasiDataModel.h:78</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="aba8216eaf4931e0adf484832882fbe67"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool CSBMLExporter::updateMIRIAMAnnotation </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="../../d4/da8/classCCopasiObject.html">CCopasiObject</a> *&#160;</td>
          <td class="paramname"><em>pCOPASIObject</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">SBase *&#160;</td>
          <td class="paramname"><em>pSBMLObject</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::map&lt; std::string, const SBase * &gt; &amp;&#160;</td>
          <td class="paramname"><em>metaIds</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>This method gets the MIRIAM annotation from the given COPASI object and sets it on the given SBML object.</p>
<p>This method updates the MIRIAM annotation on different model entities like the model itself, compartments, species, reactions, functions and global parameters </p>

<p>Definition at line <a class="el" href="../../d5/d2f/CSBMLExporter_8cpp_source.html#l06361">6361</a> of file <a class="el" href="../../d5/d2f/CSBMLExporter_8cpp_source.html">CSBMLExporter.cpp</a>.</p>

<p>References <a class="el" href="../../d0/da2/classCRDFPredicate.html#a8d7794773ca004d2217be3fd6edf3610a170bbee0fe86599280431f603eccbf26">CRDFPredicate::bqbiol_encodes</a>, <a class="el" href="../../d0/da2/classCRDFPredicate.html#a8d7794773ca004d2217be3fd6edf3610a161954768f573128b0acfc59fb79dc6d">CRDFPredicate::bqbiol_hasPart</a>, <a class="el" href="../../d0/da2/classCRDFPredicate.html#a8d7794773ca004d2217be3fd6edf3610a7c50b36a34fb1a259ef812e58a83bf6a">CRDFPredicate::bqbiol_hasVersion</a>, <a class="el" href="../../d0/da2/classCRDFPredicate.html#a8d7794773ca004d2217be3fd6edf3610a92a131f3be300fd0bd6ad899b9081eb6">CRDFPredicate::bqbiol_is</a>, <a class="el" href="../../d0/da2/classCRDFPredicate.html#a8d7794773ca004d2217be3fd6edf3610a8ea12a3dd4d82c9af714c36d46f36f53">CRDFPredicate::bqbiol_isDescribedBy</a>, <a class="el" href="../../d0/da2/classCRDFPredicate.html#a8d7794773ca004d2217be3fd6edf3610aff8fd1f3e69dd25f721f4291f55d46bf">CRDFPredicate::bqbiol_isEncodedBy</a>, <a class="el" href="../../d0/da2/classCRDFPredicate.html#a8d7794773ca004d2217be3fd6edf3610aec36c7795be63b35da704979be166743">CRDFPredicate::bqbiol_isHomologTo</a>, <a class="el" href="../../d0/da2/classCRDFPredicate.html#a8d7794773ca004d2217be3fd6edf3610ade2575e41a562b646ba5d0c11618b16a">CRDFPredicate::bqbiol_isPartOf</a>, <a class="el" href="../../d0/da2/classCRDFPredicate.html#a8d7794773ca004d2217be3fd6edf3610a76982de728cfb49490978a7043cce0ca">CRDFPredicate::bqbiol_isVersionOf</a>, <a class="el" href="../../d0/da2/classCRDFPredicate.html#a8d7794773ca004d2217be3fd6edf3610a2ec4a782889718a29de7b7f45cdcbe49">CRDFPredicate::bqbiol_occursIn</a>, <a class="el" href="../../d0/da2/classCRDFPredicate.html#a8d7794773ca004d2217be3fd6edf3610aad0b0a788594301a649379c84220838e">CRDFPredicate::bqmodel_is</a>, <a class="el" href="../../d0/da2/classCRDFPredicate.html#a8d7794773ca004d2217be3fd6edf3610a38525968ba2c5e9b8ced9f6aa09df407">CRDFPredicate::bqmodel_isDescribedBy</a>, <a class="el" href="../../d0/da2/classCRDFPredicate.html#a8d7794773ca004d2217be3fd6edf3610a7410ff5c041473a21f60b35b85f45b6f">CRDFPredicate::copasi_encodes</a>, <a class="el" href="../../d0/da2/classCRDFPredicate.html#a8d7794773ca004d2217be3fd6edf3610ae4597e5552990292e13a63eaeb1c2fea">CRDFPredicate::copasi_hasPart</a>, <a class="el" href="../../d0/da2/classCRDFPredicate.html#a8d7794773ca004d2217be3fd6edf3610adbed2feb97771fabc407936f80aad59c">CRDFPredicate::copasi_hasVersion</a>, <a class="el" href="../../d0/da2/classCRDFPredicate.html#a8d7794773ca004d2217be3fd6edf3610a3153aaec1981fbfa2d6e3c939e9dda9e">CRDFPredicate::copasi_is</a>, <a class="el" href="../../d0/da2/classCRDFPredicate.html#a8d7794773ca004d2217be3fd6edf3610a6a5ec39b7a7b27f01af56dbccd5a6fd6">CRDFPredicate::copasi_isDescribedBy</a>, <a class="el" href="../../d0/da2/classCRDFPredicate.html#a8d7794773ca004d2217be3fd6edf3610a8aa0e8f02034de50e7c9508b2dfc1f23">CRDFPredicate::copasi_isEncodedBy</a>, <a class="el" href="../../d0/da2/classCRDFPredicate.html#a8d7794773ca004d2217be3fd6edf3610a0451b16d658b99637c68727f16271756">CRDFPredicate::copasi_isHomologTo</a>, <a class="el" href="../../d0/da2/classCRDFPredicate.html#a8d7794773ca004d2217be3fd6edf3610abcd46e0d7ebc535ded36b24a58245769">CRDFPredicate::copasi_isPartOf</a>, <a class="el" href="../../d0/da2/classCRDFPredicate.html#a8d7794773ca004d2217be3fd6edf3610aaa84bee675bb82dba2f8a22119aa4c8f">CRDFPredicate::copasi_isVersionOf</a>, <a class="el" href="../../d0/da2/classCRDFPredicate.html#a8d7794773ca004d2217be3fd6edf3610a3b9358dfedd18b18f1626d38a4e312de">CRDFPredicate::copasi_occursIn</a>, <a class="el" href="../../df/d80/classCSBMLExporter.html#ab4d7f9c3d22b8225d1a4d9e3a98b855e">createUniqueId()</a>, <a class="el" href="../../d0/da2/classCRDFPredicate.html#a8d7794773ca004d2217be3fd6edf3610ac6db0e2bc01cdb77a1a15bdb7feec526">CRDFPredicate::end</a>, <a class="el" href="../../d9/d2d/CCopasiMessage_8h.html#a1e835c01335d6f956a78adf106ed1b15">fatalError</a>, <a class="el" href="../../db/df3/classCRDFUtilities.html#a57ad781593aff10158b112521296c260">CRDFUtilities::fixLocalFileAboutReference()</a>, <a class="el" href="../../d8/d25/classCMIRIAMInfo.html#addbf8d3219247312f8478be600ced029">CMIRIAMInfo::getBiologicalDescriptions()</a>, <a class="el" href="../../d8/d25/classCMIRIAMInfo.html#a02e7737c1ebfceb4c930634f9947dfda">CMIRIAMInfo::getCreatedDT()</a>, <a class="el" href="../../d8/d25/classCMIRIAMInfo.html#a315ccf65ad0cc6209b1b90e0292cc519">CMIRIAMInfo::getCreators()</a>, <a class="el" href="../../d4/dad/classCModification.html#a7f57cb3f9051fe354e124fd84baace10">CModification::getDate()</a>, <a class="el" href="../../df/d48/classCRDFNode.html#a2a63a4fe9c71d2acba3001bacb352619">CRDFNode::getDescendantsWithPredicate()</a>, <a class="el" href="../../d6/d94/classCCreator.html#a57b3cd7587f3df37662ff408212388c3">CCreator::getEmail()</a>, <a class="el" href="../../d6/d94/classCCreator.html#ae96123537cab310cea8ae75aea7df411">CCreator::getFamilyName()</a>, <a class="el" href="../../d6/d94/classCCreator.html#a9d3b2cabd7a0645254aa3386fddabc5e">CCreator::getGivenName()</a>, <a class="el" href="../../da/ddb/classCMIRIAMResourceObject.html#a50bc0b128f5b8665db521b7b074189c0">CMIRIAMResourceObject::getIdentifiersOrgURL()</a>, <a class="el" href="../../d9/d86/classCFunction.html#a72037844ade71b20b25fd22f5b4841f8">CFunction::getKey()</a>, <a class="el" href="../../d0/da0/classCModelEntity.html#a6ab0231058041dd42d002d8b9fa34780">CModelEntity::getKey()</a>, <a class="el" href="../../d4/dcf/classCReaction.html#af3b437b3494d56d24aaa7c377fc95b8e">CReaction::getKey()</a>, <a class="el" href="../../da/d3f/classCEvent.html#ac64616e6823ddc70da7511b3eed1662c">CEvent::getKey()</a>, <a class="el" href="../../d4/da8/classCCopasiObject.html#aeeec4db3332a6886c76ace4c3fe62b7d">CCopasiObject::getKey()</a>, <a class="el" href="../../d8/dfc/classCAnnotation.html#a03698d04d9bbf73408d6e7a21f177ed7">CAnnotation::getMiriamAnnotation()</a>, <a class="el" href="../../d8/de5/classCBiologicalDescription.html#abdd6cc42e477b87f27ce7f28b08146c0">CBiologicalDescription::getMIRIAMResourceObject()</a>, <a class="el" href="../../d7/dc7/classCReference.html#a09e19085a0c78f7cb8c8d39175be71bf">CReference::getMIRIAMResourceObject()</a>, <a class="el" href="../../d8/d25/classCMIRIAMInfo.html#a69ad4ca538ef02aa58277ce08770abdc">CMIRIAMInfo::getModifications()</a>, <a class="el" href="../../d6/d94/classCCreator.html#aa39e7486619fe860e4ec2bbfd4baec05">CCreator::getORG()</a>, <a class="el" href="../../d8/d25/classCMIRIAMInfo.html#a3c79b5fc2e9548eda229242d18789a29">CMIRIAMInfo::getReferences()</a>, <a class="el" href="../../d8/de5/classCBiologicalDescription.html#a1ad699c7d4a0d12f94d747d280d5b7ac">CBiologicalDescription::getTriplet()</a>, <a class="el" href="../../d7/dc7/classCReference.html#aa0c1ab511f2c11e1b53a80523e941daa">CReference::getTriplet()</a>, <a class="el" href="../../d0/da2/classCRDFPredicate.html#af65bcf750e826e0ce8bfc4c6dd8b3223">CRDFPredicate::getType()</a>, <a class="el" href="../../d8/d25/classCMIRIAMInfo.html#aacf2db6ffe08999ab65d53beef9c1965">CMIRIAMInfo::load()</a>, <a class="el" href="../../df/d80/classCSBMLExporter.html#a64aed2b18e03f12e362aaa0cabdbb471">mExportCOPASIMIRIAM</a>, <a class="el" href="../../df/d80/classCSBMLExporter.html#adc3202b6aab716f83247c9d1a4cb60e1">mHaveModelHistoryAuthorWarning</a>, <a class="el" href="../../df/d80/classCSBMLExporter.html#ad2b0ac2df8fb9a5c28e522f1cea19709">mHaveModelHistoryCreationDateWarning</a>, <a class="el" href="../../df/d80/classCSBMLExporter.html#a9b7f3e8acfbeadd9660cde953d4563cd">mHaveModelHistoryModificationDateWarning</a>, <a class="el" href="../../df/d80/classCSBMLExporter.html#aba959efc152f63f1709d5de60e97a651">mSBMLLevel</a>, <a class="el" href="../../dd/dc7/classCRDFTriplet.html#a673bbae288bbae3dba5fee0626759ec2">CRDFTriplet::pObject</a>, <a class="el" href="../../dd/dc7/classCRDFTriplet.html#a42e6f557214dd5c65b72cf07e37a9908">CRDFTriplet::Predicate</a>, <a class="el" href="../../df/d80/classCSBMLExporter.html#afd52e9391235518719dd447da28be625">replaceChild()</a>, <a class="el" href="../../d8/d2c/classCCopasiVector.html#ab7e0e37022783eddfe85abf9339b05c0">CCopasiVector&lt; T &gt;::size()</a>, and <a class="el" href="../../d2/df0/classCCopasiMessage.html#a2ea1ed32494ff5c8d84353efcec7a5e4ac789e90eead3612a24114b9eae58fdec">CCopasiMessage::WARNING</a>.</p>

<p>Referenced by <a class="el" href="../../df/d80/classCSBMLExporter.html#a8a3a98da416d76519f5ef7a9617d5b7e">createCompartment()</a>, <a class="el" href="../../df/d80/classCSBMLExporter.html#a79ba15ac876b6354e2aaff763b8a7c86">createEvent()</a>, <a class="el" href="../../df/d80/classCSBMLExporter.html#abc1d139f7b654051b43958675056e34c">createFunctionDefinition()</a>, <a class="el" href="../../df/d80/classCSBMLExporter.html#a79fe24bce02d84048709c9e851d4ce1b">createMetabolite()</a>, <a class="el" href="../../df/d80/classCSBMLExporter.html#a6ecc3a13cadbc61518786aad102ccf5c">createParameter()</a>, <a class="el" href="../../df/d80/classCSBMLExporter.html#a9a2740279f7cccf5ae7b404b995ec9fa">createReaction()</a>, and <a class="el" href="../../df/d80/classCSBMLExporter.html#a2b680d670c11c7c70a45bc12e236b2e8">createSBMLDocument()</a>.</p>
<div class="fragment"><div class="line"><a name="l06362"></a><span class="lineno"> 6362</span>&#160;{</div>
<div class="line"><a name="l06363"></a><span class="lineno"> 6363</span>&#160;  <span class="keywordtype">bool</span> result = <span class="keyword">true</span>;</div>
<div class="line"><a name="l06364"></a><span class="lineno"> 6364</span>&#160;</div>
<div class="line"><a name="l06365"></a><span class="lineno"> 6365</span>&#160;  <span class="keywordflow">if</span> (pCOPASIObject == NULL || pSBMLObject == NULL) <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l06366"></a><span class="lineno"> 6366</span>&#160;</div>
<div class="line"><a name="l06367"></a><span class="lineno"> 6367</span>&#160;  <span class="keyword">const</span> <a class="code" href="../../d0/da0/classCModelEntity.html">CModelEntity</a>* pModelEntity = <span class="keyword">dynamic_cast&lt;</span><span class="keyword">const </span><a class="code" href="../../d0/da0/classCModelEntity.html">CModelEntity</a>*<span class="keyword">&gt;</span>(pCOPASIObject);</div>
<div class="line"><a name="l06368"></a><span class="lineno"> 6368</span>&#160;  <span class="keyword">const</span> <a class="code" href="../../d4/d04/classCModel.html">CModel</a>* pModel = <span class="keyword">dynamic_cast&lt;</span><span class="keyword">const </span><a class="code" href="../../d4/d04/classCModel.html">CModel</a>*<span class="keyword">&gt;</span>(pCOPASIObject);</div>
<div class="line"><a name="l06369"></a><span class="lineno"> 6369</span>&#160;  <span class="keyword">const</span> <a class="code" href="../../d9/d86/classCFunction.html">CFunction</a>* pFunction = <span class="keyword">dynamic_cast&lt;</span><span class="keyword">const </span><a class="code" href="../../d9/d86/classCFunction.html">CFunction</a>*<span class="keyword">&gt;</span>(pCOPASIObject);</div>
<div class="line"><a name="l06370"></a><span class="lineno"> 6370</span>&#160;  <span class="keyword">const</span> <a class="code" href="../../d4/dcf/classCReaction.html">CReaction</a>* pReaction = <span class="keyword">dynamic_cast&lt;</span><span class="keyword">const </span><a class="code" href="../../d4/dcf/classCReaction.html">CReaction</a>*<span class="keyword">&gt;</span>(pCOPASIObject);</div>
<div class="line"><a name="l06371"></a><span class="lineno"> 6371</span>&#160;  <span class="keyword">const</span> <a class="code" href="../../da/d3f/classCEvent.html">CEvent</a>* pEvent = <span class="keyword">dynamic_cast&lt;</span><span class="keyword">const </span><a class="code" href="../../da/d3f/classCEvent.html">CEvent</a>*<span class="keyword">&gt;</span>(pCOPASIObject);</div>
<div class="line"><a name="l06372"></a><span class="lineno"> 6372</span>&#160;  <a class="code" href="../../d8/d25/classCMIRIAMInfo.html">CMIRIAMInfo</a> miriamInfo;</div>
<div class="line"><a name="l06373"></a><span class="lineno"> 6373</span>&#160;  std::string miriamAnnotationString;</div>
<div class="line"><a name="l06374"></a><span class="lineno"> 6374</span>&#160;</div>
<div class="line"><a name="l06375"></a><span class="lineno"> 6375</span>&#160;  <span class="keywordflow">if</span> (pModelEntity != NULL)</div>
<div class="line"><a name="l06376"></a><span class="lineno"> 6376</span>&#160;    {</div>
<div class="line"><a name="l06377"></a><span class="lineno"> 6377</span>&#160;      miriamInfo.<a class="code" href="../../d8/d25/classCMIRIAMInfo.html#aacf2db6ffe08999ab65d53beef9c1965">load</a>(pModelEntity-&gt;<a class="code" href="../../d0/da0/classCModelEntity.html#a6ab0231058041dd42d002d8b9fa34780">getKey</a>());</div>
<div class="line"><a name="l06378"></a><span class="lineno"> 6378</span>&#160;      miriamAnnotationString = pModelEntity-&gt;<a class="code" href="../../d8/dfc/classCAnnotation.html#a03698d04d9bbf73408d6e7a21f177ed7">getMiriamAnnotation</a>();</div>
<div class="line"><a name="l06379"></a><span class="lineno"> 6379</span>&#160;    }</div>
<div class="line"><a name="l06380"></a><span class="lineno"> 6380</span>&#160;  <span class="keywordflow">else</span> <span class="keywordflow">if</span> (pReaction != NULL)</div>
<div class="line"><a name="l06381"></a><span class="lineno"> 6381</span>&#160;    {</div>
<div class="line"><a name="l06382"></a><span class="lineno"> 6382</span>&#160;      miriamInfo.<a class="code" href="../../d8/d25/classCMIRIAMInfo.html#aacf2db6ffe08999ab65d53beef9c1965">load</a>(pReaction-&gt;<a class="code" href="../../d4/dcf/classCReaction.html#af3b437b3494d56d24aaa7c377fc95b8e">getKey</a>());</div>
<div class="line"><a name="l06383"></a><span class="lineno"> 6383</span>&#160;      miriamAnnotationString = pReaction-&gt;<a class="code" href="../../d8/dfc/classCAnnotation.html#a03698d04d9bbf73408d6e7a21f177ed7">getMiriamAnnotation</a>();</div>
<div class="line"><a name="l06384"></a><span class="lineno"> 6384</span>&#160;    }</div>
<div class="line"><a name="l06385"></a><span class="lineno"> 6385</span>&#160;  <span class="keywordflow">else</span> <span class="keywordflow">if</span> (pFunction != NULL)</div>
<div class="line"><a name="l06386"></a><span class="lineno"> 6386</span>&#160;    {</div>
<div class="line"><a name="l06387"></a><span class="lineno"> 6387</span>&#160;      miriamInfo.<a class="code" href="../../d8/d25/classCMIRIAMInfo.html#aacf2db6ffe08999ab65d53beef9c1965">load</a>(pFunction-&gt;<a class="code" href="../../d9/d86/classCFunction.html#a72037844ade71b20b25fd22f5b4841f8">getKey</a>());</div>
<div class="line"><a name="l06388"></a><span class="lineno"> 6388</span>&#160;      miriamAnnotationString = pFunction-&gt;<a class="code" href="../../d8/dfc/classCAnnotation.html#a03698d04d9bbf73408d6e7a21f177ed7">getMiriamAnnotation</a>();</div>
<div class="line"><a name="l06389"></a><span class="lineno"> 6389</span>&#160;    }</div>
<div class="line"><a name="l06390"></a><span class="lineno"> 6390</span>&#160;  <span class="keywordflow">else</span> <span class="keywordflow">if</span> (pEvent != NULL)</div>
<div class="line"><a name="l06391"></a><span class="lineno"> 6391</span>&#160;    {</div>
<div class="line"><a name="l06392"></a><span class="lineno"> 6392</span>&#160;      miriamInfo.<a class="code" href="../../d8/d25/classCMIRIAMInfo.html#aacf2db6ffe08999ab65d53beef9c1965">load</a>(pEvent-&gt;<a class="code" href="../../da/d3f/classCEvent.html#ac64616e6823ddc70da7511b3eed1662c">getKey</a>());</div>
<div class="line"><a name="l06393"></a><span class="lineno"> 6393</span>&#160;      miriamAnnotationString = pEvent-&gt;<a class="code" href="../../d8/dfc/classCAnnotation.html#a03698d04d9bbf73408d6e7a21f177ed7">getMiriamAnnotation</a>();</div>
<div class="line"><a name="l06394"></a><span class="lineno"> 6394</span>&#160;    }</div>
<div class="line"><a name="l06395"></a><span class="lineno"> 6395</span>&#160;  <span class="keywordflow">else</span></div>
<div class="line"><a name="l06396"></a><span class="lineno"> 6396</span>&#160;    {</div>
<div class="line"><a name="l06397"></a><span class="lineno"> 6397</span>&#160;      <span class="comment">// we should never end up here</span></div>
<div class="line"><a name="l06398"></a><span class="lineno"> 6398</span>&#160;      <a class="code" href="../../d9/d2d/CCopasiMessage_8h.html#a1e835c01335d6f956a78adf106ed1b15">fatalError</a>();</div>
<div class="line"><a name="l06399"></a><span class="lineno"> 6399</span>&#160;    }</div>
<div class="line"><a name="l06400"></a><span class="lineno"> 6400</span>&#160;</div>
<div class="line"><a name="l06401"></a><span class="lineno"> 6401</span>&#160;  <span class="comment">// first we clear the old CVTerms on the object</span></div>
<div class="line"><a name="l06402"></a><span class="lineno"> 6402</span>&#160;  pSBMLObject-&gt;unsetCVTerms();</div>
<div class="line"><a name="l06403"></a><span class="lineno"> 6403</span>&#160;  <span class="comment">// now we have to set the CVTerms on the SBML object</span></div>
<div class="line"><a name="l06404"></a><span class="lineno"> 6404</span>&#160;  <span class="comment">// the MIRIAM elements that are valid for all entities are the references (IS</span></div>
<div class="line"><a name="l06405"></a><span class="lineno"> 6405</span>&#160;  <span class="comment">// DECRIBED BY) and the biological descriptions</span></div>
<div class="line"><a name="l06406"></a><span class="lineno"> 6406</span>&#160;  <span class="keyword">const</span> <a class="code" href="../../d8/d2c/classCCopasiVector.html">CCopasiVector&lt;CBiologicalDescription&gt;</a>&amp; descriptions = miriamInfo.<a class="code" href="../../d8/d25/classCMIRIAMInfo.html#addbf8d3219247312f8478be600ced029">getBiologicalDescriptions</a>();</div>
<div class="line"><a name="l06407"></a><span class="lineno"> 6407</span>&#160;  <span class="keywordtype">size_t</span> i, iMax = descriptions.<a class="code" href="../../d8/d2c/classCCopasiVector.html#ab7e0e37022783eddfe85abf9339b05c0">size</a>();</div>
<div class="line"><a name="l06408"></a><span class="lineno"> 6408</span>&#160;  <span class="keyword">const</span> <a class="code" href="../../d8/de5/classCBiologicalDescription.html">CBiologicalDescription</a>* pDescription = NULL;</div>
<div class="line"><a name="l06409"></a><span class="lineno"> 6409</span>&#160;  CVTerm cvTerm;</div>
<div class="line"><a name="l06410"></a><span class="lineno"> 6410</span>&#160;  <span class="comment">// COPASI only uses Biological Qualifiers</span></div>
<div class="line"><a name="l06411"></a><span class="lineno"> 6411</span>&#160;  cvTerm.setQualifierType(BIOLOGICAL_QUALIFIER);</div>
<div class="line"><a name="l06412"></a><span class="lineno"> 6412</span>&#160;</div>
<div class="line"><a name="l06413"></a><span class="lineno"> 6413</span>&#160;  <span class="keywordflow">for</span> (i = 0; i &lt; iMax; ++i)</div>
<div class="line"><a name="l06414"></a><span class="lineno"> 6414</span>&#160;    {</div>
<div class="line"><a name="l06415"></a><span class="lineno"> 6415</span>&#160;      pDescription = descriptions[i];</div>
<div class="line"><a name="l06416"></a><span class="lineno"> 6416</span>&#160;      assert(pDescription != NULL);</div>
<div class="line"><a name="l06417"></a><span class="lineno"> 6417</span>&#160;</div>
<div class="line"><a name="l06418"></a><span class="lineno"> 6418</span>&#160;      <span class="keywordflow">switch</span> (pDescription-&gt;<a class="code" href="../../d8/de5/classCBiologicalDescription.html#a1ad699c7d4a0d12f94d747d280d5b7ac">getTriplet</a>().<a class="code" href="../../dd/dc7/classCRDFTriplet.html#a42e6f557214dd5c65b72cf07e37a9908">Predicate</a>.<a class="code" href="../../d0/da2/classCRDFPredicate.html#af65bcf750e826e0ce8bfc4c6dd8b3223">getType</a>())</div>
<div class="line"><a name="l06419"></a><span class="lineno"> 6419</span>&#160;        {</div>
<div class="line"><a name="l06420"></a><span class="lineno"> 6420</span>&#160;          <span class="keywordflow">case</span> <a class="code" href="../../d0/da2/classCRDFPredicate.html#a8d7794773ca004d2217be3fd6edf3610a170bbee0fe86599280431f603eccbf26">CRDFPredicate::bqbiol_encodes</a>:</div>
<div class="line"><a name="l06421"></a><span class="lineno"> 6421</span>&#160;          <span class="keywordflow">case</span> <a class="code" href="../../d0/da2/classCRDFPredicate.html#a8d7794773ca004d2217be3fd6edf3610a7410ff5c041473a21f60b35b85f45b6f">CRDFPredicate::copasi_encodes</a>:</div>
<div class="line"><a name="l06422"></a><span class="lineno"> 6422</span>&#160;            cvTerm.setQualifierType(BIOLOGICAL_QUALIFIER);</div>
<div class="line"><a name="l06423"></a><span class="lineno"> 6423</span>&#160;            <span class="comment">// libsbml does not reset the model qualifier type and the</span></div>
<div class="line"><a name="l06424"></a><span class="lineno"> 6424</span>&#160;            <span class="comment">// biological qualifier type if the qualifier type is set</span></div>
<div class="line"><a name="l06425"></a><span class="lineno"> 6425</span>&#160;            cvTerm.setModelQualifierType(BQM_UNKNOWN);</div>
<div class="line"><a name="l06426"></a><span class="lineno"> 6426</span>&#160;            cvTerm.setBiologicalQualifierType(BQB_ENCODES);</div>
<div class="line"><a name="l06427"></a><span class="lineno"> 6427</span>&#160;            <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l06428"></a><span class="lineno"> 6428</span>&#160;</div>
<div class="line"><a name="l06429"></a><span class="lineno"> 6429</span>&#160;          <span class="keywordflow">case</span> <a class="code" href="../../d0/da2/classCRDFPredicate.html#a8d7794773ca004d2217be3fd6edf3610a161954768f573128b0acfc59fb79dc6d">CRDFPredicate::bqbiol_hasPart</a>:</div>
<div class="line"><a name="l06430"></a><span class="lineno"> 6430</span>&#160;          <span class="keywordflow">case</span> <a class="code" href="../../d0/da2/classCRDFPredicate.html#a8d7794773ca004d2217be3fd6edf3610ae4597e5552990292e13a63eaeb1c2fea">CRDFPredicate::copasi_hasPart</a>:</div>
<div class="line"><a name="l06431"></a><span class="lineno"> 6431</span>&#160;            cvTerm.setQualifierType(BIOLOGICAL_QUALIFIER);</div>
<div class="line"><a name="l06432"></a><span class="lineno"> 6432</span>&#160;            <span class="comment">// libsbml does not reset the model qualifier type and the</span></div>
<div class="line"><a name="l06433"></a><span class="lineno"> 6433</span>&#160;            <span class="comment">// biological qualifier type if the qualifier type is set</span></div>
<div class="line"><a name="l06434"></a><span class="lineno"> 6434</span>&#160;            cvTerm.setModelQualifierType(BQM_UNKNOWN);</div>
<div class="line"><a name="l06435"></a><span class="lineno"> 6435</span>&#160;            cvTerm.setBiologicalQualifierType(BQB_HAS_PART);</div>
<div class="line"><a name="l06436"></a><span class="lineno"> 6436</span>&#160;            <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l06437"></a><span class="lineno"> 6437</span>&#160;</div>
<div class="line"><a name="l06438"></a><span class="lineno"> 6438</span>&#160;          <span class="keywordflow">case</span> <a class="code" href="../../d0/da2/classCRDFPredicate.html#a8d7794773ca004d2217be3fd6edf3610a7c50b36a34fb1a259ef812e58a83bf6a">CRDFPredicate::bqbiol_hasVersion</a>:</div>
<div class="line"><a name="l06439"></a><span class="lineno"> 6439</span>&#160;          <span class="keywordflow">case</span> <a class="code" href="../../d0/da2/classCRDFPredicate.html#a8d7794773ca004d2217be3fd6edf3610adbed2feb97771fabc407936f80aad59c">CRDFPredicate::copasi_hasVersion</a>:</div>
<div class="line"><a name="l06440"></a><span class="lineno"> 6440</span>&#160;            cvTerm.setQualifierType(BIOLOGICAL_QUALIFIER);</div>
<div class="line"><a name="l06441"></a><span class="lineno"> 6441</span>&#160;            <span class="comment">// libsbml does not reset the model qualifier type and the</span></div>
<div class="line"><a name="l06442"></a><span class="lineno"> 6442</span>&#160;            <span class="comment">// biological qualifier type if the qualifier type is set</span></div>
<div class="line"><a name="l06443"></a><span class="lineno"> 6443</span>&#160;            cvTerm.setModelQualifierType(BQM_UNKNOWN);</div>
<div class="line"><a name="l06444"></a><span class="lineno"> 6444</span>&#160;            cvTerm.setBiologicalQualifierType(BQB_HAS_VERSION);</div>
<div class="line"><a name="l06445"></a><span class="lineno"> 6445</span>&#160;            <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l06446"></a><span class="lineno"> 6446</span>&#160;</div>
<div class="line"><a name="l06447"></a><span class="lineno"> 6447</span>&#160;          <span class="keywordflow">case</span> <a class="code" href="../../d0/da2/classCRDFPredicate.html#a8d7794773ca004d2217be3fd6edf3610a92a131f3be300fd0bd6ad899b9081eb6">CRDFPredicate::bqbiol_is</a>:</div>
<div class="line"><a name="l06448"></a><span class="lineno"> 6448</span>&#160;          <span class="keywordflow">case</span> <a class="code" href="../../d0/da2/classCRDFPredicate.html#a8d7794773ca004d2217be3fd6edf3610a3153aaec1981fbfa2d6e3c939e9dda9e">CRDFPredicate::copasi_is</a>:</div>
<div class="line"><a name="l06449"></a><span class="lineno"> 6449</span>&#160;            cvTerm.setQualifierType(BIOLOGICAL_QUALIFIER);</div>
<div class="line"><a name="l06450"></a><span class="lineno"> 6450</span>&#160;            <span class="comment">// libsbml does not reset the model qualifier type and the</span></div>
<div class="line"><a name="l06451"></a><span class="lineno"> 6451</span>&#160;            <span class="comment">// biological qualifier type if the qualifier type is set</span></div>
<div class="line"><a name="l06452"></a><span class="lineno"> 6452</span>&#160;            cvTerm.setModelQualifierType(BQM_UNKNOWN);</div>
<div class="line"><a name="l06453"></a><span class="lineno"> 6453</span>&#160;            cvTerm.setBiologicalQualifierType(BQB_IS);</div>
<div class="line"><a name="l06454"></a><span class="lineno"> 6454</span>&#160;            <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l06455"></a><span class="lineno"> 6455</span>&#160;</div>
<div class="line"><a name="l06456"></a><span class="lineno"> 6456</span>&#160;          <span class="comment">// IS DESCRIBED BY is handled in the references below</span></div>
<div class="line"><a name="l06457"></a><span class="lineno"> 6457</span>&#160;          <span class="comment">//case bqbiol_isDescribedBy:</span></div>
<div class="line"><a name="l06458"></a><span class="lineno"> 6458</span>&#160;          <span class="comment">//    break;</span></div>
<div class="line"><a name="l06459"></a><span class="lineno"> 6459</span>&#160;          <span class="keywordflow">case</span> <a class="code" href="../../d0/da2/classCRDFPredicate.html#a8d7794773ca004d2217be3fd6edf3610aff8fd1f3e69dd25f721f4291f55d46bf">CRDFPredicate::bqbiol_isEncodedBy</a>:</div>
<div class="line"><a name="l06460"></a><span class="lineno"> 6460</span>&#160;          <span class="keywordflow">case</span> <a class="code" href="../../d0/da2/classCRDFPredicate.html#a8d7794773ca004d2217be3fd6edf3610a8aa0e8f02034de50e7c9508b2dfc1f23">CRDFPredicate::copasi_isEncodedBy</a>:</div>
<div class="line"><a name="l06461"></a><span class="lineno"> 6461</span>&#160;            cvTerm.setQualifierType(BIOLOGICAL_QUALIFIER);</div>
<div class="line"><a name="l06462"></a><span class="lineno"> 6462</span>&#160;            <span class="comment">// libsbml does not reset the model qualifier type and the</span></div>
<div class="line"><a name="l06463"></a><span class="lineno"> 6463</span>&#160;            <span class="comment">// biological qualifier type if the qualifier type is set</span></div>
<div class="line"><a name="l06464"></a><span class="lineno"> 6464</span>&#160;            cvTerm.setModelQualifierType(BQM_UNKNOWN);</div>
<div class="line"><a name="l06465"></a><span class="lineno"> 6465</span>&#160;            cvTerm.setBiologicalQualifierType(BQB_IS_ENCODED_BY);</div>
<div class="line"><a name="l06466"></a><span class="lineno"> 6466</span>&#160;            <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l06467"></a><span class="lineno"> 6467</span>&#160;</div>
<div class="line"><a name="l06468"></a><span class="lineno"> 6468</span>&#160;          <span class="keywordflow">case</span> <a class="code" href="../../d0/da2/classCRDFPredicate.html#a8d7794773ca004d2217be3fd6edf3610aec36c7795be63b35da704979be166743">CRDFPredicate::bqbiol_isHomologTo</a>:</div>
<div class="line"><a name="l06469"></a><span class="lineno"> 6469</span>&#160;          <span class="keywordflow">case</span> <a class="code" href="../../d0/da2/classCRDFPredicate.html#a8d7794773ca004d2217be3fd6edf3610a0451b16d658b99637c68727f16271756">CRDFPredicate::copasi_isHomologTo</a>:</div>
<div class="line"><a name="l06470"></a><span class="lineno"> 6470</span>&#160;            cvTerm.setQualifierType(BIOLOGICAL_QUALIFIER);</div>
<div class="line"><a name="l06471"></a><span class="lineno"> 6471</span>&#160;            <span class="comment">// libsbml does not reset the model qualifier type and the</span></div>
<div class="line"><a name="l06472"></a><span class="lineno"> 6472</span>&#160;            <span class="comment">// biological qualifier type if the qualifier type is set</span></div>
<div class="line"><a name="l06473"></a><span class="lineno"> 6473</span>&#160;            cvTerm.setModelQualifierType(BQM_UNKNOWN);</div>
<div class="line"><a name="l06474"></a><span class="lineno"> 6474</span>&#160;            cvTerm.setBiologicalQualifierType(BQB_IS_HOMOLOG_TO);</div>
<div class="line"><a name="l06475"></a><span class="lineno"> 6475</span>&#160;            <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l06476"></a><span class="lineno"> 6476</span>&#160;</div>
<div class="line"><a name="l06477"></a><span class="lineno"> 6477</span>&#160;          <span class="keywordflow">case</span> <a class="code" href="../../d0/da2/classCRDFPredicate.html#a8d7794773ca004d2217be3fd6edf3610ade2575e41a562b646ba5d0c11618b16a">CRDFPredicate::bqbiol_isPartOf</a>:</div>
<div class="line"><a name="l06478"></a><span class="lineno"> 6478</span>&#160;          <span class="keywordflow">case</span> <a class="code" href="../../d0/da2/classCRDFPredicate.html#a8d7794773ca004d2217be3fd6edf3610abcd46e0d7ebc535ded36b24a58245769">CRDFPredicate::copasi_isPartOf</a>:</div>
<div class="line"><a name="l06479"></a><span class="lineno"> 6479</span>&#160;            cvTerm.setQualifierType(BIOLOGICAL_QUALIFIER);</div>
<div class="line"><a name="l06480"></a><span class="lineno"> 6480</span>&#160;            <span class="comment">// libsbml does not reset the model qualifier type and the</span></div>
<div class="line"><a name="l06481"></a><span class="lineno"> 6481</span>&#160;            <span class="comment">// biological qualifier type if the qualifier type is set</span></div>
<div class="line"><a name="l06482"></a><span class="lineno"> 6482</span>&#160;            cvTerm.setModelQualifierType(BQM_UNKNOWN);</div>
<div class="line"><a name="l06483"></a><span class="lineno"> 6483</span>&#160;            cvTerm.setBiologicalQualifierType(BQB_IS_PART_OF);</div>
<div class="line"><a name="l06484"></a><span class="lineno"> 6484</span>&#160;            <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l06485"></a><span class="lineno"> 6485</span>&#160;</div>
<div class="line"><a name="l06486"></a><span class="lineno"> 6486</span>&#160;          <span class="keywordflow">case</span> <a class="code" href="../../d0/da2/classCRDFPredicate.html#a8d7794773ca004d2217be3fd6edf3610a76982de728cfb49490978a7043cce0ca">CRDFPredicate::bqbiol_isVersionOf</a>:</div>
<div class="line"><a name="l06487"></a><span class="lineno"> 6487</span>&#160;          <span class="keywordflow">case</span> <a class="code" href="../../d0/da2/classCRDFPredicate.html#a8d7794773ca004d2217be3fd6edf3610aaa84bee675bb82dba2f8a22119aa4c8f">CRDFPredicate::copasi_isVersionOf</a>:</div>
<div class="line"><a name="l06488"></a><span class="lineno"> 6488</span>&#160;            cvTerm.setQualifierType(BIOLOGICAL_QUALIFIER);</div>
<div class="line"><a name="l06489"></a><span class="lineno"> 6489</span>&#160;            <span class="comment">// libsbml does not reset the model qualifier type and the</span></div>
<div class="line"><a name="l06490"></a><span class="lineno"> 6490</span>&#160;            <span class="comment">// biological qualifier type if the qualifier type is set</span></div>
<div class="line"><a name="l06491"></a><span class="lineno"> 6491</span>&#160;            cvTerm.setModelQualifierType(BQM_UNKNOWN);</div>
<div class="line"><a name="l06492"></a><span class="lineno"> 6492</span>&#160;            cvTerm.setBiologicalQualifierType(BQB_IS_VERSION_OF);</div>
<div class="line"><a name="l06493"></a><span class="lineno"> 6493</span>&#160;            <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l06494"></a><span class="lineno"> 6494</span>&#160;<span class="preprocessor">#if LIBSBML_VERSION &gt;= 40100</span></div>
<div class="line"><a name="l06495"></a><span class="lineno"> 6495</span>&#160;<span class="preprocessor"></span></div>
<div class="line"><a name="l06496"></a><span class="lineno"> 6496</span>&#160;          <span class="comment">// This qualifier is supported in libsbml 4.1</span></div>
<div class="line"><a name="l06497"></a><span class="lineno"> 6497</span>&#160;          <span class="keywordflow">case</span> <a class="code" href="../../d0/da2/classCRDFPredicate.html#a8d7794773ca004d2217be3fd6edf3610a2ec4a782889718a29de7b7f45cdcbe49">CRDFPredicate::bqbiol_occursIn</a>:</div>
<div class="line"><a name="l06498"></a><span class="lineno"> 6498</span>&#160;          <span class="keywordflow">case</span> <a class="code" href="../../d0/da2/classCRDFPredicate.html#a8d7794773ca004d2217be3fd6edf3610a3b9358dfedd18b18f1626d38a4e312de">CRDFPredicate::copasi_occursIn</a>:</div>
<div class="line"><a name="l06499"></a><span class="lineno"> 6499</span>&#160;            cvTerm.setQualifierType(BIOLOGICAL_QUALIFIER);</div>
<div class="line"><a name="l06500"></a><span class="lineno"> 6500</span>&#160;            <span class="comment">// libsbml does not reset the model qualifier type and the</span></div>
<div class="line"><a name="l06501"></a><span class="lineno"> 6501</span>&#160;            <span class="comment">// biological qualifier type if the qualifier type is set</span></div>
<div class="line"><a name="l06502"></a><span class="lineno"> 6502</span>&#160;            cvTerm.setModelQualifierType(BQM_UNKNOWN);</div>
<div class="line"><a name="l06503"></a><span class="lineno"> 6503</span>&#160;            cvTerm.setBiologicalQualifierType(BQB_OCCURS_IN);</div>
<div class="line"><a name="l06504"></a><span class="lineno"> 6504</span>&#160;            <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l06505"></a><span class="lineno"> 6505</span>&#160;<span class="preprocessor">#endif // LIBSBML_VERSION</span></div>
<div class="line"><a name="l06506"></a><span class="lineno"> 6506</span>&#160;<span class="preprocessor"></span></div>
<div class="line"><a name="l06507"></a><span class="lineno"> 6507</span>&#160;          <span class="keywordflow">case</span> <a class="code" href="../../d0/da2/classCRDFPredicate.html#a8d7794773ca004d2217be3fd6edf3610aad0b0a788594301a649379c84220838e">CRDFPredicate::bqmodel_is</a>:</div>
<div class="line"><a name="l06508"></a><span class="lineno"> 6508</span>&#160;            cvTerm.setQualifierType(MODEL_QUALIFIER);</div>
<div class="line"><a name="l06509"></a><span class="lineno"> 6509</span>&#160;            <span class="comment">// libsbml does not reset the model qualifier type and the</span></div>
<div class="line"><a name="l06510"></a><span class="lineno"> 6510</span>&#160;            <span class="comment">// biological qualifier type if the qualifier type is set</span></div>
<div class="line"><a name="l06511"></a><span class="lineno"> 6511</span>&#160;            cvTerm.setBiologicalQualifierType(BQB_UNKNOWN);</div>
<div class="line"><a name="l06512"></a><span class="lineno"> 6512</span>&#160;            cvTerm.setModelQualifierType(BQM_IS);</div>
<div class="line"><a name="l06513"></a><span class="lineno"> 6513</span>&#160;            <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l06514"></a><span class="lineno"> 6514</span>&#160;</div>
<div class="line"><a name="l06515"></a><span class="lineno"> 6515</span>&#160;          <span class="comment">// IS DESCRIBED BY is handled in the references below</span></div>
<div class="line"><a name="l06516"></a><span class="lineno"> 6516</span>&#160;          <span class="comment">//case bqmodel_isDescribedBy:</span></div>
<div class="line"><a name="l06517"></a><span class="lineno"> 6517</span>&#160;          <span class="comment">//    break;</span></div>
<div class="line"><a name="l06518"></a><span class="lineno"> 6518</span>&#160;          <span class="keywordflow">default</span>:</div>
<div class="line"><a name="l06519"></a><span class="lineno"> 6519</span>&#160;            <span class="comment">// there are many qualifiers that start e.g. with copasi_ which are</span></div>
<div class="line"><a name="l06520"></a><span class="lineno"> 6520</span>&#160;            <span class="comment">// not handled</span></div>
<div class="line"><a name="l06521"></a><span class="lineno"> 6521</span>&#160;            cvTerm.setQualifierType(UNKNOWN_QUALIFIER);</div>
<div class="line"><a name="l06522"></a><span class="lineno"> 6522</span>&#160;            <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l06523"></a><span class="lineno"> 6523</span>&#160;        }</div>
<div class="line"><a name="l06524"></a><span class="lineno"> 6524</span>&#160;</div>
<div class="line"><a name="l06525"></a><span class="lineno"> 6525</span>&#160;      <span class="keywordflow">if</span> (cvTerm.getQualifierType() != UNKNOWN_QUALIFIER)</div>
<div class="line"><a name="l06526"></a><span class="lineno"> 6526</span>&#160;        {</div>
<div class="line"><a name="l06527"></a><span class="lineno"> 6527</span>&#160;          <span class="comment">// now we set the resources</span></div>
<div class="line"><a name="l06528"></a><span class="lineno"> 6528</span>&#160;          <span class="comment">// TODO In COPASI there is only one resource per CBiologicalDescription</span></div>
<div class="line"><a name="l06529"></a><span class="lineno"> 6529</span>&#160;          <span class="comment">// TODO object, I will have to check if libsbml puts all resources with the</span></div>
<div class="line"><a name="l06530"></a><span class="lineno"> 6530</span>&#160;          <span class="comment">// TODO same predicate into one resource object since in libsbml a CVTerm</span></div>
<div class="line"><a name="l06531"></a><span class="lineno"> 6531</span>&#160;          <span class="comment">// TODO can have several resources.</span></div>
<div class="line"><a name="l06532"></a><span class="lineno"> 6532</span>&#160;          <span class="comment">// TODO If this isn&#39;t handled automatically by libsbml, I will have to add</span></div>
<div class="line"><a name="l06533"></a><span class="lineno"> 6533</span>&#160;          <span class="comment">// TODO code that does this.</span></div>
<div class="line"><a name="l06534"></a><span class="lineno"> 6534</span>&#160;          cvTerm.addResource(pDescription-&gt;<a class="code" href="../../d8/de5/classCBiologicalDescription.html#abdd6cc42e477b87f27ce7f28b08146c0">getMIRIAMResourceObject</a>().<a class="code" href="../../da/ddb/classCMIRIAMResourceObject.html#a50bc0b128f5b8665db521b7b074189c0">getIdentifiersOrgURL</a>());</div>
<div class="line"><a name="l06535"></a><span class="lineno"> 6535</span>&#160;</div>
<div class="line"><a name="l06536"></a><span class="lineno"> 6536</span>&#160;          <span class="comment">// before we set the CVTerm, we should make sure that the object has</span></div>
<div class="line"><a name="l06537"></a><span class="lineno"> 6537</span>&#160;          <span class="comment">// a meta id</span></div>
<div class="line"><a name="l06538"></a><span class="lineno"> 6538</span>&#160;          <span class="keywordflow">if</span> (!pSBMLObject-&gt;isSetMetaId())</div>
<div class="line"><a name="l06539"></a><span class="lineno"> 6539</span>&#160;            {</div>
<div class="line"><a name="l06540"></a><span class="lineno"> 6540</span>&#160;              std::string metaId = <a class="code" href="../../df/d80/classCSBMLExporter.html#ab4d7f9c3d22b8225d1a4d9e3a98b855e">CSBMLExporter::createUniqueId</a>(metaIds, <span class="stringliteral">&quot;COPASI&quot;</span>, <span class="keyword">true</span>, <span class="stringliteral">&quot;&quot;</span>);</div>
<div class="line"><a name="l06541"></a><span class="lineno"> 6541</span>&#160;              metaIds.insert(std::pair&lt;const std::string, const SBase*&gt;(metaId, pSBMLObject));</div>
<div class="line"><a name="l06542"></a><span class="lineno"> 6542</span>&#160;              pSBMLObject-&gt;setMetaId(metaId);</div>
<div class="line"><a name="l06543"></a><span class="lineno"> 6543</span>&#160;            }</div>
<div class="line"><a name="l06544"></a><span class="lineno"> 6544</span>&#160;</div>
<div class="line"><a name="l06545"></a><span class="lineno"> 6545</span>&#160;          pSBMLObject-&gt;addCVTerm(&amp;cvTerm, <span class="keyword">true</span>);</div>
<div class="line"><a name="l06546"></a><span class="lineno"> 6546</span>&#160;        }</div>
<div class="line"><a name="l06547"></a><span class="lineno"> 6547</span>&#160;    }</div>
<div class="line"><a name="l06548"></a><span class="lineno"> 6548</span>&#160;</div>
<div class="line"><a name="l06549"></a><span class="lineno"> 6549</span>&#160;  <span class="keyword">const</span> <a class="code" href="../../d8/d2c/classCCopasiVector.html">CCopasiVector&lt;CReference&gt;</a>&amp; references = miriamInfo.<a class="code" href="../../d8/d25/classCMIRIAMInfo.html#a3c79b5fc2e9548eda229242d18789a29">getReferences</a>();</div>
<div class="line"><a name="l06550"></a><span class="lineno"> 6550</span>&#160;</div>
<div class="line"><a name="l06551"></a><span class="lineno"> 6551</span>&#160;  <span class="keyword">const</span> <a class="code" href="../../d7/dc7/classCReference.html">CReference</a>* pReference = NULL;</div>
<div class="line"><a name="l06552"></a><span class="lineno"> 6552</span>&#160;</div>
<div class="line"><a name="l06553"></a><span class="lineno"> 6553</span>&#160;  iMax = references.<a class="code" href="../../d8/d2c/classCCopasiVector.html#ab7e0e37022783eddfe85abf9339b05c0">size</a>();</div>
<div class="line"><a name="l06554"></a><span class="lineno"> 6554</span>&#160;</div>
<div class="line"><a name="l06555"></a><span class="lineno"> 6555</span>&#160;  <span class="keywordflow">for</span> (i = 0; i &lt; iMax; ++i)</div>
<div class="line"><a name="l06556"></a><span class="lineno"> 6556</span>&#160;    {</div>
<div class="line"><a name="l06557"></a><span class="lineno"> 6557</span>&#160;      pReference = references[i];</div>
<div class="line"><a name="l06558"></a><span class="lineno"> 6558</span>&#160;      assert(pReference != NULL);</div>
<div class="line"><a name="l06559"></a><span class="lineno"> 6559</span>&#160;</div>
<div class="line"><a name="l06560"></a><span class="lineno"> 6560</span>&#160;      <a class="code" href="../../d0/da2/classCRDFPredicate.html#a8d7794773ca004d2217be3fd6edf3610">CRDFPredicate::ePredicateType</a> Predicates[] =</div>
<div class="line"><a name="l06561"></a><span class="lineno"> 6561</span>&#160;      {</div>
<div class="line"><a name="l06562"></a><span class="lineno"> 6562</span>&#160;        <a class="code" href="../../d0/da2/classCRDFPredicate.html#a8d7794773ca004d2217be3fd6edf3610a6a5ec39b7a7b27f01af56dbccd5a6fd6">CRDFPredicate::copasi_isDescribedBy</a>,</div>
<div class="line"><a name="l06563"></a><span class="lineno"> 6563</span>&#160;        <a class="code" href="../../d0/da2/classCRDFPredicate.html#a8d7794773ca004d2217be3fd6edf3610a8ea12a3dd4d82c9af714c36d46f36f53">CRDFPredicate::bqbiol_isDescribedBy</a>,</div>
<div class="line"><a name="l06564"></a><span class="lineno"> 6564</span>&#160;        <a class="code" href="../../d0/da2/classCRDFPredicate.html#a8d7794773ca004d2217be3fd6edf3610a38525968ba2c5e9b8ced9f6aa09df407">CRDFPredicate::bqmodel_isDescribedBy</a>,</div>
<div class="line"><a name="l06565"></a><span class="lineno"> 6565</span>&#160;        <a class="code" href="../../d0/da2/classCRDFPredicate.html#a8d7794773ca004d2217be3fd6edf3610ac6db0e2bc01cdb77a1a15bdb7feec526">CRDFPredicate::end</a></div>
<div class="line"><a name="l06566"></a><span class="lineno"> 6566</span>&#160;      };</div>
<div class="line"><a name="l06567"></a><span class="lineno"> 6567</span>&#160;</div>
<div class="line"><a name="l06568"></a><span class="lineno"> 6568</span>&#160;      std::set&lt; CRDFTriplet &gt; Triples;</div>
<div class="line"><a name="l06569"></a><span class="lineno"> 6569</span>&#160;      <a class="code" href="../../dd/dc7/classCRDFTriplet.html">CRDFTriplet</a> IdTriplet;</div>
<div class="line"><a name="l06570"></a><span class="lineno"> 6570</span>&#160;      <a class="code" href="../../d0/da2/classCRDFPredicate.html#a8d7794773ca004d2217be3fd6edf3610">CRDFPredicate::ePredicateType</a> * pPredicate = Predicates;</div>
<div class="line"><a name="l06571"></a><span class="lineno"> 6571</span>&#160;      std::set&lt; CRDFTriplet &gt;::iterator it;</div>
<div class="line"><a name="l06572"></a><span class="lineno"> 6572</span>&#160;</div>
<div class="line"><a name="l06573"></a><span class="lineno"> 6573</span>&#160;      <span class="keywordflow">for</span> (; *pPredicate != <a class="code" href="../../d0/da2/classCRDFPredicate.html#a8d7794773ca004d2217be3fd6edf3610ac6db0e2bc01cdb77a1a15bdb7feec526">CRDFPredicate::end</a>; ++pPredicate)</div>
<div class="line"><a name="l06574"></a><span class="lineno"> 6574</span>&#160;        {</div>
<div class="line"><a name="l06575"></a><span class="lineno"> 6575</span>&#160;          Triples = pReference-&gt;<a class="code" href="../../d7/dc7/classCReference.html#aa0c1ab511f2c11e1b53a80523e941daa">getTriplet</a>().<a class="code" href="../../dd/dc7/classCRDFTriplet.html#a673bbae288bbae3dba5fee0626759ec2">pObject</a>-&gt;<a class="code" href="../../df/d48/classCRDFNode.html#a2a63a4fe9c71d2acba3001bacb352619">getDescendantsWithPredicate</a>(*pPredicate);</div>
<div class="line"><a name="l06576"></a><span class="lineno"> 6576</span>&#160;          it = Triples.begin();</div>
<div class="line"><a name="l06577"></a><span class="lineno"> 6577</span>&#160;</div>
<div class="line"><a name="l06578"></a><span class="lineno"> 6578</span>&#160;          <span class="keywordflow">if</span> (it != Triples.end())</div>
<div class="line"><a name="l06579"></a><span class="lineno"> 6579</span>&#160;            IdTriplet = *it;</div>
<div class="line"><a name="l06580"></a><span class="lineno"> 6580</span>&#160;        }</div>
<div class="line"><a name="l06581"></a><span class="lineno"> 6581</span>&#160;</div>
<div class="line"><a name="l06582"></a><span class="lineno"> 6582</span>&#160;      <span class="keywordflow">if</span> (!IdTriplet)</div>
<div class="line"><a name="l06583"></a><span class="lineno"> 6583</span>&#160;        <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l06584"></a><span class="lineno"> 6584</span>&#160;</div>
<div class="line"><a name="l06585"></a><span class="lineno"> 6585</span>&#160;      <span class="keywordflow">switch</span> (IdTriplet.<a class="code" href="../../dd/dc7/classCRDFTriplet.html#a42e6f557214dd5c65b72cf07e37a9908">Predicate</a>.<a class="code" href="../../d0/da2/classCRDFPredicate.html#af65bcf750e826e0ce8bfc4c6dd8b3223">getType</a>())</div>
<div class="line"><a name="l06586"></a><span class="lineno"> 6586</span>&#160;        {</div>
<div class="line"><a name="l06587"></a><span class="lineno"> 6587</span>&#160;          <span class="keywordflow">case</span> <a class="code" href="../../d0/da2/classCRDFPredicate.html#a8d7794773ca004d2217be3fd6edf3610a8ea12a3dd4d82c9af714c36d46f36f53">CRDFPredicate::bqbiol_isDescribedBy</a>:</div>
<div class="line"><a name="l06588"></a><span class="lineno"> 6588</span>&#160;          <span class="keywordflow">case</span> <a class="code" href="../../d0/da2/classCRDFPredicate.html#a8d7794773ca004d2217be3fd6edf3610a6a5ec39b7a7b27f01af56dbccd5a6fd6">CRDFPredicate::copasi_isDescribedBy</a>:</div>
<div class="line"><a name="l06589"></a><span class="lineno"> 6589</span>&#160;            cvTerm.setQualifierType(BIOLOGICAL_QUALIFIER);</div>
<div class="line"><a name="l06590"></a><span class="lineno"> 6590</span>&#160;            <span class="comment">// libsbml does not reset the model qualifier type and the</span></div>
<div class="line"><a name="l06591"></a><span class="lineno"> 6591</span>&#160;            <span class="comment">// biological qualifier type if the qualifier type is set</span></div>
<div class="line"><a name="l06592"></a><span class="lineno"> 6592</span>&#160;            cvTerm.setModelQualifierType(BQM_UNKNOWN);</div>
<div class="line"><a name="l06593"></a><span class="lineno"> 6593</span>&#160;            cvTerm.setBiologicalQualifierType(BQB_IS_DESCRIBED_BY);</div>
<div class="line"><a name="l06594"></a><span class="lineno"> 6594</span>&#160;            <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l06595"></a><span class="lineno"> 6595</span>&#160;</div>
<div class="line"><a name="l06596"></a><span class="lineno"> 6596</span>&#160;          <span class="keywordflow">case</span> <a class="code" href="../../d0/da2/classCRDFPredicate.html#a8d7794773ca004d2217be3fd6edf3610a38525968ba2c5e9b8ced9f6aa09df407">CRDFPredicate::bqmodel_isDescribedBy</a>:</div>
<div class="line"><a name="l06597"></a><span class="lineno"> 6597</span>&#160;            cvTerm.setQualifierType(MODEL_QUALIFIER);</div>
<div class="line"><a name="l06598"></a><span class="lineno"> 6598</span>&#160;            <span class="comment">// libsbml does not reset the model qualifier type and the</span></div>
<div class="line"><a name="l06599"></a><span class="lineno"> 6599</span>&#160;            <span class="comment">// biological qualifier type if the qualifier type is set</span></div>
<div class="line"><a name="l06600"></a><span class="lineno"> 6600</span>&#160;            cvTerm.setBiologicalQualifierType(BQB_UNKNOWN);</div>
<div class="line"><a name="l06601"></a><span class="lineno"> 6601</span>&#160;            cvTerm.setModelQualifierType(BQM_IS_DESCRIBED_BY);</div>
<div class="line"><a name="l06602"></a><span class="lineno"> 6602</span>&#160;            <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l06603"></a><span class="lineno"> 6603</span>&#160;</div>
<div class="line"><a name="l06604"></a><span class="lineno"> 6604</span>&#160;          <span class="keywordflow">default</span>:</div>
<div class="line"><a name="l06605"></a><span class="lineno"> 6605</span>&#160;            cvTerm.setQualifierType(UNKNOWN_QUALIFIER);</div>
<div class="line"><a name="l06606"></a><span class="lineno"> 6606</span>&#160;            <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l06607"></a><span class="lineno"> 6607</span>&#160;        }</div>
<div class="line"><a name="l06608"></a><span class="lineno"> 6608</span>&#160;</div>
<div class="line"><a name="l06609"></a><span class="lineno"> 6609</span>&#160;      <span class="comment">// set the resources which consist of the pubmed id and the DOI</span></div>
<div class="line"><a name="l06610"></a><span class="lineno"> 6610</span>&#160;      <span class="keywordflow">if</span> (cvTerm.getQualifierType() != UNKNOWN_QUALIFIER)</div>
<div class="line"><a name="l06611"></a><span class="lineno"> 6611</span>&#160;        {</div>
<div class="line"><a name="l06612"></a><span class="lineno"> 6612</span>&#160;          <span class="comment">// now we set the resources</span></div>
<div class="line"><a name="l06613"></a><span class="lineno"> 6613</span>&#160;          <span class="comment">// TODO In COPASI there is only one resource per CBiologicalDescription</span></div>
<div class="line"><a name="l06614"></a><span class="lineno"> 6614</span>&#160;          <span class="comment">// TODO object, I will have to check if libsbml puts all resources with the</span></div>
<div class="line"><a name="l06615"></a><span class="lineno"> 6615</span>&#160;          <span class="comment">// TODO same predicate into one resource object since in libsbml a CVTerm</span></div>
<div class="line"><a name="l06616"></a><span class="lineno"> 6616</span>&#160;          <span class="comment">// TODO can have several resources.</span></div>
<div class="line"><a name="l06617"></a><span class="lineno"> 6617</span>&#160;          <span class="comment">// TODO If this isn&#39;t handled automatically by libsbml, I will have to add</span></div>
<div class="line"><a name="l06618"></a><span class="lineno"> 6618</span>&#160;          <span class="comment">// TODO code that does this.</span></div>
<div class="line"><a name="l06619"></a><span class="lineno"> 6619</span>&#160;          cvTerm.addResource(pReference-&gt;<a class="code" href="../../d7/dc7/classCReference.html#a09e19085a0c78f7cb8c8d39175be71bf">getMIRIAMResourceObject</a>().<a class="code" href="../../da/ddb/classCMIRIAMResourceObject.html#a50bc0b128f5b8665db521b7b074189c0">getIdentifiersOrgURL</a>());</div>
<div class="line"><a name="l06620"></a><span class="lineno"> 6620</span>&#160;</div>
<div class="line"><a name="l06621"></a><span class="lineno"> 6621</span>&#160;          <span class="comment">// before we set the CVTerm, we should make sure that the object has</span></div>
<div class="line"><a name="l06622"></a><span class="lineno"> 6622</span>&#160;          <span class="comment">// a meta id</span></div>
<div class="line"><a name="l06623"></a><span class="lineno"> 6623</span>&#160;          <span class="keywordflow">if</span> (!pSBMLObject-&gt;isSetMetaId())</div>
<div class="line"><a name="l06624"></a><span class="lineno"> 6624</span>&#160;            {</div>
<div class="line"><a name="l06625"></a><span class="lineno"> 6625</span>&#160;              std::string metaId = <a class="code" href="../../df/d80/classCSBMLExporter.html#ab4d7f9c3d22b8225d1a4d9e3a98b855e">CSBMLExporter::createUniqueId</a>(metaIds, <span class="stringliteral">&quot;COPASI&quot;</span>, <span class="keyword">true</span>, <span class="stringliteral">&quot;&quot;</span>);</div>
<div class="line"><a name="l06626"></a><span class="lineno"> 6626</span>&#160;              metaIds.insert(std::pair&lt;const std::string, const SBase*&gt;(metaId, pSBMLObject));</div>
<div class="line"><a name="l06627"></a><span class="lineno"> 6627</span>&#160;              pSBMLObject-&gt;setMetaId(metaId);</div>
<div class="line"><a name="l06628"></a><span class="lineno"> 6628</span>&#160;            }</div>
<div class="line"><a name="l06629"></a><span class="lineno"> 6629</span>&#160;</div>
<div class="line"><a name="l06630"></a><span class="lineno"> 6630</span>&#160;          pSBMLObject-&gt;addCVTerm(&amp;cvTerm, <span class="keyword">true</span>);</div>
<div class="line"><a name="l06631"></a><span class="lineno"> 6631</span>&#160;        }</div>
<div class="line"><a name="l06632"></a><span class="lineno"> 6632</span>&#160;    }</div>
<div class="line"><a name="l06633"></a><span class="lineno"> 6633</span>&#160;</div>
<div class="line"><a name="l06634"></a><span class="lineno"> 6634</span>&#160;  <span class="comment">// starting with SBML L3 all model elements that are derived from SBase can have</span></div>
<div class="line"><a name="l06635"></a><span class="lineno"> 6635</span>&#160;  <span class="comment">// a model history</span></div>
<div class="line"><a name="l06636"></a><span class="lineno"> 6636</span>&#160;  <span class="comment">//</span></div>
<div class="line"><a name="l06637"></a><span class="lineno"> 6637</span>&#160;  <span class="comment">// if it is the model, we have to set the model history</span></div>
<div class="line"><a name="l06638"></a><span class="lineno"> 6638</span>&#160;  <span class="comment">// in addition to the normal CVTerms</span></div>
<div class="line"><a name="l06639"></a><span class="lineno"> 6639</span>&#160;  <span class="keywordflow">if</span> ((pModel != NULL &amp;&amp; this-&gt;<a class="code" href="../../df/d80/classCSBMLExporter.html#aba959efc152f63f1709d5de60e97a651">mSBMLLevel</a> &lt; 3)</div>
<div class="line"><a name="l06640"></a><span class="lineno"> 6640</span>&#160;#<span class="keywordflow">if</span> LIBSBML_VERSION &gt;= 40100</div>
<div class="line"><a name="l06641"></a><span class="lineno"> 6641</span>&#160;<span class="comment">// actually this preprocessor directive is not really necessary, but better safe then sorry</span></div>
<div class="line"><a name="l06642"></a><span class="lineno"> 6642</span>&#160;      || this-&gt;<a class="code" href="../../df/d80/classCSBMLExporter.html#aba959efc152f63f1709d5de60e97a651">mSBMLLevel</a> &gt; 2</div>
<div class="line"><a name="l06643"></a><span class="lineno"> 6643</span>&#160;#endif <span class="comment">// LIBSBML_VERSION</span></div>
<div class="line"><a name="l06644"></a><span class="lineno"> 6644</span>&#160;     )</div>
<div class="line"><a name="l06645"></a><span class="lineno"> 6645</span>&#160;    {</div>
<div class="line"><a name="l06646"></a><span class="lineno"> 6646</span>&#160;      <span class="comment">// the model history consists of the creators, the creation time and the</span></div>
<div class="line"><a name="l06647"></a><span class="lineno"> 6647</span>&#160;      <span class="comment">// modification time</span></div>
<div class="line"><a name="l06648"></a><span class="lineno"> 6648</span>&#160;      <span class="comment">// create a model history instance</span></div>
<div class="line"><a name="l06649"></a><span class="lineno"> 6649</span>&#160;      <span class="keywordtype">bool</span> modified = <span class="keyword">false</span>;</div>
<div class="line"><a name="l06650"></a><span class="lineno"> 6650</span>&#160;      ModelHistory modelHistory;</div>
<div class="line"><a name="l06651"></a><span class="lineno"> 6651</span>&#160;      <span class="comment">// first we add all creators</span></div>
<div class="line"><a name="l06652"></a><span class="lineno"> 6652</span>&#160;      <span class="keyword">const</span> <a class="code" href="../../d8/d2c/classCCopasiVector.html">CCopasiVector&lt;CCreator&gt;</a>&amp; creators = miriamInfo.<a class="code" href="../../d8/d25/classCMIRIAMInfo.html#a315ccf65ad0cc6209b1b90e0292cc519">getCreators</a>();</div>
<div class="line"><a name="l06653"></a><span class="lineno"> 6653</span>&#160;      <span class="keywordtype">size_t</span> i, iMax = creators.<a class="code" href="../../d8/d2c/classCCopasiVector.html#ab7e0e37022783eddfe85abf9339b05c0">size</a>();</div>
<div class="line"><a name="l06654"></a><span class="lineno"> 6654</span>&#160;      <span class="keyword">const</span> <a class="code" href="../../d6/d94/classCCreator.html">CCreator</a>* pCreator = NULL;</div>
<div class="line"><a name="l06655"></a><span class="lineno"> 6655</span>&#160;      ModelCreator modelCreator;</div>
<div class="line"><a name="l06656"></a><span class="lineno"> 6656</span>&#160;</div>
<div class="line"><a name="l06657"></a><span class="lineno"> 6657</span>&#160;      <span class="keywordflow">if</span> (iMax &gt; 0)</div>
<div class="line"><a name="l06658"></a><span class="lineno"> 6658</span>&#160;        {</div>
<div class="line"><a name="l06659"></a><span class="lineno"> 6659</span>&#160;          modified = <span class="keyword">true</span>;</div>
<div class="line"><a name="l06660"></a><span class="lineno"> 6660</span>&#160;        }</div>
<div class="line"><a name="l06661"></a><span class="lineno"> 6661</span>&#160;</div>
<div class="line"><a name="l06662"></a><span class="lineno"> 6662</span>&#160;      <span class="keywordflow">for</span> (i = 0; i &lt; iMax; ++i)</div>
<div class="line"><a name="l06663"></a><span class="lineno"> 6663</span>&#160;        {</div>
<div class="line"><a name="l06664"></a><span class="lineno"> 6664</span>&#160;          pCreator = creators[i];</div>
<div class="line"><a name="l06665"></a><span class="lineno"> 6665</span>&#160;          assert(pCreator != NULL);</div>
<div class="line"><a name="l06666"></a><span class="lineno"> 6666</span>&#160;          <span class="comment">// a model creator can have a family name, a given name, and email</span></div>
<div class="line"><a name="l06667"></a><span class="lineno"> 6667</span>&#160;          <span class="comment">// address and an organization</span></div>
<div class="line"><a name="l06668"></a><span class="lineno"> 6668</span>&#160;          modelCreator.setFamilyName(pCreator-&gt;<a class="code" href="../../d6/d94/classCCreator.html#ae96123537cab310cea8ae75aea7df411">getFamilyName</a>());</div>
<div class="line"><a name="l06669"></a><span class="lineno"> 6669</span>&#160;          modelCreator.setGivenName(pCreator-&gt;<a class="code" href="../../d6/d94/classCCreator.html#a9d3b2cabd7a0645254aa3386fddabc5e">getGivenName</a>());</div>
<div class="line"><a name="l06670"></a><span class="lineno"> 6670</span>&#160;          modelCreator.setEmail(pCreator-&gt;<a class="code" href="../../d6/d94/classCCreator.html#a57b3cd7587f3df37662ff408212388c3">getEmail</a>());</div>
<div class="line"><a name="l06671"></a><span class="lineno"> 6671</span>&#160;          modelCreator.setOrganisation(pCreator-&gt;<a class="code" href="../../d6/d94/classCCreator.html#aa39e7486619fe860e4ec2bbfd4baec05">getORG</a>());</div>
<div class="line"><a name="l06672"></a><span class="lineno"> 6672</span>&#160;          modelHistory.addCreator(&amp;modelCreator);</div>
<div class="line"><a name="l06673"></a><span class="lineno"> 6673</span>&#160;        }</div>
<div class="line"><a name="l06674"></a><span class="lineno"> 6674</span>&#160;</div>
<div class="line"><a name="l06675"></a><span class="lineno"> 6675</span>&#160;      <span class="keywordflow">if</span> (modelHistory.getNumCreators() &lt; 1 &amp;&amp; !<a class="code" href="../../df/d80/classCSBMLExporter.html#adc3202b6aab716f83247c9d1a4cb60e1">mHaveModelHistoryAuthorWarning</a>)</div>
<div class="line"><a name="l06676"></a><span class="lineno"> 6676</span>&#160;        {</div>
<div class="line"><a name="l06677"></a><span class="lineno"> 6677</span>&#160;          <a class="code" href="../../df/d80/classCSBMLExporter.html#adc3202b6aab716f83247c9d1a4cb60e1">mHaveModelHistoryAuthorWarning</a> = <span class="keyword">true</span>;</div>
<div class="line"><a name="l06678"></a><span class="lineno"> 6678</span>&#160;          <a class="code" href="../../d2/df0/classCCopasiMessage.html">CCopasiMessage</a>(<a class="code" href="../../d2/df0/classCCopasiMessage.html#a2ea1ed32494ff5c8d84353efcec7a5e4ac789e90eead3612a24114b9eae58fdec">CCopasiMessage::WARNING</a>, <span class="stringliteral">&quot;The ModelHistory cannot be exported to SBML, as no author has been defined.&quot;</span>);</div>
<div class="line"><a name="l06679"></a><span class="lineno"> 6679</span>&#160;        }</div>
<div class="line"><a name="l06680"></a><span class="lineno"> 6680</span>&#160;</div>
<div class="line"><a name="l06681"></a><span class="lineno"> 6681</span>&#160;      <span class="comment">// now set the creation date</span></div>
<div class="line"><a name="l06682"></a><span class="lineno"> 6682</span>&#160;      std::string creationDateString = miriamInfo.<a class="code" href="../../d8/d25/classCMIRIAMInfo.html#a02e7737c1ebfceb4c930634f9947dfda">getCreatedDT</a>();</div>
<div class="line"><a name="l06683"></a><span class="lineno"> 6683</span>&#160;</div>
<div class="line"><a name="l06684"></a><span class="lineno"> 6684</span>&#160;      <span class="keywordflow">if</span> (!creationDateString.empty())</div>
<div class="line"><a name="l06685"></a><span class="lineno"> 6685</span>&#160;        {</div>
<div class="line"><a name="l06686"></a><span class="lineno"> 6686</span>&#160;          Date creationDate = Date(creationDateString);</div>
<div class="line"><a name="l06687"></a><span class="lineno"> 6687</span>&#160;          modelHistory.setCreatedDate(&amp;creationDate);</div>
<div class="line"><a name="l06688"></a><span class="lineno"> 6688</span>&#160;          modified = <span class="keyword">true</span>;</div>
<div class="line"><a name="l06689"></a><span class="lineno"> 6689</span>&#160;        }</div>
<div class="line"><a name="l06690"></a><span class="lineno"> 6690</span>&#160;</div>
<div class="line"><a name="l06691"></a><span class="lineno"> 6691</span>&#160;      <span class="keywordflow">if</span> (!modelHistory.isSetCreatedDate() &amp;&amp; !<a class="code" href="../../df/d80/classCSBMLExporter.html#ad2b0ac2df8fb9a5c28e522f1cea19709">mHaveModelHistoryCreationDateWarning</a>)</div>
<div class="line"><a name="l06692"></a><span class="lineno"> 6692</span>&#160;        {</div>
<div class="line"><a name="l06693"></a><span class="lineno"> 6693</span>&#160;          <a class="code" href="../../df/d80/classCSBMLExporter.html#ad2b0ac2df8fb9a5c28e522f1cea19709">mHaveModelHistoryCreationDateWarning</a> = <span class="keyword">true</span>;</div>
<div class="line"><a name="l06694"></a><span class="lineno"> 6694</span>&#160;          <a class="code" href="../../d2/df0/classCCopasiMessage.html">CCopasiMessage</a>(<a class="code" href="../../d2/df0/classCCopasiMessage.html#a2ea1ed32494ff5c8d84353efcec7a5e4ac789e90eead3612a24114b9eae58fdec">CCopasiMessage::WARNING</a>, <span class="stringliteral">&quot;The ModelHistory cannot be exported to SBML, as no creation date has been defined.&quot;</span>);</div>
<div class="line"><a name="l06695"></a><span class="lineno"> 6695</span>&#160;        }</div>
<div class="line"><a name="l06696"></a><span class="lineno"> 6696</span>&#160;</div>
<div class="line"><a name="l06697"></a><span class="lineno"> 6697</span>&#160;      <span class="comment">// Since SBML can have only one modification time, and we can have several,</span></div>
<div class="line"><a name="l06698"></a><span class="lineno"> 6698</span>&#160;      <span class="comment">// we have to take the last one</span></div>
<div class="line"><a name="l06699"></a><span class="lineno"> 6699</span>&#160;      <span class="keyword">const</span> <a class="code" href="../../d8/d2c/classCCopasiVector.html">CCopasiVector &lt;CModification&gt;</a> &amp; modifications = miriamInfo.<a class="code" href="../../d8/d25/classCMIRIAMInfo.html#a69ad4ca538ef02aa58277ce08770abdc">getModifications</a>();</div>
<div class="line"><a name="l06700"></a><span class="lineno"> 6700</span>&#160;      iMax = modifications.<a class="code" href="../../d8/d2c/classCCopasiVector.html#ab7e0e37022783eddfe85abf9339b05c0">size</a>();</div>
<div class="line"><a name="l06701"></a><span class="lineno"> 6701</span>&#160;</div>
<div class="line"><a name="l06702"></a><span class="lineno"> 6702</span>&#160;      <span class="keywordflow">if</span> (iMax != 0)</div>
<div class="line"><a name="l06703"></a><span class="lineno"> 6703</span>&#160;        {</div>
<div class="line"><a name="l06704"></a><span class="lineno"> 6704</span>&#160;          modified = <span class="keyword">true</span>;</div>
<div class="line"><a name="l06705"></a><span class="lineno"> 6705</span>&#160;          <span class="keyword">const</span> <a class="code" href="../../d4/dad/classCModification.html">CModification</a>* pModification = modifications[0];</div>
<div class="line"><a name="l06706"></a><span class="lineno"> 6706</span>&#160;          assert(pModification != NULL);</div>
<div class="line"><a name="l06707"></a><span class="lineno"> 6707</span>&#160;          std::string lastDateString = pModification-&gt;<a class="code" href="../../d4/dad/classCModification.html#a7f57cb3f9051fe354e124fd84baace10">getDate</a>();</div>
<div class="line"><a name="l06708"></a><span class="lineno"> 6708</span>&#160;</div>
<div class="line"><a name="l06709"></a><span class="lineno"> 6709</span>&#160;          <span class="keywordflow">for</span> (i = 1; i &lt; iMax; ++i)</div>
<div class="line"><a name="l06710"></a><span class="lineno"> 6710</span>&#160;            {</div>
<div class="line"><a name="l06711"></a><span class="lineno"> 6711</span>&#160;              pModification = modifications[i];</div>
<div class="line"><a name="l06712"></a><span class="lineno"> 6712</span>&#160;              assert(pModification != NULL);</div>
<div class="line"><a name="l06713"></a><span class="lineno"> 6713</span>&#160;              std::string dateString = pModification-&gt;<a class="code" href="../../d4/dad/classCModification.html#a7f57cb3f9051fe354e124fd84baace10">getDate</a>();</div>
<div class="line"><a name="l06714"></a><span class="lineno"> 6714</span>&#160;</div>
<div class="line"><a name="l06715"></a><span class="lineno"> 6715</span>&#160;              <span class="comment">// since the date string is in W3CDTF format, a normal string</span></div>
<div class="line"><a name="l06716"></a><span class="lineno"> 6716</span>&#160;              <span class="comment">// compare should be enough to find out which date is more recent</span></div>
<div class="line"><a name="l06717"></a><span class="lineno"> 6717</span>&#160;              <span class="keywordflow">if</span> (dateString &gt; lastDateString)</div>
<div class="line"><a name="l06718"></a><span class="lineno"> 6718</span>&#160;                {</div>
<div class="line"><a name="l06719"></a><span class="lineno"> 6719</span>&#160;                  lastDateString = dateString;</div>
<div class="line"><a name="l06720"></a><span class="lineno"> 6720</span>&#160;                }</div>
<div class="line"><a name="l06721"></a><span class="lineno"> 6721</span>&#160;            }</div>
<div class="line"><a name="l06722"></a><span class="lineno"> 6722</span>&#160;</div>
<div class="line"><a name="l06723"></a><span class="lineno"> 6723</span>&#160;          Date modifiedDate(lastDateString);</div>
<div class="line"><a name="l06724"></a><span class="lineno"> 6724</span>&#160;          modelHistory.setModifiedDate(&amp;modifiedDate);</div>
<div class="line"><a name="l06725"></a><span class="lineno"> 6725</span>&#160;        }</div>
<div class="line"><a name="l06726"></a><span class="lineno"> 6726</span>&#160;      <span class="keywordflow">else</span> <span class="keywordflow">if</span> (modelHistory.isSetCreatedDate())</div>
<div class="line"><a name="l06727"></a><span class="lineno"> 6727</span>&#160;        {</div>
<div class="line"><a name="l06728"></a><span class="lineno"> 6728</span>&#160;          <span class="comment">// a model history is only valid if it has a modifiedData</span></div>
<div class="line"><a name="l06729"></a><span class="lineno"> 6729</span>&#160;          modelHistory.setModifiedDate(modelHistory.getCreatedDate());</div>
<div class="line"><a name="l06730"></a><span class="lineno"> 6730</span>&#160;        }</div>
<div class="line"><a name="l06731"></a><span class="lineno"> 6731</span>&#160;</div>
<div class="line"><a name="l06732"></a><span class="lineno"> 6732</span>&#160;      <span class="keywordflow">if</span> (!modelHistory.isSetModifiedDate() &amp;&amp; <a class="code" href="../../df/d80/classCSBMLExporter.html#a9b7f3e8acfbeadd9660cde953d4563cd">mHaveModelHistoryModificationDateWarning</a>)</div>
<div class="line"><a name="l06733"></a><span class="lineno"> 6733</span>&#160;        {</div>
<div class="line"><a name="l06734"></a><span class="lineno"> 6734</span>&#160;          <a class="code" href="../../df/d80/classCSBMLExporter.html#a9b7f3e8acfbeadd9660cde953d4563cd">mHaveModelHistoryModificationDateWarning</a> = <span class="keyword">true</span>;</div>
<div class="line"><a name="l06735"></a><span class="lineno"> 6735</span>&#160;          <a class="code" href="../../d2/df0/classCCopasiMessage.html">CCopasiMessage</a>(<a class="code" href="../../d2/df0/classCCopasiMessage.html#a2ea1ed32494ff5c8d84353efcec7a5e4ac789e90eead3612a24114b9eae58fdec">CCopasiMessage::WARNING</a>, <span class="stringliteral">&quot;The ModelHistory cannot be exported to SBML, as no modification date has been defined.&quot;</span>);</div>
<div class="line"><a name="l06736"></a><span class="lineno"> 6736</span>&#160;        }</div>
<div class="line"><a name="l06737"></a><span class="lineno"> 6737</span>&#160;</div>
<div class="line"><a name="l06738"></a><span class="lineno"> 6738</span>&#160;<span class="preprocessor">#if LIBSBML_VERSION &gt;= 40100</span></div>
<div class="line"><a name="l06739"></a><span class="lineno"> 6739</span>&#160;<span class="preprocessor"></span></div>
<div class="line"><a name="l06740"></a><span class="lineno"> 6740</span>&#160;      <span class="keywordflow">if</span> (this-&gt;<a class="code" href="../../df/d80/classCSBMLExporter.html#aba959efc152f63f1709d5de60e97a651">mSBMLLevel</a> &gt; 2)</div>
<div class="line"><a name="l06741"></a><span class="lineno"> 6741</span>&#160;        {</div>
<div class="line"><a name="l06742"></a><span class="lineno"> 6742</span>&#160;          <span class="comment">// set the model history on the sbml object</span></div>
<div class="line"><a name="l06743"></a><span class="lineno"> 6743</span>&#160;</div>
<div class="line"><a name="l06744"></a><span class="lineno"> 6744</span>&#160;          <span class="comment">// make sure the model has a meta id</span></div>
<div class="line"><a name="l06745"></a><span class="lineno"> 6745</span>&#160;          <span class="keywordflow">if</span> (!pSBMLObject-&gt;isSetMetaId())</div>
<div class="line"><a name="l06746"></a><span class="lineno"> 6746</span>&#160;            {</div>
<div class="line"><a name="l06747"></a><span class="lineno"> 6747</span>&#160;              std::string metaId = <a class="code" href="../../df/d80/classCSBMLExporter.html#ab4d7f9c3d22b8225d1a4d9e3a98b855e">CSBMLExporter::createUniqueId</a>(metaIds, <span class="stringliteral">&quot;COPASI&quot;</span>, <span class="keyword">true</span>, <span class="stringliteral">&quot;&quot;</span>);</div>
<div class="line"><a name="l06748"></a><span class="lineno"> 6748</span>&#160;              metaIds.insert(std::pair&lt;const std::string, const SBase*&gt;(metaId, pSBMLObject));</div>
<div class="line"><a name="l06749"></a><span class="lineno"> 6749</span>&#160;              pSBMLObject-&gt;setMetaId(metaId);</div>
<div class="line"><a name="l06750"></a><span class="lineno"> 6750</span>&#160;            }</div>
<div class="line"><a name="l06751"></a><span class="lineno"> 6751</span>&#160;</div>
<div class="line"><a name="l06752"></a><span class="lineno"> 6752</span>&#160;          <span class="keywordflow">if</span> (modified == <span class="keyword">true</span>)</div>
<div class="line"><a name="l06753"></a><span class="lineno"> 6753</span>&#160;            {</div>
<div class="line"><a name="l06754"></a><span class="lineno"> 6754</span>&#160;              pSBMLObject-&gt;setModelHistory(&amp;modelHistory);</div>
<div class="line"><a name="l06755"></a><span class="lineno"> 6755</span>&#160;            }</div>
<div class="line"><a name="l06756"></a><span class="lineno"> 6756</span>&#160;        }</div>
<div class="line"><a name="l06757"></a><span class="lineno"> 6757</span>&#160;      <span class="keywordflow">else</span></div>
<div class="line"><a name="l06758"></a><span class="lineno"> 6758</span>&#160;        {</div>
<div class="line"><a name="l06759"></a><span class="lineno"> 6759</span>&#160;<span class="preprocessor">#endif // LIBSBML_VERSION</span></div>
<div class="line"><a name="l06760"></a><span class="lineno"> 6760</span>&#160;<span class="preprocessor"></span>          <span class="comment">// set the model history on the model</span></div>
<div class="line"><a name="l06761"></a><span class="lineno"> 6761</span>&#160;          Model* pSBMLModel = <span class="keyword">dynamic_cast&lt;</span>Model*<span class="keyword">&gt;</span>(pSBMLObject);</div>
<div class="line"><a name="l06762"></a><span class="lineno"> 6762</span>&#160;          assert(pSBMLModel != NULL);</div>
<div class="line"><a name="l06763"></a><span class="lineno"> 6763</span>&#160;</div>
<div class="line"><a name="l06764"></a><span class="lineno"> 6764</span>&#160;          <span class="comment">// make sure the model has a meta id</span></div>
<div class="line"><a name="l06765"></a><span class="lineno"> 6765</span>&#160;          <span class="keywordflow">if</span> (!pSBMLModel-&gt;isSetMetaId())</div>
<div class="line"><a name="l06766"></a><span class="lineno"> 6766</span>&#160;            {</div>
<div class="line"><a name="l06767"></a><span class="lineno"> 6767</span>&#160;              std::string metaId = <a class="code" href="../../df/d80/classCSBMLExporter.html#ab4d7f9c3d22b8225d1a4d9e3a98b855e">CSBMLExporter::createUniqueId</a>(metaIds, <span class="stringliteral">&quot;COPASI&quot;</span>, <span class="keyword">true</span>, <span class="stringliteral">&quot;&quot;</span>);</div>
<div class="line"><a name="l06768"></a><span class="lineno"> 6768</span>&#160;              metaIds.insert(std::pair&lt;const std::string, const SBase*&gt;(metaId, pSBMLModel));</div>
<div class="line"><a name="l06769"></a><span class="lineno"> 6769</span>&#160;              pSBMLModel-&gt;setMetaId(metaId);</div>
<div class="line"><a name="l06770"></a><span class="lineno"> 6770</span>&#160;            }</div>
<div class="line"><a name="l06771"></a><span class="lineno"> 6771</span>&#160;</div>
<div class="line"><a name="l06772"></a><span class="lineno"> 6772</span>&#160;          <span class="keywordflow">if</span> (modified == <span class="keyword">true</span>)</div>
<div class="line"><a name="l06773"></a><span class="lineno"> 6773</span>&#160;            {</div>
<div class="line"><a name="l06774"></a><span class="lineno"> 6774</span>&#160;              pSBMLModel-&gt;setModelHistory(&amp;modelHistory);</div>
<div class="line"><a name="l06775"></a><span class="lineno"> 6775</span>&#160;            }</div>
<div class="line"><a name="l06776"></a><span class="lineno"> 6776</span>&#160;</div>
<div class="line"><a name="l06777"></a><span class="lineno"> 6777</span>&#160;<span class="preprocessor">#if LIBSBML_VERSION &gt;= 40100</span></div>
<div class="line"><a name="l06778"></a><span class="lineno"> 6778</span>&#160;<span class="preprocessor"></span>        }</div>
<div class="line"><a name="l06779"></a><span class="lineno"> 6779</span>&#160;</div>
<div class="line"><a name="l06780"></a><span class="lineno"> 6780</span>&#160;<span class="preprocessor">#endif // LIBSBML_VERSION</span></div>
<div class="line"><a name="l06781"></a><span class="lineno"> 6781</span>&#160;<span class="preprocessor"></span>    }</div>
<div class="line"><a name="l06782"></a><span class="lineno"> 6782</span>&#160;</div>
<div class="line"><a name="l06783"></a><span class="lineno"> 6783</span>&#160;  <span class="keywordflow">if</span> (this-&gt;<a class="code" href="../../df/d80/classCSBMLExporter.html#a64aed2b18e03f12e362aaa0cabdbb471">mExportCOPASIMIRIAM</a> == <span class="keyword">true</span>)</div>
<div class="line"><a name="l06784"></a><span class="lineno"> 6784</span>&#160;    {</div>
<div class="line"><a name="l06785"></a><span class="lineno"> 6785</span>&#160;      <span class="comment">// add the COPASI RDF stuff as an annotation in the COPASI namespace</span></div>
<div class="line"><a name="l06786"></a><span class="lineno"> 6786</span>&#160;      XMLNode* pCOPASIAnnotation = NULL;</div>
<div class="line"><a name="l06787"></a><span class="lineno"> 6787</span>&#160;      XMLNode* pAnnotation = NULL;</div>
<div class="line"><a name="l06788"></a><span class="lineno"> 6788</span>&#160;      <span class="keywordtype">int</span> COPASIAnnotationIndex = -1;</div>
<div class="line"><a name="l06789"></a><span class="lineno"> 6789</span>&#160;      <span class="keywordtype">int</span> oldRDFAnnotationIndex = -1;</div>
<div class="line"><a name="l06790"></a><span class="lineno"> 6790</span>&#160;</div>
<div class="line"><a name="l06791"></a><span class="lineno"> 6791</span>&#160;      <span class="keywordflow">if</span> (pSBMLObject-&gt;isSetAnnotation())</div>
<div class="line"><a name="l06792"></a><span class="lineno"> 6792</span>&#160;        {</div>
<div class="line"><a name="l06793"></a><span class="lineno"> 6793</span>&#160;          pAnnotation = pSBMLObject-&gt;getAnnotation();</div>
<div class="line"><a name="l06794"></a><span class="lineno"> 6794</span>&#160;          <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> i, iMax = pAnnotation-&gt;getNumChildren();</div>
<div class="line"><a name="l06795"></a><span class="lineno"> 6795</span>&#160;</div>
<div class="line"><a name="l06796"></a><span class="lineno"> 6796</span>&#160;          <span class="comment">// find the COPASI annotation if there is one</span></div>
<div class="line"><a name="l06797"></a><span class="lineno"> 6797</span>&#160;          <span class="keywordflow">for</span> (i = 0; i &lt; iMax; ++i)</div>
<div class="line"><a name="l06798"></a><span class="lineno"> 6798</span>&#160;            {</div>
<div class="line"><a name="l06799"></a><span class="lineno"> 6799</span>&#160;              <span class="keywordflow">if</span> (pAnnotation-&gt;getChild(i).getURI() == <span class="stringliteral">&quot;http://www.copasi.org/static/sbml&quot;</span>)</div>
<div class="line"><a name="l06800"></a><span class="lineno"> 6800</span>&#160;                {</div>
<div class="line"><a name="l06801"></a><span class="lineno"> 6801</span>&#160;                  pCOPASIAnnotation = pSBMLObject-&gt;getAnnotation()-&gt;getChild(i).clone();</div>
<div class="line"><a name="l06802"></a><span class="lineno"> 6802</span>&#160;                  COPASIAnnotationIndex = i;</div>
<div class="line"><a name="l06803"></a><span class="lineno"> 6803</span>&#160;                  <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> j, jMax = pCOPASIAnnotation-&gt;getNumChildren();</div>
<div class="line"><a name="l06804"></a><span class="lineno"> 6804</span>&#160;</div>
<div class="line"><a name="l06805"></a><span class="lineno"> 6805</span>&#160;                  <span class="comment">// find the index of the RDF subtree if there is one</span></div>
<div class="line"><a name="l06806"></a><span class="lineno"> 6806</span>&#160;                  <span class="keywordflow">for</span> (j = 0; j &lt; jMax; ++j)</div>
<div class="line"><a name="l06807"></a><span class="lineno"> 6807</span>&#160;                    {</div>
<div class="line"><a name="l06808"></a><span class="lineno"> 6808</span>&#160;                      <span class="keywordflow">if</span> (pCOPASIAnnotation-&gt;getChild(j).getURI() == <span class="stringliteral">&quot;http://www.w3.org/1999/02/22-rdf-syntax-ns#&quot;</span>)</div>
<div class="line"><a name="l06809"></a><span class="lineno"> 6809</span>&#160;                        {</div>
<div class="line"><a name="l06810"></a><span class="lineno"> 6810</span>&#160;                          oldRDFAnnotationIndex = j;</div>
<div class="line"><a name="l06811"></a><span class="lineno"> 6811</span>&#160;                          <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l06812"></a><span class="lineno"> 6812</span>&#160;                        }</div>
<div class="line"><a name="l06813"></a><span class="lineno"> 6813</span>&#160;                    }</div>
<div class="line"><a name="l06814"></a><span class="lineno"> 6814</span>&#160;</div>
<div class="line"><a name="l06815"></a><span class="lineno"> 6815</span>&#160;                  <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l06816"></a><span class="lineno"> 6816</span>&#160;                }</div>
<div class="line"><a name="l06817"></a><span class="lineno"> 6817</span>&#160;            }</div>
<div class="line"><a name="l06818"></a><span class="lineno"> 6818</span>&#160;        }</div>
<div class="line"><a name="l06819"></a><span class="lineno"> 6819</span>&#160;</div>
<div class="line"><a name="l06820"></a><span class="lineno"> 6820</span>&#160;      <span class="comment">// replace the meta ids in the MIRIAM annotation string</span></div>
<div class="line"><a name="l06821"></a><span class="lineno"> 6821</span>&#160;      <span class="keywordflow">if</span> (miriamAnnotationString.find_first_not_of(<span class="stringliteral">&quot;\t\r\n &quot;</span>) != std::string::npos)</div>
<div class="line"><a name="l06822"></a><span class="lineno"> 6822</span>&#160;        {</div>
<div class="line"><a name="l06823"></a><span class="lineno"> 6823</span>&#160;          std::string metaId;</div>
<div class="line"><a name="l06824"></a><span class="lineno"> 6824</span>&#160;</div>
<div class="line"><a name="l06825"></a><span class="lineno"> 6825</span>&#160;          <span class="keywordflow">if</span> (pSBMLObject-&gt;isSetMetaId())</div>
<div class="line"><a name="l06826"></a><span class="lineno"> 6826</span>&#160;            {</div>
<div class="line"><a name="l06827"></a><span class="lineno"> 6827</span>&#160;              metaId = pSBMLObject-&gt;getMetaId();</div>
<div class="line"><a name="l06828"></a><span class="lineno"> 6828</span>&#160;            }</div>
<div class="line"><a name="l06829"></a><span class="lineno"> 6829</span>&#160;          <span class="keywordflow">else</span></div>
<div class="line"><a name="l06830"></a><span class="lineno"> 6830</span>&#160;            {</div>
<div class="line"><a name="l06831"></a><span class="lineno"> 6831</span>&#160;              metaId = <a class="code" href="../../df/d80/classCSBMLExporter.html#ab4d7f9c3d22b8225d1a4d9e3a98b855e">CSBMLExporter::createUniqueId</a>(metaIds, <span class="stringliteral">&quot;COPASI&quot;</span>, <span class="keyword">true</span>, <span class="stringliteral">&quot;&quot;</span>);</div>
<div class="line"><a name="l06832"></a><span class="lineno"> 6832</span>&#160;              metaIds.insert(std::pair&lt;const std::string, const SBase*&gt;(metaId, pSBMLObject));</div>
<div class="line"><a name="l06833"></a><span class="lineno"> 6833</span>&#160;              pSBMLObject-&gt;setMetaId(metaId);</div>
<div class="line"><a name="l06834"></a><span class="lineno"> 6834</span>&#160;            }</div>
<div class="line"><a name="l06835"></a><span class="lineno"> 6835</span>&#160;</div>
<div class="line"><a name="l06836"></a><span class="lineno"> 6836</span>&#160;          <span class="comment">// now we have to replace the metaid</span></div>
<div class="line"><a name="l06837"></a><span class="lineno"> 6837</span>&#160;          <a class="code" href="../../db/df3/classCRDFUtilities.html#a57ad781593aff10158b112521296c260">CRDFUtilities::fixLocalFileAboutReference</a>(miriamAnnotationString, metaId, pCOPASIObject-&gt;<a class="code" href="../../d4/da8/classCCopasiObject.html#aeeec4db3332a6886c76ace4c3fe62b7d">getKey</a>());</div>
<div class="line"><a name="l06838"></a><span class="lineno"> 6838</span>&#160;          <span class="comment">// the new annotation is not empty, so we have to convert it</span></div>
<div class="line"><a name="l06839"></a><span class="lineno"> 6839</span>&#160;          <span class="comment">// the root of the returned tree is a dummy node, so the actual</span></div>
<div class="line"><a name="l06840"></a><span class="lineno"> 6840</span>&#160;          <span class="comment">// RDF element is the first child of the returned value</span></div>
<div class="line"><a name="l06841"></a><span class="lineno"> 6841</span>&#160;</div>
<div class="line"><a name="l06842"></a><span class="lineno"> 6842</span>&#160;          <span class="comment">// the convertStringToXMLNode has changed behavior between libsbml 3 and libsbml 4</span></div>
<div class="line"><a name="l06843"></a><span class="lineno"> 6843</span>&#160;          <span class="comment">// in libsbml it creates a dummy node and in libsbml 4 it doesn&#39;t</span></div>
<div class="line"><a name="l06844"></a><span class="lineno"> 6844</span>&#160;          XMLNode* pMIRIAMNode = XMLNode::convertStringToXMLNode(miriamAnnotationString);</div>
<div class="line"><a name="l06845"></a><span class="lineno"> 6845</span>&#160;          assert(pMIRIAMNode != NULL);</div>
<div class="line"><a name="l06846"></a><span class="lineno"> 6846</span>&#160;</div>
<div class="line"><a name="l06847"></a><span class="lineno"> 6847</span>&#160;          <span class="keywordflow">if</span> (pCOPASIAnnotation == NULL)</div>
<div class="line"><a name="l06848"></a><span class="lineno"> 6848</span>&#160;            {</div>
<div class="line"><a name="l06849"></a><span class="lineno"> 6849</span>&#160;              <span class="comment">// create a new COPASI annotation</span></div>
<div class="line"><a name="l06850"></a><span class="lineno"> 6850</span>&#160;              <span class="comment">// the root of the returned tree is a dummy node, so the actual</span></div>
<div class="line"><a name="l06851"></a><span class="lineno"> 6851</span>&#160;              <span class="comment">// COPASI is the first child of the returned value</span></div>
<div class="line"><a name="l06852"></a><span class="lineno"> 6852</span>&#160;</div>
<div class="line"><a name="l06853"></a><span class="lineno"> 6853</span>&#160;              <span class="comment">// the convertStringToXMLNode has changed behavior between libsbml 3 and libsbml 4</span></div>
<div class="line"><a name="l06854"></a><span class="lineno"> 6854</span>&#160;              <span class="comment">// in libsbml it creates a dummy node and in libsbml 4 it doesn&#39;t</span></div>
<div class="line"><a name="l06855"></a><span class="lineno"> 6855</span>&#160;              pCOPASIAnnotation = XMLNode::convertStringToXMLNode(<span class="stringliteral">&quot;&lt;COPASI xmlns=\&quot;http://www.copasi.org/static/sbml\&quot;&gt;&lt;/COPASI&gt;&quot;</span>);</div>
<div class="line"><a name="l06856"></a><span class="lineno"> 6856</span>&#160;              <span class="comment">// now we have to make an additional copy since otherwise we would</span></div>
<div class="line"><a name="l06857"></a><span class="lineno"> 6857</span>&#160;              <span class="comment">// need a const_cast later on.</span></div>
<div class="line"><a name="l06858"></a><span class="lineno"> 6858</span>&#160;              <span class="comment">// This is due to a limitation in the libsbml API.</span></div>
<div class="line"><a name="l06859"></a><span class="lineno"> 6859</span>&#160;<span class="preprocessor">#if LIBSBML_VERSION &lt; 40001</span></div>
<div class="line"><a name="l06860"></a><span class="lineno"> 6860</span>&#160;<span class="preprocessor"></span>              XMLNode* pTmpNode = pCOPASIAnnotation-&gt;getChild(0).clone();</div>
<div class="line"><a name="l06861"></a><span class="lineno"> 6861</span>&#160;              <span class="keyword">delete</span> pCOPASIAnnotation;</div>
<div class="line"><a name="l06862"></a><span class="lineno"> 6862</span>&#160;              pCOPASIAnnotation = pTmpNode;</div>
<div class="line"><a name="l06863"></a><span class="lineno"> 6863</span>&#160;<span class="preprocessor">#endif // LIBSBML_VERSION &lt; 40001</span></div>
<div class="line"><a name="l06864"></a><span class="lineno"> 6864</span>&#160;<span class="preprocessor"></span>              <span class="comment">// calling unsetEnd is necessary for libsbml 3.1.1 and 3.2.0,</span></div>
<div class="line"><a name="l06865"></a><span class="lineno"> 6865</span>&#160;              <span class="comment">// otherwise libsbml will write the opening COPASI element as a</span></div>
<div class="line"><a name="l06866"></a><span class="lineno"> 6866</span>&#160;              <span class="comment">// closing element and add another closing element later on which is</span></div>
<div class="line"><a name="l06867"></a><span class="lineno"> 6867</span>&#160;              <span class="comment">// incorrect XML</span></div>
<div class="line"><a name="l06868"></a><span class="lineno"> 6868</span>&#160;              pCOPASIAnnotation-&gt;unsetEnd();</div>
<div class="line"><a name="l06869"></a><span class="lineno"> 6869</span>&#160;              assert(pCOPASIAnnotation != NULL);</div>
<div class="line"><a name="l06870"></a><span class="lineno"> 6870</span>&#160;              <span class="comment">// add the RDF stuff</span></div>
<div class="line"><a name="l06871"></a><span class="lineno"> 6871</span>&#160;              <span class="comment">// we add the first child of the MIRIAM node since it was created</span></div>
<div class="line"><a name="l06872"></a><span class="lineno"> 6872</span>&#160;              <span class="comment">// with convertStrngToXMLNode which creates a dummy node as the</span></div>
<div class="line"><a name="l06873"></a><span class="lineno"> 6873</span>&#160;              <span class="comment">// root node</span></div>
<div class="line"><a name="l06874"></a><span class="lineno"> 6874</span>&#160;<span class="preprocessor">#if LIBSBML_VERSION &lt; 40001</span></div>
<div class="line"><a name="l06875"></a><span class="lineno"> 6875</span>&#160;<span class="preprocessor"></span>              pCOPASIAnnotation-&gt;addChild(pMIRIAMNode-&gt;getChild(0));</div>
<div class="line"><a name="l06876"></a><span class="lineno"> 6876</span>&#160;<span class="preprocessor">#else</span></div>
<div class="line"><a name="l06877"></a><span class="lineno"> 6877</span>&#160;<span class="preprocessor"></span>              pCOPASIAnnotation-&gt;addChild(*pMIRIAMNode);</div>
<div class="line"><a name="l06878"></a><span class="lineno"> 6878</span>&#160;<span class="preprocessor">#endif // LIBSBML_VERSION &lt; 40001</span></div>
<div class="line"><a name="l06879"></a><span class="lineno"> 6879</span>&#160;<span class="preprocessor"></span>              <span class="comment">// delete the MIRIAM node since addChild made a copy</span></div>
<div class="line"><a name="l06880"></a><span class="lineno"> 6880</span>&#160;              <span class="keyword">delete</span> pMIRIAMNode;</div>
<div class="line"><a name="l06881"></a><span class="lineno"> 6881</span>&#160;            }</div>
<div class="line"><a name="l06882"></a><span class="lineno"> 6882</span>&#160;          <span class="keywordflow">else</span></div>
<div class="line"><a name="l06883"></a><span class="lineno"> 6883</span>&#160;            {</div>
<div class="line"><a name="l06884"></a><span class="lineno"> 6884</span>&#160;              <span class="comment">// replace the old RDF annotation from the COPASI subtree if there</span></div>
<div class="line"><a name="l06885"></a><span class="lineno"> 6885</span>&#160;              <span class="comment">// is one, else add the new one</span></div>
<div class="line"><a name="l06886"></a><span class="lineno"> 6886</span>&#160;              <span class="keywordflow">if</span> (oldRDFAnnotationIndex != -1)</div>
<div class="line"><a name="l06887"></a><span class="lineno"> 6887</span>&#160;                {</div>
<div class="line"><a name="l06888"></a><span class="lineno"> 6888</span>&#160;                  <span class="comment">//</span></div>
<div class="line"><a name="l06889"></a><span class="lineno"> 6889</span>&#160;                  XMLNode* pNewCOPASIAnnotation = <a class="code" href="../../df/d80/classCSBMLExporter.html#afd52e9391235518719dd447da28be625">CSBMLExporter::replaceChild</a>(pCOPASIAnnotation, pMIRIAMNode, oldRDFAnnotationIndex);</div>
<div class="line"><a name="l06890"></a><span class="lineno"> 6890</span>&#160;                  <span class="comment">// delete the old copy of the COPASI node</span></div>
<div class="line"><a name="l06891"></a><span class="lineno"> 6891</span>&#160;                  <span class="keyword">delete</span> pCOPASIAnnotation;</div>
<div class="line"><a name="l06892"></a><span class="lineno"> 6892</span>&#160;                  pCOPASIAnnotation = pNewCOPASIAnnotation;</div>
<div class="line"><a name="l06893"></a><span class="lineno"> 6893</span>&#160;                  <span class="comment">// delete the MIRIAM node since replaceChild made a copy</span></div>
<div class="line"><a name="l06894"></a><span class="lineno"> 6894</span>&#160;                  <span class="keyword">delete</span> pMIRIAMNode;</div>
<div class="line"><a name="l06895"></a><span class="lineno"> 6895</span>&#160;                }</div>
<div class="line"><a name="l06896"></a><span class="lineno"> 6896</span>&#160;              <span class="keywordflow">else</span></div>
<div class="line"><a name="l06897"></a><span class="lineno"> 6897</span>&#160;                {</div>
<div class="line"><a name="l06898"></a><span class="lineno"> 6898</span>&#160;                  <span class="comment">// we add the first child of the MIRIAM node since it was created</span></div>
<div class="line"><a name="l06899"></a><span class="lineno"> 6899</span>&#160;                  <span class="comment">// with convertStrngToXMLNode which creates a dummy node as the</span></div>
<div class="line"><a name="l06900"></a><span class="lineno"> 6900</span>&#160;                  <span class="comment">// root node</span></div>
<div class="line"><a name="l06901"></a><span class="lineno"> 6901</span>&#160;                  pCOPASIAnnotation-&gt;addChild(pMIRIAMNode-&gt;getChild(0));</div>
<div class="line"><a name="l06902"></a><span class="lineno"> 6902</span>&#160;                  <span class="comment">// delete the MIRIAM node since addChild made a copy</span></div>
<div class="line"><a name="l06903"></a><span class="lineno"> 6903</span>&#160;                  <span class="keyword">delete</span> pMIRIAMNode;</div>
<div class="line"><a name="l06904"></a><span class="lineno"> 6904</span>&#160;                }</div>
<div class="line"><a name="l06905"></a><span class="lineno"> 6905</span>&#160;            }</div>
<div class="line"><a name="l06906"></a><span class="lineno"> 6906</span>&#160;</div>
<div class="line"><a name="l06907"></a><span class="lineno"> 6907</span>&#160;          <span class="comment">// I don&#39;t think that getAnnotation will every return NULL because it is</span></div>
<div class="line"><a name="l06908"></a><span class="lineno"> 6908</span>&#160;          <span class="comment">// created on the fly by libsbml if there isn&#39;t one already.</span></div>
<div class="line"><a name="l06909"></a><span class="lineno"> 6909</span>&#160;          <span class="comment">// This is just a safety net in cast the libsbml API changes</span></div>
<div class="line"><a name="l06910"></a><span class="lineno"> 6910</span>&#160;          <span class="keywordflow">if</span> (pSBMLObject-&gt;getAnnotation() == NULL)</div>
<div class="line"><a name="l06911"></a><span class="lineno"> 6911</span>&#160;            {</div>
<div class="line"><a name="l06912"></a><span class="lineno"> 6912</span>&#160;              <span class="comment">// the convertStringToXMLNode has changed behavior between libsbml 3 and libsbml 4</span></div>
<div class="line"><a name="l06913"></a><span class="lineno"> 6913</span>&#160;              <span class="comment">// in libsbml it creates a dummy node and in libsbml 4 it doesn&#39;t</span></div>
<div class="line"><a name="l06914"></a><span class="lineno"> 6914</span>&#160;              pAnnotation = XMLNode::convertStringToXMLNode(<span class="stringliteral">&quot;&lt;annotation&gt;&lt;/annotation&gt;&quot;</span>);</div>
<div class="line"><a name="l06915"></a><span class="lineno"> 6915</span>&#160;              <span class="comment">// the libsbml convertStringToXMLNode doesn&#39;t seem to work in the</span></div>
<div class="line"><a name="l06916"></a><span class="lineno"> 6916</span>&#160;              <span class="comment">// same way when we create an annotation node as opposed to the</span></div>
<div class="line"><a name="l06917"></a><span class="lineno"> 6917</span>&#160;              <span class="comment">// COPASI node above.</span></div>
<div class="line"><a name="l06918"></a><span class="lineno"> 6918</span>&#160;              <span class="comment">// For the COPASI node, we get a dummy node as the root whereas here</span></div>
<div class="line"><a name="l06919"></a><span class="lineno"> 6919</span>&#160;              <span class="comment">// we don&#39;t</span></div>
<div class="line"><a name="l06920"></a><span class="lineno"> 6920</span>&#160;              assert(pAnnotation != NULL);</div>
<div class="line"><a name="l06921"></a><span class="lineno"> 6921</span>&#160;              <span class="comment">// add the COPASI annotation</span></div>
<div class="line"><a name="l06922"></a><span class="lineno"> 6922</span>&#160;              <span class="comment">// if we created the COPASI element with convertStringTOXMLNode, we</span></div>
<div class="line"><a name="l06923"></a><span class="lineno"> 6923</span>&#160;              <span class="comment">// have to use the first child since the root is a dummy node</span></div>
<div class="line"><a name="l06924"></a><span class="lineno"> 6924</span>&#160;              pAnnotation-&gt;addChild(*pCOPASIAnnotation);</div>
<div class="line"><a name="l06925"></a><span class="lineno"> 6925</span>&#160;              <span class="comment">// pCOPASIAnnotation is always a copy, so we have to delete it</span></div>
<div class="line"><a name="l06926"></a><span class="lineno"> 6926</span>&#160;              <span class="keyword">delete</span> pCOPASIAnnotation;</div>
<div class="line"><a name="l06927"></a><span class="lineno"> 6927</span>&#160;              pSBMLObject-&gt;setAnnotation(pAnnotation);</div>
<div class="line"><a name="l06928"></a><span class="lineno"> 6928</span>&#160;              <span class="keyword">delete</span> pAnnotation;</div>
<div class="line"><a name="l06929"></a><span class="lineno"> 6929</span>&#160;            }</div>
<div class="line"><a name="l06930"></a><span class="lineno"> 6930</span>&#160;          <span class="keywordflow">else</span></div>
<div class="line"><a name="l06931"></a><span class="lineno"> 6931</span>&#160;            {</div>
<div class="line"><a name="l06932"></a><span class="lineno"> 6932</span>&#160;              <span class="comment">// if there is a COPASI node, if yes replace it else add it</span></div>
<div class="line"><a name="l06933"></a><span class="lineno"> 6933</span>&#160;              <span class="keywordflow">if</span> (COPASIAnnotationIndex != -1)</div>
<div class="line"><a name="l06934"></a><span class="lineno"> 6934</span>&#160;                {</div>
<div class="line"><a name="l06935"></a><span class="lineno"> 6935</span>&#160;                  <span class="comment">// we have to call getAnnotation on the SBML object instead of resulting</span></div>
<div class="line"><a name="l06936"></a><span class="lineno"> 6936</span>&#160;                  <span class="comment">// the annotation we got above because libsbml deletes the annotation</span></div>
<div class="line"><a name="l06937"></a><span class="lineno"> 6937</span>&#160;                  <span class="comment">//  object when it syncs the annotation. So the annotation object we</span></div>
<div class="line"><a name="l06938"></a><span class="lineno"> 6938</span>&#160;                  <span class="comment">//  got above is most likely deleted already</span></div>
<div class="line"><a name="l06939"></a><span class="lineno"> 6939</span>&#160;                  pAnnotation = <a class="code" href="../../df/d80/classCSBMLExporter.html#afd52e9391235518719dd447da28be625">CSBMLExporter::replaceChild</a>(pSBMLObject-&gt;getAnnotation(), pCOPASIAnnotation, COPASIAnnotationIndex);</div>
<div class="line"><a name="l06940"></a><span class="lineno"> 6940</span>&#160;                  <span class="comment">// we have to delete pCOPASIAnnotation since replaceChild makes a copy</span></div>
<div class="line"><a name="l06941"></a><span class="lineno"> 6941</span>&#160;                  <span class="keyword">delete</span> pCOPASIAnnotation;</div>
<div class="line"><a name="l06942"></a><span class="lineno"> 6942</span>&#160;                  pSBMLObject-&gt;setAnnotation(pAnnotation);</div>
<div class="line"><a name="l06943"></a><span class="lineno"> 6943</span>&#160;                  <span class="keyword">delete</span> pAnnotation;</div>
<div class="line"><a name="l06944"></a><span class="lineno"> 6944</span>&#160;                }</div>
<div class="line"><a name="l06945"></a><span class="lineno"> 6945</span>&#160;              <span class="keywordflow">else</span></div>
<div class="line"><a name="l06946"></a><span class="lineno"> 6946</span>&#160;                {</div>
<div class="line"><a name="l06947"></a><span class="lineno"> 6947</span>&#160;                  <span class="comment">// we have to call getAnnotation on the SBML object instead of resulting</span></div>
<div class="line"><a name="l06948"></a><span class="lineno"> 6948</span>&#160;                  <span class="comment">// the annotation we got above because libsbml deletes the annotation</span></div>
<div class="line"><a name="l06949"></a><span class="lineno"> 6949</span>&#160;                  <span class="comment">//  object when it syncs the annotation. So the annotation object we</span></div>
<div class="line"><a name="l06950"></a><span class="lineno"> 6950</span>&#160;                  <span class="comment">//  got above is most likely deleted already</span></div>
<div class="line"><a name="l06951"></a><span class="lineno"> 6951</span>&#160;                  pSBMLObject-&gt;getAnnotation()-&gt;addChild(*pCOPASIAnnotation);</div>
<div class="line"><a name="l06952"></a><span class="lineno"> 6952</span>&#160;                  <span class="comment">// we have to delete pCOPASIAnnotation since replaceChild made a copy</span></div>
<div class="line"><a name="l06953"></a><span class="lineno"> 6953</span>&#160;                  <span class="keyword">delete</span> pCOPASIAnnotation;</div>
<div class="line"><a name="l06954"></a><span class="lineno"> 6954</span>&#160;                }</div>
<div class="line"><a name="l06955"></a><span class="lineno"> 6955</span>&#160;            }</div>
<div class="line"><a name="l06956"></a><span class="lineno"> 6956</span>&#160;        }</div>
<div class="line"><a name="l06957"></a><span class="lineno"> 6957</span>&#160;      <span class="keywordflow">else</span></div>
<div class="line"><a name="l06958"></a><span class="lineno"> 6958</span>&#160;        {</div>
<div class="line"><a name="l06959"></a><span class="lineno"> 6959</span>&#160;          <span class="comment">// if there is an RDF annotation in the COPASI annotation already, we</span></div>
<div class="line"><a name="l06960"></a><span class="lineno"> 6960</span>&#160;          <span class="comment">// have to delete it.</span></div>
<div class="line"><a name="l06961"></a><span class="lineno"> 6961</span>&#160;          <span class="comment">// if this rdf annotation is the only child of the COPASI annotation,</span></div>
<div class="line"><a name="l06962"></a><span class="lineno"> 6962</span>&#160;          <span class="comment">// we delete the whole COPASI annotation</span></div>
<div class="line"><a name="l06963"></a><span class="lineno"> 6963</span>&#160;          <span class="keywordflow">if</span> (pSBMLObject-&gt;getAnnotation() != NULL &amp;&amp; COPASIAnnotationIndex != -1 &amp;&amp; oldRDFAnnotationIndex != -1)</div>
<div class="line"><a name="l06964"></a><span class="lineno"> 6964</span>&#160;            {</div>
<div class="line"><a name="l06965"></a><span class="lineno"> 6965</span>&#160;              <span class="keywordflow">if</span> (pCOPASIAnnotation-&gt;getNumChildren() == 1)</div>
<div class="line"><a name="l06966"></a><span class="lineno"> 6966</span>&#160;                {</div>
<div class="line"><a name="l06967"></a><span class="lineno"> 6967</span>&#160;                  <span class="comment">// we have to call getAnnotation on the SBML object instead of reusing</span></div>
<div class="line"><a name="l06968"></a><span class="lineno"> 6968</span>&#160;                  <span class="comment">// the annotation we got above because libsbml deletes the annotation</span></div>
<div class="line"><a name="l06969"></a><span class="lineno"> 6969</span>&#160;                  <span class="comment">//  object when it syncs the annotation. So the annotation object we</span></div>
<div class="line"><a name="l06970"></a><span class="lineno"> 6970</span>&#160;                  <span class="comment">//  got above is most likely deleted already</span></div>
<div class="line"><a name="l06971"></a><span class="lineno"> 6971</span>&#160;                  <span class="keywordflow">if</span> (pSBMLObject-&gt;getAnnotation()-&gt;getNumChildren() == 1)</div>
<div class="line"><a name="l06972"></a><span class="lineno"> 6972</span>&#160;                    {</div>
<div class="line"><a name="l06973"></a><span class="lineno"> 6973</span>&#160;                      <span class="comment">// delete the complete annotation</span></div>
<div class="line"><a name="l06974"></a><span class="lineno"> 6974</span>&#160;                      pSBMLObject-&gt;unsetAnnotation();</div>
<div class="line"><a name="l06975"></a><span class="lineno"> 6975</span>&#160;                    }</div>
<div class="line"><a name="l06976"></a><span class="lineno"> 6976</span>&#160;                  <span class="keywordflow">else</span></div>
<div class="line"><a name="l06977"></a><span class="lineno"> 6977</span>&#160;                    {</div>
<div class="line"><a name="l06978"></a><span class="lineno"> 6978</span>&#160;                      <span class="comment">// only delete the COPASI subtree</span></div>
<div class="line"><a name="l06979"></a><span class="lineno"> 6979</span>&#160;                      <span class="comment">// we have to call getAnnotation on the SBML object instead of reusing</span></div>
<div class="line"><a name="l06980"></a><span class="lineno"> 6980</span>&#160;                      <span class="comment">// the annotation we got above because libsbml deletes the annotation</span></div>
<div class="line"><a name="l06981"></a><span class="lineno"> 6981</span>&#160;                      <span class="comment">//  object when it syncs the annotation. So the annotation object we</span></div>
<div class="line"><a name="l06982"></a><span class="lineno"> 6982</span>&#160;                      <span class="comment">//  got above is most likely deleted already</span></div>
<div class="line"><a name="l06983"></a><span class="lineno"> 6983</span>&#160;                      pAnnotation = <a class="code" href="../../df/d80/classCSBMLExporter.html#afd52e9391235518719dd447da28be625">CSBMLExporter::replaceChild</a>(pSBMLObject-&gt;getAnnotation(), NULL, COPASIAnnotationIndex);</div>
<div class="line"><a name="l06984"></a><span class="lineno"> 6984</span>&#160;                      assert(pAnnotation != NULL);</div>
<div class="line"><a name="l06985"></a><span class="lineno"> 6985</span>&#160;                      pSBMLObject-&gt;setAnnotation(pAnnotation);</div>
<div class="line"><a name="l06986"></a><span class="lineno"> 6986</span>&#160;                      <span class="comment">// delete the annotation object since it has been created by</span></div>
<div class="line"><a name="l06987"></a><span class="lineno"> 6987</span>&#160;                      <span class="comment">// replaceChild and setAnnotation made a copy</span></div>
<div class="line"><a name="l06988"></a><span class="lineno"> 6988</span>&#160;                      <span class="keyword">delete</span> pAnnotation;</div>
<div class="line"><a name="l06989"></a><span class="lineno"> 6989</span>&#160;                    }</div>
<div class="line"><a name="l06990"></a><span class="lineno"> 6990</span>&#160;                }</div>
<div class="line"><a name="l06991"></a><span class="lineno"> 6991</span>&#160;              <span class="keywordflow">else</span></div>
<div class="line"><a name="l06992"></a><span class="lineno"> 6992</span>&#160;                {</div>
<div class="line"><a name="l06993"></a><span class="lineno"> 6993</span>&#160;                  <span class="comment">// delete the RDF annotation from the COPASI tree</span></div>
<div class="line"><a name="l06994"></a><span class="lineno"> 6994</span>&#160;                  <span class="comment">// replace the COPASI tree in pAnnotation</span></div>
<div class="line"><a name="l06995"></a><span class="lineno"> 6995</span>&#160;                  pCOPASIAnnotation = <a class="code" href="../../df/d80/classCSBMLExporter.html#afd52e9391235518719dd447da28be625">CSBMLExporter::replaceChild</a>(pCOPASIAnnotation, NULL, oldRDFAnnotationIndex);</div>
<div class="line"><a name="l06996"></a><span class="lineno"> 6996</span>&#160;                  assert(pCOPASIAnnotation != NULL);</div>
<div class="line"><a name="l06997"></a><span class="lineno"> 6997</span>&#160;                  <span class="comment">// we have to call getAnnotation on the SBML object instead of reusing</span></div>
<div class="line"><a name="l06998"></a><span class="lineno"> 6998</span>&#160;                  <span class="comment">// the annotation we got above because libsbml deletes the annotation</span></div>
<div class="line"><a name="l06999"></a><span class="lineno"> 6999</span>&#160;                  <span class="comment">//  object when it syncs the annotation. So the annotation object we</span></div>
<div class="line"><a name="l07000"></a><span class="lineno"> 7000</span>&#160;                  <span class="comment">//  got above is most likely deleted already</span></div>
<div class="line"><a name="l07001"></a><span class="lineno"> 7001</span>&#160;                  pAnnotation = <a class="code" href="../../df/d80/classCSBMLExporter.html#afd52e9391235518719dd447da28be625">CSBMLExporter::replaceChild</a>(pSBMLObject-&gt;getAnnotation(), pCOPASIAnnotation, COPASIAnnotationIndex);</div>
<div class="line"><a name="l07002"></a><span class="lineno"> 7002</span>&#160;                  <span class="comment">// delete pCOPASIAnnotation since replaceChild made a copy</span></div>
<div class="line"><a name="l07003"></a><span class="lineno"> 7003</span>&#160;                  <span class="keyword">delete</span> pCOPASIAnnotation;</div>
<div class="line"><a name="l07004"></a><span class="lineno"> 7004</span>&#160;                  pSBMLObject-&gt;setAnnotation(pAnnotation);</div>
<div class="line"><a name="l07005"></a><span class="lineno"> 7005</span>&#160;                  <span class="comment">// delete the annotation object since it has been created by</span></div>
<div class="line"><a name="l07006"></a><span class="lineno"> 7006</span>&#160;                  <span class="comment">// replaceChild and setAnnotation made a copy</span></div>
<div class="line"><a name="l07007"></a><span class="lineno"> 7007</span>&#160;                  <span class="keyword">delete</span> pAnnotation;</div>
<div class="line"><a name="l07008"></a><span class="lineno"> 7008</span>&#160;                }</div>
<div class="line"><a name="l07009"></a><span class="lineno"> 7009</span>&#160;            }</div>
<div class="line"><a name="l07010"></a><span class="lineno"> 7010</span>&#160;        }</div>
<div class="line"><a name="l07011"></a><span class="lineno"> 7011</span>&#160;    }</div>
<div class="line"><a name="l07012"></a><span class="lineno"> 7012</span>&#160;</div>
<div class="line"><a name="l07013"></a><span class="lineno"> 7013</span>&#160;  <span class="keywordflow">return</span> result;</div>
<div class="line"><a name="l07014"></a><span class="lineno"> 7014</span>&#160;}</div>
<div class="ttc" id="classCEvent_html"><div class="ttname"><a href="../../da/d3f/classCEvent.html">CEvent</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d3f/CEvent_8h_source.html#l00152">CEvent.h:152</a></div></div>
<div class="ttc" id="classCMIRIAMInfo_html_a315ccf65ad0cc6209b1b90e0292cc519"><div class="ttname"><a href="../../d8/d25/classCMIRIAMInfo.html#a315ccf65ad0cc6209b1b90e0292cc519">CMIRIAMInfo::getCreators</a></div><div class="ttdeci">const CCopasiVector&lt; CCreator &gt; &amp; getCreators() const </div><div class="ttdef"><b>Definition:</b> <a href="../../d4/df6/CModelMIRIAMInfo_8cpp_source.html#l00056">CModelMIRIAMInfo.cpp:56</a></div></div>
<div class="ttc" id="classCSBMLExporter_html_a64aed2b18e03f12e362aaa0cabdbb471"><div class="ttname"><a href="../../df/d80/classCSBMLExporter.html#a64aed2b18e03f12e362aaa0cabdbb471">CSBMLExporter::mExportCOPASIMIRIAM</a></div><div class="ttdeci">bool mExportCOPASIMIRIAM</div><div class="ttdef"><b>Definition:</b> <a href="../../da/d7f/CSBMLExporter_8h_source.html#l00074">CSBMLExporter.h:74</a></div></div>
<div class="ttc" id="classCSBMLExporter_html_aba959efc152f63f1709d5de60e97a651"><div class="ttname"><a href="../../df/d80/classCSBMLExporter.html#aba959efc152f63f1709d5de60e97a651">CSBMLExporter::mSBMLLevel</a></div><div class="ttdeci">unsigned int mSBMLLevel</div><div class="ttdef"><b>Definition:</b> <a href="../../da/d7f/CSBMLExporter_8h_source.html#l00056">CSBMLExporter.h:56</a></div></div>
<div class="ttc" id="classCRDFPredicate_html_a8d7794773ca004d2217be3fd6edf3610a92a131f3be300fd0bd6ad899b9081eb6"><div class="ttname"><a href="../../d0/da2/classCRDFPredicate.html#a8d7794773ca004d2217be3fd6edf3610a92a131f3be300fd0bd6ad899b9081eb6">CRDFPredicate::bqbiol_is</a></div><div class="ttdef"><b>Definition:</b> <a href="../../db/ddd/CRDFPredicate_8h_source.html#l00052">CRDFPredicate.h:52</a></div></div>
<div class="ttc" id="classCRDFPredicate_html_a8d7794773ca004d2217be3fd6edf3610aff8fd1f3e69dd25f721f4291f55d46bf"><div class="ttname"><a href="../../d0/da2/classCRDFPredicate.html#a8d7794773ca004d2217be3fd6edf3610aff8fd1f3e69dd25f721f4291f55d46bf">CRDFPredicate::bqbiol_isEncodedBy</a></div><div class="ttdef"><b>Definition:</b> <a href="../../db/ddd/CRDFPredicate_8h_source.html#l00054">CRDFPredicate.h:54</a></div></div>
<div class="ttc" id="classCMIRIAMInfo_html_aacf2db6ffe08999ab65d53beef9c1965"><div class="ttname"><a href="../../d8/d25/classCMIRIAMInfo.html#aacf2db6ffe08999ab65d53beef9c1965">CMIRIAMInfo::load</a></div><div class="ttdeci">void load(const std::string &amp;key=&quot;&quot;)</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/df6/CModelMIRIAMInfo_8cpp_source.html#l00399">CModelMIRIAMInfo.cpp:399</a></div></div>
<div class="ttc" id="classCRDFNode_html_a2a63a4fe9c71d2acba3001bacb352619"><div class="ttname"><a href="../../df/d48/classCRDFNode.html#a2a63a4fe9c71d2acba3001bacb352619">CRDFNode::getDescendantsWithPredicate</a></div><div class="ttdeci">std::set&lt; CRDFTriplet &gt; getDescendantsWithPredicate(const CRDFPredicate &amp;predicate) const </div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d59/CRDFNode_8cpp_source.html#l00398">CRDFNode.cpp:398</a></div></div>
<div class="ttc" id="classCRDFPredicate_html_a8d7794773ca004d2217be3fd6edf3610a8aa0e8f02034de50e7c9508b2dfc1f23"><div class="ttname"><a href="../../d0/da2/classCRDFPredicate.html#a8d7794773ca004d2217be3fd6edf3610a8aa0e8f02034de50e7c9508b2dfc1f23">CRDFPredicate::copasi_isEncodedBy</a></div><div class="ttdef"><b>Definition:</b> <a href="../../db/ddd/CRDFPredicate_8h_source.html#l00043">CRDFPredicate.h:43</a></div></div>
<div class="ttc" id="classCModelEntity_html"><div class="ttname"><a href="../../d0/da0/classCModelEntity.html">CModelEntity</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d1/da3/CModelValue_8h_source.html#l00039">CModelValue.h:39</a></div></div>
<div class="ttc" id="classCRDFUtilities_html_a57ad781593aff10158b112521296c260"><div class="ttname"><a href="../../db/df3/classCRDFUtilities.html#a57ad781593aff10158b112521296c260">CRDFUtilities::fixLocalFileAboutReference</a></div><div class="ttdeci">static unsigned C_INT32 fixLocalFileAboutReference(std::string &amp;rdfXml, const std::string &amp;newId, const std::string &amp;oldId)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d37/CRDFUtilities_8cpp_source.html#l00021">CRDFUtilities.cpp:21</a></div></div>
<div class="ttc" id="classCMIRIAMInfo_html_addbf8d3219247312f8478be600ced029"><div class="ttname"><a href="../../d8/d25/classCMIRIAMInfo.html#addbf8d3219247312f8478be600ced029">CMIRIAMInfo::getBiologicalDescriptions</a></div><div class="ttdeci">const CCopasiVector&lt; CBiologicalDescription &gt; &amp; getBiologicalDescriptions() const </div><div class="ttdef"><b>Definition:</b> <a href="../../d4/df6/CModelMIRIAMInfo_8cpp_source.html#l00309">CModelMIRIAMInfo.cpp:309</a></div></div>
<div class="ttc" id="classCCopasiVector_html_ab7e0e37022783eddfe85abf9339b05c0"><div class="ttname"><a href="../../d8/d2c/classCCopasiVector.html#ab7e0e37022783eddfe85abf9339b05c0">CCopasiVector::size</a></div><div class="ttdeci">virtual size_t size() const </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d51/CCopasiVector_8h_source.html#l00386">CCopasiVector.h:386</a></div></div>
<div class="ttc" id="classCReference_html_a09e19085a0c78f7cb8c8d39175be71bf"><div class="ttname"><a href="../../d7/dc7/classCReference.html#a09e19085a0c78f7cb8c8d39175be71bf">CReference::getMIRIAMResourceObject</a></div><div class="ttdeci">const CMIRIAMResourceObject &amp; getMIRIAMResourceObject() const </div><div class="ttdef"><b>Definition:</b> <a href="../../d8/dd1/CReference_8cpp_source.html#l00090">CReference.cpp:90</a></div></div>
<div class="ttc" id="classCRDFPredicate_html_a8d7794773ca004d2217be3fd6edf3610a0451b16d658b99637c68727f16271756"><div class="ttname"><a href="../../d0/da2/classCRDFPredicate.html#a8d7794773ca004d2217be3fd6edf3610a0451b16d658b99637c68727f16271756">CRDFPredicate::copasi_isHomologTo</a></div><div class="ttdef"><b>Definition:</b> <a href="../../db/ddd/CRDFPredicate_8h_source.html#l00044">CRDFPredicate.h:44</a></div></div>
<div class="ttc" id="classCReaction_html_af3b437b3494d56d24aaa7c377fc95b8e"><div class="ttname"><a href="../../d4/dcf/classCReaction.html#af3b437b3494d56d24aaa7c377fc95b8e">CReaction::getKey</a></div><div class="ttdeci">virtual const std::string &amp; getKey() const </div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d77/CReaction_8cpp_source.html#l00190">CReaction.cpp:190</a></div></div>
<div class="ttc" id="CCopasiMessage_8h_html_a1e835c01335d6f956a78adf106ed1b15"><div class="ttname"><a href="../../d9/d2d/CCopasiMessage_8h.html#a1e835c01335d6f956a78adf106ed1b15">fatalError</a></div><div class="ttdeci">#define fatalError()</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d2d/CCopasiMessage_8h_source.html#l00074">CCopasiMessage.h:74</a></div></div>
<div class="ttc" id="classCRDFPredicate_html_a8d7794773ca004d2217be3fd6edf3610ac6db0e2bc01cdb77a1a15bdb7feec526"><div class="ttname"><a href="../../d0/da2/classCRDFPredicate.html#a8d7794773ca004d2217be3fd6edf3610ac6db0e2bc01cdb77a1a15bdb7feec526">CRDFPredicate::end</a></div><div class="ttdef"><b>Definition:</b> <a href="../../db/ddd/CRDFPredicate_8h_source.html#l00088">CRDFPredicate.h:88</a></div></div>
<div class="ttc" id="classCRDFPredicate_html_a8d7794773ca004d2217be3fd6edf3610a76982de728cfb49490978a7043cce0ca"><div class="ttname"><a href="../../d0/da2/classCRDFPredicate.html#a8d7794773ca004d2217be3fd6edf3610a76982de728cfb49490978a7043cce0ca">CRDFPredicate::bqbiol_isVersionOf</a></div><div class="ttdef"><b>Definition:</b> <a href="../../db/ddd/CRDFPredicate_8h_source.html#l00057">CRDFPredicate.h:57</a></div></div>
<div class="ttc" id="classCCopasiMessage_html_a2ea1ed32494ff5c8d84353efcec7a5e4ac789e90eead3612a24114b9eae58fdec"><div class="ttname"><a href="../../d2/df0/classCCopasiMessage.html#a2ea1ed32494ff5c8d84353efcec7a5e4ac789e90eead3612a24114b9eae58fdec">CCopasiMessage::WARNING</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d2d/CCopasiMessage_8h_source.html#l00086">CCopasiMessage.h:86</a></div></div>
<div class="ttc" id="classCRDFPredicate_html_a8d7794773ca004d2217be3fd6edf3610"><div class="ttname"><a href="../../d0/da2/classCRDFPredicate.html#a8d7794773ca004d2217be3fd6edf3610">CRDFPredicate::ePredicateType</a></div><div class="ttdeci">ePredicateType</div><div class="ttdef"><b>Definition:</b> <a href="../../db/ddd/CRDFPredicate_8h_source.html#l00032">CRDFPredicate.h:32</a></div></div>
<div class="ttc" id="classCRDFPredicate_html_a8d7794773ca004d2217be3fd6edf3610a3153aaec1981fbfa2d6e3c939e9dda9e"><div class="ttname"><a href="../../d0/da2/classCRDFPredicate.html#a8d7794773ca004d2217be3fd6edf3610a3153aaec1981fbfa2d6e3c939e9dda9e">CRDFPredicate::copasi_is</a></div><div class="ttdef"><b>Definition:</b> <a href="../../db/ddd/CRDFPredicate_8h_source.html#l00041">CRDFPredicate.h:41</a></div></div>
<div class="ttc" id="classCFunction_html_a72037844ade71b20b25fd22f5b4841f8"><div class="ttname"><a href="../../d9/d86/classCFunction.html#a72037844ade71b20b25fd22f5b4841f8">CFunction::getKey</a></div><div class="ttdeci">const std::string &amp; getKey() const </div><div class="ttdef"><b>Definition:</b> <a href="../../d6/db0/CFunction_8cpp_source.html#l00058">CFunction.cpp:58</a></div></div>
<div class="ttc" id="classCAnnotation_html_a03698d04d9bbf73408d6e7a21f177ed7"><div class="ttname"><a href="../../d8/dfc/classCAnnotation.html#a03698d04d9bbf73408d6e7a21f177ed7">CAnnotation::getMiriamAnnotation</a></div><div class="ttdeci">const std::string &amp; getMiriamAnnotation() const </div><div class="ttdef"><b>Definition:</b> <a href="../../da/d9e/CAnnotation_8cpp_source.html#l00117">CAnnotation.cpp:117</a></div></div>
<div class="ttc" id="classCRDFPredicate_html_a8d7794773ca004d2217be3fd6edf3610ade2575e41a562b646ba5d0c11618b16a"><div class="ttname"><a href="../../d0/da2/classCRDFPredicate.html#a8d7794773ca004d2217be3fd6edf3610ade2575e41a562b646ba5d0c11618b16a">CRDFPredicate::bqbiol_isPartOf</a></div><div class="ttdef"><b>Definition:</b> <a href="../../db/ddd/CRDFPredicate_8h_source.html#l00056">CRDFPredicate.h:56</a></div></div>
<div class="ttc" id="classCBiologicalDescription_html"><div class="ttname"><a href="../../d8/de5/classCBiologicalDescription.html">CBiologicalDescription</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d89/CBiologicalDescription_8h_source.html#l00021">CBiologicalDescription.h:21</a></div></div>
<div class="ttc" id="classCModification_html"><div class="ttname"><a href="../../d4/dad/classCModification.html">CModification</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dc5/CModified_8h_source.html#l00031">CModified.h:31</a></div></div>
<div class="ttc" id="classCSBMLExporter_html_ab4d7f9c3d22b8225d1a4d9e3a98b855e"><div class="ttname"><a href="../../df/d80/classCSBMLExporter.html#ab4d7f9c3d22b8225d1a4d9e3a98b855e">CSBMLExporter::createUniqueId</a></div><div class="ttdeci">static const std::string createUniqueId(const std::map&lt; std::string, const SBase * &gt; &amp;idMap, const std::string &amp;prefix, bool addIndexForFirst, const std::string &amp;separator=&quot;_&quot;)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d2f/CSBMLExporter_8cpp_source.html#l02252">CSBMLExporter.cpp:2252</a></div></div>
<div class="ttc" id="classCSBMLExporter_html_afd52e9391235518719dd447da28be625"><div class="ttname"><a href="../../df/d80/classCSBMLExporter.html#afd52e9391235518719dd447da28be625">CSBMLExporter::replaceChild</a></div><div class="ttdeci">XMLNode * replaceChild(const XMLNode *pParent, const XMLNode *pNewChild, unsigned int index)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d2f/CSBMLExporter_8cpp_source.html#l07023">CSBMLExporter.cpp:7023</a></div></div>
<div class="ttc" id="classCRDFPredicate_html_a8d7794773ca004d2217be3fd6edf3610a38525968ba2c5e9b8ced9f6aa09df407"><div class="ttname"><a href="../../d0/da2/classCRDFPredicate.html#a8d7794773ca004d2217be3fd6edf3610a38525968ba2c5e9b8ced9f6aa09df407">CRDFPredicate::bqmodel_isDescribedBy</a></div><div class="ttdef"><b>Definition:</b> <a href="../../db/ddd/CRDFPredicate_8h_source.html#l00060">CRDFPredicate.h:60</a></div></div>
<div class="ttc" id="classCRDFPredicate_html_a8d7794773ca004d2217be3fd6edf3610aaa84bee675bb82dba2f8a22119aa4c8f"><div class="ttname"><a href="../../d0/da2/classCRDFPredicate.html#a8d7794773ca004d2217be3fd6edf3610aaa84bee675bb82dba2f8a22119aa4c8f">CRDFPredicate::copasi_isVersionOf</a></div><div class="ttdef"><b>Definition:</b> <a href="../../db/ddd/CRDFPredicate_8h_source.html#l00046">CRDFPredicate.h:46</a></div></div>
<div class="ttc" id="classCCopasiObject_html_aeeec4db3332a6886c76ace4c3fe62b7d"><div class="ttname"><a href="../../d4/da8/classCCopasiObject.html#aeeec4db3332a6886c76ace4c3fe62b7d">CCopasiObject::getKey</a></div><div class="ttdeci">virtual const std::string &amp; getKey() const </div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d22/CCopasiObject_8cpp_source.html#l00608">CCopasiObject.cpp:608</a></div></div>
<div class="ttc" id="classCMIRIAMInfo_html"><div class="ttname"><a href="../../d8/d25/classCMIRIAMInfo.html">CMIRIAMInfo</a></div><div class="ttdef"><b>Definition:</b> <a href="../../db/dc3/CModelMIRIAMInfo_8h_source.html#l00038">CModelMIRIAMInfo.h:38</a></div></div>
<div class="ttc" id="classCSBMLExporter_html_a9b7f3e8acfbeadd9660cde953d4563cd"><div class="ttname"><a href="../../df/d80/classCSBMLExporter.html#a9b7f3e8acfbeadd9660cde953d4563cd">CSBMLExporter::mHaveModelHistoryModificationDateWarning</a></div><div class="ttdeci">bool mHaveModelHistoryModificationDateWarning</div><div class="ttdef"><b>Definition:</b> <a href="../../da/d7f/CSBMLExporter_8h_source.html#l00082">CSBMLExporter.h:82</a></div></div>
<div class="ttc" id="classCRDFPredicate_html_a8d7794773ca004d2217be3fd6edf3610a6a5ec39b7a7b27f01af56dbccd5a6fd6"><div class="ttname"><a href="../../d0/da2/classCRDFPredicate.html#a8d7794773ca004d2217be3fd6edf3610a6a5ec39b7a7b27f01af56dbccd5a6fd6">CRDFPredicate::copasi_isDescribedBy</a></div><div class="ttdef"><b>Definition:</b> <a href="../../db/ddd/CRDFPredicate_8h_source.html#l00042">CRDFPredicate.h:42</a></div></div>
<div class="ttc" id="classCRDFPredicate_html_a8d7794773ca004d2217be3fd6edf3610a8ea12a3dd4d82c9af714c36d46f36f53"><div class="ttname"><a href="../../d0/da2/classCRDFPredicate.html#a8d7794773ca004d2217be3fd6edf3610a8ea12a3dd4d82c9af714c36d46f36f53">CRDFPredicate::bqbiol_isDescribedBy</a></div><div class="ttdef"><b>Definition:</b> <a href="../../db/ddd/CRDFPredicate_8h_source.html#l00053">CRDFPredicate.h:53</a></div></div>
<div class="ttc" id="classCRDFPredicate_html_a8d7794773ca004d2217be3fd6edf3610adbed2feb97771fabc407936f80aad59c"><div class="ttname"><a href="../../d0/da2/classCRDFPredicate.html#a8d7794773ca004d2217be3fd6edf3610adbed2feb97771fabc407936f80aad59c">CRDFPredicate::copasi_hasVersion</a></div><div class="ttdef"><b>Definition:</b> <a href="../../db/ddd/CRDFPredicate_8h_source.html#l00040">CRDFPredicate.h:40</a></div></div>
<div class="ttc" id="classCMIRIAMInfo_html_a02e7737c1ebfceb4c930634f9947dfda"><div class="ttname"><a href="../../d8/d25/classCMIRIAMInfo.html#a02e7737c1ebfceb4c930634f9947dfda">CMIRIAMInfo::getCreatedDT</a></div><div class="ttdeci">const std::string getCreatedDT() const </div><div class="ttdef"><b>Definition:</b> <a href="../../d4/df6/CModelMIRIAMInfo_8cpp_source.html#l00212">CModelMIRIAMInfo.cpp:212</a></div></div>
<div class="ttc" id="classCCreator_html"><div class="ttname"><a href="../../d6/d94/classCCreator.html">CCreator</a></div><div class="ttdef"><b>Definition:</b> <a href="../../df/def/CCreator_8h_source.html#l00035">CCreator.h:35</a></div></div>
<div class="ttc" id="classCModelEntity_html_a6ab0231058041dd42d002d8b9fa34780"><div class="ttname"><a href="../../d0/da0/classCModelEntity.html#a6ab0231058041dd42d002d8b9fa34780">CModelEntity::getKey</a></div><div class="ttdeci">virtual const std::string &amp; getKey() const </div><div class="ttdef"><b>Definition:</b> <a href="../../d8/da3/CModelValue_8cpp_source.html#l00131">CModelValue.cpp:131</a></div></div>
<div class="ttc" id="classCRDFPredicate_html_a8d7794773ca004d2217be3fd6edf3610a2ec4a782889718a29de7b7f45cdcbe49"><div class="ttname"><a href="../../d0/da2/classCRDFPredicate.html#a8d7794773ca004d2217be3fd6edf3610a2ec4a782889718a29de7b7f45cdcbe49">CRDFPredicate::bqbiol_occursIn</a></div><div class="ttdef"><b>Definition:</b> <a href="../../db/ddd/CRDFPredicate_8h_source.html#l00058">CRDFPredicate.h:58</a></div></div>
<div class="ttc" id="classCModification_html_a7f57cb3f9051fe354e124fd84baace10"><div class="ttname"><a href="../../d4/dad/classCModification.html#a7f57cb3f9051fe354e124fd84baace10">CModification::getDate</a></div><div class="ttdeci">const std::string &amp; getDate() const </div><div class="ttdef"><b>Definition:</b> <a href="../../df/dff/CModified_8cpp_source.html#l00070">CModified.cpp:70</a></div></div>
<div class="ttc" id="classCCreator_html_a57b3cd7587f3df37662ff408212388c3"><div class="ttname"><a href="../../d6/d94/classCCreator.html#a57b3cd7587f3df37662ff408212388c3">CCreator::getEmail</a></div><div class="ttdeci">const std::string &amp; getEmail() const </div><div class="ttdef"><b>Definition:</b> <a href="../../d2/d3d/CCreator_8cpp_source.html#l00077">CCreator.cpp:77</a></div></div>
<div class="ttc" id="classCCreator_html_a9d3b2cabd7a0645254aa3386fddabc5e"><div class="ttname"><a href="../../d6/d94/classCCreator.html#a9d3b2cabd7a0645254aa3386fddabc5e">CCreator::getGivenName</a></div><div class="ttdeci">const std::string &amp; getGivenName() const </div><div class="ttdef"><b>Definition:</b> <a href="../../d2/d3d/CCreator_8cpp_source.html#l00074">CCreator.cpp:74</a></div></div>
<div class="ttc" id="classCMIRIAMResourceObject_html_a50bc0b128f5b8665db521b7b074189c0"><div class="ttname"><a href="../../da/ddb/classCMIRIAMResourceObject.html#a50bc0b128f5b8665db521b7b074189c0">CMIRIAMResourceObject::getIdentifiersOrgURL</a></div><div class="ttdeci">std::string getIdentifiersOrgURL() const </div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d66/CConstants_8cpp_source.html#l00138">CConstants.cpp:138</a></div></div>
<div class="ttc" id="classCMIRIAMInfo_html_a3c79b5fc2e9548eda229242d18789a29"><div class="ttname"><a href="../../d8/d25/classCMIRIAMInfo.html#a3c79b5fc2e9548eda229242d18789a29">CMIRIAMInfo::getReferences</a></div><div class="ttdeci">const CCopasiVector&lt; CReference &gt; &amp; getReferences() const </div><div class="ttdef"><b>Definition:</b> <a href="../../d4/df6/CModelMIRIAMInfo_8cpp_source.html#l00134">CModelMIRIAMInfo.cpp:134</a></div></div>
<div class="ttc" id="classCRDFPredicate_html_a8d7794773ca004d2217be3fd6edf3610a170bbee0fe86599280431f603eccbf26"><div class="ttname"><a href="../../d0/da2/classCRDFPredicate.html#a8d7794773ca004d2217be3fd6edf3610a170bbee0fe86599280431f603eccbf26">CRDFPredicate::bqbiol_encodes</a></div><div class="ttdef"><b>Definition:</b> <a href="../../db/ddd/CRDFPredicate_8h_source.html#l00049">CRDFPredicate.h:49</a></div></div>
<div class="ttc" id="classCSBMLExporter_html_ad2b0ac2df8fb9a5c28e522f1cea19709"><div class="ttname"><a href="../../df/d80/classCSBMLExporter.html#ad2b0ac2df8fb9a5c28e522f1cea19709">CSBMLExporter::mHaveModelHistoryCreationDateWarning</a></div><div class="ttdeci">bool mHaveModelHistoryCreationDateWarning</div><div class="ttdef"><b>Definition:</b> <a href="../../da/d7f/CSBMLExporter_8h_source.html#l00081">CSBMLExporter.h:81</a></div></div>
<div class="ttc" id="classCRDFPredicate_html_a8d7794773ca004d2217be3fd6edf3610a7410ff5c041473a21f60b35b85f45b6f"><div class="ttname"><a href="../../d0/da2/classCRDFPredicate.html#a8d7794773ca004d2217be3fd6edf3610a7410ff5c041473a21f60b35b85f45b6f">CRDFPredicate::copasi_encodes</a></div><div class="ttdef"><b>Definition:</b> <a href="../../db/ddd/CRDFPredicate_8h_source.html#l00038">CRDFPredicate.h:38</a></div></div>
<div class="ttc" id="classCRDFTriplet_html_a42e6f557214dd5c65b72cf07e37a9908"><div class="ttname"><a href="../../dd/dc7/classCRDFTriplet.html#a42e6f557214dd5c65b72cf07e37a9908">CRDFTriplet::Predicate</a></div><div class="ttdeci">CRDFPredicate Predicate</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d89/CRDFTriplet_8h_source.html#l00040">CRDFTriplet.h:40</a></div></div>
<div class="ttc" id="classCCopasiMessage_html"><div class="ttname"><a href="../../d2/df0/classCCopasiMessage.html">CCopasiMessage</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d2d/CCopasiMessage_8h_source.html#l00078">CCopasiMessage.h:78</a></div></div>
<div class="ttc" id="classCSBMLExporter_html_adc3202b6aab716f83247c9d1a4cb60e1"><div class="ttname"><a href="../../df/d80/classCSBMLExporter.html#adc3202b6aab716f83247c9d1a4cb60e1">CSBMLExporter::mHaveModelHistoryAuthorWarning</a></div><div class="ttdeci">bool mHaveModelHistoryAuthorWarning</div><div class="ttdef"><b>Definition:</b> <a href="../../da/d7f/CSBMLExporter_8h_source.html#l00080">CSBMLExporter.h:80</a></div></div>
<div class="ttc" id="classCRDFPredicate_html_a8d7794773ca004d2217be3fd6edf3610a7c50b36a34fb1a259ef812e58a83bf6a"><div class="ttname"><a href="../../d0/da2/classCRDFPredicate.html#a8d7794773ca004d2217be3fd6edf3610a7c50b36a34fb1a259ef812e58a83bf6a">CRDFPredicate::bqbiol_hasVersion</a></div><div class="ttdef"><b>Definition:</b> <a href="../../db/ddd/CRDFPredicate_8h_source.html#l00051">CRDFPredicate.h:51</a></div></div>
<div class="ttc" id="classCCreator_html_aa39e7486619fe860e4ec2bbfd4baec05"><div class="ttname"><a href="../../d6/d94/classCCreator.html#aa39e7486619fe860e4ec2bbfd4baec05">CCreator::getORG</a></div><div class="ttdeci">const std::string &amp; getORG() const </div><div class="ttdef"><b>Definition:</b> <a href="../../d2/d3d/CCreator_8cpp_source.html#l00080">CCreator.cpp:80</a></div></div>
<div class="ttc" id="classCReference_html"><div class="ttname"><a href="../../d7/dc7/classCReference.html">CReference</a></div><div class="ttdef"><b>Definition:</b> <a href="../../db/d26/CReference_8h_source.html#l00024">CReference.h:24</a></div></div>
<div class="ttc" id="classCCreator_html_ae96123537cab310cea8ae75aea7df411"><div class="ttname"><a href="../../d6/d94/classCCreator.html#ae96123537cab310cea8ae75aea7df411">CCreator::getFamilyName</a></div><div class="ttdeci">const std::string &amp; getFamilyName() const </div><div class="ttdef"><b>Definition:</b> <a href="../../d2/d3d/CCreator_8cpp_source.html#l00071">CCreator.cpp:71</a></div></div>
<div class="ttc" id="classCRDFPredicate_html_a8d7794773ca004d2217be3fd6edf3610abcd46e0d7ebc535ded36b24a58245769"><div class="ttname"><a href="../../d0/da2/classCRDFPredicate.html#a8d7794773ca004d2217be3fd6edf3610abcd46e0d7ebc535ded36b24a58245769">CRDFPredicate::copasi_isPartOf</a></div><div class="ttdef"><b>Definition:</b> <a href="../../db/ddd/CRDFPredicate_8h_source.html#l00045">CRDFPredicate.h:45</a></div></div>
<div class="ttc" id="classCRDFPredicate_html_a8d7794773ca004d2217be3fd6edf3610a3b9358dfedd18b18f1626d38a4e312de"><div class="ttname"><a href="../../d0/da2/classCRDFPredicate.html#a8d7794773ca004d2217be3fd6edf3610a3b9358dfedd18b18f1626d38a4e312de">CRDFPredicate::copasi_occursIn</a></div><div class="ttdef"><b>Definition:</b> <a href="../../db/ddd/CRDFPredicate_8h_source.html#l00047">CRDFPredicate.h:47</a></div></div>
<div class="ttc" id="classCRDFPredicate_html_a8d7794773ca004d2217be3fd6edf3610a161954768f573128b0acfc59fb79dc6d"><div class="ttname"><a href="../../d0/da2/classCRDFPredicate.html#a8d7794773ca004d2217be3fd6edf3610a161954768f573128b0acfc59fb79dc6d">CRDFPredicate::bqbiol_hasPart</a></div><div class="ttdef"><b>Definition:</b> <a href="../../db/ddd/CRDFPredicate_8h_source.html#l00050">CRDFPredicate.h:50</a></div></div>
<div class="ttc" id="classCFunction_html"><div class="ttname"><a href="../../d9/d86/classCFunction.html">CFunction</a></div><div class="ttdoc">The class for handling a chemical kinetic function. </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/df5/CFunction_8h_source.html#l00029">CFunction.h:29</a></div></div>
<div class="ttc" id="classCBiologicalDescription_html_abdd6cc42e477b87f27ce7f28b08146c0"><div class="ttname"><a href="../../d8/de5/classCBiologicalDescription.html#abdd6cc42e477b87f27ce7f28b08146c0">CBiologicalDescription::getMIRIAMResourceObject</a></div><div class="ttdeci">const CMIRIAMResourceObject &amp; getMIRIAMResourceObject() const </div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dbf/CBiologicalDescription_8cpp_source.html#l00056">CBiologicalDescription.cpp:56</a></div></div>
<div class="ttc" id="classCModel_html"><div class="ttname"><a href="../../d4/d04/classCModel.html">CModel</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d90/CModel_8h_source.html#l00050">CModel.h:50</a></div></div>
<div class="ttc" id="classCReaction_html"><div class="ttname"><a href="../../d4/dcf/classCReaction.html">CReaction</a></div><div class="ttdef"><b>Definition:</b> <a href="../../db/dc3/CReaction_8h_source.html#l00044">CReaction.h:44</a></div></div>
<div class="ttc" id="classCRDFTriplet_html"><div class="ttname"><a href="../../dd/dc7/classCRDFTriplet.html">CRDFTriplet</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d89/CRDFTriplet_8h_source.html#l00021">CRDFTriplet.h:21</a></div></div>
<div class="ttc" id="classCReference_html_aa0c1ab511f2c11e1b53a80523e941daa"><div class="ttname"><a href="../../d7/dc7/classCReference.html#aa0c1ab511f2c11e1b53a80523e941daa">CReference::getTriplet</a></div><div class="ttdeci">const CRDFTriplet &amp; getTriplet() const </div><div class="ttdef"><b>Definition:</b> <a href="../../d8/dd1/CReference_8cpp_source.html#l00088">CReference.cpp:88</a></div></div>
<div class="ttc" id="classCRDFPredicate_html_a8d7794773ca004d2217be3fd6edf3610ae4597e5552990292e13a63eaeb1c2fea"><div class="ttname"><a href="../../d0/da2/classCRDFPredicate.html#a8d7794773ca004d2217be3fd6edf3610ae4597e5552990292e13a63eaeb1c2fea">CRDFPredicate::copasi_hasPart</a></div><div class="ttdef"><b>Definition:</b> <a href="../../db/ddd/CRDFPredicate_8h_source.html#l00039">CRDFPredicate.h:39</a></div></div>
<div class="ttc" id="classCMIRIAMInfo_html_a69ad4ca538ef02aa58277ce08770abdc"><div class="ttname"><a href="../../d8/d25/classCMIRIAMInfo.html#a69ad4ca538ef02aa58277ce08770abdc">CMIRIAMInfo::getModifications</a></div><div class="ttdeci">const CCopasiVector&lt; CModification &gt; &amp; getModifications() const </div><div class="ttdef"><b>Definition:</b> <a href="../../d4/df6/CModelMIRIAMInfo_8cpp_source.html#l00245">CModelMIRIAMInfo.cpp:245</a></div></div>
<div class="ttc" id="classCRDFTriplet_html_a673bbae288bbae3dba5fee0626759ec2"><div class="ttname"><a href="../../dd/dc7/classCRDFTriplet.html#a673bbae288bbae3dba5fee0626759ec2">CRDFTriplet::pObject</a></div><div class="ttdeci">CRDFNode * pObject</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d89/CRDFTriplet_8h_source.html#l00042">CRDFTriplet.h:42</a></div></div>
<div class="ttc" id="classCRDFPredicate_html_a8d7794773ca004d2217be3fd6edf3610aec36c7795be63b35da704979be166743"><div class="ttname"><a href="../../d0/da2/classCRDFPredicate.html#a8d7794773ca004d2217be3fd6edf3610aec36c7795be63b35da704979be166743">CRDFPredicate::bqbiol_isHomologTo</a></div><div class="ttdef"><b>Definition:</b> <a href="../../db/ddd/CRDFPredicate_8h_source.html#l00055">CRDFPredicate.h:55</a></div></div>
<div class="ttc" id="classCRDFPredicate_html_a8d7794773ca004d2217be3fd6edf3610aad0b0a788594301a649379c84220838e"><div class="ttname"><a href="../../d0/da2/classCRDFPredicate.html#a8d7794773ca004d2217be3fd6edf3610aad0b0a788594301a649379c84220838e">CRDFPredicate::bqmodel_is</a></div><div class="ttdef"><b>Definition:</b> <a href="../../db/ddd/CRDFPredicate_8h_source.html#l00059">CRDFPredicate.h:59</a></div></div>
<div class="ttc" id="classCEvent_html_ac64616e6823ddc70da7511b3eed1662c"><div class="ttname"><a href="../../da/d3f/classCEvent.html#ac64616e6823ddc70da7511b3eed1662c">CEvent::getKey</a></div><div class="ttdeci">virtual const std::string &amp; getKey() const </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d55/CEvent_8cpp_source.html#l00287">CEvent.cpp:287</a></div></div>
<div class="ttc" id="classCBiologicalDescription_html_a1ad699c7d4a0d12f94d747d280d5b7ac"><div class="ttname"><a href="../../d8/de5/classCBiologicalDescription.html#a1ad699c7d4a0d12f94d747d280d5b7ac">CBiologicalDescription::getTriplet</a></div><div class="ttdeci">const CRDFTriplet &amp; getTriplet() const </div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dbf/CBiologicalDescription_8cpp_source.html#l00061">CBiologicalDescription.cpp:61</a></div></div>
<div class="ttc" id="classCCopasiVector_html"><div class="ttname"><a href="../../d8/d2c/classCCopasiVector.html">CCopasiVector&lt; CBiologicalDescription &gt;</a></div></div>
<div class="ttc" id="classCRDFPredicate_html_af65bcf750e826e0ce8bfc4c6dd8b3223"><div class="ttname"><a href="../../d0/da2/classCRDFPredicate.html#af65bcf750e826e0ce8bfc4c6dd8b3223">CRDFPredicate::getType</a></div><div class="ttdeci">const ePredicateType &amp; getType() const </div><div class="ttdef"><b>Definition:</b> <a href="../../da/d41/CRDFPredicate_8cpp_source.html#l00585">CRDFPredicate.cpp:585</a></div></div>
</div><!-- fragment -->
</div>
</div>
<h2 class="groupheader">Member Data Documentation</h2>
<a class="anchor" id="ae2467a5206a20eae7445885970958380"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::vector&lt;<a class="el" href="../../d0/da0/classCModelEntity.html">CModelEntity</a>*&gt; CSBMLExporter::mAssignmentVector</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="../../da/d7f/CSBMLExporter_8h_source.html#l00058">58</a> of file <a class="el" href="../../da/d7f/CSBMLExporter_8h_source.html">CSBMLExporter.h</a>.</p>

<p>Referenced by <a class="el" href="../../df/d80/classCSBMLExporter.html#a28e0706f0f87d1483643b251104ff00b">checkForUnsupportedFunctionCalls()</a>, <a class="el" href="../../df/d80/classCSBMLExporter.html#a6d7dd5df891e397605186a3c02862c9f">checkForUnsupportedObjectReferences()</a>, <a class="el" href="../../df/d80/classCSBMLExporter.html#a8a3a98da416d76519f5ef7a9617d5b7e">createCompartment()</a>, <a class="el" href="../../df/d80/classCSBMLExporter.html#a79fe24bce02d84048709c9e851d4ce1b">createMetabolite()</a>, <a class="el" href="../../df/d80/classCSBMLExporter.html#a6ecc3a13cadbc61518786aad102ccf5c">createParameter()</a>, and <a class="el" href="../../df/d80/classCSBMLExporter.html#aa851bea69ed748cfc304fb516470159c">orderRules()</a>.</p>

</div>
</div>
<a class="anchor" id="a57b7199230b68903fd1af9531ec6fbb7"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool CSBMLExporter::mAvogadroCreated</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="../../da/d7f/CSBMLExporter_8h_source.html#l00069">69</a> of file <a class="el" href="../../da/d7f/CSBMLExporter_8h_source.html">CSBMLExporter.h</a>.</p>

<p>Referenced by <a class="el" href="../../df/d80/classCSBMLExporter.html#a2b680d670c11c7c70a45bc12e236b2e8">createSBMLDocument()</a>, and <a class="el" href="../../df/d80/classCSBMLExporter.html#a030225cc274a7c545f010ba2ba7f13c3">replaceSpeciesReferences()</a>.</p>

</div>
</div>
<a class="anchor" id="aeb19f9866a1735848770125dad2aebad"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::map&lt;const <a class="el" href="../../d4/da8/classCCopasiObject.html">CCopasiObject</a>*, SBase*&gt; CSBMLExporter::mCOPASI2SBMLMap</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="../../da/d7f/CSBMLExporter_8h_source.html#l00061">61</a> of file <a class="el" href="../../da/d7f/CSBMLExporter_8h_source.html">CSBMLExporter.h</a>.</p>

<p>Referenced by <a class="el" href="../../df/d80/classCSBMLExporter.html#a8a3a98da416d76519f5ef7a9617d5b7e">createCompartment()</a>, <a class="el" href="../../df/d80/classCSBMLExporter.html#a79ba15ac876b6354e2aaff763b8a7c86">createEvent()</a>, <a class="el" href="../../df/d80/classCSBMLExporter.html#a5b27af3781d1e84d2235d0cb135a6963">createEvents()</a>, <a class="el" href="../../df/d80/classCSBMLExporter.html#abc1d139f7b654051b43958675056e34c">createFunctionDefinition()</a>, <a class="el" href="../../df/d80/classCSBMLExporter.html#a5349f8758c324eef2da6a4ecfe0df888">createFunctionDefinitions()</a>, <a class="el" href="../../df/d80/classCSBMLExporter.html#a2f052fa99d8b6695c0b7cf12d21f7833">createInitialAssignment()</a>, <a class="el" href="../../df/d80/classCSBMLExporter.html#a79fe24bce02d84048709c9e851d4ce1b">createMetabolite()</a>, <a class="el" href="../../df/d80/classCSBMLExporter.html#a6ecc3a13cadbc61518786aad102ccf5c">createParameter()</a>, <a class="el" href="../../df/d80/classCSBMLExporter.html#a9a2740279f7cccf5ae7b404b995ec9fa">createReaction()</a>, <a class="el" href="../../df/d80/classCSBMLExporter.html#a4e1fa35c0f3497f349b03147eb7326f0">createRule()</a>, <a class="el" href="../../df/d80/classCSBMLExporter.html#a2b680d670c11c7c70a45bc12e236b2e8">createSBMLDocument()</a>, <a class="el" href="../../df/d80/classCSBMLExporter.html#aefbd6278e618486186192aff4bdff76e">exportEventAssignments()</a>, <a class="el" href="../../df/d80/classCSBMLExporter.html#ac99801bba6bcd2a66fa83d83b6ba7f85">exportModelToString()</a>, <a class="el" href="../../df/d80/classCSBMLExporter.html#a15ae839c1ac305bfa1e4186a1a9e7901">getCOPASI2SBMLMap()</a>, <a class="el" href="../../df/d80/classCSBMLExporter.html#ae377faa40e73c92770cb688b83db5508">removeUnusedObjects()</a>, <a class="el" href="../../df/d80/classCSBMLExporter.html#a030225cc274a7c545f010ba2ba7f13c3">replaceSpeciesReferences()</a>, and <a class="el" href="../../df/d80/classCSBMLExporter.html#aad340b885e5354efcf9b63b6475c59af">updateCOPASI2SBMLMap()</a>.</p>

</div>
</div>
<a class="anchor" id="ae954f269c9e427f047f5d461591d1130"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool CSBMLExporter::mDocumentDisowned</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="../../da/d7f/CSBMLExporter_8h_source.html#l00073">73</a> of file <a class="el" href="../../da/d7f/CSBMLExporter_8h_source.html">CSBMLExporter.h</a>.</p>

<p>Referenced by <a class="el" href="../../df/d80/classCSBMLExporter.html#aac5a5936e071d3b5ec81e39afa3a4f72">disownSBMLDocument()</a>, and <a class="el" href="../../df/d80/classCSBMLExporter.html#aa26a13b4cadb1b199f509b8f34f2d72b">~CSBMLExporter()</a>.</p>

</div>
</div>
<a class="anchor" id="a64aed2b18e03f12e362aaa0cabdbb471"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool CSBMLExporter::mExportCOPASIMIRIAM</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="../../da/d7f/CSBMLExporter_8h_source.html#l00074">74</a> of file <a class="el" href="../../da/d7f/CSBMLExporter_8h_source.html">CSBMLExporter.h</a>.</p>

<p>Referenced by <a class="el" href="../../df/d80/classCSBMLExporter.html#a2390380da40af62204a45a4307cb7517">isSetExportCOPASIMIRIAM()</a>, <a class="el" href="../../df/d80/classCSBMLExporter.html#a97fe5557d44e34a7194c0ec63dc582b1">setExportCOPASIMIRIAM()</a>, and <a class="el" href="../../df/d80/classCSBMLExporter.html#aba8216eaf4931e0adf484832882fbe67">updateMIRIAMAnnotation()</a>.</p>

</div>
</div>
<a class="anchor" id="a18a364ee64c8bd23b9c6fa3442d4e6b1"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">ListOfFunctionDefinitions CSBMLExporter::mExportedFunctions</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="../../da/d7f/CSBMLExporter_8h_source.html#l00077">77</a> of file <a class="el" href="../../da/d7f/CSBMLExporter_8h_source.html">CSBMLExporter.h</a>.</p>

<p>Referenced by <a class="el" href="../../df/d80/classCSBMLExporter.html#a2039c651840bace8d1f24f4b632eee1d">convertToLevel1()</a>, <a class="el" href="../../df/d80/classCSBMLExporter.html#abc1d139f7b654051b43958675056e34c">createFunctionDefinition()</a>, <a class="el" href="../../df/d80/classCSBMLExporter.html#a5349f8758c324eef2da6a4ecfe0df888">createFunctionDefinitions()</a>, and <a class="el" href="../../df/d80/classCSBMLExporter.html#a2b680d670c11c7c70a45bc12e236b2e8">createSBMLDocument()</a>.</p>

</div>
</div>
<a class="anchor" id="ab76fac48902b0d7ac43f7454ddf0f6d6"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::map&lt;std::string, const <a class="el" href="../../d1/d50/classCEvaluationTree.html">CEvaluationTree</a>*&gt; CSBMLExporter::mFunctionIdMap</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="../../da/d7f/CSBMLExporter_8h_source.html#l00072">72</a> of file <a class="el" href="../../da/d7f/CSBMLExporter_8h_source.html">CSBMLExporter.h</a>.</p>

<p>Referenced by <a class="el" href="../../df/d80/classCSBMLExporter.html#a2b680d670c11c7c70a45bc12e236b2e8">createSBMLDocument()</a>, and <a class="el" href="../../df/d80/classCSBMLExporter.html#a36e8f281bf2ae61c6f6de64a3d34da79">setFunctionSBMLIds()</a>.</p>

</div>
</div>
<a class="anchor" id="aa5207c45ebd8ce9bff303c680d2e535a"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::map&lt;const FunctionDefinition*, const <a class="el" href="../../d4/da8/classCCopasiObject.html">CCopasiObject</a>*&gt; CSBMLExporter::mFunctionMap</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="../../da/d7f/CSBMLExporter_8h_source.html#l00078">78</a> of file <a class="el" href="../../da/d7f/CSBMLExporter_8h_source.html">CSBMLExporter.h</a>.</p>

<p>Referenced by <a class="el" href="../../df/d80/classCSBMLExporter.html#abc1d139f7b654051b43958675056e34c">createFunctionDefinition()</a>, <a class="el" href="../../df/d80/classCSBMLExporter.html#a5349f8758c324eef2da6a4ecfe0df888">createFunctionDefinitions()</a>, and <a class="el" href="../../df/d80/classCSBMLExporter.html#a2b680d670c11c7c70a45bc12e236b2e8">createSBMLDocument()</a>.</p>

</div>
</div>
<a class="anchor" id="ae5ae5ec70c912323abe9c31b58de2652"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::set&lt;SBase*&gt; CSBMLExporter::mHandledSBMLObjects</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="../../da/d7f/CSBMLExporter_8h_source.html#l00062">62</a> of file <a class="el" href="../../da/d7f/CSBMLExporter_8h_source.html">CSBMLExporter.h</a>.</p>

<p>Referenced by <a class="el" href="../../df/d80/classCSBMLExporter.html#a8a3a98da416d76519f5ef7a9617d5b7e">createCompartment()</a>, <a class="el" href="../../df/d80/classCSBMLExporter.html#a2f052fa99d8b6695c0b7cf12d21f7833">createInitialAssignment()</a>, <a class="el" href="../../df/d80/classCSBMLExporter.html#a79fe24bce02d84048709c9e851d4ce1b">createMetabolite()</a>, <a class="el" href="../../df/d80/classCSBMLExporter.html#a6ecc3a13cadbc61518786aad102ccf5c">createParameter()</a>, <a class="el" href="../../df/d80/classCSBMLExporter.html#a9a2740279f7cccf5ae7b404b995ec9fa">createReaction()</a>, <a class="el" href="../../df/d80/classCSBMLExporter.html#aefbd6278e618486186192aff4bdff76e">exportEventAssignments()</a>, <a class="el" href="../../df/d80/classCSBMLExporter.html#ac99801bba6bcd2a66fa83d83b6ba7f85">exportModelToString()</a>, <a class="el" href="../../df/d80/classCSBMLExporter.html#ae377faa40e73c92770cb688b83db5508">removeUnusedObjects()</a>, <a class="el" href="../../df/d80/classCSBMLExporter.html#a8f73c8e9c1a56403427b179b2074f198">replace_local_parameters()</a>, and <a class="el" href="../../df/d80/classCSBMLExporter.html#a030225cc274a7c545f010ba2ba7f13c3">replaceSpeciesReferences()</a>.</p>

</div>
</div>
<a class="anchor" id="adc3202b6aab716f83247c9d1a4cb60e1"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool CSBMLExporter::mHaveModelHistoryAuthorWarning</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="../../da/d7f/CSBMLExporter_8h_source.html#l00080">80</a> of file <a class="el" href="../../da/d7f/CSBMLExporter_8h_source.html">CSBMLExporter.h</a>.</p>

<p>Referenced by <a class="el" href="../../df/d80/classCSBMLExporter.html#a2b680d670c11c7c70a45bc12e236b2e8">createSBMLDocument()</a>, and <a class="el" href="../../df/d80/classCSBMLExporter.html#aba8216eaf4931e0adf484832882fbe67">updateMIRIAMAnnotation()</a>.</p>

</div>
</div>
<a class="anchor" id="ad2b0ac2df8fb9a5c28e522f1cea19709"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool CSBMLExporter::mHaveModelHistoryCreationDateWarning</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="../../da/d7f/CSBMLExporter_8h_source.html#l00081">81</a> of file <a class="el" href="../../da/d7f/CSBMLExporter_8h_source.html">CSBMLExporter.h</a>.</p>

<p>Referenced by <a class="el" href="../../df/d80/classCSBMLExporter.html#a2b680d670c11c7c70a45bc12e236b2e8">createSBMLDocument()</a>, and <a class="el" href="../../df/d80/classCSBMLExporter.html#aba8216eaf4931e0adf484832882fbe67">updateMIRIAMAnnotation()</a>.</p>

</div>
</div>
<a class="anchor" id="a9b7f3e8acfbeadd9660cde953d4563cd"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool CSBMLExporter::mHaveModelHistoryModificationDateWarning</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="../../da/d7f/CSBMLExporter_8h_source.html#l00082">82</a> of file <a class="el" href="../../da/d7f/CSBMLExporter_8h_source.html">CSBMLExporter.h</a>.</p>

<p>Referenced by <a class="el" href="../../df/d80/classCSBMLExporter.html#a2b680d670c11c7c70a45bc12e236b2e8">createSBMLDocument()</a>, and <a class="el" href="../../df/d80/classCSBMLExporter.html#aba8216eaf4931e0adf484832882fbe67">updateMIRIAMAnnotation()</a>.</p>

</div>
</div>
<a class="anchor" id="a60ab409a11b90a1ca965d7702828af74"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::map&lt;std::string, const SBase*&gt; CSBMLExporter::mIdMap</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="../../da/d7f/CSBMLExporter_8h_source.html#l00064">64</a> of file <a class="el" href="../../da/d7f/CSBMLExporter_8h_source.html">CSBMLExporter.h</a>.</p>

<p>Referenced by <a class="el" href="../../df/d80/classCSBMLExporter.html#af845ecb1f47ed78265a8ae303743b82b">assignSBMLIdsToReactions()</a>, <a class="el" href="../../df/d80/classCSBMLExporter.html#ac61681ecd68ba2288e21ff1584ad20af">convertToASTNode()</a>, <a class="el" href="../../df/d80/classCSBMLExporter.html#a8a3a98da416d76519f5ef7a9617d5b7e">createCompartment()</a>, <a class="el" href="../../df/d80/classCSBMLExporter.html#a79ba15ac876b6354e2aaff763b8a7c86">createEvent()</a>, <a class="el" href="../../df/d80/classCSBMLExporter.html#abc1d139f7b654051b43958675056e34c">createFunctionDefinition()</a>, <a class="el" href="../../df/d80/classCSBMLExporter.html#a79fe24bce02d84048709c9e851d4ce1b">createMetabolite()</a>, <a class="el" href="../../df/d80/classCSBMLExporter.html#a6ecc3a13cadbc61518786aad102ccf5c">createParameter()</a>, <a class="el" href="../../df/d80/classCSBMLExporter.html#a9a2740279f7cccf5ae7b404b995ec9fa">createReaction()</a>, <a class="el" href="../../df/d80/classCSBMLExporter.html#a2b680d670c11c7c70a45bc12e236b2e8">createSBMLDocument()</a>, <a class="el" href="../../df/d80/classCSBMLExporter.html#ac99801bba6bcd2a66fa83d83b6ba7f85">exportModelToString()</a>, <a class="el" href="../../df/d80/classCSBMLExporter.html#a8f73c8e9c1a56403427b179b2074f198">replace_local_parameters()</a>, <a class="el" href="../../df/d80/classCSBMLExporter.html#a030225cc274a7c545f010ba2ba7f13c3">replaceSpeciesReferences()</a>, <a class="el" href="../../df/d80/classCSBMLExporter.html#a36e8f281bf2ae61c6f6de64a3d34da79">setFunctionSBMLIds()</a>, and <a class="el" href="../../df/d80/classCSBMLExporter.html#aad340b885e5354efcf9b63b6475c59af">updateCOPASI2SBMLMap()</a>.</p>

</div>
</div>
<a class="anchor" id="a5bd855fe9020f8c400a6cab63fb87711"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::vector&lt;<a class="el" href="../../d7/de3/classSBMLIncompatibility.html">SBMLIncompatibility</a>&gt; CSBMLExporter::mIncompatibilities</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="../../da/d7f/CSBMLExporter_8h_source.html#l00065">65</a> of file <a class="el" href="../../da/d7f/CSBMLExporter_8h_source.html">CSBMLExporter.h</a>.</p>

<p>Referenced by <a class="el" href="../../df/d80/classCSBMLExporter.html#a79ba15ac876b6354e2aaff763b8a7c86">createEvent()</a>, <a class="el" href="../../df/d80/classCSBMLExporter.html#a5b27af3781d1e84d2235d0cb135a6963">createEvents()</a>, <a class="el" href="../../df/d80/classCSBMLExporter.html#abc1d139f7b654051b43958675056e34c">createFunctionDefinition()</a>, <a class="el" href="../../df/d80/classCSBMLExporter.html#a2f052fa99d8b6695c0b7cf12d21f7833">createInitialAssignment()</a>, <a class="el" href="../../df/d80/classCSBMLExporter.html#ace48aaa532a60b2651d42618b5484b36">createMetabolites()</a>, <a class="el" href="../../df/d80/classCSBMLExporter.html#a4e1fa35c0f3497f349b03147eb7326f0">createRule()</a>, <a class="el" href="../../df/d80/classCSBMLExporter.html#a2b680d670c11c7c70a45bc12e236b2e8">createSBMLDocument()</a>, <a class="el" href="../../df/d80/classCSBMLExporter.html#aefbd6278e618486186192aff4bdff76e">exportEventAssignments()</a>, and <a class="el" href="../../df/d80/classCSBMLExporter.html#a9cab2f1418b5678f726caac488f07858">outputIncompatibilities()</a>.</p>

</div>
</div>
<a class="anchor" id="ac743dca5c88be1b916af33f454d1a64a"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool CSBMLExporter::mIncompleteExport</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="../../da/d7f/CSBMLExporter_8h_source.html#l00066">66</a> of file <a class="el" href="../../da/d7f/CSBMLExporter_8h_source.html">CSBMLExporter.h</a>.</p>

<p>Referenced by <a class="el" href="../../df/d80/classCSBMLExporter.html#a79ba15ac876b6354e2aaff763b8a7c86">createEvent()</a>, <a class="el" href="../../df/d80/classCSBMLExporter.html#a2f052fa99d8b6695c0b7cf12d21f7833">createInitialAssignment()</a>, <a class="el" href="../../df/d80/classCSBMLExporter.html#a9a2740279f7cccf5ae7b404b995ec9fa">createReaction()</a>, <a class="el" href="../../df/d80/classCSBMLExporter.html#a4e1fa35c0f3497f349b03147eb7326f0">createRule()</a>, <a class="el" href="../../df/d80/classCSBMLExporter.html#a2b680d670c11c7c70a45bc12e236b2e8">createSBMLDocument()</a>, and <a class="el" href="../../df/d80/classCSBMLExporter.html#aefbd6278e618486186192aff4bdff76e">exportEventAssignments()</a>.</p>

</div>
</div>
<a class="anchor" id="a1b30687327c5f035db028165254de116"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::vector&lt;<a class="el" href="../../d0/da0/classCModelEntity.html">CModelEntity</a>*&gt; CSBMLExporter::mInitialAssignmentVector</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="../../da/d7f/CSBMLExporter_8h_source.html#l00060">60</a> of file <a class="el" href="../../da/d7f/CSBMLExporter_8h_source.html">CSBMLExporter.h</a>.</p>

<p>Referenced by <a class="el" href="../../df/d80/classCSBMLExporter.html#a28e0706f0f87d1483643b251104ff00b">checkForUnsupportedFunctionCalls()</a>, <a class="el" href="../../df/d80/classCSBMLExporter.html#a6d7dd5df891e397605186a3c02862c9f">checkForUnsupportedObjectReferences()</a>, <a class="el" href="../../df/d80/classCSBMLExporter.html#a8a3a98da416d76519f5ef7a9617d5b7e">createCompartment()</a>, <a class="el" href="../../df/d80/classCSBMLExporter.html#a165664a6805421e7bf448ccd3604b7ed">createInitialAssignments()</a>, <a class="el" href="../../df/d80/classCSBMLExporter.html#a79fe24bce02d84048709c9e851d4ce1b">createMetabolite()</a>, and <a class="el" href="../../df/d80/classCSBMLExporter.html#a6ecc3a13cadbc61518786aad102ccf5c">createParameter()</a>.</p>

</div>
</div>
<a class="anchor" id="ab85366b96bfd18cd3f7cf5ecc9b9d76b"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::map&lt;const std::string, Parameter*&gt; CSBMLExporter::mInitialValueMap</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="../../da/d7f/CSBMLExporter_8h_source.html#l00079">79</a> of file <a class="el" href="../../da/d7f/CSBMLExporter_8h_source.html">CSBMLExporter.h</a>.</p>

<p>Referenced by <a class="el" href="../../df/d80/classCSBMLExporter.html#a6d7dd5df891e397605186a3c02862c9f">checkForUnsupportedObjectReferences()</a>, <a class="el" href="../../df/d80/classCSBMLExporter.html#a79ba15ac876b6354e2aaff763b8a7c86">createEvent()</a>, <a class="el" href="../../df/d80/classCSBMLExporter.html#a2f052fa99d8b6695c0b7cf12d21f7833">createInitialAssignment()</a>, <a class="el" href="../../df/d80/classCSBMLExporter.html#a4e1fa35c0f3497f349b03147eb7326f0">createRule()</a>, <a class="el" href="../../df/d80/classCSBMLExporter.html#a2b680d670c11c7c70a45bc12e236b2e8">createSBMLDocument()</a>, and <a class="el" href="../../df/d80/classCSBMLExporter.html#aefbd6278e618486186192aff4bdff76e">exportEventAssignments()</a>.</p>

</div>
</div>
<a class="anchor" id="aa2e61de10e2d26eee4c7310beb099b13"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::map&lt;std::string, const SBase*&gt; CSBMLExporter::mMetaIdMap</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="../../da/d7f/CSBMLExporter_8h_source.html#l00070">70</a> of file <a class="el" href="../../da/d7f/CSBMLExporter_8h_source.html">CSBMLExporter.h</a>.</p>

<p>Referenced by <a class="el" href="../../df/d80/classCSBMLExporter.html#a8a3a98da416d76519f5ef7a9617d5b7e">createCompartment()</a>, <a class="el" href="../../df/d80/classCSBMLExporter.html#a79ba15ac876b6354e2aaff763b8a7c86">createEvent()</a>, <a class="el" href="../../df/d80/classCSBMLExporter.html#abc1d139f7b654051b43958675056e34c">createFunctionDefinition()</a>, <a class="el" href="../../df/d80/classCSBMLExporter.html#a79fe24bce02d84048709c9e851d4ce1b">createMetabolite()</a>, <a class="el" href="../../df/d80/classCSBMLExporter.html#a6ecc3a13cadbc61518786aad102ccf5c">createParameter()</a>, <a class="el" href="../../df/d80/classCSBMLExporter.html#a9a2740279f7cccf5ae7b404b995ec9fa">createReaction()</a>, and <a class="el" href="../../df/d80/classCSBMLExporter.html#a2b680d670c11c7c70a45bc12e236b2e8">createSBMLDocument()</a>.</p>

</div>
</div>
<a class="anchor" id="a4bbf4600db1ff16987d080ad30a8f9f4"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool CSBMLExporter::mMIRIAMWarning</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="../../da/d7f/CSBMLExporter_8h_source.html#l00071">71</a> of file <a class="el" href="../../da/d7f/CSBMLExporter_8h_source.html">CSBMLExporter.h</a>.</p>

</div>
</div>
<a class="anchor" id="a0e510c0403f40240d781206e3b224b69"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::vector&lt;<a class="el" href="../../d0/da0/classCModelEntity.html">CModelEntity</a>*&gt; CSBMLExporter::mODEVector</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="../../da/d7f/CSBMLExporter_8h_source.html#l00059">59</a> of file <a class="el" href="../../da/d7f/CSBMLExporter_8h_source.html">CSBMLExporter.h</a>.</p>

<p>Referenced by <a class="el" href="../../df/d80/classCSBMLExporter.html#a28e0706f0f87d1483643b251104ff00b">checkForUnsupportedFunctionCalls()</a>, <a class="el" href="../../df/d80/classCSBMLExporter.html#a6d7dd5df891e397605186a3c02862c9f">checkForUnsupportedObjectReferences()</a>, <a class="el" href="../../df/d80/classCSBMLExporter.html#a8a3a98da416d76519f5ef7a9617d5b7e">createCompartment()</a>, <a class="el" href="../../df/d80/classCSBMLExporter.html#a79fe24bce02d84048709c9e851d4ce1b">createMetabolite()</a>, <a class="el" href="../../df/d80/classCSBMLExporter.html#a6ecc3a13cadbc61518786aad102ccf5c">createParameter()</a>, and <a class="el" href="../../df/d80/classCSBMLExporter.html#a9c713fa0fc07f12f35ee1c59ba65db01">createRules()</a>.</p>

</div>
</div>
<a class="anchor" id="a2dbac4a8c7a2aa7a6a462b184c5430bf"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::map&lt;std::string, Parameter*&gt; CSBMLExporter::mParameterReplacementMap</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="../../da/d7f/CSBMLExporter_8h_source.html#l00075">75</a> of file <a class="el" href="../../da/d7f/CSBMLExporter_8h_source.html">CSBMLExporter.h</a>.</p>

<p>Referenced by <a class="el" href="../../df/d80/classCSBMLExporter.html#a1ac2102cd8012a24253ac6edd0379198">createKineticLaw()</a>, <a class="el" href="../../df/d80/classCSBMLExporter.html#a8f73c8e9c1a56403427b179b2074f198">replace_local_parameters()</a>, and <a class="el" href="../../df/d80/classCSBMLExporter.html#aeb99c1d4aabfd00e1d65eac1992e4b97">restore_local_parameters()</a>.</p>

</div>
</div>
<a class="anchor" id="acf59a37a6e25ed5735988fd792fb1109"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const <a class="el" href="../../d7/dec/classCModelValue.html">CModelValue</a>* CSBMLExporter::mpAvogadro</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="../../da/d7f/CSBMLExporter_8h_source.html#l00068">68</a> of file <a class="el" href="../../da/d7f/CSBMLExporter_8h_source.html">CSBMLExporter.h</a>.</p>

<p>Referenced by <a class="el" href="../../df/d80/classCSBMLExporter.html#a2b680d670c11c7c70a45bc12e236b2e8">createSBMLDocument()</a>, <a class="el" href="../../df/d80/classCSBMLExporter.html#aaa3a1af5de4a31e157bd7515cf5ed671">findAvogadro()</a>, and <a class="el" href="../../df/d80/classCSBMLExporter.html#a030225cc274a7c545f010ba2ba7f13c3">replaceSpeciesReferences()</a>.</p>

</div>
</div>
<a class="anchor" id="a1541a69b36b8e864883e49f0de244f81"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">SBMLDocument* CSBMLExporter::mpSBMLDocument</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="../../da/d7f/CSBMLExporter_8h_source.html#l00055">55</a> of file <a class="el" href="../../da/d7f/CSBMLExporter_8h_source.html">CSBMLExporter.h</a>.</p>

<p>Referenced by <a class="el" href="../../df/d80/classCSBMLExporter.html#ac61681ecd68ba2288e21ff1584ad20af">convertToASTNode()</a>, <a class="el" href="../../df/d80/classCSBMLExporter.html#a2039c651840bace8d1f24f4b632eee1d">convertToLevel1()</a>, <a class="el" href="../../df/d80/classCSBMLExporter.html#a8d4300787dbaf8277365e8df178f70bd">createAreaUnit()</a>, <a class="el" href="../../df/d80/classCSBMLExporter.html#a8a3a98da416d76519f5ef7a9617d5b7e">createCompartment()</a>, <a class="el" href="../../df/d80/classCSBMLExporter.html#a9d63824ae3cd33d9733f7147f8985bf7">createCompartments()</a>, <a class="el" href="../../df/d80/classCSBMLExporter.html#a79ba15ac876b6354e2aaff763b8a7c86">createEvent()</a>, <a class="el" href="../../df/d80/classCSBMLExporter.html#a5b27af3781d1e84d2235d0cb135a6963">createEvents()</a>, <a class="el" href="../../df/d80/classCSBMLExporter.html#abc1d139f7b654051b43958675056e34c">createFunctionDefinition()</a>, <a class="el" href="../../df/d80/classCSBMLExporter.html#a5349f8758c324eef2da6a4ecfe0df888">createFunctionDefinitions()</a>, <a class="el" href="../../df/d80/classCSBMLExporter.html#a2f052fa99d8b6695c0b7cf12d21f7833">createInitialAssignment()</a>, <a class="el" href="../../df/d80/classCSBMLExporter.html#a1ac2102cd8012a24253ac6edd0379198">createKineticLaw()</a>, <a class="el" href="../../df/d80/classCSBMLExporter.html#a5503f23206b28472e35929c4904c79f9">createLengthUnit()</a>, <a class="el" href="../../df/d80/classCSBMLExporter.html#a79fe24bce02d84048709c9e851d4ce1b">createMetabolite()</a>, <a class="el" href="../../df/d80/classCSBMLExporter.html#ace48aaa532a60b2651d42618b5484b36">createMetabolites()</a>, <a class="el" href="../../df/d80/classCSBMLExporter.html#a6ecc3a13cadbc61518786aad102ccf5c">createParameter()</a>, <a class="el" href="../../df/d80/classCSBMLExporter.html#a11ac856283e54271fe2d9c9b849d2c30">createParameters()</a>, <a class="el" href="../../df/d80/classCSBMLExporter.html#a9a2740279f7cccf5ae7b404b995ec9fa">createReaction()</a>, <a class="el" href="../../df/d80/classCSBMLExporter.html#ab4b8c42274fd0afd191d498efe36146a">createReactions()</a>, <a class="el" href="../../df/d80/classCSBMLExporter.html#a4e1fa35c0f3497f349b03147eb7326f0">createRule()</a>, <a class="el" href="../../df/d80/classCSBMLExporter.html#a9c713fa0fc07f12f35ee1c59ba65db01">createRules()</a>, <a class="el" href="../../df/d80/classCSBMLExporter.html#a2b680d670c11c7c70a45bc12e236b2e8">createSBMLDocument()</a>, <a class="el" href="../../df/d80/classCSBMLExporter.html#aae5e8e9d9571bfb092a940cfea479f2e">createSubstanceUnit()</a>, <a class="el" href="../../df/d80/classCSBMLExporter.html#aae5677a0b747ea278f61312ad80c85d4">createTimeUnit()</a>, <a class="el" href="../../df/d80/classCSBMLExporter.html#aa192f412afb21f304c41a394afa45661">createVolumeUnit()</a>, <a class="el" href="../../df/d80/classCSBMLExporter.html#ac99801bba6bcd2a66fa83d83b6ba7f85">exportModelToString()</a>, <a class="el" href="../../df/d80/classCSBMLExporter.html#a5d6b9908874764616e0e7c036f7a128a">getSBMLDocument()</a>, <a class="el" href="../../df/d80/classCSBMLExporter.html#adfb1a82cc1a827d3ef1f353937cfad49">hasVolumeAssignment()</a>, <a class="el" href="../../df/d80/classCSBMLExporter.html#a9e7e580cffcbce270b84905e94bbb854">removeInitialAssignment()</a>, <a class="el" href="../../df/d80/classCSBMLExporter.html#a836063c67a8c63decd58706b6036efd0">removeRule()</a>, <a class="el" href="../../df/d80/classCSBMLExporter.html#ae377faa40e73c92770cb688b83db5508">removeUnusedObjects()</a>, <a class="el" href="../../df/d80/classCSBMLExporter.html#a8f73c8e9c1a56403427b179b2074f198">replace_local_parameters()</a>, <a class="el" href="../../df/d80/classCSBMLExporter.html#a030225cc274a7c545f010ba2ba7f13c3">replaceSpeciesReferences()</a>, and <a class="el" href="../../df/d80/classCSBMLExporter.html#aa26a13b4cadb1b199f509b8f34f2d72b">~CSBMLExporter()</a>.</p>

</div>
</div>
<a class="anchor" id="aba959efc152f63f1709d5de60e97a651"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">unsigned int CSBMLExporter::mSBMLLevel</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="../../da/d7f/CSBMLExporter_8h_source.html#l00056">56</a> of file <a class="el" href="../../da/d7f/CSBMLExporter_8h_source.html">CSBMLExporter.h</a>.</p>

<p>Referenced by <a class="el" href="../../df/d80/classCSBMLExporter.html#a8d4300787dbaf8277365e8df178f70bd">createAreaUnit()</a>, <a class="el" href="../../df/d80/classCSBMLExporter.html#a8a3a98da416d76519f5ef7a9617d5b7e">createCompartment()</a>, <a class="el" href="../../df/d80/classCSBMLExporter.html#a79ba15ac876b6354e2aaff763b8a7c86">createEvent()</a>, <a class="el" href="../../df/d80/classCSBMLExporter.html#a5b27af3781d1e84d2235d0cb135a6963">createEvents()</a>, <a class="el" href="../../df/d80/classCSBMLExporter.html#abc1d139f7b654051b43958675056e34c">createFunctionDefinition()</a>, <a class="el" href="../../df/d80/classCSBMLExporter.html#a2f052fa99d8b6695c0b7cf12d21f7833">createInitialAssignment()</a>, <a class="el" href="../../df/d80/classCSBMLExporter.html#a1ac2102cd8012a24253ac6edd0379198">createKineticLaw()</a>, <a class="el" href="../../df/d80/classCSBMLExporter.html#a5503f23206b28472e35929c4904c79f9">createLengthUnit()</a>, <a class="el" href="../../df/d80/classCSBMLExporter.html#a79fe24bce02d84048709c9e851d4ce1b">createMetabolite()</a>, <a class="el" href="../../df/d80/classCSBMLExporter.html#ace48aaa532a60b2651d42618b5484b36">createMetabolites()</a>, <a class="el" href="../../df/d80/classCSBMLExporter.html#a6ecc3a13cadbc61518786aad102ccf5c">createParameter()</a>, <a class="el" href="../../df/d80/classCSBMLExporter.html#a9a2740279f7cccf5ae7b404b995ec9fa">createReaction()</a>, <a class="el" href="../../df/d80/classCSBMLExporter.html#a4e1fa35c0f3497f349b03147eb7326f0">createRule()</a>, <a class="el" href="../../df/d80/classCSBMLExporter.html#a2b680d670c11c7c70a45bc12e236b2e8">createSBMLDocument()</a>, <a class="el" href="../../df/d80/classCSBMLExporter.html#aae5e8e9d9571bfb092a940cfea479f2e">createSubstanceUnit()</a>, <a class="el" href="../../df/d80/classCSBMLExporter.html#aae5677a0b747ea278f61312ad80c85d4">createTimeUnit()</a>, <a class="el" href="../../df/d80/classCSBMLExporter.html#aa192f412afb21f304c41a394afa45661">createVolumeUnit()</a>, <a class="el" href="../../df/d80/classCSBMLExporter.html#aefbd6278e618486186192aff4bdff76e">exportEventAssignments()</a>, <a class="el" href="../../df/d80/classCSBMLExporter.html#ac99801bba6bcd2a66fa83d83b6ba7f85">exportModelToString()</a>, <a class="el" href="../../df/d80/classCSBMLExporter.html#adfb1a82cc1a827d3ef1f353937cfad49">hasVolumeAssignment()</a>, <a class="el" href="../../df/d80/classCSBMLExporter.html#a030225cc274a7c545f010ba2ba7f13c3">replaceSpeciesReferences()</a>, and <a class="el" href="../../df/d80/classCSBMLExporter.html#aba8216eaf4931e0adf484832882fbe67">updateMIRIAMAnnotation()</a>.</p>

</div>
</div>
<a class="anchor" id="af1bc50a307a46adcce8aa8abde6dab96"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">unsigned int CSBMLExporter::mSBMLVersion</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="../../da/d7f/CSBMLExporter_8h_source.html#l00057">57</a> of file <a class="el" href="../../da/d7f/CSBMLExporter_8h_source.html">CSBMLExporter.h</a>.</p>

<p>Referenced by <a class="el" href="../../df/d80/classCSBMLExporter.html#a8d4300787dbaf8277365e8df178f70bd">createAreaUnit()</a>, <a class="el" href="../../df/d80/classCSBMLExporter.html#a79ba15ac876b6354e2aaff763b8a7c86">createEvent()</a>, <a class="el" href="../../df/d80/classCSBMLExporter.html#abc1d139f7b654051b43958675056e34c">createFunctionDefinition()</a>, <a class="el" href="../../df/d80/classCSBMLExporter.html#a2f052fa99d8b6695c0b7cf12d21f7833">createInitialAssignment()</a>, <a class="el" href="../../df/d80/classCSBMLExporter.html#a5503f23206b28472e35929c4904c79f9">createLengthUnit()</a>, <a class="el" href="../../df/d80/classCSBMLExporter.html#a79fe24bce02d84048709c9e851d4ce1b">createMetabolite()</a>, <a class="el" href="../../df/d80/classCSBMLExporter.html#ace48aaa532a60b2651d42618b5484b36">createMetabolites()</a>, <a class="el" href="../../df/d80/classCSBMLExporter.html#a4e1fa35c0f3497f349b03147eb7326f0">createRule()</a>, <a class="el" href="../../df/d80/classCSBMLExporter.html#a2b680d670c11c7c70a45bc12e236b2e8">createSBMLDocument()</a>, <a class="el" href="../../df/d80/classCSBMLExporter.html#aae5e8e9d9571bfb092a940cfea479f2e">createSubstanceUnit()</a>, <a class="el" href="../../df/d80/classCSBMLExporter.html#aae5677a0b747ea278f61312ad80c85d4">createTimeUnit()</a>, <a class="el" href="../../df/d80/classCSBMLExporter.html#aa192f412afb21f304c41a394afa45661">createVolumeUnit()</a>, <a class="el" href="../../df/d80/classCSBMLExporter.html#aefbd6278e618486186192aff4bdff76e">exportEventAssignments()</a>, <a class="el" href="../../df/d80/classCSBMLExporter.html#ac99801bba6bcd2a66fa83d83b6ba7f85">exportModelToString()</a>, and <a class="el" href="../../df/d80/classCSBMLExporter.html#adfb1a82cc1a827d3ef1f353937cfad49">hasVolumeAssignment()</a>.</p>

</div>
</div>
<a class="anchor" id="add70567bab44bdd83557d9cc1ca89b74"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::set&lt;std::string&gt; CSBMLExporter::mSpatialSizeUnitsSpecies</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="../../da/d7f/CSBMLExporter_8h_source.html#l00076">76</a> of file <a class="el" href="../../da/d7f/CSBMLExporter_8h_source.html">CSBMLExporter.h</a>.</p>

<p>Referenced by <a class="el" href="../../df/d80/classCSBMLExporter.html#a79fe24bce02d84048709c9e851d4ce1b">createMetabolite()</a>, and <a class="el" href="../../df/d80/classCSBMLExporter.html#ace48aaa532a60b2651d42618b5484b36">createMetabolites()</a>.</p>

</div>
</div>
<a class="anchor" id="a4d5bc6e05778ebe1653f70b2c968564e"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::set&lt;<a class="el" href="../../d9/d86/classCFunction.html">CFunction</a>*&gt; CSBMLExporter::mUsedFunctions</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="../../da/d7f/CSBMLExporter_8h_source.html#l00063">63</a> of file <a class="el" href="../../da/d7f/CSBMLExporter_8h_source.html">CSBMLExporter.h</a>.</p>

<p>Referenced by <a class="el" href="../../df/d80/classCSBMLExporter.html#a28e0706f0f87d1483643b251104ff00b">checkForUnsupportedFunctionCalls()</a>, <a class="el" href="../../df/d80/classCSBMLExporter.html#a79ba15ac876b6354e2aaff763b8a7c86">createEvent()</a>, <a class="el" href="../../df/d80/classCSBMLExporter.html#a5349f8758c324eef2da6a4ecfe0df888">createFunctionDefinitions()</a>, <a class="el" href="../../df/d80/classCSBMLExporter.html#a2f052fa99d8b6695c0b7cf12d21f7833">createInitialAssignment()</a>, <a class="el" href="../../df/d80/classCSBMLExporter.html#a6f2f5bc62cdf7e13aa17508771260ac3">createKineticExpression()</a>, <a class="el" href="../../df/d80/classCSBMLExporter.html#a4e1fa35c0f3497f349b03147eb7326f0">createRule()</a>, and <a class="el" href="../../df/d80/classCSBMLExporter.html#aefbd6278e618486186192aff4bdff76e">exportEventAssignments()</a>.</p>

</div>
</div>
<a class="anchor" id="a64ec2c4a41a2fa37f21875281f5948d5"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool CSBMLExporter::mVariableVolumes</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="../../da/d7f/CSBMLExporter_8h_source.html#l00067">67</a> of file <a class="el" href="../../da/d7f/CSBMLExporter_8h_source.html">CSBMLExporter.h</a>.</p>

<p>Referenced by <a class="el" href="../../df/d80/classCSBMLExporter.html#a79fe24bce02d84048709c9e851d4ce1b">createMetabolite()</a>, <a class="el" href="../../df/d80/classCSBMLExporter.html#a2b680d670c11c7c70a45bc12e236b2e8">createSBMLDocument()</a>, and <a class="el" href="../../df/d80/classCSBMLExporter.html#a030225cc274a7c545f010ba2ba7f13c3">replaceSpeciesReferences()</a>.</p>

</div>
</div>
<hr/>The documentation for this class was generated from the following files:<ul>
<li><a class="el" href="../../da/d7f/CSBMLExporter_8h_source.html">CSBMLExporter.h</a></li>
<li><a class="el" href="../../d5/d2f/CSBMLExporter_8cpp_source.html">CSBMLExporter.cpp</a></li>
</ul>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Thu Jul 2 2015 14:52:04 for COPASI API by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="../../doxygen.png" alt="doxygen"/>
</a> 1.8.6
</small></address>
</body>
</html>
